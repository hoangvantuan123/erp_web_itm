import{r as b,L as n5,l as eD,I as ms,_ as Ot,a as Xe,R as r5,b as bF,c as Kb,d as Wi,g as i5,e as o5,w as Er,C as SF,f as Ph,h as lt,i as Bi,u as Bv,j as Jr,k as ot,s as s5,m as qb,n as RF,S as a5,o as l5,p as EF,q as tt,t as u5,v as c5,x as s0,y as a0,z as Ri,K as Uc,A as d5,B as Vi,D as C_,E as kg,F as at,G as h5,H as f5,J as Ah,M as Fg,N as Hh,O as g5,P as ro,Q as ke,T as Rn,U as m5,V as _F,W as MF,X as TF,Y as p5,Z as ar,$ as v5,a0 as w5,a1 as io,a2 as jv,a3 as C5,a4 as tD,a5 as y5,a6 as b5,a7 as S5,a8 as Nc,a9 as R5,aa as E5,ab as yh,ac as xF,ad as IF,ae as OF,af as PF,ag as Xb,ah as Zb,ai as AF,aj as Vg,ak as Pu,al as Fx,am as _5,an as Ai,ao as Gc,ap as M5,aq as T5,ar as x5,as as I5,at as O5,au as Qb,av as HF,aw as DF,ax as P5,ay as Sn,az as NF,aA as A5,aB as $F}from"./index-8ePzf2wV.js";const Vx=(t,e)=>{const n=b.useContext(n5),r=b.useMemo(()=>{var o;const s=e||eD[t],a=(o=n==null?void 0:n[t])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof s=="function"?s():s),a||{})},[t,e,n]),i=b.useMemo(()=>{const o=n==null?void 0:n.locale;return n!=null&&n.exist&&!o?eD.locale:o},[n]);return[r,i]};var H5={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},D5=function(e,n){return b.createElement(ms,Ot({},e,{ref:n,icon:H5}))},LF=b.forwardRef(D5),N5={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},$5=function(e,n){return b.createElement(ms,Ot({},e,{ref:n,icon:N5}))},L5=b.forwardRef($5),k5=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,F5=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,V5="".concat(k5," ").concat(F5).split(/[\s\n]+/),W5="aria-",B5="data-";function nD(t,e){return t.indexOf(e)===0}function Bc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=Xe({},e);var r={};return Object.keys(t).forEach(function(i){(n.aria&&(i==="role"||nD(i,W5))||n.data&&nD(i,B5)||n.attr&&V5.includes(i))&&(r[i]=t[i])}),r}var zv=Xe({},r5),j5=zv.version,z5=zv.render,Y5=zv.unmountComponentAtNode,l0;try{var U5=Number((j5||"").split(".")[0]);U5>=18&&(l0=zv.createRoot)}catch{}function rD(t){var e=zv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Wi(e)==="object"&&(e.usingClientEntryPoint=t)}var Jb="__rc_react_root__";function G5(t,e){rD(!0);var n=e[Jb]||l0(e);rD(!1),n.render(t),e[Jb]=n}function K5(t,e){z5(t,e)}function q5(t,e){if(l0){G5(t,e);return}K5(t,e)}function X5(t){return vT.apply(this,arguments)}function vT(){return vT=bF(Kb().mark(function t(e){return Kb().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[Jb])===null||i===void 0||i.unmount(),delete e[Jb]}));case 1:case"end":return r.stop()}},t)})),vT.apply(this,arguments)}function Z5(t){Y5(t)}function Q5(t){return wT.apply(this,arguments)}function wT(){return wT=bF(Kb().mark(function t(e){return Kb().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(l0===void 0){r.next=2;break}return r.abrupt("return",X5(e));case 2:Z5(e);case 3:case"end":return r.stop()}},t)})),wT.apply(this,arguments)}const J5=t=>{const{componentCls:e,colorPrimary:n}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${t.motionDurationSlow} ${t.motionEaseInOut}`,`opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`].join(",")}}}}},eK=i5("Wave",t=>[J5(t)]),kF=`${o5}-wave-target`;function y_(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function tK(t){const{borderTopColor:e,borderColor:n,backgroundColor:r}=getComputedStyle(t);return y_(e)?e:y_(n)?n:y_(r)?r:null}function b_(t){return Number.isNaN(t)?0:t}const nK=t=>{const{className:e,target:n,component:r}=t,i=b.useRef(null),[o,s]=b.useState(null),[a,u]=b.useState([]),[c,h]=b.useState(0),[g,p]=b.useState(0),[v,y]=b.useState(0),[R,S]=b.useState(0),[T,x]=b.useState(!1),O={left:c,top:g,width:v,height:R,borderRadius:a.map(L=>`${L}px`).join(" ")};o&&(O["--wave-color"]=o);function A(){const L=getComputedStyle(n);s(tK(n));const F=L.position==="static",{borderLeftWidth:j,borderTopWidth:z}=L;h(F?n.offsetLeft:b_(-parseFloat(j))),p(F?n.offsetTop:b_(-parseFloat(z))),y(n.offsetWidth),S(n.offsetHeight);const{borderTopLeftRadius:Y,borderTopRightRadius:K,borderBottomLeftRadius:X,borderBottomRightRadius:se}=L;u([Y,K,se,X].map(ne=>b_(parseFloat(ne))))}if(b.useEffect(()=>{if(n){const L=Er(()=>{A(),x(!0)});let F;return typeof ResizeObserver<"u"&&(F=new ResizeObserver(A),F.observe(n)),()=>{Er.cancel(L),F==null||F.disconnect()}}},[]),!T)return null;const H=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(kF));return b.createElement(SF,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(L,F)=>{var j;if(F.deadline||F.propertyName==="opacity"){const z=(j=i.current)===null||j===void 0?void 0:j.parentElement;Q5(z).then(()=>{z==null||z.remove()})}return!1}},(L,F)=>{let{className:j}=L;return b.createElement("div",{ref:Ph(i,F),className:lt(e,j,{"wave-quick":H}),style:O})})},rK=(t,e)=>{var n;const{component:r}=e;if(r==="Checkbox"&&!(!((n=t.querySelector("input"))===null||n===void 0)&&n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",t==null||t.insertBefore(i,t==null?void 0:t.firstChild),q5(b.createElement(nK,Object.assign({},e,{target:t})),i)},iK=(t,e,n)=>{const{wave:r}=b.useContext(Bi),[,i,o]=Bv(),s=Jr(c=>{const h=t.current;if(r!=null&&r.disabled||!h)return;const g=h.querySelector(`.${kF}`)||h,{showEffect:p}=r||{};(p||rK)(g,{className:e,token:i,component:n,event:c,hashId:o})}),a=b.useRef();return c=>{Er.cancel(a.current),a.current=Er(()=>{s(c)})}},oK=t=>{const{children:e,disabled:n,component:r}=t,{getPrefixCls:i}=b.useContext(Bi),o=b.useRef(null),s=i("wave"),[,a]=eK(s),u=iK(o,lt(s,a),r);if(ot.useEffect(()=>{const h=o.current;if(!h||h.nodeType!==1||n)return;const g=p=>{!RF(p.target)||!h.getAttribute||h.getAttribute("disabled")||h.disabled||h.className.includes("disabled")||h.className.includes("-leave")||u(p)};return h.addEventListener("click",g,!0),()=>{h.removeEventListener("click",g,!0)}},[n]),!ot.isValidElement(e))return e??null;const c=s5(e)?Ph(e.ref,o):o;return qb(e,{ref:c})},Kc=t=>{const e=ot.useContext(a5);return ot.useMemo(()=>t?typeof t=="string"?t??e:t instanceof Function?t(e):e:e,[t,e])};var sK=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const FF=b.createContext(void 0),aK=t=>{const{getPrefixCls:e,direction:n}=b.useContext(Bi),{prefixCls:r,size:i,className:o}=t,s=sK(t,["prefixCls","size","className"]),a=e("btn-group",r),[,,u]=Bv();let c="";switch(i){case"large":c="lg";break;case"small":c="sm";break}const h=lt(a,{[`${a}-${c}`]:c,[`${a}-rtl`]:n==="rtl"},o,u);return b.createElement(FF.Provider,{value:i},b.createElement("div",Object.assign({},s,{className:h})))},iD=/^[\u4E00-\u9FA5]{2}$/,CT=iD.test.bind(iD);function oD(t){return typeof t=="string"}function S_(t){return t==="text"||t==="link"}function lK(t,e){if(t==null)return;const n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&oD(t.type)&&CT(t.props.children)?qb(t,{children:t.props.children.split("").join(n)}):oD(t)?CT(t)?ot.createElement("span",null,t.split("").join(n)):ot.createElement("span",null,t):l5(t)?ot.createElement("span",null,t):t}function uK(t,e){let n=!1;const r=[];return ot.Children.forEach(t,i=>{const o=typeof i,s=o==="string"||o==="number";if(n&&s){const a=r.length-1,u=r[a];r[a]=`${u}${i}`}else r.push(i);n=s}),ot.Children.map(r,i=>lK(i,e))}const VF=b.forwardRef((t,e)=>{const{className:n,style:r,children:i,prefixCls:o}=t,s=lt(`${o}-icon`,n);return ot.createElement("span",{ref:e,className:s,style:r},i)}),sD=b.forwardRef((t,e)=>{const{prefixCls:n,className:r,style:i,iconClassName:o}=t,s=lt(`${n}-loading-icon`,r);return ot.createElement(VF,{prefixCls:n,className:s,style:i,ref:e},ot.createElement(EF,{className:o}))}),R_=()=>({width:0,opacity:0,transform:"scale(0)"}),E_=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),cK=t=>{const{prefixCls:e,loading:n,existIcon:r,className:i,style:o}=t,s=!!n;return r?ot.createElement(sD,{prefixCls:e,className:i,style:o}):ot.createElement(SF,{visible:s,motionName:`${e}-loading-icon-motion`,motionLeave:s,removeOnLeave:!0,onAppearStart:R_,onAppearActive:E_,onEnterStart:R_,onEnterActive:E_,onLeaveStart:E_,onLeaveActive:R_},(a,u)=>{let{className:c,style:h}=a;return ot.createElement(sD,{prefixCls:e,className:i,style:Object.assign(Object.assign({},o),h),ref:u,iconClassName:c})})},aD=(t,e)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),dK=t=>{const{componentCls:e,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:o}=t;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:t.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:n}},aD(`${e}-primary`,i),aD(`${e}-danger`,o)]}},Mi=Math.round;function __(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=e(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const lD=(t,e,n)=>n===0?t:t/100;function Dm(t,e){const n=e||255;return t>n?n:t<0?0:t}class u0{constructor(e){tt(this,"isValid",!0),tt(this,"r",0),tt(this,"g",0),tt(this,"b",0),tt(this,"a",1),tt(this,"_h",void 0),tt(this,"_s",void 0),tt(this,"_l",void 0),tt(this,"_v",void 0),tt(this,"_max",void 0),tt(this,"_min",void 0),tt(this,"_brightness",void 0);function n(r){return r[0]in e&&r[1]in e&&r[2]in e}if(e)if(typeof e=="string"){let i=function(o){return r.startsWith(o)};const r=e.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):i("rgb")?this.fromRgbString(r):i("hsl")?this.fromHslString(r):(i("hsv")||i("hsb"))&&this.fromHsvString(r)}else if(e instanceof u0)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=Dm(e.r),this.g=Dm(e.g),this.b=Dm(e.b),this.a=typeof e.a=="number"?Dm(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(o){const s=o/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),i=e(this.b);return .2126*n+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Mi(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()-e/100;return i<0&&(i=0),this._c({h:n,s:r,l:i,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()+e/100;return i>1&&(i=1),this._c({h:n,s:r,l:i,a:this.a})}mix(e,n=50){const r=this._c(e),i=n/100,o=a=>(r[a]-this[a])*i+this[a],s={r:Mi(o("r")),g:Mi(o("g")),b:Mi(o("b")),a:Mi(o("a")*100)/100};return this._c(s)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),i=o=>Mi((this[o]*this.a+n[o]*n.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(e+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const o=Mi(this.a*255).toString(16);e+=o.length===2?o:"0"+o}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=Mi(this.getSaturation()*100),r=Mi(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const i=this.clone();return i[e]=Dm(n,r),i}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(i,o){return parseInt(n[i]+n[o||i],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a:i}){if(this._h=e%360,this._s=n,this._l=r,this.a=typeof i=="number"?i:1,n<=0){const p=Mi(r*255);this.r=p,this.g=p,this.b=p}let o=0,s=0,a=0;const u=e/60,c=(1-Math.abs(2*r-1))*n,h=c*(1-Math.abs(u%2-1));u>=0&&u<1?(o=c,s=h):u>=1&&u<2?(o=h,s=c):u>=2&&u<3?(s=c,a=h):u>=3&&u<4?(s=h,a=c):u>=4&&u<5?(o=h,a=c):u>=5&&u<6&&(o=c,a=h);const g=r-c/2;this.r=Mi((o+g)*255),this.g=Mi((s+g)*255),this.b=Mi((a+g)*255)}fromHsv({h:e,s:n,v:r,a:i}){this._h=e%360,this._s=n,this._v=r,this.a=typeof i=="number"?i:1;const o=Mi(r*255);if(this.r=o,this.g=o,this.b=o,n<=0)return;const s=e/60,a=Math.floor(s),u=s-a,c=Mi(r*(1-n)*255),h=Mi(r*(1-n*u)*255),g=Mi(r*(1-n*(1-u))*255);switch(a){case 0:this.g=g,this.b=c;break;case 1:this.r=h,this.b=c;break;case 2:this.r=c,this.b=g;break;case 3:this.r=c,this.g=h;break;case 4:this.r=g,this.g=c;break;case 5:default:this.g=c,this.b=h;break}}fromHsvString(e){const n=__(e,lD);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=__(e,lD);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=__(e,(r,i)=>i.includes("%")?Mi(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var hK=["b"],fK=["v"],M_=function(e){return Math.round(Number(e||0))},gK=function(e){if(e instanceof u0)return e;if(e&&Wi(e)==="object"&&"h"in e&&"b"in e){var n=e,r=n.b,i=Ri(n,hK);return Xe(Xe({},i),{},{v:r})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},wv=function(t){u5(n,t);var e=c5(n);function n(r){return s0(this,n),e.call(this,gK(r))}return a0(n,[{key:"toHsbString",value:function(){var i=this.toHsb(),o=M_(i.s*100),s=M_(i.b*100),a=M_(i.h),u=i.a,c="hsb(".concat(a,", ").concat(o,"%, ").concat(s,"%)"),h="hsba(".concat(a,", ").concat(o,"%, ").concat(s,"%, ").concat(u.toFixed(u===0?0:2),")");return u===1?c:h}},{key:"toHsb",value:function(){var i=this.toHsv(),o=i.v,s=Ri(i,fK);return Xe(Xe({},s),{},{b:o,a:this.a})}}]),n}(u0),mK=function(e){return e instanceof wv?e:new wv(e)};mK("#1677ff");const pK=(t,e)=>(t==null?void 0:t.replace(/[^\w/]/g,"").slice(0,e?8:6))||"",vK=(t,e)=>t?pK(t,e):"";let wK=function(){function t(e){s0(this,t);var n;if(this.cleared=!1,e instanceof t){this.metaColor=e.metaColor.clone(),this.colors=(n=e.colors)===null||n===void 0?void 0:n.map(i=>({color:new t(i.color),percent:i.percent})),this.cleared=e.cleared;return}const r=Array.isArray(e);r&&e.length?(this.colors=e.map(i=>{let{color:o,percent:s}=i;return{color:new t(o),percent:s}}),this.metaColor=new wv(this.colors[0].color.metaColor)):this.metaColor=new wv(r?"":e),(!e||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return a0(t,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return vK(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:n}=this;return n?`linear-gradient(90deg, ${n.map(i=>`${i.color.toRgbString()} ${i.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(n){return!n||this.isGradient()!==n.isGradient()?!1:this.isGradient()?this.colors.length===n.colors.length&&this.colors.every((r,i)=>{const o=n.colors[i];return r.percent===o.percent&&r.color.equals(o.color)}):this.toHexString()===n.toHexString()}}])}();const CK=new Uc("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),yK=new Uc("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),bK=new Uc("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),SK=new Uc("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),RK=new Uc("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),EK=new Uc("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),_K=new Uc("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),MK=new Uc("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),TK={"move-up":{inKeyframes:_K,outKeyframes:MK},"move-down":{inKeyframes:CK,outKeyframes:yK},"move-left":{inKeyframes:bK,outKeyframes:SK},"move-right":{inKeyframes:RK,outKeyframes:EK}},eS=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=TK[e];return[d5(r,i,o,t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},xK=(t,e)=>{const{r:n,g:r,b:i,a:o}=t.toRgb(),s=new wv(t.toRgbString()).onBackground(e).toHsv();return o<=.5?s.v>.5:n*.299+r*.587+i*.114>192},WF=t=>{const{paddingInline:e,onlyIconSize:n,paddingBlock:r}=t;return Vi(t,{buttonPaddingHorizontal:e,buttonPaddingVertical:r,buttonIconOnlyFontSize:n})},BF=t=>{var e,n,r,i,o,s;const a=(e=t.contentFontSize)!==null&&e!==void 0?e:t.fontSize,u=(n=t.contentFontSizeSM)!==null&&n!==void 0?n:t.fontSize,c=(r=t.contentFontSizeLG)!==null&&r!==void 0?r:t.fontSizeLG,h=(i=t.contentLineHeight)!==null&&i!==void 0?i:C_(a),g=(o=t.contentLineHeightSM)!==null&&o!==void 0?o:C_(u),p=(s=t.contentLineHeightLG)!==null&&s!==void 0?s:C_(c),v=xK(new wK(t.colorBgSolid),"#fff")?"#000":"#fff";return{fontWeight:400,defaultShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`,primaryShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`,dangerShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`,primaryColor:t.colorTextLightSolid,dangerColor:t.colorTextLightSolid,borderColorDisabled:t.colorBorder,defaultGhostColor:t.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:t.colorBgContainer,paddingInline:t.paddingContentHorizontal-t.lineWidth,paddingInlineLG:t.paddingContentHorizontal-t.lineWidth,paddingInlineSM:8-t.lineWidth,onlyIconSize:t.fontSizeLG,onlyIconSizeSM:t.fontSizeLG-2,onlyIconSizeLG:t.fontSizeLG+2,groupBorderColor:t.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:t.colorText,textTextHoverColor:t.colorText,textTextActiveColor:t.colorText,textHoverBg:t.colorFillTertiary,defaultColor:t.colorText,defaultBg:t.colorBgContainer,defaultBorderColor:t.colorBorder,defaultBorderColorDisabled:t.colorBorder,defaultHoverBg:t.colorBgContainer,defaultHoverColor:t.colorPrimaryHover,defaultHoverBorderColor:t.colorPrimaryHover,defaultActiveBg:t.colorBgContainer,defaultActiveColor:t.colorPrimaryActive,defaultActiveBorderColor:t.colorPrimaryActive,solidTextColor:v,contentFontSize:a,contentFontSizeSM:u,contentFontSizeLG:c,contentLineHeight:h,contentLineHeightSM:g,contentLineHeightLG:p,paddingBlock:Math.max((t.controlHeight-a*h)/2-t.lineWidth,0),paddingBlockSM:Math.max((t.controlHeightSM-u*g)/2-t.lineWidth,0),paddingBlockLG:Math.max((t.controlHeightLG-c*p)/2-t.lineWidth,0)}},IK=t=>{const{componentCls:e,iconCls:n,fontWeight:r}=t;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:t.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${at(t.lineWidth)} ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:t.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:1},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},h5(t)),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},jF=(t,e,n)=>({[`&:not(:disabled):not(${t}-disabled)`]:{"&:hover":e,"&:active":n}}),OK=t=>({minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),PK=t=>({borderRadius:t.controlHeight,paddingInlineStart:t.calc(t.controlHeight).div(2).equal(),paddingInlineEnd:t.calc(t.controlHeight).div(2).equal()}),AK=t=>({cursor:"not-allowed",borderColor:t.borderColorDisabled,color:t.colorTextDisabled,background:t.colorBgContainerDisabled,boxShadow:"none"}),Wx=(t,e,n,r,i,o,s,a)=>({[`&${t}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},jF(t,Object.assign({background:e},s),Object.assign({background:e},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),HK=t=>({[`&:disabled, &${t.componentCls}-disabled`]:Object.assign({},AK(t))}),DK=t=>({[`&:disabled, &${t.componentCls}-disabled`]:{cursor:"not-allowed",color:t.colorTextDisabled}}),c0=(t,e,n,r)=>{const o=r&&["link","text"].includes(r)?DK:HK;return Object.assign(Object.assign({},o(t)),jF(t.componentCls,e,n))},Bx=(t,e,n,r,i)=>({[`&${t.componentCls}-variant-solid`]:Object.assign({color:e,background:n},c0(t,r,i))}),jx=(t,e,n,r,i)=>({[`&${t.componentCls}-variant-outlined, &${t.componentCls}-variant-dashed`]:Object.assign({borderColor:e,background:n},c0(t,r,i))}),zx=t=>({[`&${t.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),Yx=(t,e,n,r)=>({[`&${t.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:e},c0(t,n,r))}),Tg=(t,e,n,r,i)=>({[`&${t.componentCls}-variant-${n}`]:Object.assign({color:e,boxShadow:"none"},c0(t,r,i,n))}),NK=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.defaultColor,boxShadow:t.defaultShadow},Bx(t,t.solidTextColor,t.colorBgSolid,{background:t.colorBgSolidHover},{background:t.colorBgSolidActive})),zx(t)),Yx(t,t.colorFillTertiary,{background:t.colorFillSecondary},{background:t.colorFill})),Tg(t,t.textTextColor,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),Wx(t.componentCls,t.ghostBg,t.defaultGhostColor,t.defaultGhostBorderColor,t.colorTextDisabled,t.colorBorder)),$K=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorPrimary,boxShadow:t.primaryShadow},jx(t,t.colorPrimary,t.colorBgContainer,{color:t.colorPrimaryTextHover,borderColor:t.colorPrimaryHover,background:t.colorBgContainer},{color:t.colorPrimaryTextActive,borderColor:t.colorPrimaryActive,background:t.colorBgContainer})),zx(t)),Yx(t,t.colorPrimaryBg,{background:t.colorPrimaryBgHover},{background:t.colorPrimaryBorder})),Tg(t,t.colorLink,"text",{color:t.colorPrimaryTextHover,background:t.colorPrimaryBg},{color:t.colorPrimaryTextActive,background:t.colorPrimaryBorder})),Wx(t.componentCls,t.ghostBg,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),LK=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorError,boxShadow:t.dangerShadow},Bx(t,t.dangerColor,t.colorError,{background:t.colorErrorHover},{background:t.colorErrorActive})),jx(t,t.colorError,t.colorBgContainer,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),zx(t)),Yx(t,t.colorErrorBg,{background:t.colorErrorBgFilledHover},{background:t.colorErrorBgActive})),Tg(t,t.colorError,"text",{color:t.colorErrorHover,background:t.colorErrorBg},{color:t.colorErrorHover,background:t.colorErrorBgActive})),Tg(t,t.colorError,"link",{color:t.colorErrorHover},{color:t.colorErrorActive})),Wx(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),kK=t=>{const{componentCls:e}=t;return{[`${e}-color-default`]:NK(t),[`${e}-color-primary`]:$K(t),[`${e}-color-dangerous`]:LK(t)}},FK=t=>Object.assign(Object.assign(Object.assign(Object.assign({},jx(t,t.defaultBorderColor,t.defaultBg,{color:t.defaultHoverColor,borderColor:t.defaultHoverBorderColor,background:t.defaultHoverBg},{color:t.defaultActiveColor,borderColor:t.defaultActiveBorderColor,background:t.defaultActiveBg})),Tg(t,t.textTextColor,"text",{color:t.textTextHoverColor,background:t.textHoverBg},{color:t.textTextActiveColor,background:t.colorBgTextActive})),Bx(t,t.primaryColor,t.colorPrimary,{background:t.colorPrimaryHover,color:t.primaryColor},{background:t.colorPrimaryActive,color:t.primaryColor})),Tg(t,t.colorLink,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),Ux=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:i,lineHeight:o,borderRadius:s,buttonPaddingHorizontal:a,iconCls:u,buttonPaddingVertical:c}=t,h=`${n}-icon-only`;return[{[e]:{fontSize:i,lineHeight:o,height:r,padding:`${at(c)} ${at(a)}`,borderRadius:s,[`&${h}`]:{width:r,paddingInline:0,[`&${n}-compact-item`]:{flex:"none"},[`&${n}-round`]:{width:"auto"},[u]:{fontSize:t.buttonIconOnlyFontSize}},[`&${n}-loading`]:{opacity:t.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${t.motionDurationSlow} ${t.motionEaseInOut}, opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`}}},{[`${n}${n}-circle${e}`]:OK(t)},{[`${n}${n}-round${e}`]:PK(t)}]},VK=t=>{const e=Vi(t,{fontSize:t.contentFontSize,lineHeight:t.contentLineHeight});return Ux(e,t.componentCls)},WK=t=>{const e=Vi(t,{controlHeight:t.controlHeightSM,fontSize:t.contentFontSizeSM,lineHeight:t.contentLineHeightSM,padding:t.paddingXS,buttonPaddingHorizontal:t.paddingInlineSM,buttonPaddingVertical:t.paddingBlockSM,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.onlyIconSizeSM});return Ux(e,`${t.componentCls}-sm`)},BK=t=>{const e=Vi(t,{controlHeight:t.controlHeightLG,fontSize:t.contentFontSizeLG,lineHeight:t.contentLineHeightLG,buttonPaddingHorizontal:t.paddingInlineLG,buttonPaddingVertical:t.paddingBlockLG,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.onlyIconSizeLG});return Ux(e,`${t.componentCls}-lg`)},jK=t=>{const{componentCls:e}=t;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},zK=kg("Button",t=>{const e=WF(t);return[IK(e),VK(e),WK(e),BK(e),jK(e),kK(e),FK(e),dK(e)]},BF,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function YK(t,e,n){const{focusElCls:r,focus:i,borderElCls:o}=n,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(u=>`&:${u} ${s}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function UK(t,e,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function d0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=t,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},YK(t,r,e)),UK(n,r,e))}}function GK(t,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:t.calc(t.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function KK(t,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function qK(t){const e=`${t.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},GK(t,e)),KK(t.componentCls,e))}}const XK=t=>{const{componentCls:e,calc:n}=t;return{[e]:{[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(t.lineWidth).mul(-1).equal(),insetInlineStart:n(t.lineWidth).mul(-1).equal(),display:"inline-block",width:t.lineWidth,height:`calc(100% + ${at(t.lineWidth)} * 2)`,backgroundColor:t.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(t.lineWidth).mul(-1).equal(),insetInlineStart:n(t.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${at(t.lineWidth)} * 2)`,height:t.lineWidth,backgroundColor:t.colorPrimaryHover,content:'""'}}}}}}},ZK=f5(["Button","compact"],t=>{const e=WF(t);return[d0(e),qK(e),XK(e)]},BF);var QK=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function JK(t){if(typeof t=="object"&&t){let e=t==null?void 0:t.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!t,delay:0}}const e8={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["primary","link"],text:["default","text"]},t8=ot.forwardRef((t,e)=>{var n,r,i;const{loading:o=!1,prefixCls:s,color:a,variant:u,type:c,danger:h=!1,shape:g="default",size:p,styles:v,disabled:y,className:R,rootClassName:S,children:T,icon:x,iconPosition:O="start",ghost:A=!1,block:H=!1,htmlType:L="button",classNames:F,style:j={},autoInsertSpace:z}=t,Y=QK(t,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace"]),K=c||"default",[X,se]=b.useMemo(()=>{if(a&&u)return[a,u];const ge=e8[K]||[];return h?["danger",ge[1]]:ge},[c,a,u,h]),J=X==="danger"?"dangerous":X,{getPrefixCls:re,direction:ae,button:G}=b.useContext(Bi),oe=(n=z??(G==null?void 0:G.autoInsertSpace))!==null&&n!==void 0?n:!0,te=re("btn",s),[C,E,I]=zK(te),$=b.useContext(Ah),N=y??$,Z=b.useContext(FF),ue=b.useMemo(()=>JK(o),[o]),[me,Me]=b.useState(ue.loading),[be,le]=b.useState(!1),_e=Ph(e,b.createRef()),ee=b.Children.count(T)===1&&!x&&!S_(se);b.useEffect(()=>{let ge=null;ue.delay>0?ge=setTimeout(()=>{ge=null,Me(!0)},ue.delay):Me(ue.loading);function $e(){ge&&(clearTimeout(ge),ge=null)}return $e},[ue]),b.useEffect(()=>{if(!_e||!_e.current||!oe)return;const ge=_e.current.textContent;ee&&CT(ge)?be||le(!0):be&&le(!1)},[_e]);const De=ge=>{const{onClick:$e}=t;if(me||N){ge.preventDefault();return}$e==null||$e(ge)},{compactSize:Ae,compactItemClassnames:Pe}=Fg(te,ae),Be={large:"lg",small:"sm",middle:void 0},je=Kc(ge=>{var $e,Fe;return(Fe=($e=p??Ae)!==null&&$e!==void 0?$e:Z)!==null&&Fe!==void 0?Fe:ge}),k=je&&Be[je]||"",V=me?"loading":x,q=Hh(Y,["navigate"]),fe=lt(te,E,I,{[`${te}-${g}`]:g!=="default"&&g,[`${te}-${K}`]:K,[`${te}-dangerous`]:h,[`${te}-color-${J}`]:J,[`${te}-variant-${se}`]:se,[`${te}-${k}`]:k,[`${te}-icon-only`]:!T&&T!==0&&!!V,[`${te}-background-ghost`]:A&&!S_(se),[`${te}-loading`]:me,[`${te}-two-chinese-chars`]:be&&oe&&!me,[`${te}-block`]:H,[`${te}-rtl`]:ae==="rtl",[`${te}-icon-end`]:O==="end"},Pe,R,S,G==null?void 0:G.className),Q=Object.assign(Object.assign({},G==null?void 0:G.style),j),we=lt(F==null?void 0:F.icon,(r=G==null?void 0:G.classNames)===null||r===void 0?void 0:r.icon),ce=Object.assign(Object.assign({},(v==null?void 0:v.icon)||{}),((i=G==null?void 0:G.styles)===null||i===void 0?void 0:i.icon)||{}),ie=x&&!me?ot.createElement(VF,{prefixCls:te,className:we,style:ce},x):ot.createElement(cK,{existIcon:!!x,prefixCls:te,loading:me}),ve=T||T===0?uK(T,ee&&oe):null;if(q.href!==void 0)return C(ot.createElement("a",Object.assign({},q,{className:lt(fe,{[`${te}-disabled`]:N}),href:N?void 0:q.href,style:Q,onClick:De,ref:_e,tabIndex:N?-1:0}),ie,ve));let pe=ot.createElement("button",Object.assign({},Y,{type:L,className:fe,style:Q,onClick:De,disabled:N,ref:_e}),ie,ve,!!Pe&&ot.createElement(ZK,{key:"compact",prefixCls:te}));return S_(se)||(pe=ot.createElement(oK,{component:"Button",disabled:me},pe)),C(pe)}),Tc=t8;Tc.Group=aK;Tc.__ANT_BUTTON=!0;function n8(t){return e=>b.createElement(g5,{theme:{token:{motion:!1,zIndexPopupBase:0}}},b.createElement(t,Object.assign({},e)))}const Gx=(t,e,n,r)=>n8(o=>{const{prefixCls:s,style:a}=o,u=b.useRef(null),[c,h]=b.useState(0),[g,p]=b.useState(0),[v,y]=ro(!1,{value:o.open}),{getPrefixCls:R}=b.useContext(Bi),S=R(e||"select",s);b.useEffect(()=>{if(y(!0),typeof ResizeObserver<"u"){const O=new ResizeObserver(H=>{const L=H[0].target;h(L.offsetHeight+8),p(L.offsetWidth)}),A=setInterval(()=>{var H;const L=n?`.${n(S)}`:`.${S}-dropdown`,F=(H=u.current)===null||H===void 0?void 0:H.querySelector(L);F&&(clearInterval(A),O.observe(F))},10);return()=>{clearInterval(A),O.disconnect()}}},[]);let T=Object.assign(Object.assign({},o),{style:Object.assign(Object.assign({},a),{margin:0}),open:v,visible:v,getPopupContainer:()=>u.current});r&&(T=r(T));const x={paddingBottom:c,position:"relative",minWidth:g};return b.createElement("div",{ref:u,style:x},b.createElement(t,Object.assign({},T)))});var h0=function(e){var n=e.className,r=e.customizeIcon,i=e.customizeIconProps,o=e.children,s=e.onMouseDown,a=e.onClick,u=typeof r=="function"?r(i):r;return b.createElement("span",{className:n,onMouseDown:function(h){h.preventDefault(),s==null||s(h)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},u!==void 0?u:b.createElement("span",{className:lt(n.split(/\s+/).map(function(c){return"".concat(c,"-icon")}))},o))},r8=function(e,n,r,i,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,a=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,c=ot.useMemo(function(){if(Wi(i)==="object")return i.clearIcon;if(o)return o},[i,o]),h=ot.useMemo(function(){return!!(!s&&i&&(r.length||a)&&!(u==="combobox"&&a===""))},[i,s,r.length,a,u]);return{allowClear:h,clearIcon:ot.createElement(h0,{className:"".concat(e,"-clear"),onMouseDown:n,customizeIcon:c},"×")}},zF=b.createContext(null);function i8(){return b.useContext(zF)}function o8(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=b.useState(!1),n=ke(e,2),r=n[0],i=n[1],o=b.useRef(null),s=function(){window.clearTimeout(o.current)};b.useEffect(function(){return s},[]);var a=function(c,h){s(),o.current=window.setTimeout(function(){i(c),h&&h()},t)};return[r,a,s]}function YF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=b.useRef(null),n=b.useRef(null);b.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(n.current),n.current=window.setTimeout(function(){e.current=null},t)}return[function(){return e.current},r]}function s8(t,e,n,r){var i=b.useRef(null);i.current={open:e,triggerOpen:n,customizedTrigger:r},b.useEffect(function(){function o(s){var a;if(!((a=i.current)!==null&&a!==void 0&&a.customizedTrigger)){var u=s.target;u.shadowRoot&&s.composed&&(u=s.composedPath()[0]||u),i.current.open&&t().filter(function(c){return c}).every(function(c){return!c.contains(u)&&c!==u})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",o),function(){return window.removeEventListener("mousedown",o)}},[])}function a8(t){return![Rn.ESC,Rn.SHIFT,Rn.BACKSPACE,Rn.TAB,Rn.WIN_KEY,Rn.ALT,Rn.META,Rn.WIN_KEY_RIGHT,Rn.CTRL,Rn.SEMICOLON,Rn.EQUALS,Rn.CAPS_LOCK,Rn.CONTEXT_MENU,Rn.F1,Rn.F2,Rn.F3,Rn.F4,Rn.F5,Rn.F6,Rn.F7,Rn.F8,Rn.F9,Rn.F10,Rn.F11,Rn.F12].includes(t)}var l8=function(e,n){var r,i=e.prefixCls,o=e.id,s=e.inputElement,a=e.disabled,u=e.tabIndex,c=e.autoFocus,h=e.autoComplete,g=e.editable,p=e.activeDescendantId,v=e.value,y=e.maxLength,R=e.onKeyDown,S=e.onMouseDown,T=e.onChange,x=e.onPaste,O=e.onCompositionStart,A=e.onCompositionEnd,H=e.open,L=e.attrs,F=s||b.createElement("input",null),j=F,z=j.ref,Y=j.props,K=Y.onKeyDown,X=Y.onChange,se=Y.onMouseDown,ne=Y.onCompositionStart,J=Y.onCompositionEnd,re=Y.style;return m5(!("maxLength"in F.props)),F=b.cloneElement(F,Xe(Xe(Xe({type:"search"},Y),{},{id:o,ref:Ph(n,z),disabled:a,tabIndex:u,autoComplete:h||"off",autoFocus:c,className:lt("".concat(i,"-selection-search-input"),(r=F)===null||r===void 0||(r=r.props)===null||r===void 0?void 0:r.className),role:"combobox","aria-expanded":H||!1,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":H?p:void 0},L),{},{value:g?v:"",maxLength:y,readOnly:!g,unselectable:g?null:"on",style:Xe(Xe({},re),{},{opacity:g?null:0}),onKeyDown:function(G){R(G),K&&K(G)},onMouseDown:function(G){S(G),se&&se(G)},onChange:function(G){T(G),X&&X(G)},onCompositionStart:function(G){O(G),ne&&ne(G)},onCompositionEnd:function(G){A(G),J&&J(G)},onPaste:x})),F},UF=b.forwardRef(l8);function GF(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}var u8=typeof window<"u"&&window.document&&window.document.documentElement,c8=u8;function d8(t){return t!=null}function h8(t){return!t&&t!==0}function uD(t){return["string","number"].includes(Wi(t))}function KF(t){var e=void 0;return t&&(uD(t.title)?e=t.title.toString():uD(t.label)&&(e=t.label.toString())),e}function f8(t,e){c8?b.useLayoutEffect(t,e):b.useEffect(t,e)}function g8(t){var e;return(e=t.key)!==null&&e!==void 0?e:t.value}var cD=function(e){e.preventDefault(),e.stopPropagation()},m8=function(e){var n=e.id,r=e.prefixCls,i=e.values,o=e.open,s=e.searchValue,a=e.autoClearSearchValue,u=e.inputRef,c=e.placeholder,h=e.disabled,g=e.mode,p=e.showSearch,v=e.autoFocus,y=e.autoComplete,R=e.activeDescendantId,S=e.tabIndex,T=e.removeIcon,x=e.maxTagCount,O=e.maxTagTextLength,A=e.maxTagPlaceholder,H=A===void 0?function(_e){return"+ ".concat(_e.length," ...")}:A,L=e.tagRender,F=e.onToggleOpen,j=e.onRemove,z=e.onInputChange,Y=e.onInputPaste,K=e.onInputKeyDown,X=e.onInputMouseDown,se=e.onInputCompositionStart,ne=e.onInputCompositionEnd,J=b.useRef(null),re=b.useState(0),ae=ke(re,2),G=ae[0],oe=ae[1],te=b.useState(!1),C=ke(te,2),E=C[0],I=C[1],$="".concat(r,"-selection"),N=o||g==="multiple"&&a===!1||g==="tags"?s:"",Z=g==="tags"||g==="multiple"&&a===!1||p&&(o||E);f8(function(){oe(J.current.scrollWidth)},[N]);var ue=function(ee,De,Ae,Pe,Be){return b.createElement("span",{title:KF(ee),className:lt("".concat($,"-item"),tt({},"".concat($,"-item-disabled"),Ae))},b.createElement("span",{className:"".concat($,"-item-content")},De),Pe&&b.createElement(h0,{className:"".concat($,"-item-remove"),onMouseDown:cD,onClick:Be,customizeIcon:T},"×"))},me=function(ee,De,Ae,Pe,Be,je){var k=function(q){cD(q),F(!o)};return b.createElement("span",{onMouseDown:k},L({label:De,value:ee,disabled:Ae,closable:Pe,onClose:Be,isMaxTag:!!je}))},Me=function(ee){var De=ee.disabled,Ae=ee.label,Pe=ee.value,Be=!h&&!De,je=Ae;if(typeof O=="number"&&(typeof Ae=="string"||typeof Ae=="number")){var k=String(je);k.length>O&&(je="".concat(k.slice(0,O),"..."))}var V=function(fe){fe&&fe.stopPropagation(),j(ee)};return typeof L=="function"?me(Pe,je,De,Be,V):ue(ee,je,De,Be,V)},be=function(ee){var De=typeof H=="function"?H(ee):H;return typeof L=="function"?me(void 0,De,!1,!1,void 0,!0):ue({title:De},De,!1)},le=b.createElement("div",{className:"".concat($,"-search"),style:{width:G},onFocus:function(){I(!0)},onBlur:function(){I(!1)}},b.createElement(UF,{ref:u,open:o,prefixCls:r,id:n,inputElement:null,disabled:h,autoFocus:v,autoComplete:y,editable:Z,activeDescendantId:R,value:N,onKeyDown:K,onMouseDown:X,onChange:z,onPaste:Y,onCompositionStart:se,onCompositionEnd:ne,tabIndex:S,attrs:Bc(e,!0)}),b.createElement("span",{ref:J,className:"".concat($,"-search-mirror"),"aria-hidden":!0},N," ")),Ee=b.createElement(_F,{prefixCls:"".concat($,"-overflow"),data:i,renderItem:Me,renderRest:be,suffix:le,itemKey:g8,maxCount:x});return b.createElement(b.Fragment,null,Ee,!i.length&&!N&&b.createElement("span",{className:"".concat($,"-placeholder")},c))},p8=function(e){var n=e.inputElement,r=e.prefixCls,i=e.id,o=e.inputRef,s=e.disabled,a=e.autoFocus,u=e.autoComplete,c=e.activeDescendantId,h=e.mode,g=e.open,p=e.values,v=e.placeholder,y=e.tabIndex,R=e.showSearch,S=e.searchValue,T=e.activeValue,x=e.maxLength,O=e.onInputKeyDown,A=e.onInputMouseDown,H=e.onInputChange,L=e.onInputPaste,F=e.onInputCompositionStart,j=e.onInputCompositionEnd,z=e.title,Y=b.useState(!1),K=ke(Y,2),X=K[0],se=K[1],ne=h==="combobox",J=ne||R,re=p[0],ae=S||"";ne&&T&&!X&&(ae=T),b.useEffect(function(){ne&&se(!1)},[ne,T]);var G=h!=="combobox"&&!g&&!R?!1:!!ae,oe=z===void 0?KF(re):z,te=b.useMemo(function(){return re?null:b.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:G?{visibility:"hidden"}:void 0},v)},[re,G,v,r]);return b.createElement(b.Fragment,null,b.createElement("span",{className:"".concat(r,"-selection-search")},b.createElement(UF,{ref:o,prefixCls:r,id:i,open:g,inputElement:n,disabled:s,autoFocus:a,autoComplete:u,editable:J,activeDescendantId:c,value:ae,onKeyDown:O,onMouseDown:A,onChange:function(E){se(!0),H(E)},onPaste:L,onCompositionStart:F,onCompositionEnd:j,tabIndex:y,attrs:Bc(e,!0),maxLength:ne?x:void 0})),!ne&&re?b.createElement("span",{className:"".concat(r,"-selection-item"),title:oe,style:G?{visibility:"hidden"}:void 0},re.label):null,te)},v8=function(e,n){var r=b.useRef(null),i=b.useRef(!1),o=e.prefixCls,s=e.open,a=e.mode,u=e.showSearch,c=e.tokenWithEnter,h=e.disabled,g=e.autoClearSearchValue,p=e.onSearch,v=e.onSearchSubmit,y=e.onToggleOpen,R=e.onInputKeyDown,S=e.domRef;b.useImperativeHandle(n,function(){return{focus:function(G){r.current.focus(G)},blur:function(){r.current.blur()}}});var T=YF(0),x=ke(T,2),O=x[0],A=x[1],H=function(G){var oe=G.which;(oe===Rn.UP||oe===Rn.DOWN)&&G.preventDefault(),R&&R(G),oe===Rn.ENTER&&a==="tags"&&!i.current&&!s&&(v==null||v(G.target.value)),a8(oe)&&y(!0)},L=function(){A(!0)},F=b.useRef(null),j=function(G){p(G,!0,i.current)!==!1&&y(!0)},z=function(){i.current=!0},Y=function(G){i.current=!1,a!=="combobox"&&j(G.target.value)},K=function(G){var oe=G.target.value;if(c&&F.current&&/[\r\n]/.test(F.current)){var te=F.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");oe=oe.replace(te,F.current)}F.current=null,j(oe)},X=function(G){var oe=G.clipboardData,te=oe==null?void 0:oe.getData("text");F.current=te||""},se=function(G){var oe=G.target;if(oe!==r.current){var te=document.body.style.msTouchAction!==void 0;te?setTimeout(function(){r.current.focus()}):r.current.focus()}},ne=function(G){var oe=O();G.target!==r.current&&!oe&&!(a==="combobox"&&h)&&G.preventDefault(),(a!=="combobox"&&(!u||!oe)||!s)&&(s&&g!==!1&&p("",!0,!1),y())},J={inputRef:r,onInputKeyDown:H,onInputMouseDown:L,onInputChange:K,onInputPaste:X,onInputCompositionStart:z,onInputCompositionEnd:Y},re=a==="multiple"||a==="tags"?b.createElement(m8,Ot({},e,J)):b.createElement(p8,Ot({},e,J));return b.createElement("div",{ref:S,className:"".concat(o,"-selector"),onClick:se,onMouseDown:ne},re)},w8=b.forwardRef(v8),C8=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],y8=function(e){var n=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},b8=function(e,n){var r=e.prefixCls;e.disabled;var i=e.visible,o=e.children,s=e.popupElement,a=e.animation,u=e.transitionName,c=e.dropdownStyle,h=e.dropdownClassName,g=e.direction,p=g===void 0?"ltr":g,v=e.placement,y=e.builtinPlacements,R=e.dropdownMatchSelectWidth,S=e.dropdownRender,T=e.dropdownAlign,x=e.getPopupContainer,O=e.empty,A=e.getTriggerDOMNode,H=e.onPopupVisibleChange,L=e.onPopupMouseEnter,F=Ri(e,C8),j="".concat(r,"-dropdown"),z=s;S&&(z=S(s));var Y=b.useMemo(function(){return y||y8(R)},[y,R]),K=a?"".concat(j,"-").concat(a):u,X=typeof R=="number",se=b.useMemo(function(){return X?null:R===!1?"minWidth":"width"},[R,X]),ne=c;X&&(ne=Xe(Xe({},ne),{},{width:R}));var J=b.useRef(null);return b.useImperativeHandle(n,function(){return{getPopupElement:function(){var ae;return(ae=J.current)===null||ae===void 0?void 0:ae.popupElement}}}),b.createElement(MF,Ot({},F,{showAction:H?["click"]:[],hideAction:H?["click"]:[],popupPlacement:v||(p==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:Y,prefixCls:j,popupTransitionName:K,popup:b.createElement("div",{onMouseEnter:L},z),ref:J,stretch:se,popupAlign:T,popupVisible:i,getPopupContainer:x,popupClassName:lt(h,tt({},"".concat(j,"-empty"),O)),popupStyle:ne,getTriggerDOMNode:A,onPopupVisibleChange:H}),o)},S8=b.forwardRef(b8);function dD(t,e){var n=t.key,r;return"value"in t&&(r=t.value),n??(r!==void 0?r:"rc-index-key-".concat(e))}function yT(t){return typeof t<"u"&&!Number.isNaN(t)}function qF(t,e){var n=t||{},r=n.label,i=n.value,o=n.options,s=n.groupLabel,a=r||(e?"children":"label");return{label:a,value:i||"value",options:o||"options",groupLabel:s||a}}function R8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,i=[],o=qF(n,!1),s=o.label,a=o.value,u=o.options,c=o.groupLabel;function h(g,p){Array.isArray(g)&&g.forEach(function(v){if(p||!(u in v)){var y=v[a];i.push({key:dD(v,i.length),groupOption:p,data:v,label:v[s],value:y})}else{var R=v[c];R===void 0&&r&&(R=v.label),i.push({key:dD(v,i.length),group:!0,data:v,label:R}),h(v[u],!0)}})}return h(t,!1),i}function bT(t){var e=Xe({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return TF(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var E8=function(e,n,r){if(!n||!n.length)return null;var i=!1,o=function a(u,c){var h=p5(c),g=h[0],p=h.slice(1);if(!g)return[u];var v=u.split(g);return i=i||v.length>1,v.reduce(function(y,R){return[].concat(ar(y),ar(a(R,p)))},[]).filter(Boolean)},s=o(e,n);return i?typeof r<"u"?s.slice(0,r):s:null},Kx=b.createContext(null);function _8(t){var e=t.visible,n=t.values;if(!e)return null;var r=50;return b.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,r).map(function(i){var o=i.label,s=i.value;return["number","string"].includes(Wi(o))?o:s}).join(", ")),n.length>r?", ...":null)}var M8=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],T8=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],ST=function(e){return e==="tags"||e==="multiple"},x8=b.forwardRef(function(t,e){var n,r=t.id,i=t.prefixCls,o=t.className,s=t.showSearch,a=t.tagRender,u=t.direction,c=t.omitDomProps,h=t.displayValues,g=t.onDisplayValuesChange,p=t.emptyOptions,v=t.notFoundContent,y=v===void 0?"Not Found":v,R=t.onClear,S=t.mode,T=t.disabled,x=t.loading,O=t.getInputElement,A=t.getRawInputElement,H=t.open,L=t.defaultOpen,F=t.onDropdownVisibleChange,j=t.activeValue,z=t.onActiveValueChange,Y=t.activeDescendantId,K=t.searchValue,X=t.autoClearSearchValue,se=t.onSearch,ne=t.onSearchSplit,J=t.tokenSeparators,re=t.allowClear,ae=t.suffixIcon,G=t.clearIcon,oe=t.OptionList,te=t.animation,C=t.transitionName,E=t.dropdownStyle,I=t.dropdownClassName,$=t.dropdownMatchSelectWidth,N=t.dropdownRender,Z=t.dropdownAlign,ue=t.placement,me=t.builtinPlacements,Me=t.getPopupContainer,be=t.showAction,le=be===void 0?[]:be,Ee=t.onFocus,_e=t.onBlur,ee=t.onKeyUp,De=t.onKeyDown,Ae=t.onMouseDown,Pe=Ri(t,M8),Be=ST(S),je=(s!==void 0?s:Be)||S==="combobox",k=Xe({},Pe);T8.forEach(function(on){delete k[on]}),c==null||c.forEach(function(on){delete k[on]});var V=b.useState(!1),q=ke(V,2),fe=q[0],Q=q[1];b.useEffect(function(){Q(v5())},[]);var we=b.useRef(null),ce=b.useRef(null),ie=b.useRef(null),ve=b.useRef(null),pe=b.useRef(null),ge=b.useRef(!1),$e=o8(),Fe=ke($e,3),Ie=Fe[0],xe=Fe[1],ze=Fe[2];b.useImperativeHandle(e,function(){var on,$t;return{focus:(on=ve.current)===null||on===void 0?void 0:on.focus,blur:($t=ve.current)===null||$t===void 0?void 0:$t.blur,scrollTo:function($r){var ur;return(ur=pe.current)===null||ur===void 0?void 0:ur.scrollTo($r)},nativeElement:we.current||ce.current}});var Ge=b.useMemo(function(){var on;if(S!=="combobox")return K;var $t=(on=h[0])===null||on===void 0?void 0:on.value;return typeof $t=="string"||typeof $t=="number"?String($t):""},[K,S,h]),Oe=S==="combobox"&&typeof O=="function"&&O()||null,Ye=typeof A=="function"&&A(),wt=w5(ce,Ye==null||(n=Ye.props)===null||n===void 0?void 0:n.ref),sn=b.useState(!1),Nt=ke(sn,2),In=Nt[0],wn=Nt[1];io(function(){wn(!0)},[]);var At=ro(!1,{defaultValue:L,value:H}),qe=ke(At,2),Ut=qe[0],Yt=qe[1],qt=In?Ut:!1,$n=!y&&p;(T||$n&&qt&&S==="combobox")&&(qt=!1);var _t=$n?!1:qt,zn=b.useCallback(function(on){var $t=on!==void 0?on:!qt;T||(Yt($t),qt!==$t&&(F==null||F($t)))},[T,qt,Yt,F]),it=b.useMemo(function(){return(J||[]).some(function(on){return[`
`,`\r
`].includes(on)})},[J]),ft=b.useContext(Kx)||{},Rt=ft.maxCount,ht=ft.rawValues,Tt=function($t,Nr,$r){if(!(Be&&yT(Rt)&&(ht==null?void 0:ht.size)>=Rt)){var ur=!0,vt=$t;z==null||z(null);var St=E8($t,J,yT(Rt)?Rt-ht.size:void 0),Zn=$r?null:St;return S!=="combobox"&&Zn&&(vt="",ne==null||ne(Zn),zn(!1),ur=!1),se&&Ge!==vt&&se(vt,{source:Nr?"typing":"effect"}),ur}},Xt=function($t){!$t||!$t.trim()||se($t,{source:"submit"})};b.useEffect(function(){!qt&&!Be&&S!=="combobox"&&Tt("",!1,!1)},[qt]),b.useEffect(function(){Ut&&T&&Yt(!1),T&&!ge.current&&xe(!1)},[T]);var Ln=YF(),tn=ke(Ln,2),kn=tn[0],Gt=tn[1],Mn=b.useRef(!1),Dr=function($t){var Nr=kn(),$r=$t.key,ur=$r==="Enter";if(ur&&(S!=="combobox"&&$t.preventDefault(),qt||zn(!0)),Gt(!!Ge),$r==="Backspace"&&!Nr&&Be&&!Ge&&h.length){for(var vt=ar(h),St=null,Zn=vt.length-1;Zn>=0;Zn-=1){var pr=vt[Zn];if(!pr.disabled){vt.splice(Zn,1),St=pr;break}}St&&g(vt,{type:"remove",values:[St]})}for(var _r=arguments.length,so=new Array(_r>1?_r-1:0),ao=1;ao<_r;ao++)so[ao-1]=arguments[ao];if(qt&&(!ur||!Mn.current)){var Jt;(Jt=pe.current)===null||Jt===void 0||Jt.onKeyDown.apply(Jt,[$t].concat(so))}ur&&(Mn.current=!0),De==null||De.apply(void 0,[$t].concat(so))},ci=function($t){for(var Nr=arguments.length,$r=new Array(Nr>1?Nr-1:0),ur=1;ur<Nr;ur++)$r[ur-1]=arguments[ur];if(qt){var vt;(vt=pe.current)===null||vt===void 0||vt.onKeyUp.apply(vt,[$t].concat($r))}$t.key==="Enter"&&(Mn.current=!1),ee==null||ee.apply(void 0,[$t].concat($r))},di=function($t){var Nr=h.filter(function($r){return $r!==$t});g(Nr,{type:"remove",values:[$t]})},bt=b.useRef(!1),Ve=function(){xe(!0),T||(Ee&&!bt.current&&Ee.apply(void 0,arguments),le.includes("focus")&&zn(!0)),bt.current=!0},de=function(){ge.current=!0,xe(!1,function(){bt.current=!1,ge.current=!1,zn(!1)}),!T&&(Ge&&(S==="tags"?se(Ge,{source:"submit"}):S==="multiple"&&se("",{source:"blur"})),_e&&_e.apply(void 0,arguments))},Ne=[];b.useEffect(function(){return function(){Ne.forEach(function(on){return clearTimeout(on)}),Ne.splice(0,Ne.length)}},[]);var et=function($t){var Nr,$r=$t.target,ur=(Nr=ie.current)===null||Nr===void 0?void 0:Nr.getPopupElement();if(ur&&ur.contains($r)){var vt=setTimeout(function(){var _r=Ne.indexOf(vt);if(_r!==-1&&Ne.splice(_r,1),ze(),!fe&&!ur.contains(document.activeElement)){var so;(so=ve.current)===null||so===void 0||so.focus()}});Ne.push(vt)}for(var St=arguments.length,Zn=new Array(St>1?St-1:0),pr=1;pr<St;pr++)Zn[pr-1]=arguments[pr];Ae==null||Ae.apply(void 0,[$t].concat(Zn))},Dt=b.useState({}),An=ke(Dt,2),Xn=An[1];function Vt(){Xn({})}var Pr;Ye&&(Pr=function($t){zn($t)}),s8(function(){var on;return[we.current,(on=ie.current)===null||on===void 0?void 0:on.getPopupElement()]},_t,zn,!!Ye);var Hn=b.useMemo(function(){return Xe(Xe({},t),{},{notFoundContent:y,open:qt,triggerOpen:_t,id:r,showSearch:je,multiple:Be,toggleOpen:zn})},[t,y,_t,qt,r,je,Be,zn]),Ni=!!ae||x,Mo;Ni&&(Mo=b.createElement(h0,{className:lt("".concat(i,"-arrow"),tt({},"".concat(i,"-arrow-loading"),x)),customizeIcon:ae,customizeIconProps:{loading:x,searchValue:Ge,open:qt,focused:Ie,showSearch:je}}));var ka=function(){var $t;R==null||R(),($t=ve.current)===null||$t===void 0||$t.focus(),g([],{type:"clear",values:h}),Tt("",!1,!1)},Fa=r8(i,ka,h,re,G,T,Ge,S),Wl=Fa.allowClear,Va=Fa.clearIcon,Wa=b.createElement(oe,{ref:pe}),Ba=lt(i,o,tt(tt(tt(tt(tt(tt(tt(tt(tt(tt({},"".concat(i,"-focused"),Ie),"".concat(i,"-multiple"),Be),"".concat(i,"-single"),!Be),"".concat(i,"-allow-clear"),re),"".concat(i,"-show-arrow"),Ni),"".concat(i,"-disabled"),T),"".concat(i,"-loading"),x),"".concat(i,"-open"),qt),"".concat(i,"-customize-input"),Oe),"".concat(i,"-show-search"),je)),qo=b.createElement(S8,{ref:ie,disabled:T,prefixCls:i,visible:_t,popupElement:Wa,animation:te,transitionName:C,dropdownStyle:E,dropdownClassName:I,direction:u,dropdownMatchSelectWidth:$,dropdownRender:N,dropdownAlign:Z,placement:ue,builtinPlacements:me,getPopupContainer:Me,empty:p,getTriggerDOMNode:function($t){return ce.current||$t},onPopupVisibleChange:Pr,onPopupMouseEnter:Vt},Ye?b.cloneElement(Ye,{ref:wt}):b.createElement(w8,Ot({},t,{domRef:ce,prefixCls:i,inputElement:Oe,ref:ve,id:r,showSearch:je,autoClearSearchValue:X,mode:S,activeDescendantId:Y,tagRender:a,values:h,open:qt,onToggleOpen:zn,activeValue:j,searchValue:Ge,onSearch:Tt,onSearchSubmit:Xt,onRemove:di,tokenWithEnter:it}))),vs;return Ye?vs=qo:vs=b.createElement("div",Ot({className:Ba},k,{ref:we,onMouseDown:et,onKeyDown:Dr,onKeyUp:ci,onFocus:Ve,onBlur:de}),b.createElement(_8,{visible:Ie&&!qt,values:h}),qo,Mo,Wl&&Va),b.createElement(zF.Provider,{value:Hn},vs)}),qx=function(){return null};qx.isSelectOptGroup=!0;var Xx=function(){return null};Xx.isSelectOption=!0;var XF=b.forwardRef(function(t,e){var n=t.height,r=t.offsetY,i=t.offsetX,o=t.children,s=t.prefixCls,a=t.onInnerResize,u=t.innerProps,c=t.rtl,h=t.extra,g={},p={display:"flex",flexDirection:"column"};return r!==void 0&&(g={height:n,position:"relative",overflow:"hidden"},p=Xe(Xe({},p),{},tt(tt(tt(tt(tt({transform:"translateY(".concat(r,"px)")},c?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),b.createElement("div",{style:g},b.createElement(jv,{onResize:function(y){var R=y.offsetHeight;R&&a&&a()}},b.createElement("div",Ot({style:p,className:lt(tt({},"".concat(s,"-holder-inner"),s)),ref:e},u),o,h)))});XF.displayName="Filler";function I8(t){var e=t.children,n=t.setRef,r=b.useCallback(function(i){n(i)},[]);return b.cloneElement(e,{ref:r})}function O8(t,e,n,r,i,o,s,a){var u=a.getKey;return t.slice(e,n+1).map(function(c,h){var g=e+h,p=s(c,g,{style:{width:r},offsetX:i}),v=u(c);return b.createElement(I8,{key:v,setRef:function(R){return o(c,R)}},p)})}function P8(t,e,n){var r=t.length,i=e.length,o,s;if(r===0&&i===0)return null;r<i?(o=t,s=e):(o=e,s=t);var a={__EMPTY_ITEM__:!0};function u(y){return y!==void 0?n(y):a}for(var c=null,h=Math.abs(r-i)!==1,g=0;g<s.length;g+=1){var p=u(o[g]),v=u(s[g]);if(p!==v){c=g,h=h||p!==u(s[g+1]);break}}return c===null?null:{index:c,multiple:h}}function A8(t,e,n){var r=b.useState(t),i=ke(r,2),o=i[0],s=i[1],a=b.useState(null),u=ke(a,2),c=u[0],h=u[1];return b.useEffect(function(){var g=P8(o||[],t||[],e);(g==null?void 0:g.index)!==void 0&&h(t[g.index]),s(t)},[t]),[c]}var hD=(typeof navigator>"u"?"undefined":Wi(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const ZF=function(t,e,n,r){var i=b.useRef(!1),o=b.useRef(null);function s(){clearTimeout(o.current),i.current=!0,o.current=setTimeout(function(){i.current=!1},50)}var a=b.useRef({top:t,bottom:e,left:n,right:r});return a.current.top=t,a.current.bottom=e,a.current.left=n,a.current.right=r,function(u,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=u?c<0&&a.current.left||c>0&&a.current.right:c<0&&a.current.top||c>0&&a.current.bottom;return h&&g?(clearTimeout(o.current),i.current=!1):(!g||i.current)&&s(),!i.current&&g}};function H8(t,e,n,r,i,o,s){var a=b.useRef(0),u=b.useRef(null),c=b.useRef(null),h=b.useRef(!1),g=ZF(e,n,r,i);function p(x,O){if(Er.cancel(u.current),!g(!1,O)){var A=x;if(!A._virtualHandled)A._virtualHandled=!0;else return;a.current+=O,c.current=O,hD||A.preventDefault(),u.current=Er(function(){var H=h.current?10:1;s(a.current*H,!1),a.current=0})}}function v(x,O){s(O,!0),hD||x.preventDefault()}var y=b.useRef(null),R=b.useRef(null);function S(x){if(t){Er.cancel(R.current),R.current=Er(function(){y.current=null},2);var O=x.deltaX,A=x.deltaY,H=x.shiftKey,L=O,F=A;(y.current==="sx"||!y.current&&H&&A&&!O)&&(L=A,F=0,y.current="sx");var j=Math.abs(L),z=Math.abs(F);y.current===null&&(y.current=o&&j>z?"x":"y"),y.current==="y"?p(x,F):v(x,L)}}function T(x){t&&(h.current=x.detail===c.current)}return[S,T]}function D8(t,e,n,r){var i=b.useMemo(function(){return[new Map,[]]},[t,n.id,r]),o=ke(i,2),s=o[0],a=o[1],u=function(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h,p=s.get(h),v=s.get(g);if(p===void 0||v===void 0)for(var y=t.length,R=a.length;R<y;R+=1){var S,T=t[R],x=e(T);s.set(x,R);var O=(S=n.get(x))!==null&&S!==void 0?S:r;if(a[R]=(a[R-1]||0)+O,x===h&&(p=R),x===g&&(v=R),p!==void 0&&v!==void 0)break}return{top:a[p-1]||0,bottom:a[v]}};return u}var N8=function(){function t(){s0(this,t),tt(this,"maps",void 0),tt(this,"id",0),this.maps=Object.create(null)}return a0(t,[{key:"set",value:function(n,r){this.maps[n]=r,this.id+=1}},{key:"get",value:function(n){return this.maps[n]}}]),t}();function $8(t,e,n){var r=b.useState(0),i=ke(r,2),o=i[0],s=i[1],a=b.useRef(new Map),u=b.useRef(new N8),c=b.useRef();function h(){Er.cancel(c.current)}function g(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;h();var y=function(){a.current.forEach(function(S,T){if(S&&S.offsetParent){var x=C5(S),O=x.offsetHeight;u.current.get(T)!==O&&u.current.set(T,x.offsetHeight)}}),s(function(S){return S+1})};v?y():c.current=Er(y)}function p(v,y){var R=t(v);a.current.get(R),y?(a.current.set(R,y),g()):a.current.delete(R)}return b.useEffect(function(){return h},[]),[p,g,u.current,o]}var fD=14/15;function L8(t,e,n){var r=b.useRef(!1),i=b.useRef(0),o=b.useRef(0),s=b.useRef(null),a=b.useRef(null),u,c=function(v){if(r.current){var y=Math.ceil(v.touches[0].pageX),R=Math.ceil(v.touches[0].pageY),S=i.current-y,T=o.current-R,x=Math.abs(S)>Math.abs(T);x?i.current=y:o.current=R;var O=n(x,x?S:T,!1,v);O&&v.preventDefault(),clearInterval(a.current),O&&(a.current=setInterval(function(){x?S*=fD:T*=fD;var A=Math.floor(x?S:T);(!n(x,A,!0)||Math.abs(A)<=.1)&&clearInterval(a.current)},16))}},h=function(){r.current=!1,u()},g=function(v){u(),v.touches.length===1&&!r.current&&(r.current=!0,i.current=Math.ceil(v.touches[0].pageX),o.current=Math.ceil(v.touches[0].pageY),s.current=v.target,s.current.addEventListener("touchmove",c,{passive:!1}),s.current.addEventListener("touchend",h,{passive:!0}))};u=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",h))},io(function(){return t&&e.current.addEventListener("touchstart",g,{passive:!0}),function(){var p;(p=e.current)===null||p===void 0||p.removeEventListener("touchstart",g),u(),clearInterval(a.current)}},[t])}var k8=10;function F8(t,e,n,r,i,o,s,a){var u=b.useRef(),c=b.useState(null),h=ke(c,2),g=h[0],p=h[1];return io(function(){if(g&&g.times<k8){if(!t.current){p(function(oe){return Xe({},oe)});return}o();var v=g.targetAlign,y=g.originAlign,R=g.index,S=g.offset,T=t.current.clientHeight,x=!1,O=v,A=null;if(T){for(var H=v||y,L=0,F=0,j=0,z=Math.min(e.length-1,R),Y=0;Y<=z;Y+=1){var K=i(e[Y]);F=L;var X=n.get(K);j=F+(X===void 0?r:X),L=j}for(var se=H==="top"?S:T-S,ne=z;ne>=0;ne-=1){var J=i(e[ne]),re=n.get(J);if(re===void 0){x=!0;break}if(se-=re,se<=0)break}switch(H){case"top":A=F-S;break;case"bottom":A=j-T+S;break;default:{var ae=t.current.scrollTop,G=ae+T;F<ae?O="top":j>G&&(O="bottom")}}A!==null&&s(A),A!==g.lastTop&&(x=!0)}x&&p(Xe(Xe({},g),{},{times:g.times+1,targetAlign:O,lastTop:A}))}},[g,t.current]),function(v){if(v==null){a();return}if(Er.cancel(u.current),typeof v=="number")s(v);else if(v&&Wi(v)==="object"){var y,R=v.align;"index"in v?y=v.index:y=e.findIndex(function(x){return i(x)===v.key});var S=v.offset,T=S===void 0?0:S;p({times:0,index:y,offset:T,originAlign:R})}}}function gD(t,e){var n="touches"in t?t.touches[0]:t;return n[e?"pageX":"pageY"]}var mD=b.forwardRef(function(t,e){var n=t.prefixCls,r=t.rtl,i=t.scrollOffset,o=t.scrollRange,s=t.onStartMove,a=t.onStopMove,u=t.onScroll,c=t.horizontal,h=t.spinSize,g=t.containerSize,p=t.style,v=t.thumbStyle,y=b.useState(!1),R=ke(y,2),S=R[0],T=R[1],x=b.useState(null),O=ke(x,2),A=O[0],H=O[1],L=b.useState(null),F=ke(L,2),j=F[0],z=F[1],Y=!r,K=b.useRef(),X=b.useRef(),se=b.useState(!1),ne=ke(se,2),J=ne[0],re=ne[1],ae=b.useRef(),G=function(){clearTimeout(ae.current),re(!0),ae.current=setTimeout(function(){re(!1)},3e3)},oe=o-g||0,te=g-h||0,C=b.useMemo(function(){if(i===0||oe===0)return 0;var be=i/oe;return be*te},[i,oe,te]),E=function(le){le.stopPropagation(),le.preventDefault()},I=b.useRef({top:C,dragging:S,pageY:A,startTop:j});I.current={top:C,dragging:S,pageY:A,startTop:j};var $=function(le){T(!0),H(gD(le,c)),z(I.current.top),s(),le.stopPropagation(),le.preventDefault()};b.useEffect(function(){var be=function(ee){ee.preventDefault()},le=K.current,Ee=X.current;return le.addEventListener("touchstart",be,{passive:!1}),Ee.addEventListener("touchstart",$,{passive:!1}),function(){le.removeEventListener("touchstart",be),Ee.removeEventListener("touchstart",$)}},[]);var N=b.useRef();N.current=oe;var Z=b.useRef();Z.current=te,b.useEffect(function(){if(S){var be,le=function(ee){var De=I.current,Ae=De.dragging,Pe=De.pageY,Be=De.startTop;Er.cancel(be);var je=K.current.getBoundingClientRect(),k=g/(c?je.width:je.height);if(Ae){var V=(gD(ee,c)-Pe)*k,q=Be;!Y&&c?q-=V:q+=V;var fe=N.current,Q=Z.current,we=Q?q/Q:0,ce=Math.ceil(we*fe);ce=Math.max(ce,0),ce=Math.min(ce,fe),be=Er(function(){u(ce,c)})}},Ee=function(){T(!1),a()};return window.addEventListener("mousemove",le,{passive:!0}),window.addEventListener("touchmove",le,{passive:!0}),window.addEventListener("mouseup",Ee,{passive:!0}),window.addEventListener("touchend",Ee,{passive:!0}),function(){window.removeEventListener("mousemove",le),window.removeEventListener("touchmove",le),window.removeEventListener("mouseup",Ee),window.removeEventListener("touchend",Ee),Er.cancel(be)}}},[S]),b.useEffect(function(){return G(),function(){clearTimeout(ae.current)}},[i]),b.useImperativeHandle(e,function(){return{delayHidden:G}});var ue="".concat(n,"-scrollbar"),me={position:"absolute",visibility:J?null:"hidden"},Me={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return c?(me.height=8,me.left=0,me.right=0,me.bottom=0,Me.height="100%",Me.width=h,Y?Me.left=C:Me.right=C):(me.width=8,me.top=0,me.bottom=0,Y?me.right=0:me.left=0,Me.width="100%",Me.height=h,Me.top=C),b.createElement("div",{ref:K,className:lt(ue,tt(tt(tt({},"".concat(ue,"-horizontal"),c),"".concat(ue,"-vertical"),!c),"".concat(ue,"-visible"),J)),style:Xe(Xe({},me),p),onMouseDown:E,onMouseMove:G},b.createElement("div",{ref:X,className:lt("".concat(ue,"-thumb"),tt({},"".concat(ue,"-thumb-moving"),S)),style:Xe(Xe({},Me),v),onMouseDown:$}))}),V8=20;function pD(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t/e*t;return isNaN(n)&&(n=0),n=Math.max(n,V8),Math.floor(n)}var W8=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],B8=[],j8={overflowY:"auto",overflowAnchor:"none"};function z8(t,e){var n=t.prefixCls,r=n===void 0?"rc-virtual-list":n,i=t.className,o=t.height,s=t.itemHeight,a=t.fullHeight,u=a===void 0?!0:a,c=t.style,h=t.data,g=t.children,p=t.itemKey,v=t.virtual,y=t.direction,R=t.scrollWidth,S=t.component,T=S===void 0?"div":S,x=t.onScroll,O=t.onVirtualScroll,A=t.onVisibleChange,H=t.innerProps,L=t.extraRender,F=t.styles,j=Ri(t,W8),z=b.useCallback(function(bt){return typeof p=="function"?p(bt):bt==null?void 0:bt[p]},[p]),Y=$8(z),K=ke(Y,4),X=K[0],se=K[1],ne=K[2],J=K[3],re=!!(v!==!1&&o&&s),ae=b.useMemo(function(){return Object.values(ne.maps).reduce(function(bt,Ve){return bt+Ve},0)},[ne.id,ne.maps]),G=re&&h&&(Math.max(s*h.length,ae)>o||!!R),oe=y==="rtl",te=lt(r,tt({},"".concat(r,"-rtl"),oe),i),C=h||B8,E=b.useRef(),I=b.useRef(),$=b.useRef(),N=b.useState(0),Z=ke(N,2),ue=Z[0],me=Z[1],Me=b.useState(0),be=ke(Me,2),le=be[0],Ee=be[1],_e=b.useState(!1),ee=ke(_e,2),De=ee[0],Ae=ee[1],Pe=function(){Ae(!0)},Be=function(){Ae(!1)},je={getKey:z};function k(bt){me(function(Ve){var de;typeof bt=="function"?de=bt(Ve):de=bt;var Ne=In(de);return E.current.scrollTop=Ne,Ne})}var V=b.useRef({start:0,end:C.length}),q=b.useRef(),fe=A8(C,z),Q=ke(fe,1),we=Q[0];q.current=we;var ce=b.useMemo(function(){if(!re)return{scrollHeight:void 0,start:0,end:C.length-1,offset:void 0};if(!G){var bt;return{scrollHeight:((bt=I.current)===null||bt===void 0?void 0:bt.offsetHeight)||0,start:0,end:C.length-1,offset:void 0}}for(var Ve=0,de,Ne,et,Dt=C.length,An=0;An<Dt;An+=1){var Xn=C[An],Vt=z(Xn),Pr=ne.get(Vt),Hn=Ve+(Pr===void 0?s:Pr);Hn>=ue&&de===void 0&&(de=An,Ne=Ve),Hn>ue+o&&et===void 0&&(et=An),Ve=Hn}return de===void 0&&(de=0,Ne=0,et=Math.ceil(o/s)),et===void 0&&(et=C.length-1),et=Math.min(et+1,C.length-1),{scrollHeight:Ve,start:de,end:et,offset:Ne}},[G,re,ue,C,J,o]),ie=ce.scrollHeight,ve=ce.start,pe=ce.end,ge=ce.offset;V.current.start=ve,V.current.end=pe;var $e=b.useState({width:0,height:o}),Fe=ke($e,2),Ie=Fe[0],xe=Fe[1],ze=function(Ve){xe({width:Ve.offsetWidth,height:Ve.offsetHeight})},Ge=b.useRef(),Oe=b.useRef(),Ye=b.useMemo(function(){return pD(Ie.width,R)},[Ie.width,R]),wt=b.useMemo(function(){return pD(Ie.height,ie)},[Ie.height,ie]),sn=ie-o,Nt=b.useRef(sn);Nt.current=sn;function In(bt){var Ve=bt;return Number.isNaN(Nt.current)||(Ve=Math.min(Ve,Nt.current)),Ve=Math.max(Ve,0),Ve}var wn=ue<=0,At=ue>=sn,qe=le<=0,Ut=le>=R,Yt=ZF(wn,At,qe,Ut),qt=function(){return{x:oe?-le:le,y:ue}},$n=b.useRef(qt()),_t=Jr(function(bt){if(O){var Ve=Xe(Xe({},qt()),bt);($n.current.x!==Ve.x||$n.current.y!==Ve.y)&&(O(Ve),$n.current=Ve)}});function zn(bt,Ve){var de=bt;Ve?(tD.flushSync(function(){Ee(de)}),_t()):k(de)}function it(bt){var Ve=bt.currentTarget.scrollTop;Ve!==ue&&k(Ve),x==null||x(bt),_t()}var ft=function(Ve){var de=Ve,Ne=R?R-Ie.width:0;return de=Math.max(de,0),de=Math.min(de,Ne),de},Rt=Jr(function(bt,Ve){Ve?(tD.flushSync(function(){Ee(function(de){var Ne=de+(oe?-bt:bt);return ft(Ne)})}),_t()):k(function(de){var Ne=de+bt;return Ne})}),ht=H8(re,wn,At,qe,Ut,!!R,Rt),Tt=ke(ht,2),Xt=Tt[0],Ln=Tt[1];L8(re,E,function(bt,Ve,de,Ne){var et=Ne;return Yt(bt,Ve,de)?!1:!et||!et._virtualHandled?(et&&(et._virtualHandled=!0),Xt({preventDefault:function(){},deltaX:bt?Ve:0,deltaY:bt?0:Ve}),!0):!1}),io(function(){function bt(de){var Ne=wn&&de.detail<0,et=At&&de.detail>0;re&&!Ne&&!et&&de.preventDefault()}var Ve=E.current;return Ve.addEventListener("wheel",Xt,{passive:!1}),Ve.addEventListener("DOMMouseScroll",Ln,{passive:!0}),Ve.addEventListener("MozMousePixelScroll",bt,{passive:!1}),function(){Ve.removeEventListener("wheel",Xt),Ve.removeEventListener("DOMMouseScroll",Ln),Ve.removeEventListener("MozMousePixelScroll",bt)}},[re,wn,At]),io(function(){if(R){var bt=ft(le);Ee(bt),_t({x:bt})}},[Ie.width,R]);var tn=function(){var Ve,de;(Ve=Ge.current)===null||Ve===void 0||Ve.delayHidden(),(de=Oe.current)===null||de===void 0||de.delayHidden()},kn=F8(E,C,ne,s,z,function(){return se(!0)},k,tn);b.useImperativeHandle(e,function(){return{nativeElement:$.current,getScrollInfo:qt,scrollTo:function(Ve){function de(Ne){return Ne&&Wi(Ne)==="object"&&("left"in Ne||"top"in Ne)}de(Ve)?(Ve.left!==void 0&&Ee(ft(Ve.left)),kn(Ve.top)):kn(Ve)}}}),io(function(){if(A){var bt=C.slice(ve,pe+1);A(bt,C)}},[ve,pe,C]);var Gt=D8(C,z,ne,s),Mn=L==null?void 0:L({start:ve,end:pe,virtual:G,offsetX:le,offsetY:ge,rtl:oe,getSize:Gt}),Dr=O8(C,ve,pe,R,le,X,g,je),ci=null;o&&(ci=Xe(tt({},u?"height":"maxHeight",o),j8),re&&(ci.overflowY="hidden",R&&(ci.overflowX="hidden"),De&&(ci.pointerEvents="none")));var di={};return oe&&(di.dir="rtl"),b.createElement("div",Ot({ref:$,style:Xe(Xe({},c),{},{position:"relative"}),className:te},di,j),b.createElement(jv,{onResize:ze},b.createElement(T,{className:"".concat(r,"-holder"),style:ci,ref:E,onScroll:it,onMouseEnter:tn},b.createElement(XF,{prefixCls:r,height:ie,offsetX:le,offsetY:ge,scrollWidth:R,onInnerResize:se,ref:I,innerProps:H,rtl:oe,extra:Mn},Dr))),G&&ie>o&&b.createElement(mD,{ref:Ge,prefixCls:r,scrollOffset:ue,scrollRange:ie,rtl:oe,onScroll:zn,onStartMove:Pe,onStopMove:Be,spinSize:wt,containerSize:Ie.height,style:F==null?void 0:F.verticalScrollBar,thumbStyle:F==null?void 0:F.verticalScrollBarThumb}),G&&R>Ie.width&&b.createElement(mD,{ref:Oe,prefixCls:r,scrollOffset:le,scrollRange:R,rtl:oe,onScroll:zn,onStartMove:Pe,onStopMove:Be,spinSize:Ye,containerSize:Ie.width,horizontal:!0,style:F==null?void 0:F.horizontalScrollBar,thumbStyle:F==null?void 0:F.horizontalScrollBarThumb}))}var QF=b.forwardRef(z8);QF.displayName="List";function Y8(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var U8=["disabled","title","children","style","className"];function vD(t){return typeof t=="string"||typeof t=="number"}var G8=function(e,n){var r=i8(),i=r.prefixCls,o=r.id,s=r.open,a=r.multiple,u=r.mode,c=r.searchValue,h=r.toggleOpen,g=r.notFoundContent,p=r.onPopupScroll,v=b.useContext(Kx),y=v.maxCount,R=v.flattenOptions,S=v.onActiveValue,T=v.defaultActiveFirstOption,x=v.onSelect,O=v.menuItemSelectedIcon,A=v.rawValues,H=v.fieldNames,L=v.virtual,F=v.direction,j=v.listHeight,z=v.listItemHeight,Y=v.optionRender,K="".concat(i,"-item"),X=y5(function(){return R},[s,R],function(be,le){return le[0]&&be[1]!==le[1]}),se=b.useRef(null),ne=b.useMemo(function(){return a&&yT(y)&&(A==null?void 0:A.size)>=y},[a,y,A==null?void 0:A.size]),J=function(le){le.preventDefault()},re=function(le){var Ee;(Ee=se.current)===null||Ee===void 0||Ee.scrollTo(typeof le=="number"?{index:le}:le)},ae=function(le){for(var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,_e=X.length,ee=0;ee<_e;ee+=1){var De=(le+ee*Ee+_e)%_e,Ae=X[De]||{},Pe=Ae.group,Be=Ae.data;if(!Pe&&!(Be!=null&&Be.disabled)&&!ne)return De}return-1},G=b.useState(function(){return ae(0)}),oe=ke(G,2),te=oe[0],C=oe[1],E=function(le){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;C(le);var _e={source:Ee?"keyboard":"mouse"},ee=X[le];if(!ee){S(null,-1,_e);return}S(ee.value,le,_e)};b.useEffect(function(){E(T!==!1?ae(0):-1)},[X.length,c]);var I=b.useCallback(function(be){return A.has(be)&&u!=="combobox"},[u,ar(A).toString(),A.size]);b.useEffect(function(){var be=setTimeout(function(){if(!a&&s&&A.size===1){var Ee=Array.from(A)[0],_e=X.findIndex(function(ee){var De=ee.data;return De.value===Ee});_e!==-1&&(E(_e),re(_e))}});if(s){var le;(le=se.current)===null||le===void 0||le.scrollTo(void 0)}return function(){return clearTimeout(be)}},[s,c]);var $=function(le){le!==void 0&&x(le,{selected:!A.has(le)}),a||h(!1)};if(b.useImperativeHandle(n,function(){return{onKeyDown:function(le){var Ee=le.which,_e=le.ctrlKey;switch(Ee){case Rn.N:case Rn.P:case Rn.UP:case Rn.DOWN:{var ee=0;if(Ee===Rn.UP?ee=-1:Ee===Rn.DOWN?ee=1:Y8()&&_e&&(Ee===Rn.N?ee=1:Ee===Rn.P&&(ee=-1)),ee!==0){var De=ae(te+ee,ee);re(De),E(De,!0)}break}case Rn.ENTER:{var Ae,Pe=X[te];Pe&&!(Pe!=null&&(Ae=Pe.data)!==null&&Ae!==void 0&&Ae.disabled)&&!ne?$(Pe.value):$(void 0),s&&le.preventDefault();break}case Rn.ESC:h(!1),s&&le.stopPropagation()}},onKeyUp:function(){},scrollTo:function(le){re(le)}}}),X.length===0)return b.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(K,"-empty"),onMouseDown:J},g);var N=Object.keys(H).map(function(be){return H[be]}),Z=function(le){return le.label};function ue(be,le){var Ee=be.group;return{role:Ee?"presentation":"option",id:"".concat(o,"_list_").concat(le)}}var me=function(le){var Ee=X[le];if(!Ee)return null;var _e=Ee.data||{},ee=_e.value,De=Ee.group,Ae=Bc(_e,!0),Pe=Z(Ee);return Ee?b.createElement("div",Ot({"aria-label":typeof Pe=="string"&&!De?Pe:null},Ae,{key:le},ue(Ee,le),{"aria-selected":I(ee)}),ee):null},Me={role:"listbox",id:"".concat(o,"_list")};return b.createElement(b.Fragment,null,L&&b.createElement("div",Ot({},Me,{style:{height:0,width:0,overflow:"hidden"}}),me(te-1),me(te),me(te+1)),b.createElement(QF,{itemKey:"key",ref:se,data:X,height:j,itemHeight:z,fullHeight:!1,onMouseDown:J,onScroll:p,virtual:L,direction:F,innerProps:L?null:Me},function(be,le){var Ee=be.group,_e=be.groupOption,ee=be.data,De=be.label,Ae=be.value,Pe=ee.key;if(Ee){var Be,je=(Be=ee.title)!==null&&Be!==void 0?Be:vD(De)?De.toString():void 0;return b.createElement("div",{className:lt(K,"".concat(K,"-group"),ee.className),title:je},De!==void 0?De:Pe)}var k=ee.disabled,V=ee.title;ee.children;var q=ee.style,fe=ee.className,Q=Ri(ee,U8),we=Hh(Q,N),ce=I(Ae),ie=k||!ce&&ne,ve="".concat(K,"-option"),pe=lt(K,ve,fe,tt(tt(tt(tt({},"".concat(ve,"-grouped"),_e),"".concat(ve,"-active"),te===le&&!ie),"".concat(ve,"-disabled"),ie),"".concat(ve,"-selected"),ce)),ge=Z(be),$e=!O||typeof O=="function"||ce,Fe=typeof ge=="number"?ge:ge||Ae,Ie=vD(Fe)?Fe.toString():void 0;return V!==void 0&&(Ie=V),b.createElement("div",Ot({},Bc(we),L?{}:ue(be,le),{"aria-selected":ce,className:pe,title:Ie,onMouseMove:function(){te===le||ie||E(le)},onClick:function(){ie||$(Ae)},style:q}),b.createElement("div",{className:"".concat(ve,"-content")},typeof Y=="function"?Y(be,{index:le}):Fe),b.isValidElement(O)||ce,$e&&b.createElement(h0,{className:"".concat(K,"-option-state"),customizeIcon:O,customizeIconProps:{value:Ae,disabled:ie,isSelected:ce}},ce?"✓":null))}))},K8=b.forwardRef(G8);const q8=function(t,e){var n=b.useRef({values:new Map,options:new Map}),r=b.useMemo(function(){var o=n.current,s=o.values,a=o.options,u=t.map(function(g){if(g.label===void 0){var p;return Xe(Xe({},g),{},{label:(p=s.get(g.value))===null||p===void 0?void 0:p.label})}return g}),c=new Map,h=new Map;return u.forEach(function(g){c.set(g.value,g),h.set(g.value,e.get(g.value)||a.get(g.value))}),n.current.values=c,n.current.options=h,u},[t,e]),i=b.useCallback(function(o){return e.get(o)||n.current.options.get(o)},[e]);return[r,i]};function T_(t,e){return GF(t).join("").toUpperCase().includes(e)}const X8=function(t,e,n,r,i){return b.useMemo(function(){if(!n||r===!1)return t;var o=e.options,s=e.label,a=e.value,u=[],c=typeof r=="function",h=n.toUpperCase(),g=c?r:function(v,y){return i?T_(y[i],h):y[o]?T_(y[s!=="children"?s:"label"],h):T_(y[a],h)},p=c?function(v){return bT(v)}:function(v){return v};return t.forEach(function(v){if(v[o]){var y=g(n,p(v));if(y)u.push(v);else{var R=v[o].filter(function(S){return g(n,p(S))});R.length&&u.push(Xe(Xe({},v),{},tt({},o,R)))}return}g(n,p(v))&&u.push(v)}),u},[t,r,i,n,e])};var wD=0,Z8=b5();function Q8(){var t;return Z8?(t=wD,wD+=1):t="TEST_OR_SSR",t}function J8(t){var e=b.useState(),n=ke(e,2),r=n[0],i=n[1];return b.useEffect(function(){i("rc_select_".concat(Q8()))},[]),t||r}var e7=["children","value"],t7=["children"];function n7(t){var e=t,n=e.key,r=e.props,i=r.children,o=r.value,s=Ri(r,e7);return Xe({key:n,value:o!==void 0?o:n,children:i},s)}function JF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return S5(t).map(function(n,r){if(!b.isValidElement(n)||!n.type)return null;var i=n,o=i.type.isSelectOptGroup,s=i.key,a=i.props,u=a.children,c=Ri(a,t7);return e||!o?n7(n):Xe(Xe({key:"__RC_SELECT_GRP__".concat(s===null?r:s,"__"),label:s},c),{},{options:JF(u)})}).filter(function(n){return n})}var r7=function(e,n,r,i,o){return b.useMemo(function(){var s=e,a=!e;a&&(s=JF(n));var u=new Map,c=new Map,h=function(v,y,R){R&&typeof R=="string"&&v.set(y[R],y)},g=function p(v){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=0;R<v.length;R+=1){var S=v[R];!S[r.options]||y?(u.set(S[r.value],S),h(c,S,r.label),h(c,S,i),h(c,S,o)):p(S[r.options],!0)}};return g(s),{options:s,valueOptions:u,labelOptions:c}},[e,n,r,i,o])};function CD(t){var e=b.useRef();e.current=t;var n=b.useCallback(function(){return e.current.apply(e,arguments)},[]);return n}var i7=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],o7=["inputValue"];function s7(t){return!t||Wi(t)!=="object"}var a7=b.forwardRef(function(t,e){var n=t.id,r=t.mode,i=t.prefixCls,o=i===void 0?"rc-select":i,s=t.backfill,a=t.fieldNames,u=t.inputValue,c=t.searchValue,h=t.onSearch,g=t.autoClearSearchValue,p=g===void 0?!0:g,v=t.onSelect,y=t.onDeselect,R=t.dropdownMatchSelectWidth,S=R===void 0?!0:R,T=t.filterOption,x=t.filterSort,O=t.optionFilterProp,A=t.optionLabelProp,H=t.options,L=t.optionRender,F=t.children,j=t.defaultActiveFirstOption,z=t.menuItemSelectedIcon,Y=t.virtual,K=t.direction,X=t.listHeight,se=X===void 0?200:X,ne=t.listItemHeight,J=ne===void 0?20:ne,re=t.labelRender,ae=t.value,G=t.defaultValue,oe=t.labelInValue,te=t.onChange,C=t.maxCount,E=Ri(t,i7),I=J8(n),$=ST(r),N=!!(!H&&F),Z=b.useMemo(function(){return T===void 0&&r==="combobox"?!1:T},[T,r]),ue=b.useMemo(function(){return qF(a,N)},[JSON.stringify(a),N]),me=ro("",{value:c!==void 0?c:u,postState:function(ft){return ft||""}}),Me=ke(me,2),be=Me[0],le=Me[1],Ee=r7(H,F,ue,O,A),_e=Ee.valueOptions,ee=Ee.labelOptions,De=Ee.options,Ae=b.useCallback(function(it){var ft=GF(it);return ft.map(function(Rt){var ht,Tt,Xt,Ln,tn;if(s7(Rt))ht=Rt;else{var kn;Xt=Rt.key,Tt=Rt.label,ht=(kn=Rt.value)!==null&&kn!==void 0?kn:Xt}var Gt=_e.get(ht);if(Gt){var Mn;Tt===void 0&&(Tt=Gt==null?void 0:Gt[A||ue.label]),Xt===void 0&&(Xt=(Mn=Gt==null?void 0:Gt.key)!==null&&Mn!==void 0?Mn:ht),Ln=Gt==null?void 0:Gt.disabled,tn=Gt==null?void 0:Gt.title}return{label:Tt,value:ht,key:Xt,disabled:Ln,title:tn}})},[ue,A,_e]),Pe=ro(G,{value:ae}),Be=ke(Pe,2),je=Be[0],k=Be[1],V=b.useMemo(function(){var it,ft=$&&je===null?[]:je,Rt=Ae(ft);return r==="combobox"&&h8((it=Rt[0])===null||it===void 0?void 0:it.value)?[]:Rt},[je,Ae,r,$]),q=q8(V,_e),fe=ke(q,2),Q=fe[0],we=fe[1],ce=b.useMemo(function(){if(!r&&Q.length===1){var it=Q[0];if(it.value===null&&(it.label===null||it.label===void 0))return[]}return Q.map(function(ft){var Rt;return Xe(Xe({},ft),{},{label:(Rt=typeof re=="function"?re(ft):ft.label)!==null&&Rt!==void 0?Rt:ft.value})})},[r,Q,re]),ie=b.useMemo(function(){return new Set(Q.map(function(it){return it.value}))},[Q]);b.useEffect(function(){if(r==="combobox"){var it,ft=(it=Q[0])===null||it===void 0?void 0:it.value;le(d8(ft)?String(ft):"")}},[Q]);var ve=CD(function(it,ft){var Rt=ft??it;return tt(tt({},ue.value,it),ue.label,Rt)}),pe=b.useMemo(function(){if(r!=="tags")return De;var it=ar(De),ft=function(ht){return _e.has(ht)};return ar(Q).sort(function(Rt,ht){return Rt.value<ht.value?-1:1}).forEach(function(Rt){var ht=Rt.value;ft(ht)||it.push(ve(ht,Rt.label))}),it},[ve,De,_e,Q,r]),ge=X8(pe,ue,be,Z,O),$e=b.useMemo(function(){return r!=="tags"||!be||ge.some(function(it){return it[O||"value"]===be})||ge.some(function(it){return it[ue.value]===be})?ge:[ve(be)].concat(ar(ge))},[ve,O,r,ge,be,ue]),Fe=function it(ft){var Rt=ar(ft).sort(function(ht,Tt){return x(ht,Tt,{searchValue:be})});return Rt.map(function(ht){return Array.isArray(ht.options)?Xe(Xe({},ht),{},{options:ht.options.length>0?it(ht.options):ht.options}):ht})},Ie=b.useMemo(function(){return x?Fe($e):$e},[$e,x,be]),xe=b.useMemo(function(){return R8(Ie,{fieldNames:ue,childrenAsData:N})},[Ie,ue,N]),ze=function(ft){var Rt=Ae(ft);if(k(Rt),te&&(Rt.length!==Q.length||Rt.some(function(Xt,Ln){var tn;return((tn=Q[Ln])===null||tn===void 0?void 0:tn.value)!==(Xt==null?void 0:Xt.value)}))){var ht=oe?Rt:Rt.map(function(Xt){return Xt.value}),Tt=Rt.map(function(Xt){return bT(we(Xt.value))});te($?ht:ht[0],$?Tt:Tt[0])}},Ge=b.useState(null),Oe=ke(Ge,2),Ye=Oe[0],wt=Oe[1],sn=b.useState(0),Nt=ke(sn,2),In=Nt[0],wn=Nt[1],At=j!==void 0?j:r!=="combobox",qe=b.useCallback(function(it,ft){var Rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ht=Rt.source,Tt=ht===void 0?"keyboard":ht;wn(ft),s&&r==="combobox"&&it!==null&&Tt==="keyboard"&&wt(String(it))},[s,r]),Ut=function(ft,Rt,ht){var Tt=function(){var bt,Ve=we(ft);return[oe?{label:Ve==null?void 0:Ve[ue.label],value:ft,key:(bt=Ve==null?void 0:Ve.key)!==null&&bt!==void 0?bt:ft}:ft,bT(Ve)]};if(Rt&&v){var Xt=Tt(),Ln=ke(Xt,2),tn=Ln[0],kn=Ln[1];v(tn,kn)}else if(!Rt&&y&&ht!=="clear"){var Gt=Tt(),Mn=ke(Gt,2),Dr=Mn[0],ci=Mn[1];y(Dr,ci)}},Yt=CD(function(it,ft){var Rt,ht=$?ft.selected:!0;ht?Rt=$?[].concat(ar(Q),[it]):[it]:Rt=Q.filter(function(Tt){return Tt.value!==it}),ze(Rt),Ut(it,ht),r==="combobox"?wt(""):(!ST||p)&&(le(""),wt(""))}),qt=function(ft,Rt){ze(ft);var ht=Rt.type,Tt=Rt.values;(ht==="remove"||ht==="clear")&&Tt.forEach(function(Xt){Ut(Xt.value,!1,ht)})},$n=function(ft,Rt){if(le(ft),wt(null),Rt.source==="submit"){var ht=(ft||"").trim();if(ht){var Tt=Array.from(new Set([].concat(ar(ie),[ht])));ze(Tt),Ut(ht,!0),le("")}return}Rt.source!=="blur"&&(r==="combobox"&&ze(ft),h==null||h(ft))},_t=function(ft){var Rt=ft;r!=="tags"&&(Rt=ft.map(function(Tt){var Xt=ee.get(Tt);return Xt==null?void 0:Xt.value}).filter(function(Tt){return Tt!==void 0}));var ht=Array.from(new Set([].concat(ar(ie),ar(Rt))));ze(ht),ht.forEach(function(Tt){Ut(Tt,!0)})},zn=b.useMemo(function(){var it=Y!==!1&&S!==!1;return Xe(Xe({},Ee),{},{flattenOptions:xe,onActiveValue:qe,defaultActiveFirstOption:At,onSelect:Yt,menuItemSelectedIcon:z,rawValues:ie,fieldNames:ue,virtual:it,direction:K,listHeight:se,listItemHeight:J,childrenAsData:N,maxCount:C,optionRender:L})},[C,Ee,xe,qe,At,Yt,z,ie,ue,Y,S,K,se,J,N,L]);return b.createElement(Kx.Provider,{value:zn},b.createElement(x8,Ot({},E,{id:I,prefixCls:o,ref:e,omitDomProps:o7,mode:r,displayValues:ce,onDisplayValuesChange:qt,direction:K,searchValue:be,onSearch:$n,autoClearSearchValue:p,onSearchSplit:_t,dropdownMatchSelectWidth:S,OptionList:K8,emptyOptions:!xe.length,activeValue:Ye,activeDescendantId:"".concat(I,"_list_").concat(In)})))}),Zx=a7;Zx.Option=Xx;Zx.OptGroup=qx;function xg(t,e,n){return lt({[`${t}-status-success`]:e==="success",[`${t}-status-warning`]:e==="warning",[`${t}-status-error`]:e==="error",[`${t}-status-validating`]:e==="validating",[`${t}-has-feedback`]:n})}const Wg=(t,e)=>e||t,l7=()=>{const[,t]=Bv(),n=new Nc(t.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return b.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},b.createElement("title",null,"empty image"),b.createElement("g",{fill:"none",fillRule:"evenodd"},b.createElement("g",{transform:"translate(24 31.67)"},b.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),b.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),b.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),b.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),b.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),b.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),b.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},b.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),b.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},u7=()=>{const[,t]=Bv(),{colorFill:e,colorFillTertiary:n,colorFillQuaternary:r,colorBgContainer:i}=t,{borderColor:o,shadowColor:s,contentColor:a}=b.useMemo(()=>({borderColor:new Nc(e).onBackground(i).toHexShortString(),shadowColor:new Nc(n).onBackground(i).toHexShortString(),contentColor:new Nc(r).onBackground(i).toHexShortString()}),[e,n,r,i]);return b.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},b.createElement("title",null,"Simple Empty"),b.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},b.createElement("ellipse",{fill:s,cx:"32",cy:"33",rx:"32",ry:"7"}),b.createElement("g",{fillRule:"nonzero",stroke:o},b.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),b.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:a}))))},c7=t=>{const{componentCls:e,margin:n,marginXS:r,marginXL:i,fontSize:o,lineHeight:s}=t;return{[e]:{marginInline:r,fontSize:o,lineHeight:s,textAlign:"center",[`${e}-image`]:{height:t.emptyImgHeight,marginBottom:r,opacity:t.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:t.colorTextDescription},[`${e}-footer`]:{marginTop:n},"&-normal":{marginBlock:i,color:t.colorTextDescription,[`${e}-description`]:{color:t.colorTextDescription},[`${e}-image`]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:r,color:t.colorTextDescription,[`${e}-image`]:{height:t.emptyImgHeightSM}}}}},d7=kg("Empty",t=>{const{componentCls:e,controlHeightLG:n,calc:r}=t,i=Vi(t,{emptyImgCls:`${e}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return[c7(i)]});var h7=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const eV=b.createElement(l7,null),tV=b.createElement(u7,null),lh=t=>{var{className:e,rootClassName:n,prefixCls:r,image:i=eV,description:o,children:s,imageStyle:a,style:u}=t,c=h7(t,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:h,direction:g,empty:p}=b.useContext(Bi),v=h("empty",r),[y,R,S]=d7(v),[T]=Vx("Empty"),x=typeof o<"u"?o:T==null?void 0:T.description,O=typeof x=="string"?x:"empty";let A=null;return typeof i=="string"?A=b.createElement("img",{alt:O,src:i}):A=i,y(b.createElement("div",Object.assign({className:lt(R,S,v,p==null?void 0:p.className,{[`${v}-normal`]:i===tV,[`${v}-rtl`]:g==="rtl"},e,n),style:Object.assign(Object.assign({},p==null?void 0:p.style),u)},c),b.createElement("div",{className:`${v}-image`,style:a},A),x&&b.createElement("div",{className:`${v}-description`},x),s&&b.createElement("div",{className:`${v}-footer`},s)))};lh.PRESENTED_IMAGE_DEFAULT=eV;lh.PRESENTED_IMAGE_SIMPLE=tV;const f7=t=>{const{componentName:e}=t,{getPrefixCls:n}=b.useContext(Bi),r=n("empty");switch(e){case"Table":case"List":return ot.createElement(lh,{image:lh.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return ot.createElement(lh,{image:lh.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});case"Table.filter":return null;default:return ot.createElement(lh,null)}},Yv=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var r,i;const{variant:o,[t]:s}=b.useContext(Bi),a=b.useContext(R5),u=s==null?void 0:s.variant;let c;typeof e<"u"?c=e:n===!1?c="borderless":c=(i=(r=a??u)!==null&&r!==void 0?r:o)!==null&&i!==void 0?i:"outlined";const h=E5.includes(c);return[c,h]},g7=t=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:t==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function m7(t,e){return t||g7(e)}const yD=t=>{const{optionHeight:e,optionFontSize:n,optionLineHeight:r,optionPadding:i}=t;return{position:"relative",display:"block",minHeight:e,padding:i,color:t.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},p7=t=>{const{antCls:e,componentCls:n}=t,r=`${n}-item`,i=`&${e}-slide-up-enter${e}-slide-up-enter-active`,o=`&${e}-slide-up-appear${e}-slide-up-appear-active`,s=`&${e}-slide-up-leave${e}-slide-up-leave-active`,a=`${n}-dropdown-placement-`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},yh(t)),{position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,[`
          ${i}${a}bottomLeft,
          ${o}${a}bottomLeft
        `]:{animationName:xF},[`
          ${i}${a}topLeft,
          ${o}${a}topLeft,
          ${i}${a}topRight,
          ${o}${a}topRight
        `]:{animationName:IF},[`${s}${a}bottomLeft`]:{animationName:OF},[`
          ${s}${a}topLeft,
          ${s}${a}topRight
        `]:{animationName:PF},"&-hidden":{display:"none"},[r]:Object.assign(Object.assign({},yD(t)),{cursor:"pointer",transition:`background ${t.motionDurationSlow} ease`,borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Xb),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:t.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:t.optionSelectedColor,fontWeight:t.optionSelectedFontWeight,backgroundColor:t.optionSelectedBg,[`${r}-option-state`]:{color:t.colorPrimary},[`&:has(+ ${r}-option-selected:not(${r}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${r}-option-selected:not(${r}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:t.colorBgContainerDisabled},color:t.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:t.calc(t.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},yD(t)),{color:t.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},Zb(t,"slide-up"),Zb(t,"slide-down"),eS(t,"move-up"),eS(t,"move-down")]},nV=t=>{const{multipleSelectItemHeight:e,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:i}=t,o=t.max(t.calc(n).sub(r).equal(),0),s=t.max(t.calc(o).sub(i).equal(),0);return{basePadding:o,containerPadding:s,itemHeight:at(e),itemLineHeight:at(t.calc(e).sub(t.calc(t.lineWidth).mul(2)).equal())}},v7=t=>{const{multipleSelectItemHeight:e,selectHeight:n,lineWidth:r}=t;return t.calc(n).sub(e).div(2).sub(r).equal()},rV=t=>{const{componentCls:e,iconCls:n,borderRadiusSM:r,motionDurationSlow:i,paddingXS:o,multipleItemColorDisabled:s,multipleItemBorderColorDisabled:a,colorIcon:u,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:h}=t;return{[`${e}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${e}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:h,borderRadius:r,cursor:"default",transition:`font-size ${i}, line-height ${i}, height ${i}`,marginInlineEnd:t.calc(h).mul(2).equal(),paddingInlineStart:o,paddingInlineEnd:t.calc(o).div(2).equal(),[`${e}-disabled&`]:{color:s,borderColor:a,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:t.calc(o).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},AF()),{display:"inline-flex",alignItems:"center",color:u,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},w7=(t,e)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=t,i=`${n}-selection-overflow`,o=t.multipleSelectItemHeight,s=v7(t),a=e?`${n}-${e}`:"",u=nV(t);return{[`${n}-multiple${a}`]:Object.assign(Object.assign({},rV(t)),{[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:u.basePadding,paddingBlock:u.containerPadding,borderRadius:t.borderRadius,[`${n}-disabled&`]:{background:t.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${at(r)} 0`,lineHeight:at(o),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:u.itemHeight,lineHeight:at(u.itemLineHeight)},[`${i}-item + ${i}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${i}-item-suffix`]:{height:"100%"},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(s).equal(),"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:t.fontFamily,lineHeight:at(o),transition:`all ${t.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:t.inputPaddingHorizontalBase,insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`}})}};function x_(t,e){const{componentCls:n}=t,r=e?`${n}-${e}`:"",i={[`${n}-multiple${r}`]:{fontSize:t.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:t.calc(t.fontSizeIcon).add(t.controlPaddingHorizontal).equal()}}};return[w7(t,e),i]}const C7=t=>{const{componentCls:e}=t,n=Vi(t,{selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.multipleItemHeightSM,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),r=Vi(t,{fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius});return[x_(t),x_(n,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal()},[`${e}-selection-search`]:{marginInlineStart:2}}},x_(r,"lg")]};function I_(t,e){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:i,fontSizeIcon:o}=t,s=t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),a=t.calc(r).add(o).equal(),u=e?`${n}-${e}`:"";return{[`${n}-single${u}`]:{fontSize:t.fontSize,height:t.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},yh(t,!0)),{display:"flex",borderRadius:i,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:at(a),bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{padding:0,lineHeight:at(s),transition:`all ${t.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:t.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:t.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",padding:`0 ${at(r)}`,[`${n}-selection-search-input`]:{height:s},"&:after":{lineHeight:at(s)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${at(r)}`,"&:after":{display:"none"}}}}}}}function y7(t){const{componentCls:e}=t,n=t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal();return[I_(t),I_(Vi(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${e}-selector`]:{padding:`0 ${at(n)}`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:t.calc(n).add(t.calc(t.fontSize).mul(1.5)).equal()},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:t.calc(t.fontSize).mul(1.5).equal()}}}},I_(Vi(t,{controlHeight:t.singleItemHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}const b7=t=>{const{fontSize:e,lineHeight:n,lineWidth:r,controlHeight:i,controlHeightSM:o,controlHeightLG:s,paddingXXS:a,controlPaddingHorizontal:u,zIndexPopupBase:c,colorText:h,fontWeightStrong:g,controlItemBgActive:p,controlItemBgHover:v,colorBgContainer:y,colorFillSecondary:R,colorBgContainerDisabled:S,colorTextDisabled:T,colorPrimaryHover:x,colorPrimary:O,controlOutline:A}=t,H=a*2,L=r*2,F=Math.min(i-H,i-L),j=Math.min(o-H,o-L),z=Math.min(s-H,s-L);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(a/2),zIndexPopup:c+50,optionSelectedColor:h,optionSelectedFontWeight:g,optionSelectedBg:p,optionActiveBg:v,optionPadding:`${(i-e*n)/2}px ${u}px`,optionFontSize:e,optionLineHeight:n,optionHeight:i,selectorBg:y,clearBg:y,singleItemHeightLG:s,multipleItemBg:R,multipleItemBorderColor:"transparent",multipleItemHeight:F,multipleItemHeightSM:j,multipleItemHeightLG:z,multipleSelectorBgDisabled:S,multipleItemColorDisabled:T,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(t.fontSize*1.25),hoverBorderColor:x,activeBorderColor:O,activeOutlineColor:A}},iV=(t,e)=>{const{componentCls:n,antCls:r,controlOutlineWidth:i}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${at(t.lineWidth)} ${t.lineType} ${e.borderColor}`,background:t.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:e.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:e.activeBorderColor,boxShadow:`0 0 0 ${at(i)} ${e.activeOutlineColor}`,outline:0}}}},bD=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},iV(t,e))}),S7=t=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},iV(t,{borderColor:t.colorBorder,hoverBorderHover:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeOutlineColor:t.activeOutlineColor})),bD(t,{status:"error",borderColor:t.colorError,hoverBorderHover:t.colorErrorHover,activeBorderColor:t.colorError,activeOutlineColor:t.colorErrorOutline})),bD(t,{status:"warning",borderColor:t.colorWarning,hoverBorderHover:t.colorWarningHover,activeBorderColor:t.colorWarning,activeOutlineColor:t.colorWarningOutline})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${at(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}})}),oV=(t,e)=>{const{componentCls:n,antCls:r}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:e.bg,border:`${at(t.lineWidth)} ${t.lineType} transparent`,color:e.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:e.hoverBg},[`${n}-focused& ${n}-selector`]:{background:t.selectorBg,borderColor:e.activeBorderColor,outline:0}}}},SD=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},oV(t,e))}),R7=t=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},oV(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor,color:t.colorText})),SD(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,color:t.colorError})),SD(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{borderColor:t.colorBorder,background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.colorBgContainer,border:`${at(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}})}),E7=t=>({"&-borderless":{[`${t.componentCls}-selector`]:{background:"transparent",borderColor:"transparent"},[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${at(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`},[`&${t.componentCls}-status-error`]:{[`${t.componentCls}-selection-item`]:{color:t.colorError}},[`&${t.componentCls}-status-warning`]:{[`${t.componentCls}-selection-item`]:{color:t.colorWarning}}}}),_7=t=>({[t.componentCls]:Object.assign(Object.assign(Object.assign({},S7(t)),R7(t)),E7(t))}),M7=t=>{const{componentCls:e}=t;return{position:"relative",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},T7=t=>{const{componentCls:e}=t;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},x7=t=>{const{antCls:e,componentCls:n,inputPaddingHorizontalBase:r,iconCls:i}=t;return{[n]:Object.assign(Object.assign({},yh(t)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},M7(t)),T7(t)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Xb),{[`> ${e}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},Xb),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},AF()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${t.motionDurationSlow} ease`,[i]:{verticalAlign:"top",transition:`transform ${t.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${t.motionDurationMid} ease, opacity ${t.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:t.colorTextTertiary}},[`&:hover ${n}-clear`]:{opacity:1,background:t.colorBgBase,borderRadius:"50%"}}),[`${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:t.calc(r).add(t.fontSize).add(t.paddingXS).equal()}}}},I7=t=>{const{componentCls:e}=t;return[{[e]:{[`&${e}-in-form-item`]:{width:"100%"}}},x7(t),y7(t),C7(t),p7(t),{[`${e}-rtl`]:{direction:"rtl"}},d0(t,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},O7=kg("Select",(t,e)=>{let{rootPrefixCls:n}=e;const r=Vi(t,{rootPrefixCls:n,inputPaddingHorizontalBase:t.calc(t.paddingSM).sub(1).equal(),multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[I7(r),_7(r)]},b7,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var P7={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},A7=function(e,n){return b.createElement(ms,Ot({},e,{ref:n,icon:P7}))},H7=b.forwardRef(A7),D7={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},N7=function(e,n){return b.createElement(ms,Ot({},e,{ref:n,icon:D7}))},$7=b.forwardRef(N7),L7={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},k7=function(e,n){return b.createElement(ms,Ot({},e,{ref:n,icon:L7}))},Qx=b.forwardRef(k7);function sV(t){let{suffixIcon:e,clearIcon:n,menuItemSelectedIcon:r,removeIcon:i,loading:o,multiple:s,hasFeedback:a,prefixCls:u,showSuffixIcon:c,feedbackIcon:h,showArrow:g,componentName:p}=t;const v=n??b.createElement(LF,null),y=x=>e===null&&!a&&!g?null:b.createElement(b.Fragment,null,c!==!1&&x,a&&h);let R=null;if(e!==void 0)R=y(e);else if(o)R=y(b.createElement(EF,{spin:!0}));else{const x=`${u}-suffix`;R=O=>{let{open:A,showSearch:H}=O;return y(A&&H?b.createElement(Qx,{className:x}):b.createElement($7,{className:x}))}}let S=null;r!==void 0?S=r:s?S=b.createElement(H7,null):S=null;let T=null;return i!==void 0?T=i:T=b.createElement(L5,null),{clearIcon:v,suffixIcon:R,itemIcon:S,removeIcon:T}}function F7(t,e){return e!==void 0?e:t!==null}var V7=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const aV="SECRET_COMBOBOX_MODE_DO_NOT_USE",W7=(t,e)=>{var n;const{prefixCls:r,bordered:i,className:o,rootClassName:s,getPopupContainer:a,popupClassName:u,dropdownClassName:c,listHeight:h=256,placement:g,listItemHeight:p,size:v,disabled:y,notFoundContent:R,status:S,builtinPlacements:T,dropdownMatchSelectWidth:x,popupMatchSelectWidth:O,direction:A,style:H,allowClear:L,variant:F,dropdownStyle:j,transitionName:z,tagRender:Y,maxCount:K}=t,X=V7(t,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:se,getPrefixCls:ne,renderEmpty:J,direction:re,virtual:ae,popupMatchSelectWidth:G,popupOverflow:oe,select:te}=b.useContext(Bi),[,C]=Bv(),E=p??(C==null?void 0:C.controlHeight),I=ne("select",r),$=ne(),N=A??re,{compactSize:Z,compactItemClassnames:ue}=Fg(I,N),[me,Me]=Yv("select",F,i),be=Vg(I),[le,Ee,_e]=O7(I,be),ee=b.useMemo(()=>{const{mode:Oe}=t;if(Oe!=="combobox")return Oe===aV?"combobox":Oe},[t.mode]),De=ee==="multiple"||ee==="tags",Ae=F7(t.suffixIcon,t.showArrow),Pe=(n=O??x)!==null&&n!==void 0?n:G,{status:Be,hasFeedback:je,isFormItemInput:k,feedbackIcon:V}=b.useContext(Pu),q=Wg(Be,S);let fe;R!==void 0?fe=R:ee==="combobox"?fe=null:fe=(J==null?void 0:J("Select"))||b.createElement(f7,{componentName:"Select"});const{suffixIcon:Q,itemIcon:we,removeIcon:ce,clearIcon:ie}=sV(Object.assign(Object.assign({},X),{multiple:De,hasFeedback:je,feedbackIcon:V,showSuffixIcon:Ae,prefixCls:I,componentName:"Select"})),ve=L===!0?{clearIcon:ie}:L,pe=Hh(X,["suffixIcon","itemIcon"]),ge=lt(u||c,{[`${I}-dropdown-${N}`]:N==="rtl"},s,_e,be,Ee),$e=Kc(Oe=>{var Ye;return(Ye=v??Z)!==null&&Ye!==void 0?Ye:Oe}),Fe=b.useContext(Ah),Ie=y??Fe,xe=lt({[`${I}-lg`]:$e==="large",[`${I}-sm`]:$e==="small",[`${I}-rtl`]:N==="rtl",[`${I}-${me}`]:Me,[`${I}-in-form-item`]:k},xg(I,q,je),ue,te==null?void 0:te.className,o,s,_e,be,Ee),ze=b.useMemo(()=>g!==void 0?g:N==="rtl"?"bottomRight":"bottomLeft",[g,N]),[Ge]=Fx("SelectLike",j==null?void 0:j.zIndex);return le(b.createElement(Zx,Object.assign({ref:e,virtual:ae,showSearch:te==null?void 0:te.showSearch},pe,{style:Object.assign(Object.assign({},te==null?void 0:te.style),H),dropdownMatchSelectWidth:Pe,transitionName:_5($,"slide-up",z),builtinPlacements:m7(T,oe),listHeight:h,listItemHeight:E,mode:ee,prefixCls:I,placement:ze,direction:N,suffixIcon:Q,menuItemSelectedIcon:we,removeIcon:ce,allowClear:ve,notFoundContent:fe,className:xe,getPopupContainer:a||se,dropdownClassName:ge,disabled:Ie,dropdownStyle:Object.assign(Object.assign({},j),{zIndex:Ge}),maxCount:De?K:void 0,tagRender:De?Y:void 0})))},Bg=b.forwardRef(W7),B7=Gx(Bg);Bg.SECRET_COMBOBOX_MODE_DO_NOT_USE=aV;Bg.Option=Xx;Bg.OptGroup=qx;Bg._InternalPanelDoNotUseOrYouWillBeFired=B7;var lV={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ai,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",u="hour",c="day",h="week",g="month",p="quarter",v="year",y="date",R="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ne){var J=["th","st","nd","rd"],re=ne%100;return"["+ne+(J[(re-20)%10]||J[re]||J[0])+"]"}},O=function(ne,J,re){var ae=String(ne);return!ae||ae.length>=J?ne:""+Array(J+1-ae.length).join(re)+ne},A={s:O,z:function(ne){var J=-ne.utcOffset(),re=Math.abs(J),ae=Math.floor(re/60),G=re%60;return(J<=0?"+":"-")+O(ae,2,"0")+":"+O(G,2,"0")},m:function ne(J,re){if(J.date()<re.date())return-ne(re,J);var ae=12*(re.year()-J.year())+(re.month()-J.month()),G=J.clone().add(ae,g),oe=re-G<0,te=J.clone().add(ae+(oe?-1:1),g);return+(-(ae+(re-G)/(oe?G-te:te-G))||0)},a:function(ne){return ne<0?Math.ceil(ne)||0:Math.floor(ne)},p:function(ne){return{M:g,y:v,w:h,d:c,D:y,h:u,m:a,s,ms:o,Q:p}[ne]||String(ne||"").toLowerCase().replace(/s$/,"")},u:function(ne){return ne===void 0}},H="en",L={};L[H]=x;var F="$isDayjsObject",j=function(ne){return ne instanceof X||!(!ne||!ne[F])},z=function ne(J,re,ae){var G;if(!J)return H;if(typeof J=="string"){var oe=J.toLowerCase();L[oe]&&(G=oe),re&&(L[oe]=re,G=oe);var te=J.split("-");if(!G&&te.length>1)return ne(te[0])}else{var C=J.name;L[C]=J,G=C}return!ae&&G&&(H=G),G||!ae&&H},Y=function(ne,J){if(j(ne))return ne.clone();var re=typeof J=="object"?J:{};return re.date=ne,re.args=arguments,new X(re)},K=A;K.l=z,K.i=j,K.w=function(ne,J){return Y(ne,{locale:J.$L,utc:J.$u,x:J.$x,$offset:J.$offset})};var X=function(){function ne(re){this.$L=z(re.locale,null,!0),this.parse(re),this.$x=this.$x||re.x||{},this[F]=!0}var J=ne.prototype;return J.parse=function(re){this.$d=function(ae){var G=ae.date,oe=ae.utc;if(G===null)return new Date(NaN);if(K.u(G))return new Date;if(G instanceof Date)return new Date(G);if(typeof G=="string"&&!/Z$/i.test(G)){var te=G.match(S);if(te){var C=te[2]-1||0,E=(te[7]||"0").substring(0,3);return oe?new Date(Date.UTC(te[1],C,te[3]||1,te[4]||0,te[5]||0,te[6]||0,E)):new Date(te[1],C,te[3]||1,te[4]||0,te[5]||0,te[6]||0,E)}}return new Date(G)}(re),this.init()},J.init=function(){var re=this.$d;this.$y=re.getFullYear(),this.$M=re.getMonth(),this.$D=re.getDate(),this.$W=re.getDay(),this.$H=re.getHours(),this.$m=re.getMinutes(),this.$s=re.getSeconds(),this.$ms=re.getMilliseconds()},J.$utils=function(){return K},J.isValid=function(){return this.$d.toString()!==R},J.isSame=function(re,ae){var G=Y(re);return this.startOf(ae)<=G&&G<=this.endOf(ae)},J.isAfter=function(re,ae){return Y(re)<this.startOf(ae)},J.isBefore=function(re,ae){return this.endOf(ae)<Y(re)},J.$g=function(re,ae,G){return K.u(re)?this[ae]:this.set(G,re)},J.unix=function(){return Math.floor(this.valueOf()/1e3)},J.valueOf=function(){return this.$d.getTime()},J.startOf=function(re,ae){var G=this,oe=!!K.u(ae)||ae,te=K.p(re),C=function(Me,be){var le=K.w(G.$u?Date.UTC(G.$y,be,Me):new Date(G.$y,be,Me),G);return oe?le:le.endOf(c)},E=function(Me,be){return K.w(G.toDate()[Me].apply(G.toDate("s"),(oe?[0,0,0,0]:[23,59,59,999]).slice(be)),G)},I=this.$W,$=this.$M,N=this.$D,Z="set"+(this.$u?"UTC":"");switch(te){case v:return oe?C(1,0):C(31,11);case g:return oe?C(1,$):C(0,$+1);case h:var ue=this.$locale().weekStart||0,me=(I<ue?I+7:I)-ue;return C(oe?N-me:N+(6-me),$);case c:case y:return E(Z+"Hours",0);case u:return E(Z+"Minutes",1);case a:return E(Z+"Seconds",2);case s:return E(Z+"Milliseconds",3);default:return this.clone()}},J.endOf=function(re){return this.startOf(re,!1)},J.$set=function(re,ae){var G,oe=K.p(re),te="set"+(this.$u?"UTC":""),C=(G={},G[c]=te+"Date",G[y]=te+"Date",G[g]=te+"Month",G[v]=te+"FullYear",G[u]=te+"Hours",G[a]=te+"Minutes",G[s]=te+"Seconds",G[o]=te+"Milliseconds",G)[oe],E=oe===c?this.$D+(ae-this.$W):ae;if(oe===g||oe===v){var I=this.clone().set(y,1);I.$d[C](E),I.init(),this.$d=I.set(y,Math.min(this.$D,I.daysInMonth())).$d}else C&&this.$d[C](E);return this.init(),this},J.set=function(re,ae){return this.clone().$set(re,ae)},J.get=function(re){return this[K.p(re)]()},J.add=function(re,ae){var G,oe=this;re=Number(re);var te=K.p(ae),C=function($){var N=Y(oe);return K.w(N.date(N.date()+Math.round($*re)),oe)};if(te===g)return this.set(g,this.$M+re);if(te===v)return this.set(v,this.$y+re);if(te===c)return C(1);if(te===h)return C(7);var E=(G={},G[a]=r,G[u]=i,G[s]=n,G)[te]||1,I=this.$d.getTime()+re*E;return K.w(I,this)},J.subtract=function(re,ae){return this.add(-1*re,ae)},J.format=function(re){var ae=this,G=this.$locale();if(!this.isValid())return G.invalidDate||R;var oe=re||"YYYY-MM-DDTHH:mm:ssZ",te=K.z(this),C=this.$H,E=this.$m,I=this.$M,$=G.weekdays,N=G.months,Z=G.meridiem,ue=function(be,le,Ee,_e){return be&&(be[le]||be(ae,oe))||Ee[le].slice(0,_e)},me=function(be){return K.s(C%12||12,be,"0")},Me=Z||function(be,le,Ee){var _e=be<12?"AM":"PM";return Ee?_e.toLowerCase():_e};return oe.replace(T,function(be,le){return le||function(Ee){switch(Ee){case"YY":return String(ae.$y).slice(-2);case"YYYY":return K.s(ae.$y,4,"0");case"M":return I+1;case"MM":return K.s(I+1,2,"0");case"MMM":return ue(G.monthsShort,I,N,3);case"MMMM":return ue(N,I);case"D":return ae.$D;case"DD":return K.s(ae.$D,2,"0");case"d":return String(ae.$W);case"dd":return ue(G.weekdaysMin,ae.$W,$,2);case"ddd":return ue(G.weekdaysShort,ae.$W,$,3);case"dddd":return $[ae.$W];case"H":return String(C);case"HH":return K.s(C,2,"0");case"h":return me(1);case"hh":return me(2);case"a":return Me(C,E,!0);case"A":return Me(C,E,!1);case"m":return String(E);case"mm":return K.s(E,2,"0");case"s":return String(ae.$s);case"ss":return K.s(ae.$s,2,"0");case"SSS":return K.s(ae.$ms,3,"0");case"Z":return te}return null}(be)||te.replace(":","")})},J.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},J.diff=function(re,ae,G){var oe,te=this,C=K.p(ae),E=Y(re),I=(E.utcOffset()-this.utcOffset())*r,$=this-E,N=function(){return K.m(te,E)};switch(C){case v:oe=N()/12;break;case g:oe=N();break;case p:oe=N()/3;break;case h:oe=($-I)/6048e5;break;case c:oe=($-I)/864e5;break;case u:oe=$/i;break;case a:oe=$/r;break;case s:oe=$/n;break;default:oe=$}return G?oe:K.a(oe)},J.daysInMonth=function(){return this.endOf(g).$D},J.$locale=function(){return L[this.$L]},J.locale=function(re,ae){if(!re)return this.$L;var G=this.clone(),oe=z(re,ae,!0);return oe&&(G.$L=oe),G},J.clone=function(){return K.w(this.$d,this)},J.toDate=function(){return new Date(this.valueOf())},J.toJSON=function(){return this.isValid()?this.toISOString():null},J.toISOString=function(){return this.$d.toISOString()},J.toString=function(){return this.$d.toUTCString()},ne}(),se=X.prototype;return Y.prototype=se,[["$ms",o],["$s",s],["$m",a],["$H",u],["$W",c],["$M",g],["$y",v],["$D",y]].forEach(function(ne){se[ne[1]]=function(J){return this.$g(J,ne[0],ne[1])}}),Y.extend=function(ne,J){return ne.$i||(ne(J,X,Y),ne.$i=!0),Y},Y.locale=z,Y.isDayjs=j,Y.unix=function(ne){return Y(1e3*ne)},Y.en=L[H],Y.Ls=L,Y.p={},Y})})(lV);var j7=lV.exports;const Uo=Gc(j7);var uV={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ai,function(){return function(n,r){r.prototype.weekday=function(i){var o=this.$locale().weekStart||0,s=this.$W,a=(s<o?s+7:s)-o;return this.$utils().u(i)?a:this.subtract(a,"day").add(i,"day")}}})})(uV);var z7=uV.exports;const Y7=Gc(z7);var cV={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ai,function(){return function(n,r,i){var o=r.prototype,s=function(g){return g&&(g.indexOf?g:g.s)},a=function(g,p,v,y,R){var S=g.name?g:g.$locale(),T=s(S[p]),x=s(S[v]),O=T||x.map(function(H){return H.slice(0,y)});if(!R)return O;var A=S.weekStart;return O.map(function(H,L){return O[(L+(A||0))%7]})},u=function(){return i.Ls[i.locale()]},c=function(g,p){return g.formats[p]||function(v){return v.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,R,S){return R||S.slice(1)})}(g.formats[p.toUpperCase()])},h=function(){var g=this;return{months:function(p){return p?p.format("MMMM"):a(g,"months")},monthsShort:function(p){return p?p.format("MMM"):a(g,"monthsShort","months",3)},firstDayOfWeek:function(){return g.$locale().weekStart||0},weekdays:function(p){return p?p.format("dddd"):a(g,"weekdays")},weekdaysMin:function(p){return p?p.format("dd"):a(g,"weekdaysMin","weekdays",2)},weekdaysShort:function(p){return p?p.format("ddd"):a(g,"weekdaysShort","weekdays",3)},longDateFormat:function(p){return c(g.$locale(),p)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return h.bind(this)()},i.localeData=function(){var g=u();return{firstDayOfWeek:function(){return g.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(p){return c(g,p)},meridiem:g.meridiem,ordinal:g.ordinal}},i.months=function(){return a(u(),"months")},i.monthsShort=function(){return a(u(),"monthsShort","months",3)},i.weekdays=function(g){return a(u(),"weekdays",null,null,g)},i.weekdaysShort=function(g){return a(u(),"weekdaysShort","weekdays",3,g)},i.weekdaysMin=function(g){return a(u(),"weekdaysMin","weekdays",2,g)}}})})(cV);var U7=cV.exports;const G7=Gc(U7);var dV={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ai,function(){var n="week",r="year";return function(i,o,s){var a=o.prototype;a.week=function(u){if(u===void 0&&(u=null),u!==null)return this.add(7*(u-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var h=s(this).startOf(r).add(1,r).date(c),g=s(this).endOf(n);if(h.isBefore(g))return 1}var p=s(this).startOf(r).date(c).startOf(n).subtract(1,"millisecond"),v=this.diff(p,n,!0);return v<0?s(this).startOf("week").week():Math.ceil(v)},a.weeks=function(u){return u===void 0&&(u=null),this.week(u)}}})})(dV);var K7=dV.exports;const q7=Gc(K7);var hV={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ai,function(){return function(n,r){r.prototype.weekYear=function(){var i=this.month(),o=this.week(),s=this.year();return o===1&&i===11?s+1:i===0&&o>=52?s-1:s}}})})(hV);var X7=hV.exports;const Z7=Gc(X7);var fV={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ai,function(){return function(n,r){var i=r.prototype,o=i.format;i.format=function(s){var a=this,u=this.$locale();if(!this.isValid())return o.bind(this)(s);var c=this.$utils(),h=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(g){switch(g){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return u.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return u.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),g==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),g==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),g==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return g}});return o.bind(this)(h)}}})})(fV);var Q7=fV.exports;const J7=Gc(Q7);var gV={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Ai,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,o=/\d\d/,s=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,u={},c=function(S){return(S=+S)+(S>68?1900:2e3)},h=function(S){return function(T){this[S]=+T}},g=[/[+-]\d\d:?(\d\d)?|Z/,function(S){(this.zone||(this.zone={})).offset=function(T){if(!T||T==="Z")return 0;var x=T.match(/([+-]|\d\d)/g),O=60*x[1]+(+x[2]||0);return O===0?0:x[0]==="+"?-O:O}(S)}],p=function(S){var T=u[S];return T&&(T.indexOf?T:T.s.concat(T.f))},v=function(S,T){var x,O=u.meridiem;if(O){for(var A=1;A<=24;A+=1)if(S.indexOf(O(A,0,T))>-1){x=A>12;break}}else x=S===(T?"pm":"PM");return x},y={A:[a,function(S){this.afternoon=v(S,!1)}],a:[a,function(S){this.afternoon=v(S,!0)}],Q:[i,function(S){this.month=3*(S-1)+1}],S:[i,function(S){this.milliseconds=100*+S}],SS:[o,function(S){this.milliseconds=10*+S}],SSS:[/\d{3}/,function(S){this.milliseconds=+S}],s:[s,h("seconds")],ss:[s,h("seconds")],m:[s,h("minutes")],mm:[s,h("minutes")],H:[s,h("hours")],h:[s,h("hours")],HH:[s,h("hours")],hh:[s,h("hours")],D:[s,h("day")],DD:[o,h("day")],Do:[a,function(S){var T=u.ordinal,x=S.match(/\d+/);if(this.day=x[0],T)for(var O=1;O<=31;O+=1)T(O).replace(/\[|\]/g,"")===S&&(this.day=O)}],w:[s,h("week")],ww:[o,h("week")],M:[s,h("month")],MM:[o,h("month")],MMM:[a,function(S){var T=p("months"),x=(p("monthsShort")||T.map(function(O){return O.slice(0,3)})).indexOf(S)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[a,function(S){var T=p("months").indexOf(S)+1;if(T<1)throw new Error;this.month=T%12||T}],Y:[/[+-]?\d+/,h("year")],YY:[o,function(S){this.year=c(S)}],YYYY:[/\d{4}/,h("year")],Z:g,ZZ:g};function R(S){var T,x;T=S,x=u&&u.formats;for(var O=(S=T.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Y,K,X){var se=X&&X.toUpperCase();return K||x[X]||n[X]||x[se].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ne,J,re){return J||re.slice(1)})})).match(r),A=O.length,H=0;H<A;H+=1){var L=O[H],F=y[L],j=F&&F[0],z=F&&F[1];O[H]=z?{regex:j,parser:z}:L.replace(/^\[|\]$/g,"")}return function(Y){for(var K={},X=0,se=0;X<A;X+=1){var ne=O[X];if(typeof ne=="string")se+=ne.length;else{var J=ne.regex,re=ne.parser,ae=Y.slice(se),G=J.exec(ae)[0];re.call(K,G),Y=Y.replace(G,"")}}return function(oe){var te=oe.afternoon;if(te!==void 0){var C=oe.hours;te?C<12&&(oe.hours+=12):C===12&&(oe.hours=0),delete oe.afternoon}}(K),K}}return function(S,T,x){x.p.customParseFormat=!0,S&&S.parseTwoDigitYear&&(c=S.parseTwoDigitYear);var O=T.prototype,A=O.parse;O.parse=function(H){var L=H.date,F=H.utc,j=H.args;this.$u=F;var z=j[1];if(typeof z=="string"){var Y=j[2]===!0,K=j[3]===!0,X=Y||K,se=j[2];K&&(se=j[2]),u=this.$locale(),!Y&&se&&(u=x.Ls[se]),this.$d=function(ae,G,oe,te){try{if(["x","X"].indexOf(G)>-1)return new Date((G==="X"?1e3:1)*ae);var C=R(G)(ae),E=C.year,I=C.month,$=C.day,N=C.hours,Z=C.minutes,ue=C.seconds,me=C.milliseconds,Me=C.zone,be=C.week,le=new Date,Ee=$||(E||I?1:le.getDate()),_e=E||le.getFullYear(),ee=0;E&&!I||(ee=I>0?I-1:le.getMonth());var De,Ae=N||0,Pe=Z||0,Be=ue||0,je=me||0;return Me?new Date(Date.UTC(_e,ee,Ee,Ae,Pe,Be,je+60*Me.offset*1e3)):oe?new Date(Date.UTC(_e,ee,Ee,Ae,Pe,Be,je)):(De=new Date(_e,ee,Ee,Ae,Pe,Be,je),be&&(De=te(De).week(be).toDate()),De)}catch{return new Date("")}}(L,z,F,x),this.init(),se&&se!==!0&&(this.$L=this.locale(se).$L),X&&L!=this.format(z)&&(this.$d=new Date("")),u={}}else if(z instanceof Array)for(var ne=z.length,J=1;J<=ne;J+=1){j[1]=z[J-1];var re=x.apply(this,j);if(re.isValid()){this.$d=re.$d,this.$L=re.$L,this.init();break}J===ne&&(this.$d=new Date(""))}else A.call(this,H)}}})})(gV);var e9=gV.exports;const t9=Gc(e9);Uo.extend(t9);Uo.extend(J7);Uo.extend(Y7);Uo.extend(G7);Uo.extend(q7);Uo.extend(Z7);Uo.extend(function(t,e){var n=e.prototype,r=n.format;n.format=function(o){var s=(o||"").replace("Wo","wo");return r.bind(this)(s)}});var n9={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},Cd=function(e){var n=n9[e];return n||e.split("_")[0]},RD=function(){M5(!1,"Not match any format. Please help to fire a issue about this.")},r9={getNow:function(){var e=Uo();return typeof e.tz=="function"?e.tz():e},getFixedDate:function(e){return Uo(e,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(e){return e.endOf("month")},getWeekDay:function(e){var n=e.locale("en");return n.weekday()+n.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},getMillisecond:function(e){return e.millisecond()},addYear:function(e,n){return e.add(n,"year")},addMonth:function(e,n){return e.add(n,"month")},addDate:function(e,n){return e.add(n,"day")},setYear:function(e,n){return e.year(n)},setMonth:function(e,n){return e.month(n)},setDate:function(e,n){return e.date(n)},setHour:function(e,n){return e.hour(n)},setMinute:function(e,n){return e.minute(n)},setSecond:function(e,n){return e.second(n)},setMillisecond:function(e,n){return e.millisecond(n)},isAfter:function(e,n){return e.isAfter(n)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return Uo().locale(Cd(e)).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,n){return n.locale(Cd(e)).weekday(0)},getWeek:function(e,n){return n.locale(Cd(e)).week()},getShortWeekDays:function(e){return Uo().locale(Cd(e)).localeData().weekdaysMin()},getShortMonths:function(e){return Uo().locale(Cd(e)).localeData().monthsShort()},format:function(e,n,r){return n.locale(Cd(e)).format(r)},parse:function(e,n,r){for(var i=Cd(e),o=0;o<r.length;o+=1){var s=r[o],a=n;if(s.includes("wo")||s.includes("Wo")){for(var u=a.split("-")[0],c=a.split("-")[1],h=Uo(u,"YYYY").startOf("year").locale(i),g=0;g<=52;g+=1){var p=h.add(g,"week");if(p.format("Wo")===c)return p}return RD(),null}var v=Uo(a,s,!0).locale(i);if(v.isValid())return v}return n&&RD(),null}}};function f0(t,e){return t!==void 0?t:e?"bottomRight":"bottomLeft"}function mV(t,e){var n=f0(t,e),r=n==null?void 0:n.toLowerCase().endsWith("right"),i=r?"insetInlineEnd":"insetInlineStart";return e&&(i=["insetInlineStart","insetInlineEnd"].find(function(o){return o!==i})),i}var Aa=b.createContext(null),i9={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function pV(t){var e=t.popupElement,n=t.popupStyle,r=t.popupClassName,i=t.popupAlign,o=t.transitionName,s=t.getPopupContainer,a=t.children,u=t.range,c=t.placement,h=t.builtinPlacements,g=h===void 0?i9:h,p=t.direction,v=t.visible,y=t.onClose,R=b.useContext(Aa),S=R.prefixCls,T="".concat(S,"-dropdown"),x=f0(c,p==="rtl");return b.createElement(MF,{showAction:[],hideAction:["click"],popupPlacement:x,builtinPlacements:g,prefixCls:T,popupTransitionName:o,popup:e,popupAlign:i,popupVisible:v,popupClassName:lt(r,tt(tt({},"".concat(T,"-range"),u),"".concat(T,"-rtl"),p==="rtl")),popupStyle:n,stretch:"minWidth",getPopupContainer:s,onPopupVisibleChange:function(A){A||y()}},a)}function Jx(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",r=String(t);r.length<e;)r="".concat(n).concat(r);return r}function Dh(t){return t==null?[]:Array.isArray(t)?t:[t]}function Gp(t,e,n){var r=ar(t);return r[e]=n,r}function g0(t,e){var n={},r=e||Object.keys(t);return r.forEach(function(i){t[i]!==void 0&&(n[i]=t[i])}),n}function vV(t,e,n){if(n)return n;switch(t){case"time":return e.fieldTimeFormat;case"datetime":return e.fieldDateTimeFormat;case"month":return e.fieldMonthFormat;case"year":return e.fieldYearFormat;case"quarter":return e.fieldQuarterFormat;case"week":return e.fieldWeekFormat;default:return e.fieldDateFormat}}function wV(t,e,n){var r=n!==void 0?n:e[e.length-1],i=e.find(function(o){return t[o]});return r!==i?t[i]:void 0}function CV(t){return g0(t,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function eI(t,e,n,r){var i=b.useMemo(function(){return t||function(s,a){var u=s;return e&&a.type==="date"?e(u,a.today):n&&a.type==="month"?n(u,a.locale):a.originNode}},[t,n,e]),o=b.useCallback(function(s,a){return i(s,Xe(Xe({},a),{},{range:r}))},[i,r]);return o}function yV(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=b.useState([!1,!1]),i=ke(r,2),o=i[0],s=i[1],a=function(h,g){s(function(p){return Gp(p,g,h)})},u=b.useMemo(function(){return o.map(function(c,h){if(c)return!0;var g=t[h];return g?!!(!n[h]&&!g||g&&e(g,{activeIndex:h})):!1})},[t,o,e,n]);return[u,a]}function bV(t,e,n,r,i){var o="",s=[];return t&&s.push(i?"hh":"HH"),e&&s.push("mm"),n&&s.push("ss"),o=s.join(":"),r&&(o+=".SSS"),i&&(o+=" A"),o}function o9(t,e,n,r,i,o){var s=t.fieldDateTimeFormat,a=t.fieldDateFormat,u=t.fieldTimeFormat,c=t.fieldMonthFormat,h=t.fieldYearFormat,g=t.fieldWeekFormat,p=t.fieldQuarterFormat,v=t.yearFormat,y=t.cellYearFormat,R=t.cellQuarterFormat,S=t.dayFormat,T=t.cellDateFormat,x=bV(e,n,r,i,o);return Xe(Xe({},t),{},{fieldDateTimeFormat:s||"YYYY-MM-DD ".concat(x),fieldDateFormat:a||"YYYY-MM-DD",fieldTimeFormat:u||x,fieldMonthFormat:c||"YYYY-MM",fieldYearFormat:h||"YYYY",fieldWeekFormat:g||"gggg-wo",fieldQuarterFormat:p||"YYYY-[Q]Q",yearFormat:v||"YYYY",cellYearFormat:y||"YYYY",cellQuarterFormat:R||"[Q]Q",cellDateFormat:T||S||"D"})}function SV(t,e){var n=e.showHour,r=e.showMinute,i=e.showSecond,o=e.showMillisecond,s=e.use12Hours;return ot.useMemo(function(){return o9(t,n,r,i,o,s)},[t,n,r,i,o,s])}function Nm(t,e,n){return n??e.some(function(r){return t.includes(r)})}var s9=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function a9(t){var e=g0(t,s9),n=t.format,r=t.picker,i=null;return n&&(i=n,Array.isArray(i)&&(i=i[0]),i=Wi(i)==="object"?i.format:i),r==="time"&&(e.format=i),[e,i]}function l9(t){return t&&typeof t=="string"}function RV(t,e,n,r){return[t,e,n,r].some(function(i){return i!==void 0})}function EV(t,e,n,r,i){var o=e,s=n,a=r;if(!t&&!o&&!s&&!a&&!i)o=!0,s=!0,a=!0;else if(t){var u,c,h,g=[o,s,a].some(function(y){return y===!1}),p=[o,s,a].some(function(y){return y===!0}),v=g?!0:!p;o=(u=o)!==null&&u!==void 0?u:v,s=(c=s)!==null&&c!==void 0?c:v,a=(h=a)!==null&&h!==void 0?h:v}return[o,s,a,i]}function _V(t){var e=t.showTime,n=a9(t),r=ke(n,2),i=r[0],o=r[1],s=e&&Wi(e)==="object"?e:{},a=Xe(Xe({defaultOpenValue:s.defaultOpenValue||s.defaultValue},i),s),u=a.showMillisecond,c=a.showHour,h=a.showMinute,g=a.showSecond,p=RV(c,h,g,u),v=EV(p,c,h,g,u),y=ke(v,3);return c=y[0],h=y[1],g=y[2],[a,Xe(Xe({},a),{},{showHour:c,showMinute:h,showSecond:g,showMillisecond:u}),a.format,o]}function MV(t,e,n,r,i){var o=t==="time";if(t==="datetime"||o){for(var s=r,a=vV(t,i,null),u=a,c=[e,n],h=0;h<c.length;h+=1){var g=Dh(c[h])[0];if(l9(g)){u=g;break}}var p=s.showHour,v=s.showMinute,y=s.showSecond,R=s.showMillisecond,S=s.use12Hours,T=Nm(u,["a","A","LT","LLL","LTS"],S),x=RV(p,v,y,R);x||(p=Nm(u,["H","h","k","LT","LLL"]),v=Nm(u,["m","LT","LLL"]),y=Nm(u,["s","LTS"]),R=Nm(u,["SSS"]));var O=EV(x,p,v,y,R),A=ke(O,3);p=A[0],v=A[1],y=A[2];var H=e||bV(p,v,y,R,T);return Xe(Xe({},s),{},{format:H,showHour:p,showMinute:v,showSecond:y,showMillisecond:R,use12Hours:T})}return null}function u9(t,e,n){if(e===!1)return null;var r=e&&Wi(e)==="object"?e:{};return r.clearIcon||n||b.createElement("span",{className:"".concat(t,"-clear-btn")})}var O_=7;function qc(t,e,n){return!t&&!e||t===e?!0:!t||!e?!1:n()}function RT(t,e,n){return qc(e,n,function(){var r=Math.floor(t.getYear(e)/10),i=Math.floor(t.getYear(n)/10);return r===i})}function bh(t,e,n){return qc(e,n,function(){return t.getYear(e)===t.getYear(n)})}function ED(t,e){var n=Math.floor(t.getMonth(e)/3);return n+1}function c9(t,e,n){return qc(e,n,function(){return bh(t,e,n)&&ED(t,e)===ED(t,n)})}function tI(t,e,n){return qc(e,n,function(){return bh(t,e,n)&&t.getMonth(e)===t.getMonth(n)})}function nI(t,e,n){return qc(e,n,function(){return bh(t,e,n)&&tI(t,e,n)&&t.getDate(e)===t.getDate(n)})}function TV(t,e,n){return qc(e,n,function(){return t.getHour(e)===t.getHour(n)&&t.getMinute(e)===t.getMinute(n)&&t.getSecond(e)===t.getSecond(n)})}function xV(t,e,n){return qc(e,n,function(){return nI(t,e,n)&&TV(t,e,n)&&t.getMillisecond(e)===t.getMillisecond(n)})}function Vp(t,e,n,r){return qc(n,r,function(){var i=t.locale.getWeekFirstDate(e,n),o=t.locale.getWeekFirstDate(e,r);return bh(t,i,o)&&t.locale.getWeek(e,n)===t.locale.getWeek(e,r)})}function no(t,e,n,r,i){switch(i){case"date":return nI(t,n,r);case"week":return Vp(t,e.locale,n,r);case"month":return tI(t,n,r);case"quarter":return c9(t,n,r);case"year":return bh(t,n,r);case"decade":return RT(t,n,r);case"time":return TV(t,n,r);default:return xV(t,n,r)}}function m0(t,e,n,r){return!e||!n||!r?!1:t.isAfter(r,e)&&t.isAfter(n,r)}function TC(t,e,n,r,i){return no(t,e,n,r,i)?!0:t.isAfter(n,r)}function d9(t,e,n){var r=e.locale.getWeekFirstDay(t),i=e.setDate(n,1),o=e.getWeekDay(i),s=e.addDate(i,r-o);return e.getMonth(s)===e.getMonth(n)&&e.getDate(s)>1&&(s=e.addDate(s,-7)),s}function bi(t,e){var n=e.generateConfig,r=e.locale,i=e.format;return t?typeof i=="function"?i(t):n.locale.format(r.locale,t,i):""}function tS(t,e,n){var r=e,i=["getHour","getMinute","getSecond","getMillisecond"],o=["setHour","setMinute","setSecond","setMillisecond"];return o.forEach(function(s,a){n?r=t[s](r,t[i[a]](n)):r=t[s](r,0)}),r}function h9(t,e,n,r,i){var o=Jr(function(s,a){return!!(n&&n(s,a)||r&&t.isAfter(r,s)&&!no(t,e,r,s,a.type)||i&&t.isAfter(s,i)&&!no(t,e,i,s,a.type))});return o}function f9(t,e,n){return b.useMemo(function(){var r=vV(t,e,n),i=Dh(r),o=i[0],s=Wi(o)==="object"&&o.type==="mask"?o.format:null;return[i.map(function(a){return typeof a=="string"||typeof a=="function"?a:a.format}),s]},[t,e,n])}function g9(t,e,n){return typeof t[0]=="function"||n?!0:e}function m9(t,e,n,r){var i=Jr(function(o,s){var a=Xe({type:e},s);if(delete a.activeIndex,!t.isValidate(o)||n&&n(o,a))return!0;if((e==="date"||e==="time")&&r){var u,c=s&&s.activeIndex===1?"end":"start",h=((u=r.disabledTime)===null||u===void 0?void 0:u.call(r,o,c,{from:a.from}))||{},g=h.disabledHours,p=h.disabledMinutes,v=h.disabledSeconds,y=h.disabledMilliseconds,R=r.disabledHours,S=r.disabledMinutes,T=r.disabledSeconds,x=g||R,O=p||S,A=v||T,H=t.getHour(o),L=t.getMinute(o),F=t.getSecond(o),j=t.getMillisecond(o);if(x&&x().includes(H)||O&&O(H).includes(L)||A&&A(H,L).includes(F)||y&&y(H,L,F).includes(j))return!0}return!1});return i}function xC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=b.useMemo(function(){var r=t&&Dh(t);return e&&r&&(r[1]=r[1]||r[0]),r},[t,e]);return n}function IV(t,e){var n=t.generateConfig,r=t.locale,i=t.picker,o=i===void 0?"date":i,s=t.prefixCls,a=s===void 0?"rc-picker":s,u=t.styles,c=u===void 0?{}:u,h=t.classNames,g=h===void 0?{}:h,p=t.order,v=p===void 0?!0:p,y=t.components,R=y===void 0?{}:y,S=t.inputRender,T=t.allowClear,x=t.clearIcon,O=t.needConfirm,A=t.multiple,H=t.format,L=t.inputReadOnly,F=t.disabledDate,j=t.minDate,z=t.maxDate,Y=t.showTime,K=t.value,X=t.defaultValue,se=t.pickerValue,ne=t.defaultPickerValue,J=xC(K),re=xC(X),ae=xC(se),G=xC(ne),oe=o==="date"&&Y?"datetime":o,te=oe==="time"||oe==="datetime",C=te||A,E=O??te,I=_V(t),$=ke(I,4),N=$[0],Z=$[1],ue=$[2],me=$[3],Me=SV(r,Z),be=b.useMemo(function(){return MV(oe,ue,me,N,Me)},[oe,ue,me,N,Me]),le=b.useMemo(function(){return Xe(Xe({},t),{},{prefixCls:a,locale:Me,picker:o,styles:c,classNames:g,order:v,components:Xe({input:S},R),clearIcon:u9(a,T,x),showTime:be,value:J,defaultValue:re,pickerValue:ae,defaultPickerValue:G},e==null?void 0:e())},[t]),Ee=f9(oe,Me,H),_e=ke(Ee,2),ee=_e[0],De=_e[1],Ae=g9(ee,L,A),Pe=h9(n,r,F,j,z),Be=m9(n,o,Pe,be),je=b.useMemo(function(){return Xe(Xe({},le),{},{needConfirm:E,inputReadOnly:Ae,disabledDate:Pe})},[le,E,Ae,Pe]);return[je,oe,C,ee,De,Be]}function p9(t,e,n){var r=ro(e,{value:t}),i=ke(r,2),o=i[0],s=i[1],a=ot.useRef(t),u=ot.useRef(),c=function(){Er.cancel(u.current)},h=Jr(function(){s(a.current),n&&o!==a.current&&n(a.current)}),g=Jr(function(p,v){c(),a.current=p,p||v?h():u.current=Er(h)});return ot.useEffect(function(){return c},[]),[o,g]}function OV(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,i=n.every(function(h){return h})?!1:t,o=p9(i,e||!1,r),s=ke(o,2),a=s[0],u=s[1];function c(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!g.inherit||a)&&u(h,g.force)}return[a,c]}function PV(t){var e=b.useRef();return b.useImperativeHandle(t,function(){var n;return{nativeElement:(n=e.current)===null||n===void 0?void 0:n.nativeElement,focus:function(i){var o;(o=e.current)===null||o===void 0||o.focus(i)},blur:function(){var i;(i=e.current)===null||i===void 0||i.blur()}}}),e}function AV(t,e){return b.useMemo(function(){return t||(e?(TF(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(e).map(function(n){var r=ke(n,2),i=r[0],o=r[1];return{label:i,value:o}})):[])},[t,e])}function rI(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=b.useRef(e);r.current=e,T5(function(){if(t)r.current(t);else{var i=Er(function(){r.current(t)},n);return function(){Er.cancel(i)}}},[t])}function HV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=b.useState(0),i=ke(r,2),o=i[0],s=i[1],a=b.useState(!1),u=ke(a,2),c=u[0],h=u[1],g=b.useRef([]),p=b.useRef(null),v=function(T){h(T)},y=function(T){return T&&(p.current=T),p.current},R=function(T){var x=g.current,O=new Set(x.filter(function(H){return T[H]||e[H]})),A=x[x.length-1]===0?1:0;return O.size>=2||t[A]?null:A};return rI(c||n,function(){c||(g.current=[])}),b.useEffect(function(){c&&g.current.push(o)},[c,o]),[c,v,y,o,s,R,g.current]}function v9(t,e,n,r,i,o){var s=n[n.length-1],a=function(c,h){var g=ke(t,2),p=g[0],v=g[1],y=Xe(Xe({},h),{},{from:wV(t,n)});return s===1&&e[0]&&p&&!no(r,i,p,c,y.type)&&r.isAfter(p,c)||s===0&&e[1]&&v&&!no(r,i,v,c,y.type)&&r.isAfter(c,v)?!0:o==null?void 0:o(c,y)};return a}function Wp(t,e,n,r){switch(e){case"date":case"week":return t.addMonth(n,r);case"month":case"quarter":return t.addYear(n,r);case"year":return t.addYear(n,r*10);case"decade":return t.addYear(n,r*100);default:return n}}var P_=[];function DV(t,e,n,r,i,o,s,a){var u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:P_,c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:P_,h=arguments.length>10&&arguments[10]!==void 0?arguments[10]:P_,g=arguments.length>11?arguments[11]:void 0,p=arguments.length>12?arguments[12]:void 0,v=arguments.length>13?arguments[13]:void 0,y=s==="time",R=o||0,S=function(ae){var G=t.getNow();return y&&(G=tS(t,G)),u[ae]||n[ae]||G},T=ke(c,2),x=T[0],O=T[1],A=ro(function(){return S(0)},{value:x}),H=ke(A,2),L=H[0],F=H[1],j=ro(function(){return S(1)},{value:O}),z=ke(j,2),Y=z[0],K=z[1],X=b.useMemo(function(){var re=[L,Y][R];return y?re:tS(t,re,h[R])},[y,L,Y,R,t,h]),se=function(ae){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"panel",oe=[F,K][R];oe(ae);var te=[L,Y];te[R]=ae,g&&(!no(t,e,L,te[0],s)||!no(t,e,Y,te[1],s))&&g(te,{source:G,range:R===1?"end":"start",mode:r})},ne=function(ae,G){if(a){var oe={date:"month",week:"month",month:"year",quarter:"year"},te=oe[s];if(te&&!no(t,e,ae,G,te))return Wp(t,s,G,-1);if(s==="year"&&ae){var C=Math.floor(t.getYear(ae)/10),E=Math.floor(t.getYear(G)/10);if(C!==E)return Wp(t,s,G,-1)}}return G},J=b.useRef(null);return io(function(){if(i&&!u[R]){var re=y?null:t.getNow();if(J.current!==null&&J.current!==R?re=[L,Y][R^1]:n[R]?re=R===0?n[0]:ne(n[0],n[1]):n[R^1]&&(re=n[R^1]),re){p&&t.isAfter(p,re)&&(re=p);var ae=a?Wp(t,s,re,1):re;v&&t.isAfter(ae,v)&&(re=a?Wp(t,s,v,-1):v),se(re,"reset")}}},[i,R,n[R]]),b.useEffect(function(){i?J.current=R:J.current=null},[i,R]),io(function(){i&&u&&u[R]&&se(u[R],"reset")},[i,R]),[X,se]}function NV(t,e){var n=b.useRef(t),r=b.useState({}),i=ke(r,2),o=i[1],s=function(c){return c&&e!==void 0?e:n.current},a=function(c){n.current=c,o({})};return[s,a,s(!0)]}var w9=[];function $V(t,e,n){var r=function(s){return s.map(function(a){return bi(a,{generateConfig:t,locale:e,format:n[0]})})},i=function(s,a){for(var u=Math.max(s.length,a.length),c=-1,h=0;h<u;h+=1){var g=s[h]||null,p=a[h]||null;if(g!==p&&!xV(t,g,p)){c=h;break}}return[c<0,c!==0]};return[r,i]}function LV(t,e){return ar(t).sort(function(n,r){return e.isAfter(n,r)?1:-1})}function C9(t){var e=NV(t),n=ke(e,2),r=n[0],i=n[1],o=Jr(function(){i(t)});return b.useEffect(function(){o()},[t]),[r,i]}function kV(t,e,n,r,i,o,s,a,u){var c=ro(o,{value:s}),h=ke(c,2),g=h[0],p=h[1],v=g||w9,y=C9(v),R=ke(y,2),S=R[0],T=R[1],x=$V(t,e,n),O=ke(x,2),A=O[0],H=O[1],L=Jr(function(j){var z=ar(j);if(r)for(var Y=0;Y<2;Y+=1)z[Y]=z[Y]||null;else i&&(z=LV(z.filter(function(re){return re}),t));var K=H(S(),z),X=ke(K,2),se=X[0],ne=X[1];if(!se&&(T(z),a)){var J=A(z);a(z,J,{range:ne?"end":"start"})}}),F=function(){u&&u(S())};return[v,p,S,L,F]}function FV(t,e,n,r,i,o,s,a,u,c){var h=t.generateConfig,g=t.locale,p=t.picker,v=t.onChange,y=t.allowEmpty,R=t.order,S=o.some(function(se){return se})?!1:R,T=$V(h,g,s),x=ke(T,2),O=x[0],A=x[1],H=NV(e),L=ke(H,2),F=L[0],j=L[1],z=Jr(function(){j(e)});b.useEffect(function(){z()},[e]);var Y=Jr(function(se){var ne=se===null,J=ar(se||F());if(ne)for(var re=Math.max(o.length,J.length),ae=0;ae<re;ae+=1)o[ae]||(J[ae]=null);S&&J[0]&&J[1]&&(J=LV(J,h)),i(J);var G=J,oe=ke(G,2),te=oe[0],C=oe[1],E=!te,I=!C,$=y?(!E||y[0])&&(!I||y[1]):!0,N=!R||E||I||no(h,g,te,C,p)||h.isAfter(C,te),Z=(!te||!c(te,{activeIndex:0}))&&(!C||!c(C,{from:te,activeIndex:1})),ue=ne||$&&N&&Z;if(ue){n(J);var me=A(J,e),Me=ke(me,1),be=Me[0];v&&!be&&v(ne&&J.every(function(le){return!le})?null:J,O(J))}return ue}),K=Jr(function(se,ne){var J=Gp(F(),se,r()[se]);j(J),ne&&Y()}),X=!a&&!u;return rI(!X,function(){X&&(Y(),i(e),z())},2),[K,Y]}function VV(t,e,n,r,i){return e!=="date"&&e!=="time"?!1:n!==void 0?n:r!==void 0?r:!i&&(t==="date"||t==="time")}function y9(t,e,n,r,i,o){var s=t;function a(g,p,v){var y=o[g](s),R=v.find(function(O){return O.value===y});if(!R||R.disabled){var S=v.filter(function(O){return!O.disabled}),T=ar(S).reverse(),x=T.find(function(O){return O.value<=y})||S[0];x&&(y=x.value,s=o[p](s,y))}return y}var u=a("getHour","setHour",e()),c=a("getMinute","setMinute",n(u)),h=a("getSecond","setSecond",r(u,c));return a("getMillisecond","setMillisecond",i(u,c,h)),s}function IC(){return[]}function OC(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:2,s=[],a=n>=1?n|0:1,u=t;u<=e;u+=a){var c=i.includes(u);(!c||!r)&&s.push({label:Jx(u,o),value:u,disabled:c})}return s}function iI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e||{},i=r.use12Hours,o=r.hourStep,s=o===void 0?1:o,a=r.minuteStep,u=a===void 0?1:a,c=r.secondStep,h=c===void 0?1:c,g=r.millisecondStep,p=g===void 0?100:g,v=r.hideDisabledOptions,y=r.disabledTime,R=r.disabledHours,S=r.disabledMinutes,T=r.disabledSeconds,x=b.useMemo(function(){return n||t.getNow()},[n,t]),O=b.useCallback(function(G){var oe=(y==null?void 0:y(G))||{};return[oe.disabledHours||R||IC,oe.disabledMinutes||S||IC,oe.disabledSeconds||T||IC,oe.disabledMilliseconds||IC]},[y,R,S,T]),A=b.useMemo(function(){return O(x)},[x,O]),H=ke(A,4),L=H[0],F=H[1],j=H[2],z=H[3],Y=b.useCallback(function(G,oe,te,C){var E=OC(0,23,s,v,G()),I=i?E.map(function(ue){return Xe(Xe({},ue),{},{label:Jx(ue.value%12||12,2)})}):E,$=function(me){return OC(0,59,u,v,oe(me))},N=function(me,Me){return OC(0,59,h,v,te(me,Me))},Z=function(me,Me,be){return OC(0,999,p,v,C(me,Me,be),3)};return[I,$,N,Z]},[v,s,i,p,u,h]),K=b.useMemo(function(){return Y(L,F,j,z)},[Y,L,F,j,z]),X=ke(K,4),se=X[0],ne=X[1],J=X[2],re=X[3],ae=function(oe,te){var C=function(){return se},E=ne,I=J,$=re;if(te){var N=O(te),Z=ke(N,4),ue=Z[0],me=Z[1],Me=Z[2],be=Z[3],le=Y(ue,me,Me,be),Ee=ke(le,4),_e=Ee[0],ee=Ee[1],De=Ee[2],Ae=Ee[3];C=function(){return _e},E=ee,I=De,$=Ae}var Pe=y9(oe,C,E,I,$,t);return Pe};return[ae,se,ne,J,re]}function b9(t){var e=t.mode,n=t.internalMode,r=t.renderExtraFooter,i=t.showNow,o=t.showTime,s=t.onSubmit,a=t.onNow,u=t.invalid,c=t.needConfirm,h=t.generateConfig,g=t.disabledDate,p=b.useContext(Aa),v=p.prefixCls,y=p.locale,R=p.button,S=R===void 0?"button":R,T=h.getNow(),x=iI(h,o,T),O=ke(x,1),A=O[0],H=r==null?void 0:r(e),L=g(T,{type:e}),F=function(){if(!L){var ne=A(T);a(ne)}},j="".concat(v,"-now"),z="".concat(j,"-btn"),Y=i&&b.createElement("li",{className:j},b.createElement("a",{className:lt(z,L&&"".concat(z,"-disabled")),"aria-disabled":L,onClick:F},n==="date"?y.today:y.now)),K=c&&b.createElement("li",{className:"".concat(v,"-ok")},b.createElement(S,{disabled:u,onClick:s},y.ok)),X=(Y||K)&&b.createElement("ul",{className:"".concat(v,"-ranges")},Y,K);return!H&&!X?null:b.createElement("div",{className:"".concat(v,"-footer")},H&&b.createElement("div",{className:"".concat(v,"-footer-extra")},H),X)}function WV(t,e,n){function r(i,o){var s=i.findIndex(function(u){return no(t,e,u,o,n)});if(s===-1)return[].concat(ar(i),[o]);var a=ar(i);return a.splice(s,1),a}return r}var Nh=b.createContext(null);function p0(){return b.useContext(Nh)}function jg(t,e){var n=t.prefixCls,r=t.generateConfig,i=t.locale,o=t.disabledDate,s=t.minDate,a=t.maxDate,u=t.cellRender,c=t.hoverValue,h=t.hoverRangeValue,g=t.onHover,p=t.values,v=t.pickerValue,y=t.onSelect,R=t.prevIcon,S=t.nextIcon,T=t.superPrevIcon,x=t.superNextIcon,O=r.getNow(),A={now:O,values:p,pickerValue:v,prefixCls:n,disabledDate:o,minDate:s,maxDate:a,cellRender:u,hoverValue:c,hoverRangeValue:h,onHover:g,locale:i,generateConfig:r,onSelect:y,panelType:e,prevIcon:R,nextIcon:S,superPrevIcon:T,superNextIcon:x};return[A,O]}var $c=b.createContext({});function Uv(t){for(var e=t.rowNum,n=t.colNum,r=t.baseDate,i=t.getCellDate,o=t.prefixColumn,s=t.rowClassName,a=t.titleFormat,u=t.getCellText,c=t.getCellClassName,h=t.headerCells,g=t.cellSelection,p=g===void 0?!0:g,v=t.disabledDate,y=p0(),R=y.prefixCls,S=y.panelType,T=y.now,x=y.disabledDate,O=y.cellRender,A=y.onHover,H=y.hoverValue,L=y.hoverRangeValue,F=y.generateConfig,j=y.values,z=y.locale,Y=y.onSelect,K=v||x,X="".concat(R,"-cell"),se=b.useContext($c),ne=se.onCellDblClick,J=function(I){return j.some(function($){return $&&no(F,z,I,$,S)})},re=[],ae=0;ae<e;ae+=1){for(var G=[],oe=void 0,te=function(){var I=ae*n+C,$=i(r,I),N=K==null?void 0:K($,{type:S});C===0&&(oe=$,o&&G.push(o(oe)));var Z=!1,ue=!1,me=!1;if(p&&L){var Me=ke(L,2),be=Me[0],le=Me[1];Z=m0(F,be,le,$),ue=no(F,z,$,be,S),me=no(F,z,$,le,S)}var Ee=a?bi($,{locale:z,format:a,generateConfig:F}):void 0,_e=b.createElement("div",{className:"".concat(X,"-inner")},u($));G.push(b.createElement("td",{key:C,title:Ee,className:lt(X,Xe(tt(tt(tt(tt(tt(tt({},"".concat(X,"-disabled"),N),"".concat(X,"-hover"),(H||[]).some(function(ee){return no(F,z,$,ee,S)})),"".concat(X,"-in-range"),Z&&!ue&&!me),"".concat(X,"-range-start"),ue),"".concat(X,"-range-end"),me),"".concat(R,"-cell-selected"),!L&&S!=="week"&&J($)),c($))),onClick:function(){N||Y($)},onDoubleClick:function(){!N&&ne&&ne()},onMouseEnter:function(){N||A==null||A($)},onMouseLeave:function(){N||A==null||A(null)}},O?O($,{prefixCls:R,originNode:_e,today:T,type:S,locale:z}):_e))},C=0;C<n;C+=1)te();re.push(b.createElement("tr",{key:ae,className:s==null?void 0:s(oe)},G))}return b.createElement("div",{className:"".concat(R,"-body")},b.createElement("table",{className:"".concat(R,"-content")},h&&b.createElement("thead",null,b.createElement("tr",null,h)),b.createElement("tbody",null,re)))}var PC={visibility:"hidden"};function zg(t){var e=t.offset,n=t.superOffset,r=t.onChange,i=t.getStart,o=t.getEnd,s=t.children,a=p0(),u=a.prefixCls,c=a.prevIcon,h=c===void 0?"‹":c,g=a.nextIcon,p=g===void 0?"›":g,v=a.superPrevIcon,y=v===void 0?"«":v,R=a.superNextIcon,S=R===void 0?"»":R,T=a.minDate,x=a.maxDate,O=a.generateConfig,A=a.locale,H=a.pickerValue,L=a.panelType,F="".concat(u,"-header"),j=b.useContext($c),z=j.hidePrev,Y=j.hideNext,K=j.hideHeader,X=b.useMemo(function(){if(!T||!e||!o)return!1;var E=o(e(-1,H));return!TC(O,A,E,T,L)},[T,e,H,o,O,A,L]),se=b.useMemo(function(){if(!T||!n||!o)return!1;var E=o(n(-1,H));return!TC(O,A,E,T,L)},[T,n,H,o,O,A,L]),ne=b.useMemo(function(){if(!x||!e||!i)return!1;var E=i(e(1,H));return!TC(O,A,x,E,L)},[x,e,H,i,O,A,L]),J=b.useMemo(function(){if(!x||!n||!i)return!1;var E=i(n(1,H));return!TC(O,A,x,E,L)},[x,n,H,i,O,A,L]),re=function(I){e&&r(e(I,H))},ae=function(I){n&&r(n(I,H))};if(K)return null;var G="".concat(F,"-prev-btn"),oe="".concat(F,"-next-btn"),te="".concat(F,"-super-prev-btn"),C="".concat(F,"-super-next-btn");return b.createElement("div",{className:F},n&&b.createElement("button",{type:"button","aria-label":"super-prev-year",onClick:function(){return ae(-1)},tabIndex:-1,className:lt(te,se&&"".concat(te,"-disabled")),disabled:se,style:z?PC:{}},y),e&&b.createElement("button",{type:"button","aria-label":"prev-year",onClick:function(){return re(-1)},tabIndex:-1,className:lt(G,X&&"".concat(G,"-disabled")),disabled:X,style:z?PC:{}},h),b.createElement("div",{className:"".concat(F,"-view")},s),e&&b.createElement("button",{type:"button","aria-label":"next-year",onClick:function(){return re(1)},tabIndex:-1,className:lt(oe,ne&&"".concat(oe,"-disabled")),disabled:ne,style:Y?PC:{}},p),n&&b.createElement("button",{type:"button","aria-label":"super-next-year",onClick:function(){return ae(1)},tabIndex:-1,className:lt(C,J&&"".concat(C,"-disabled")),disabled:J,style:Y?PC:{}},S))}function v0(t){var e=t.prefixCls,n=t.panelName,r=n===void 0?"date":n,i=t.locale,o=t.generateConfig,s=t.pickerValue,a=t.onPickerValueChange,u=t.onModeChange,c=t.mode,h=c===void 0?"date":c,g=t.disabledDate,p=t.onSelect,v=t.onHover,y=t.showWeek,R="".concat(e,"-").concat(r,"-panel"),S="".concat(e,"-cell"),T=h==="week",x=jg(t,h),O=ke(x,2),A=O[0],H=O[1],L=o.locale.getWeekFirstDay(i.locale),F=o.setDate(s,1),j=d9(i.locale,o,F),z=o.getMonth(s),Y=y===void 0?T:y,K=Y?function(E){var I=g==null?void 0:g(E,{type:"week"});return b.createElement("td",{key:"week",className:lt(S,"".concat(S,"-week"),tt({},"".concat(S,"-disabled"),I)),onClick:function(){I||p(E)},onMouseEnter:function(){I||v==null||v(E)},onMouseLeave:function(){I||v==null||v(null)}},b.createElement("div",{className:"".concat(S,"-inner")},o.locale.getWeek(i.locale,E)))}:null,X=[],se=i.shortWeekDays||(o.locale.getShortWeekDays?o.locale.getShortWeekDays(i.locale):[]);K&&X.push(b.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var ne=0;ne<O_;ne+=1)X.push(b.createElement("th",{key:ne},se[(ne+L)%O_]));var J=function(I,$){return o.addDate(I,$)},re=function(I){return bi(I,{locale:i,format:i.cellDateFormat,generateConfig:o})},ae=function(I){var $=tt(tt({},"".concat(e,"-cell-in-view"),tI(o,I,s)),"".concat(e,"-cell-today"),nI(o,I,H));return $},G=i.shortMonths||(o.locale.getShortMonths?o.locale.getShortMonths(i.locale):[]),oe=b.createElement("button",{type:"button","aria-label":"year panel",key:"year",onClick:function(){u("year",s)},tabIndex:-1,className:"".concat(e,"-year-btn")},bi(s,{locale:i,format:i.yearFormat,generateConfig:o})),te=b.createElement("button",{type:"button","aria-label":"month panel",key:"month",onClick:function(){u("month",s)},tabIndex:-1,className:"".concat(e,"-month-btn")},i.monthFormat?bi(s,{locale:i,format:i.monthFormat,generateConfig:o}):G[z]),C=i.monthBeforeYear?[te,oe]:[oe,te];return b.createElement(Nh.Provider,{value:A},b.createElement("div",{className:lt(R,y&&"".concat(R,"-show-week"))},b.createElement(zg,{offset:function(I){return o.addMonth(s,I)},superOffset:function(I){return o.addYear(s,I)},onChange:a,getStart:function(I){return o.setDate(I,1)},getEnd:function(I){var $=o.setDate(I,1);return $=o.addMonth($,1),o.addDate($,-1)}},C),b.createElement(Uv,Ot({titleFormat:i.fieldDateFormat},t,{colNum:O_,rowNum:6,baseDate:j,headerCells:X,getCellDate:J,getCellText:re,getCellClassName:ae,prefixColumn:K,cellSelection:!T}))))}var S9=1/3;function R9(t,e){var n=b.useRef(!1),r=b.useRef(null),i=b.useRef(null),o=function(){return n.current},s=function(){Er.cancel(r.current),n.current=!1},a=b.useRef(),u=function(){var g=t.current;if(i.current=null,a.current=0,g){var p=g.querySelector('[data-value="'.concat(e,'"]')),v=g.querySelector("li"),y=function R(){s(),n.current=!0,a.current+=1;var S=g.scrollTop,T=v.offsetTop,x=p.offsetTop,O=x-T;if(x===0&&p!==v||!RF(g)){a.current<=5&&(r.current=Er(R));return}var A=S+(O-S)*S9,H=Math.abs(O-A);if(i.current!==null&&i.current<H){s();return}if(i.current=H,H<=1){g.scrollTop=O,s();return}g.scrollTop=A,r.current=Er(R)};p&&v&&y()}},c=Jr(u);return[c,s,o]}var E9=300;function $m(t){var e=t.units,n=t.value,r=t.optionalValue,i=t.type,o=t.onChange,s=t.onHover,a=t.onDblClick,u=t.changeOnScroll,c=p0(),h=c.prefixCls,g=c.cellRender,p=c.now,v=c.locale,y="".concat(h,"-time-panel"),R="".concat(h,"-time-panel-cell"),S=b.useRef(null),T=b.useRef(),x=function(){clearTimeout(T.current)},O=R9(S,n??r),A=ke(O,3),H=A[0],L=A[1],F=A[2];io(function(){return H(),x(),function(){L(),x()}},[n,r,e]);var j=function(K){x();var X=K.target;!F()&&u&&(T.current=setTimeout(function(){var se=S.current,ne=se.querySelector("li").offsetTop,J=Array.from(se.querySelectorAll("li")),re=J.map(function(C){return C.offsetTop-ne}),ae=re.map(function(C,E){return e[E].disabled?Number.MAX_SAFE_INTEGER:Math.abs(C-X.scrollTop)}),G=Math.min.apply(Math,ar(ae)),oe=ae.findIndex(function(C){return C===G}),te=e[oe];te&&!te.disabled&&o(te.value)},E9))},z="".concat(y,"-column");return b.createElement("ul",{className:z,ref:S,"data-type":i,onScroll:j},e.map(function(Y){var K=Y.label,X=Y.value,se=Y.disabled,ne=b.createElement("div",{className:"".concat(R,"-inner")},K);return b.createElement("li",{key:X,className:lt(R,tt(tt({},"".concat(R,"-selected"),n===X),"".concat(R,"-disabled"),se)),onClick:function(){se||o(X)},onDoubleClick:function(){!se&&a&&a()},onMouseEnter:function(){s(X)},onMouseLeave:function(){s(null)},"data-value":X},g?g(X,{prefixCls:h,originNode:ne,today:p,type:"time",subType:i,locale:v}):ne)}))}function nc(t){return t<12}function _9(t){var e=t.showHour,n=t.showMinute,r=t.showSecond,i=t.showMillisecond,o=t.use12Hours,s=t.changeOnScroll,a=p0(),u=a.prefixCls,c=a.values,h=a.generateConfig,g=a.locale,p=a.onSelect,v=a.onHover,y=v===void 0?function(){}:v,R=a.pickerValue,S=(c==null?void 0:c[0])||null,T=b.useContext($c),x=T.onCellDblClick,O=iI(h,t,S),A=ke(O,5),H=A[0],L=A[1],F=A[2],j=A[3],z=A[4],Y=function(Ye){var wt=S&&h[Ye](S),sn=R&&h[Ye](R);return[wt,sn]},K=Y("getHour"),X=ke(K,2),se=X[0],ne=X[1],J=Y("getMinute"),re=ke(J,2),ae=re[0],G=re[1],oe=Y("getSecond"),te=ke(oe,2),C=te[0],E=te[1],I=Y("getMillisecond"),$=ke(I,2),N=$[0],Z=$[1],ue=se===null?null:nc(se)?"am":"pm",me=b.useMemo(function(){return o?nc(se)?L.filter(function(Oe){return nc(Oe.value)}):L.filter(function(Oe){return!nc(Oe.value)}):L},[se,L,o]),Me=function(Ye,wt){var sn,Nt=Ye.filter(function(In){return!In.disabled});return wt??(Nt==null||(sn=Nt[0])===null||sn===void 0?void 0:sn.value)},be=Me(L,se),le=b.useMemo(function(){return F(be)},[F,be]),Ee=Me(le,ae),_e=b.useMemo(function(){return j(be,Ee)},[j,be,Ee]),ee=Me(_e,C),De=b.useMemo(function(){return z(be,Ee,ee)},[z,be,Ee,ee]),Ae=Me(De,N),Pe=b.useMemo(function(){if(!o)return[];var Oe=h.getNow(),Ye=h.setHour(Oe,6),wt=h.setHour(Oe,18),sn=function(In,wn){var At=g.cellMeridiemFormat;return At?bi(In,{generateConfig:h,locale:g,format:At}):wn};return[{label:sn(Ye,"AM"),value:"am",disabled:L.every(function(Nt){return Nt.disabled||!nc(Nt.value)})},{label:sn(wt,"PM"),value:"pm",disabled:L.every(function(Nt){return Nt.disabled||nc(Nt.value)})}]},[L,o,h,g]),Be=function(Ye){var wt=H(Ye);p(wt)},je=b.useMemo(function(){var Oe=S||R||h.getNow(),Ye=function(sn){return sn!=null};return Ye(se)?(Oe=h.setHour(Oe,se),Oe=h.setMinute(Oe,ae),Oe=h.setSecond(Oe,C),Oe=h.setMillisecond(Oe,N)):Ye(ne)?(Oe=h.setHour(Oe,ne),Oe=h.setMinute(Oe,G),Oe=h.setSecond(Oe,E),Oe=h.setMillisecond(Oe,Z)):Ye(be)&&(Oe=h.setHour(Oe,be),Oe=h.setMinute(Oe,Ee),Oe=h.setSecond(Oe,ee),Oe=h.setMillisecond(Oe,Ae)),Oe},[S,R,se,ae,C,N,be,Ee,ee,Ae,ne,G,E,Z,h]),k=function(Ye,wt){return Ye===null?null:h[wt](je,Ye)},V=function(Ye){return k(Ye,"setHour")},q=function(Ye){return k(Ye,"setMinute")},fe=function(Ye){return k(Ye,"setSecond")},Q=function(Ye){return k(Ye,"setMillisecond")},we=function(Ye){return Ye===null?null:Ye==="am"&&!nc(se)?h.setHour(je,se-12):Ye==="pm"&&nc(se)?h.setHour(je,se+12):je},ce=function(Ye){Be(V(Ye))},ie=function(Ye){Be(q(Ye))},ve=function(Ye){Be(fe(Ye))},pe=function(Ye){Be(Q(Ye))},ge=function(Ye){Be(we(Ye))},$e=function(Ye){y(V(Ye))},Fe=function(Ye){y(q(Ye))},Ie=function(Ye){y(fe(Ye))},xe=function(Ye){y(Q(Ye))},ze=function(Ye){y(we(Ye))},Ge={onDblClick:x,changeOnScroll:s};return b.createElement("div",{className:"".concat(u,"-content")},e&&b.createElement($m,Ot({units:me,value:se,optionalValue:ne,type:"hour",onChange:ce,onHover:$e},Ge)),n&&b.createElement($m,Ot({units:le,value:ae,optionalValue:G,type:"minute",onChange:ie,onHover:Fe},Ge)),r&&b.createElement($m,Ot({units:_e,value:C,optionalValue:E,type:"second",onChange:ve,onHover:Ie},Ge)),i&&b.createElement($m,Ot({units:De,value:N,optionalValue:Z,type:"millisecond",onChange:pe,onHover:xe},Ge)),o&&b.createElement($m,Ot({units:Pe,value:ue,type:"meridiem",onChange:ge,onHover:ze},Ge)))}function BV(t){var e=t.prefixCls,n=t.value,r=t.locale,i=t.generateConfig,o=t.showTime,s=o||{},a=s.format,u="".concat(e,"-time-panel"),c=jg(t,"time"),h=ke(c,1),g=h[0];return b.createElement(Nh.Provider,{value:g},b.createElement("div",{className:lt(u)},b.createElement(zg,null,n?bi(n,{locale:r,format:a,generateConfig:i}):" "),b.createElement(_9,o)))}function M9(t){var e=t.prefixCls,n=t.generateConfig,r=t.showTime,i=t.onSelect,o=t.value,s=t.pickerValue,a=t.onHover,u="".concat(e,"-datetime-panel"),c=iI(n,r),h=ke(c,1),g=h[0],p=function(S){return o?tS(n,S,o):tS(n,S,s)},v=function(S){a==null||a(S&&p(S))},y=function(S){var T=p(S);i(g(T,T))};return b.createElement("div",{className:u},b.createElement(v0,Ot({},t,{onSelect:y,onHover:v})),b.createElement(BV,t))}function T9(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,i=t.pickerValue,o=t.disabledDate,s=t.onPickerValueChange,a="".concat(e,"-decade-panel"),u=jg(t,"decade"),c=ke(u,1),h=c[0],g=function(L){var F=Math.floor(r.getYear(i)/100)*100;return r.setYear(L,F)},p=function(L){var F=g(L);return r.addYear(F,99)},v=g(i),y=p(i),R=r.addYear(v,-10),S=function(L,F){return r.addYear(L,F*10)},T=function(L){var F=n.cellYearFormat,j=bi(L,{locale:n,format:F,generateConfig:r}),z=bi(r.addYear(L,9),{locale:n,format:F,generateConfig:r});return"".concat(j,"-").concat(z)},x=function(L){return tt({},"".concat(e,"-cell-in-view"),RT(r,L,v)||RT(r,L,y)||m0(r,v,y,L))},O=o?function(H,L){var F=r.setDate(H,1),j=r.setMonth(F,0),z=r.setYear(j,Math.floor(r.getYear(j)/10)*10),Y=r.addYear(z,10),K=r.addDate(Y,-1);return o(z,L)&&o(K,L)}:null,A="".concat(bi(v,{locale:n,format:n.yearFormat,generateConfig:r}),"-").concat(bi(y,{locale:n,format:n.yearFormat,generateConfig:r}));return b.createElement(Nh.Provider,{value:h},b.createElement("div",{className:a},b.createElement(zg,{superOffset:function(L){return r.addYear(i,L*100)},onChange:s,getStart:g,getEnd:p},A),b.createElement(Uv,Ot({},t,{disabledDate:O,colNum:3,rowNum:4,baseDate:R,getCellDate:S,getCellText:T,getCellClassName:x}))))}function x9(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,i=t.pickerValue,o=t.disabledDate,s=t.onPickerValueChange,a=t.onModeChange,u="".concat(e,"-month-panel"),c=jg(t,"month"),h=ke(c,1),g=h[0],p=r.setMonth(i,0),v=n.shortMonths||(r.locale.getShortMonths?r.locale.getShortMonths(n.locale):[]),y=function(A,H){return r.addMonth(A,H)},R=function(A){var H=r.getMonth(A);return n.monthFormat?bi(A,{locale:n,format:n.monthFormat,generateConfig:r}):v[H]},S=function(){return tt({},"".concat(e,"-cell-in-view"),!0)},T=o?function(O,A){var H=r.setDate(O,1),L=r.setMonth(H,r.getMonth(H)+1),F=r.addDate(L,-1);return o(H,A)&&o(F,A)}:null,x=b.createElement("button",{type:"button",key:"year","aria-label":"year panel",onClick:function(){a("year")},tabIndex:-1,className:"".concat(e,"-year-btn")},bi(i,{locale:n,format:n.yearFormat,generateConfig:r}));return b.createElement(Nh.Provider,{value:g},b.createElement("div",{className:u},b.createElement(zg,{superOffset:function(A){return r.addYear(i,A)},onChange:s,getStart:function(A){return r.setMonth(A,0)},getEnd:function(A){return r.setMonth(A,11)}},x),b.createElement(Uv,Ot({},t,{disabledDate:T,titleFormat:n.fieldMonthFormat,colNum:3,rowNum:4,baseDate:p,getCellDate:y,getCellText:R,getCellClassName:S}))))}function I9(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,i=t.pickerValue,o=t.onPickerValueChange,s=t.onModeChange,a="".concat(e,"-quarter-panel"),u=jg(t,"quarter"),c=ke(u,1),h=c[0],g=r.setMonth(i,0),p=function(T,x){return r.addMonth(T,x*3)},v=function(T){return bi(T,{locale:n,format:n.cellQuarterFormat,generateConfig:r})},y=function(){return tt({},"".concat(e,"-cell-in-view"),!0)},R=b.createElement("button",{type:"button",key:"year","aria-label":"year panel",onClick:function(){s("year")},tabIndex:-1,className:"".concat(e,"-year-btn")},bi(i,{locale:n,format:n.yearFormat,generateConfig:r}));return b.createElement(Nh.Provider,{value:h},b.createElement("div",{className:a},b.createElement(zg,{superOffset:function(T){return r.addYear(i,T)},onChange:o,getStart:function(T){return r.setMonth(T,0)},getEnd:function(T){return r.setMonth(T,11)}},R),b.createElement(Uv,Ot({},t,{titleFormat:n.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:g,getCellDate:p,getCellText:v,getCellClassName:y}))))}function O9(t){var e=t.prefixCls,n=t.generateConfig,r=t.locale,i=t.value,o=t.hoverValue,s=t.hoverRangeValue,a=r.locale,u="".concat(e,"-week-panel-row"),c=function(g){var p={};if(s){var v=ke(s,2),y=v[0],R=v[1],S=Vp(n,a,y,g),T=Vp(n,a,R,g);p["".concat(u,"-range-start")]=S,p["".concat(u,"-range-end")]=T,p["".concat(u,"-range-hover")]=!S&&!T&&m0(n,y,R,g)}return o&&(p["".concat(u,"-hover")]=o.some(function(x){return Vp(n,a,g,x)})),lt(u,tt({},"".concat(u,"-selected"),!s&&Vp(n,a,i,g)),p)};return b.createElement(v0,Ot({},t,{mode:"week",panelName:"week",rowClassName:c}))}function P9(t){var e=t.prefixCls,n=t.locale,r=t.generateConfig,i=t.pickerValue,o=t.disabledDate,s=t.onPickerValueChange,a=t.onModeChange,u="".concat(e,"-year-panel"),c=jg(t,"year"),h=ke(c,1),g=h[0],p=function(F){var j=Math.floor(r.getYear(i)/10)*10;return r.setYear(F,j)},v=function(F){var j=p(F);return r.addYear(j,9)},y=p(i),R=v(i),S=r.addYear(y,-1),T=function(F,j){return r.addYear(F,j)},x=function(F){return bi(F,{locale:n,format:n.cellYearFormat,generateConfig:r})},O=function(F){return tt({},"".concat(e,"-cell-in-view"),bh(r,F,y)||bh(r,F,R)||m0(r,y,R,F))},A=o?function(L,F){var j=r.setMonth(L,0),z=r.setDate(j,1),Y=r.addYear(z,1),K=r.addDate(Y,-1);return o(z,F)&&o(K,F)}:null,H=b.createElement("button",{type:"button",key:"decade","aria-label":"decade panel",onClick:function(){a("decade")},tabIndex:-1,className:"".concat(e,"-decade-btn")},bi(y,{locale:n,format:n.yearFormat,generateConfig:r}),"-",bi(R,{locale:n,format:n.yearFormat,generateConfig:r}));return b.createElement(Nh.Provider,{value:g},b.createElement("div",{className:u},b.createElement(zg,{superOffset:function(F){return r.addYear(i,F*10)},onChange:s,getStart:p,getEnd:v},H),b.createElement(Uv,Ot({},t,{disabledDate:A,titleFormat:n.fieldYearFormat,colNum:3,rowNum:4,baseDate:S,getCellDate:T,getCellText:x,getCellClassName:O}))))}var A9={date:v0,datetime:M9,week:O9,month:x9,quarter:I9,year:P9,decade:T9,time:BV};function H9(t,e){var n,r=t.locale,i=t.generateConfig,o=t.direction,s=t.prefixCls,a=t.tabIndex,u=a===void 0?0:a,c=t.multiple,h=t.defaultValue,g=t.value,p=t.onChange,v=t.onSelect,y=t.defaultPickerValue,R=t.pickerValue,S=t.onPickerValueChange,T=t.mode,x=t.onPanelChange,O=t.picker,A=O===void 0?"date":O,H=t.showTime,L=t.hoverValue,F=t.hoverRangeValue,j=t.cellRender,z=t.dateRender,Y=t.monthCellRender,K=t.components,X=K===void 0?{}:K,se=t.hideHeader,ne=((n=b.useContext(Aa))===null||n===void 0?void 0:n.prefixCls)||s||"rc-picker",J=b.useRef();b.useImperativeHandle(e,function(){return{nativeElement:J.current}});var re=_V(t),ae=ke(re,4),G=ae[0],oe=ae[1],te=ae[2],C=ae[3],E=SV(r,oe),I=A==="date"&&H?"datetime":A,$=b.useMemo(function(){return MV(I,te,C,G,E)},[I,te,C,G,E]),N=i.getNow(),Z=ro(A,{value:T,postState:function(ze){return ze||"date"}}),ue=ke(Z,2),me=ue[0],Me=ue[1],be=me==="date"&&$?"datetime":me,le=WV(i,r,I),Ee=ro(h,{value:g}),_e=ke(Ee,2),ee=_e[0],De=_e[1],Ae=b.useMemo(function(){var xe=Dh(ee).filter(function(ze){return ze});return c?xe:xe.slice(0,1)},[ee,c]),Pe=Jr(function(xe){De(xe),p&&(xe===null||Ae.length!==xe.length||Ae.some(function(ze,Ge){return!no(i,r,ze,xe[Ge],I)}))&&(p==null||p(c?xe:xe[0]))}),Be=Jr(function(xe){if(v==null||v(xe),me===A){var ze=c?le(Ae,xe):[xe];Pe(ze)}}),je=ro(y||Ae[0]||N,{value:R}),k=ke(je,2),V=k[0],q=k[1];b.useEffect(function(){Ae[0]&&!R&&q(Ae[0])},[Ae[0]]);var fe=function(ze,Ge){x==null||x(ze||R,Ge||me)},Q=function(ze){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;q(ze),S==null||S(ze),Ge&&fe(ze)},we=function(ze,Ge){Me(ze),Ge&&Q(Ge),fe(Ge,ze)},ce=function(ze){if(Be(ze),Q(ze),me!==A){var Ge=["decade","year"],Oe=[].concat(Ge,["month"]),Ye={quarter:[].concat(Ge,["quarter"]),week:[].concat(ar(Oe),["week"]),date:[].concat(ar(Oe),["date"])},wt=Ye[A]||Oe,sn=wt.indexOf(me),Nt=wt[sn+1];Nt&&we(Nt,ze)}},ie=b.useMemo(function(){var xe,ze;if(Array.isArray(F)){var Ge=ke(F,2);xe=Ge[0],ze=Ge[1]}else xe=F;return!xe&&!ze?null:(xe=xe||ze,ze=ze||xe,i.isAfter(xe,ze)?[ze,xe]:[xe,ze])},[F,i]),ve=eI(j,z,Y),pe=X[be]||A9[be]||v0,ge=b.useContext($c),$e=b.useMemo(function(){return Xe(Xe({},ge),{},{hideHeader:se})},[ge,se]),Fe="".concat(ne,"-panel"),Ie=g0(t,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return b.createElement($c.Provider,{value:$e},b.createElement("div",{ref:J,tabIndex:u,className:lt(Fe,tt({},"".concat(Fe,"-rtl"),o==="rtl"))},b.createElement(pe,Ot({},Ie,{showTime:$,prefixCls:ne,locale:E,generateConfig:i,onModeChange:we,pickerValue:V,onPickerValueChange:function(ze){Q(ze,!0)},value:Ae[0],onSelect:ce,values:Ae,cellRender:ve,hoverRangeValue:ie,hoverValue:L}))))}var A_=b.memo(b.forwardRef(H9));function D9(t){var e=t.picker,n=t.multiplePanel,r=t.pickerValue,i=t.onPickerValueChange,o=t.needConfirm,s=t.onSubmit,a=t.range,u=t.hoverValue,c=b.useContext(Aa),h=c.prefixCls,g=c.generateConfig,p=b.useCallback(function(x,O){return Wp(g,e,x,O)},[g,e]),v=b.useMemo(function(){return p(r,1)},[r,p]),y=function(O){i(p(O,-1))},R={onCellDblClick:function(){o&&s()}},S=e==="time",T=Xe(Xe({},t),{},{hoverValue:null,hoverRangeValue:null,hideHeader:S});return a?T.hoverRangeValue=u:T.hoverValue=u,n?b.createElement("div",{className:"".concat(h,"-panels")},b.createElement($c.Provider,{value:Xe(Xe({},R),{},{hideNext:!0})},b.createElement(A_,T)),b.createElement($c.Provider,{value:Xe(Xe({},R),{},{hidePrev:!0})},b.createElement(A_,Ot({},T,{pickerValue:v,onPickerValueChange:y})))):b.createElement($c.Provider,{value:Xe({},R)},b.createElement(A_,T))}function _D(t){return typeof t=="function"?t():t}function N9(t){var e=t.prefixCls,n=t.presets,r=t.onClick,i=t.onHover;return n.length?b.createElement("div",{className:"".concat(e,"-presets")},b.createElement("ul",null,n.map(function(o,s){var a=o.label,u=o.value;return b.createElement("li",{key:s,onClick:function(){r(_D(u))},onMouseEnter:function(){i(_D(u))},onMouseLeave:function(){i(null)}},a)}))):null}function jV(t){var e=t.panelRender,n=t.internalMode,r=t.picker,i=t.showNow,o=t.range,s=t.multiple,a=t.activeOffset,u=a===void 0?0:a,c=t.placement,h=t.presets,g=t.onPresetHover,p=t.onPresetSubmit,v=t.onFocus,y=t.onBlur,R=t.onPanelMouseDown,S=t.direction,T=t.value,x=t.onSelect,O=t.isInvalid,A=t.defaultOpenValue,H=t.onOk,L=t.onSubmit,F=b.useContext(Aa),j=F.prefixCls,z="".concat(j,"-panel"),Y=S==="rtl",K=b.useRef(null),X=b.useRef(null),se=b.useState(0),ne=ke(se,2),J=ne[0],re=ne[1],ae=b.useState(0),G=ke(ae,2),oe=G[0],te=G[1],C=function(Pe){Pe.offsetWidth&&re(Pe.offsetWidth)};b.useEffect(function(){if(o){var Ae,Pe=((Ae=K.current)===null||Ae===void 0?void 0:Ae.offsetWidth)||0,Be=J-Pe;u<=Be?te(0):te(u+Pe-J)}},[J,u,o]);function E(Ae){return Ae.filter(function(Pe){return Pe})}var I=b.useMemo(function(){return E(Dh(T))},[T]),$=r==="time"&&!I.length,N=b.useMemo(function(){return $?E([A]):I},[$,I,A]),Z=$?A:I,ue=b.useMemo(function(){return N.length?N.some(function(Ae){return O(Ae)}):!0},[N,O]),me=function(){$&&x(A),H(),L()},Me=b.createElement("div",{className:"".concat(j,"-panel-layout")},b.createElement(N9,{prefixCls:j,presets:h,onClick:p,onHover:g}),b.createElement("div",null,b.createElement(D9,Ot({},t,{value:Z})),b.createElement(b9,Ot({},t,{showNow:s?!1:i,invalid:ue,onSubmit:me}))));e&&(Me=e(Me));var be="".concat(z,"-container"),le="marginLeft",Ee="marginRight",_e=b.createElement("div",{onMouseDown:R,tabIndex:-1,className:lt(be,"".concat(j,"-").concat(n,"-panel-container")),style:tt(tt({},Y?Ee:le,oe),Y?le:Ee,"auto"),onFocus:v,onBlur:y},Me);if(o){var ee=f0(c,Y),De=mV(ee,Y);_e=b.createElement("div",{onMouseDown:R,ref:X,className:lt("".concat(j,"-range-wrapper"),"".concat(j,"-").concat(r,"-range-wrapper"))},b.createElement("div",{ref:K,className:"".concat(j,"-range-arrow"),style:tt({},De,u)}),b.createElement(jv,{onResize:C},_e))}return _e}function zV(t,e){var n=t.format,r=t.maskFormat,i=t.generateConfig,o=t.locale,s=t.preserveInvalidOnBlur,a=t.inputReadOnly,u=t.required,c=t["aria-required"],h=t.onSubmit,g=t.onFocus,p=t.onBlur,v=t.onInputChange,y=t.onInvalid,R=t.open,S=t.onOpenChange,T=t.onKeyDown,x=t.onChange,O=t.activeHelp,A=t.name,H=t.autoComplete,L=t.id,F=t.value,j=t.invalid,z=t.placeholder,Y=t.disabled,K=t.activeIndex,X=t.allHelp,se=t.picker,ne=function(E,I){var $=i.locale.parse(o.locale,E,[I]);return $&&i.isValidate($)?$:null},J=n[0],re=b.useCallback(function(C){return bi(C,{locale:o,format:J,generateConfig:i})},[o,i,J]),ae=b.useMemo(function(){return F.map(re)},[F,re]),G=b.useMemo(function(){var C=se==="time"?8:10,E=typeof J=="function"?J(i.getNow()).length:J.length;return Math.max(C,E)+2},[J,se,i]),oe=function(E){for(var I=0;I<n.length;I+=1){var $=n[I];if(typeof $=="string"){var N=ne(E,$);if(N)return N}}return!1},te=function(E){function I(Z){return E!==void 0?Z[E]:Z}var $=Bc(t,{aria:!0,data:!0}),N=Xe(Xe({},$),{},{format:r,validateFormat:function(ue){return!!oe(ue)},preserveInvalidOnBlur:s,readOnly:a,required:u,"aria-required":c,name:A,autoComplete:H,size:G,id:I(L),value:I(ae)||"",invalid:I(j),placeholder:I(z),active:K===E,helped:X||O&&K===E,disabled:I(Y),onFocus:function(ue){g(ue,E)},onBlur:function(ue){p(ue,E)},onSubmit:h,onChange:function(ue){v();var me=oe(ue);if(me){y(!1,E),x(me,E);return}y(!!ue,E)},onHelp:function(){S(!0,{index:E})},onKeyDown:function(ue){var me=!1;if(T==null||T(ue,function(){me=!0}),!ue.defaultPrevented&&!me)switch(ue.key){case"Escape":S(!1,{index:E});break;case"Enter":R||S(!0);break}}},e==null?void 0:e({valueTexts:ae}));return Object.keys(N).forEach(function(Z){N[Z]===void 0&&delete N[Z]}),N};return[te,re]}var $9=["onMouseEnter","onMouseLeave"];function YV(t){return b.useMemo(function(){return g0(t,$9)},[t])}var L9=["icon","type"],k9=["onClear"];function w0(t){var e=t.icon,n=t.type,r=Ri(t,L9),i=b.useContext(Aa),o=i.prefixCls;return e?b.createElement("span",Ot({className:"".concat(o,"-").concat(n)},r),e):null}function ET(t){var e=t.onClear,n=Ri(t,k9);return b.createElement(w0,Ot({},n,{type:"clear",role:"button",onMouseDown:function(i){i.preventDefault()},onClick:function(i){i.stopPropagation(),e()}}))}var H_=["YYYY","MM","DD","HH","mm","ss","SSS"],MD="顧",F9=function(){function t(e){s0(this,t),tt(this,"format",void 0),tt(this,"maskFormat",void 0),tt(this,"cells",void 0),tt(this,"maskCells",void 0),this.format=e;var n=H_.map(function(a){return"(".concat(a,")")}).join("|"),r=new RegExp(n,"g");this.maskFormat=e.replace(r,function(a){return MD.repeat(a.length)});var i=new RegExp("(".concat(H_.join("|"),")")),o=(e.split(i)||[]).filter(function(a){return a}),s=0;this.cells=o.map(function(a){var u=H_.includes(a),c=s,h=s+a.length;return s=h,{text:a,mask:u,start:c,end:h}}),this.maskCells=this.cells.filter(function(a){return a.mask})}return a0(t,[{key:"getSelection",value:function(n){var r=this.maskCells[n]||{},i=r.start,o=r.end;return[i||0,o||0]}},{key:"match",value:function(n){for(var r=0;r<this.maskFormat.length;r+=1){var i=this.maskFormat[r],o=n[r];if(!o||i!==MD&&i!==o)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(n){for(var r=Number.MAX_SAFE_INTEGER,i=0,o=0;o<this.maskCells.length;o+=1){var s=this.maskCells[o],a=s.start,u=s.end;if(n>=a&&n<=u)return o;var c=Math.min(Math.abs(n-a),Math.abs(n-u));c<r&&(r=c,i=o)}return i}}]),t}();function V9(t){var e={YYYY:[0,9999,new Date().getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]};return e[t]}var W9=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],_T=b.forwardRef(function(t,e){var n=t.active,r=t.showActiveCls,i=r===void 0?!0:r,o=t.suffixIcon,s=t.format,a=t.validateFormat,u=t.onChange;t.onInput;var c=t.helped,h=t.onHelp,g=t.onSubmit,p=t.onKeyDown,v=t.preserveInvalidOnBlur,y=v===void 0?!1:v,R=t.invalid,S=t.clearIcon,T=Ri(t,W9),x=t.value,O=t.onFocus,A=t.onBlur,H=t.onMouseUp,L=b.useContext(Aa),F=L.prefixCls,j=L.input,z=j===void 0?"input":j,Y="".concat(F,"-input"),K=b.useState(!1),X=ke(K,2),se=X[0],ne=X[1],J=b.useState(x),re=ke(J,2),ae=re[0],G=re[1],oe=b.useState(""),te=ke(oe,2),C=te[0],E=te[1],I=b.useState(null),$=ke(I,2),N=$[0],Z=$[1],ue=b.useState(null),me=ke(ue,2),Me=me[0],be=me[1],le=ae||"";b.useEffect(function(){G(x)},[x]);var Ee=b.useRef(),_e=b.useRef();b.useImperativeHandle(e,function(){return{nativeElement:Ee.current,inputElement:_e.current,focus:function(xe){_e.current.focus(xe)},blur:function(){_e.current.blur()}}});var ee=b.useMemo(function(){return new F9(s||"")},[s]),De=b.useMemo(function(){return c?[0,0]:ee.getSelection(N)},[ee,N,c]),Ae=ke(De,2),Pe=Ae[0],Be=Ae[1],je=function(xe){xe&&xe!==s&&xe!==x&&h()},k=Jr(function(Ie){a(Ie)&&u(Ie),G(Ie),je(Ie)}),V=function(xe){if(!s){var ze=xe.target.value;je(ze),G(ze),u(ze)}},q=function(xe){var ze=xe.clipboardData.getData("text");a(ze)&&k(ze)},fe=b.useRef(!1),Q=function(){fe.current=!0},we=function(xe){var ze=xe.target,Ge=ze.selectionStart,Oe=ee.getMaskCellIndex(Ge);Z(Oe),be({}),H==null||H(xe),fe.current=!1},ce=function(xe){ne(!0),Z(0),E(""),O(xe)},ie=function(xe){A(xe)},ve=function(xe){ne(!1),ie(xe)};rI(n,function(){!n&&!y&&G(x)});var pe=function(xe){xe.key==="Enter"&&a(le)&&g(),p==null||p(xe)},ge=function(xe){pe(xe);var ze=xe.key,Ge=null,Oe=null,Ye=Be-Pe,wt=s.slice(Pe,Be),sn=function(At){Z(function(qe){var Ut=qe+At;return Ut=Math.max(Ut,0),Ut=Math.min(Ut,ee.size()-1),Ut})},Nt=function(At){var qe=V9(wt),Ut=ke(qe,3),Yt=Ut[0],qt=Ut[1],$n=Ut[2],_t=le.slice(Pe,Be),zn=Number(_t);if(isNaN(zn))return String($n||(At>0?Yt:qt));var it=zn+At,ft=qt-Yt+1;return String(Yt+(ft+it-Yt)%ft)};switch(ze){case"Backspace":case"Delete":Ge="",Oe=wt;break;case"ArrowLeft":Ge="",sn(-1);break;case"ArrowRight":Ge="",sn(1);break;case"ArrowUp":Ge="",Oe=Nt(1);break;case"ArrowDown":Ge="",Oe=Nt(-1);break;default:isNaN(Number(ze))||(Ge=C+ze,Oe=Ge);break}if(Ge!==null&&(E(Ge),Ge.length>=Ye&&(sn(1),E(""))),Oe!==null){var In=le.slice(0,Pe)+Jx(Oe,Ye)+le.slice(Be);k(In.slice(0,s.length))}be({})},$e=b.useRef();io(function(){if(!(!se||!s||fe.current)){if(!ee.match(le)){k(s);return}return _e.current.setSelectionRange(Pe,Be),$e.current=Er(function(){_e.current.setSelectionRange(Pe,Be)}),function(){Er.cancel($e.current)}}},[ee,s,se,le,N,Pe,Be,Me,k]);var Fe=s?{onFocus:ce,onBlur:ve,onKeyDown:ge,onMouseDown:Q,onMouseUp:we,onPaste:q}:{};return b.createElement("div",{ref:Ee,className:lt(Y,tt(tt({},"".concat(Y,"-active"),n&&i),"".concat(Y,"-placeholder"),c))},b.createElement(z,Ot({ref:_e,"aria-invalid":R,autoComplete:"off"},T,{onKeyDown:pe,onBlur:ie},Fe,{value:le,onChange:V})),b.createElement(w0,{type:"suffix",icon:o}),S)}),B9=["id","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveOffset","placement","onMouseDown","required","aria-required","autoFocus"],j9=["index"];function z9(t,e){var n=t.id,r=t.clearIcon,i=t.suffixIcon,o=t.separator,s=o===void 0?"~":o,a=t.activeIndex;t.activeHelp,t.allHelp;var u=t.focused;t.onFocus,t.onBlur,t.onKeyDown,t.locale,t.generateConfig;var c=t.placeholder,h=t.className,g=t.style,p=t.onClick,v=t.onClear,y=t.value;t.onChange,t.onSubmit,t.onInputChange,t.format,t.maskFormat,t.preserveInvalidOnBlur,t.onInvalid;var R=t.disabled,S=t.invalid;t.inputReadOnly;var T=t.direction;t.onOpenChange;var x=t.onActiveOffset,O=t.placement,A=t.onMouseDown;t.required,t["aria-required"];var H=t.autoFocus,L=Ri(t,B9),F=T==="rtl",j=b.useContext(Aa),z=j.prefixCls,Y=b.useMemo(function(){if(typeof n=="string")return[n];var le=n||{};return[le.start,le.end]},[n]),K=b.useRef(),X=b.useRef(),se=b.useRef(),ne=function(Ee){var _e;return(_e=[X,se][Ee])===null||_e===void 0?void 0:_e.current};b.useImperativeHandle(e,function(){return{nativeElement:K.current,focus:function(Ee){if(Wi(Ee)==="object"){var _e,ee=Ee||{},De=ee.index,Ae=De===void 0?0:De,Pe=Ri(ee,j9);(_e=ne(Ae))===null||_e===void 0||_e.focus(Pe)}else{var Be;(Be=ne(Ee??0))===null||Be===void 0||Be.focus()}},blur:function(){var Ee,_e;(Ee=ne(0))===null||Ee===void 0||Ee.blur(),(_e=ne(1))===null||_e===void 0||_e.blur()}}});var J=YV(L),re=b.useMemo(function(){return Array.isArray(c)?c:[c,c]},[c]),ae=zV(Xe(Xe({},t),{},{id:Y,placeholder:re})),G=ke(ae,1),oe=G[0],te=f0(O,F),C=mV(te,F),E=te==null?void 0:te.toLowerCase().endsWith("right"),I=b.useState({position:"absolute",width:0}),$=ke(I,2),N=$[0],Z=$[1],ue=Jr(function(){var le=ne(a);if(le){var Ee=le.nativeElement,_e=Ee.offsetWidth,ee=Ee.offsetLeft,De=Ee.offsetParent,Ae=(De==null?void 0:De.offsetWidth)||0,Pe=E?Ae-_e-ee:ee;Z(function(Be){return Xe(Xe({},Be),{},tt({width:_e},C,Pe))}),x(Pe)}});b.useEffect(function(){ue()},[a]);var me=r&&(y[0]&&!R[0]||y[1]&&!R[1]),Me=H&&!R[0],be=H&&!Me&&!R[1];return b.createElement(jv,{onResize:ue},b.createElement("div",Ot({},J,{className:lt(z,"".concat(z,"-range"),tt(tt(tt(tt({},"".concat(z,"-focused"),u),"".concat(z,"-disabled"),R.every(function(le){return le})),"".concat(z,"-invalid"),S.some(function(le){return le})),"".concat(z,"-rtl"),F),h),style:g,ref:K,onClick:p,onMouseDown:function(Ee){var _e=Ee.target;_e!==X.current.inputElement&&_e!==se.current.inputElement&&Ee.preventDefault(),A==null||A(Ee)}}),b.createElement(_T,Ot({ref:X},oe(0),{autoFocus:Me,"date-range":"start"})),b.createElement("div",{className:"".concat(z,"-range-separator")},s),b.createElement(_T,Ot({ref:se},oe(1),{autoFocus:be,"date-range":"end"})),b.createElement("div",{className:"".concat(z,"-active-bar"),style:N}),b.createElement(w0,{type:"suffix",icon:i}),me&&b.createElement(ET,{icon:r,onClear:v})))}var Y9=b.forwardRef(z9);function TD(t,e){var n=t??e;return Array.isArray(n)?n:[n,n]}function AC(t){return t===1?"end":"start"}function U9(t,e){var n=IV(t,function(){var Jt=t.disabled,Wt=t.allowEmpty,an=TD(Jt,!1),Mr=TD(Wt,!1);return{disabled:an,allowEmpty:Mr}}),r=ke(n,6),i=r[0],o=r[1],s=r[2],a=r[3],u=r[4],c=r[5],h=i.prefixCls,g=i.styles,p=i.classNames,v=i.placement,y=i.defaultValue,R=i.value,S=i.needConfirm,T=i.onKeyDown,x=i.disabled,O=i.allowEmpty,A=i.disabledDate,H=i.minDate,L=i.maxDate,F=i.defaultOpen,j=i.open,z=i.onOpenChange,Y=i.locale,K=i.generateConfig,X=i.picker,se=i.showNow,ne=i.showToday,J=i.showTime,re=i.mode,ae=i.onPanelChange,G=i.onCalendarChange,oe=i.onOk,te=i.defaultPickerValue,C=i.pickerValue,E=i.onPickerValueChange,I=i.inputReadOnly,$=i.suffixIcon,N=i.onFocus,Z=i.onBlur,ue=i.presets,me=i.ranges,Me=i.components,be=i.cellRender,le=i.dateRender,Ee=i.monthCellRender,_e=i.onClick,ee=PV(e),De=OV(j,F,x,z),Ae=ke(De,2),Pe=Ae[0],Be=Ae[1],je=function(Wt,an){(x.some(function(Mr){return!Mr})||!Wt)&&Be(Wt,an)},k=kV(K,Y,a,!0,!1,y,R,G,oe),V=ke(k,5),q=V[0],fe=V[1],Q=V[2],we=V[3],ce=V[4],ie=Q(),ve=HV(x,O,Pe),pe=ke(ve,7),ge=pe[0],$e=pe[1],Fe=pe[2],Ie=pe[3],xe=pe[4],ze=pe[5],Ge=pe[6],Oe=function(Wt,an){$e(!0),N==null||N(Wt,{range:AC(an??Ie)})},Ye=function(Wt,an){$e(!1),Z==null||Z(Wt,{range:AC(an??Ie)})},wt=b.useMemo(function(){if(!J)return null;var Jt=J.disabledTime,Wt=Jt?function(an){var Mr=AC(Ie),Gi=wV(ie,Ge,Ie);return Jt(an,Mr,{from:Gi})}:void 0;return Xe(Xe({},J),{},{disabledTime:Wt})},[J,Ie,ie,Ge]),sn=ro([X,X],{value:re}),Nt=ke(sn,2),In=Nt[0],wn=Nt[1],At=In[Ie]||X,qe=At==="date"&&wt?"datetime":At,Ut=qe===X&&qe!=="time",Yt=VV(X,At,se,ne,!0),qt=FV(i,q,fe,Q,we,x,a,ge,Pe,c),$n=ke(qt,2),_t=$n[0],zn=$n[1],it=v9(ie,x,Ge,K,Y,A),ft=yV(ie,c,O),Rt=ke(ft,2),ht=Rt[0],Tt=Rt[1],Xt=DV(K,Y,ie,In,Pe,Ie,o,Ut,te,C,wt==null?void 0:wt.defaultOpenValue,E,H,L),Ln=ke(Xt,2),tn=Ln[0],kn=Ln[1],Gt=Jr(function(Jt,Wt,an){var Mr=Gp(In,Ie,Wt);if((Mr[0]!==In[0]||Mr[1]!==In[1])&&wn(Mr),ae&&an!==!1){var Gi=ar(ie);Jt&&(Gi[Ie]=Jt),ae(Gi,Mr)}}),Mn=function(Wt,an){return Gp(ie,an,Wt)},Dr=function(Wt,an){var Mr=ie;Wt&&(Mr=Mn(Wt,Ie));var Gi=ze(Mr);we(Mr),_t(Ie,Gi===null),Gi===null?je(!1,{force:!0}):an||ee.current.focus({index:Gi})},ci=function(Wt){var an,Mr=Wt.target.getRootNode();if(!ee.current.nativeElement.contains((an=Mr.activeElement)!==null&&an!==void 0?an:document.activeElement)){var Gi=x.findIndex(function(Uh){return!Uh});Gi>=0&&ee.current.focus({index:Gi})}je(!0),_e==null||_e(Wt)},di=function(){zn(null),je(!1,{force:!0})},bt=b.useState(null),Ve=ke(bt,2),de=Ve[0],Ne=Ve[1],et=b.useState(null),Dt=ke(et,2),An=Dt[0],Xn=Dt[1],Vt=b.useMemo(function(){return An||ie},[ie,An]);b.useEffect(function(){Pe||Xn(null)},[Pe]);var Pr=b.useState(0),Hn=ke(Pr,2),Ni=Hn[0],Mo=Hn[1],ka=AV(ue,me),Fa=function(Wt){Xn(Wt),Ne("preset")},Wl=function(Wt){var an=zn(Wt);an&&je(!1,{force:!0})},Va=function(Wt){Dr(Wt)},Wa=function(Wt){Xn(Wt?Mn(Wt,Ie):null),Ne("cell")},Ba=function(Wt){je(!0),Oe(Wt)},qo=function(){Fe("panel")},vs=function(Wt){var an=Gp(ie,Ie,Wt);we(an),!S&&!s&&o===qe&&Dr(Wt)},on=function(){je(!1)},$t=eI(be,le,Ee,AC(Ie)),Nr=ie[Ie]||null,$r=Jr(function(Jt){return c(Jt,{activeIndex:Ie})}),ur=b.useMemo(function(){var Jt=Bc(i,!1),Wt=Hh(i,[].concat(ar(Object.keys(Jt)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]));return Wt},[i]),vt=b.createElement(jV,Ot({},ur,{showNow:Yt,showTime:wt,range:!0,multiplePanel:Ut,activeOffset:Ni,placement:v,disabledDate:it,onFocus:Ba,onBlur:Ye,onPanelMouseDown:qo,picker:X,mode:At,internalMode:qe,onPanelChange:Gt,format:u,value:Nr,isInvalid:$r,onChange:null,onSelect:vs,pickerValue:tn,defaultOpenValue:Dh(J==null?void 0:J.defaultOpenValue)[Ie],onPickerValueChange:kn,hoverValue:Vt,onHover:Wa,needConfirm:S,onSubmit:Dr,onOk:ce,presets:ka,onPresetHover:Fa,onPresetSubmit:Wl,onNow:Va,cellRender:$t})),St=function(Wt,an){var Mr=Mn(Wt,an);we(Mr)},Zn=function(){Fe("input")},pr=function(Wt,an){Fe("input"),je(!0,{inherit:!0}),Ie!==an&&Pe&&!S&&s&&Dr(null,!0),xe(an),Oe(Wt,an)},_r=function(Wt,an){if(je(!1),!S&&Fe()==="input"){var Mr=ze(ie);_t(Ie,Mr===null)}Ye(Wt,an)},so=function(Wt,an){Wt.key==="Tab"&&Dr(null,!0),T==null||T(Wt,an)},ao=b.useMemo(function(){return{prefixCls:h,locale:Y,generateConfig:K,button:Me.button,input:Me.input}},[h,Y,K,Me.button,Me.input]);return io(function(){Pe&&Ie!==void 0&&Gt(null,X,!1)},[Pe,Ie,X]),io(function(){var Jt=Fe();!Pe&&Jt==="input"&&(je(!1),Dr(null,!0)),!Pe&&s&&!S&&Jt==="panel"&&(je(!0),Dr())},[Pe]),b.createElement(Aa.Provider,{value:ao},b.createElement(pV,Ot({},CV(i),{popupElement:vt,popupStyle:g.popup,popupClassName:p.popup,visible:Pe,onClose:on,range:!0}),b.createElement(Y9,Ot({},i,{ref:ee,suffixIcon:$,activeIndex:ge||Pe?Ie:null,activeHelp:!!An,allHelp:!!An&&de==="preset",focused:ge,onFocus:pr,onBlur:_r,onKeyDown:so,onSubmit:Dr,value:Vt,maskFormat:u,onChange:St,onInputChange:Zn,format:a,inputReadOnly:I,disabled:x,open:Pe,onOpenChange:je,onClick:ci,onClear:di,invalid:ht,onInvalid:Tt,onActiveOffset:Mo}))))}var G9=b.forwardRef(U9);function K9(t){var e=t.prefixCls,n=t.value,r=t.onRemove,i=t.removeIcon,o=i===void 0?"×":i,s=t.formatDate,a=t.disabled,u=t.maxTagCount,c=t.placeholder,h="".concat(e,"-selector"),g="".concat(e,"-selection"),p="".concat(g,"-overflow");function v(S,T){return b.createElement("span",{className:lt("".concat(g,"-item")),title:typeof S=="string"?S:null},b.createElement("span",{className:"".concat(g,"-item-content")},S),!a&&T&&b.createElement("span",{onMouseDown:function(O){O.preventDefault()},onClick:T,className:"".concat(g,"-item-remove")},o))}function y(S){var T=s(S),x=function(A){A&&A.stopPropagation(),r(S)};return v(T,x)}function R(S){var T="+ ".concat(S.length," ...");return v(T)}return b.createElement("div",{className:h},b.createElement(_F,{prefixCls:p,data:n,renderItem:y,renderRest:R,itemKey:function(T){return s(T)},maxCount:u}),!n.length&&b.createElement("span",{className:"".concat(e,"-selection-placeholder")},c))}var q9=["id","open","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","removeIcon"];function X9(t,e){t.id;var n=t.open,r=t.clearIcon,i=t.suffixIcon;t.activeHelp,t.allHelp;var o=t.focused;t.onFocus,t.onBlur,t.onKeyDown;var s=t.locale,a=t.generateConfig,u=t.placeholder,c=t.className,h=t.style,g=t.onClick,p=t.onClear,v=t.internalPicker,y=t.value,R=t.onChange,S=t.onSubmit;t.onInputChange;var T=t.multiple,x=t.maxTagCount;t.format,t.maskFormat,t.preserveInvalidOnBlur,t.onInvalid;var O=t.disabled,A=t.invalid;t.inputReadOnly;var H=t.direction;t.onOpenChange;var L=t.onMouseDown;t.required,t["aria-required"];var F=t.autoFocus,j=t.removeIcon,z=Ri(t,q9),Y=H==="rtl",K=b.useContext(Aa),X=K.prefixCls,se=b.useRef(),ne=b.useRef();b.useImperativeHandle(e,function(){return{nativeElement:se.current,focus:function(N){var Z;(Z=ne.current)===null||Z===void 0||Z.focus(N)},blur:function(){var N;(N=ne.current)===null||N===void 0||N.blur()}}});var J=YV(z),re=function(N){R([N])},ae=function(N){var Z=y.filter(function(ue){return ue&&!no(a,s,ue,N,v)});R(Z),n||S()},G=zV(Xe(Xe({},t),{},{onChange:re}),function($){var N=$.valueTexts;return{value:N[0]||"",active:o}}),oe=ke(G,2),te=oe[0],C=oe[1],E=!!(r&&y.length&&!O),I=T?b.createElement(b.Fragment,null,b.createElement(K9,{prefixCls:X,value:y,onRemove:ae,formatDate:C,maxTagCount:x,disabled:O,removeIcon:j,placeholder:u}),b.createElement("input",{className:"".concat(X,"-multiple-input"),value:y.map(C).join(","),ref:ne,readOnly:!0,autoFocus:F}),b.createElement(w0,{type:"suffix",icon:i}),E&&b.createElement(ET,{icon:r,onClear:p})):b.createElement(_T,Ot({ref:ne},te(),{autoFocus:F,suffixIcon:i,clearIcon:E&&b.createElement(ET,{icon:r,onClear:p}),showActiveCls:!1}));return b.createElement("div",Ot({},J,{className:lt(X,tt(tt(tt(tt(tt({},"".concat(X,"-multiple"),T),"".concat(X,"-focused"),o),"".concat(X,"-disabled"),O),"".concat(X,"-invalid"),A),"".concat(X,"-rtl"),Y),c),style:h,ref:se,onClick:g,onMouseDown:function(N){var Z,ue=N.target;ue!==((Z=ne.current)===null||Z===void 0?void 0:Z.inputElement)&&N.preventDefault(),L==null||L(N)}}),I)}var Z9=b.forwardRef(X9);function Q9(t,e){var n=IV(t),r=ke(n,6),i=r[0],o=r[1],s=r[2],a=r[3],u=r[4],c=r[5],h=i,g=h.prefixCls,p=h.styles,v=h.classNames,y=h.order,R=h.defaultValue,S=h.value,T=h.needConfirm,x=h.onChange,O=h.onKeyDown,A=h.disabled,H=h.disabledDate,L=h.minDate,F=h.maxDate,j=h.defaultOpen,z=h.open,Y=h.onOpenChange,K=h.locale,X=h.generateConfig,se=h.picker,ne=h.showNow,J=h.showToday,re=h.showTime,ae=h.mode,G=h.onPanelChange,oe=h.onCalendarChange,te=h.onOk,C=h.multiple,E=h.defaultPickerValue,I=h.pickerValue,$=h.onPickerValueChange,N=h.inputReadOnly,Z=h.suffixIcon,ue=h.removeIcon,me=h.onFocus,Me=h.onBlur,be=h.presets,le=h.components,Ee=h.cellRender,_e=h.dateRender,ee=h.monthCellRender,De=h.onClick,Ae=PV(e);function Pe(vt){return vt===null?null:C?vt:vt[0]}var Be=WV(X,K,o),je=OV(z,j,[A],Y),k=ke(je,2),V=k[0],q=k[1],fe=function(St,Zn,pr){if(oe){var _r=Xe({},pr);delete _r.range,oe(Pe(St),Pe(Zn),_r)}},Q=function(St){te==null||te(Pe(St))},we=kV(X,K,a,!1,y,R,S,fe,Q),ce=ke(we,5),ie=ce[0],ve=ce[1],pe=ce[2],ge=ce[3],$e=ce[4],Fe=pe(),Ie=HV([A]),xe=ke(Ie,4),ze=xe[0],Ge=xe[1],Oe=xe[2],Ye=xe[3],wt=function(St){Ge(!0),me==null||me(St,{})},sn=function(St){Ge(!1),Me==null||Me(St,{})},Nt=ro(se,{value:ae}),In=ke(Nt,2),wn=In[0],At=In[1],qe=wn==="date"&&re?"datetime":wn,Ut=VV(se,wn,ne,J),Yt=x&&function(vt,St){x(Pe(vt),Pe(St))},qt=FV(Xe(Xe({},i),{},{onChange:Yt}),ie,ve,pe,ge,[],a,ze,V,c),$n=ke(qt,2),_t=$n[1],zn=yV(Fe,c),it=ke(zn,2),ft=it[0],Rt=it[1],ht=b.useMemo(function(){return ft.some(function(vt){return vt})},[ft]),Tt=function(St,Zn){if($){var pr=Xe(Xe({},Zn),{},{mode:Zn.mode[0]});delete pr.range,$(St[0],pr)}},Xt=DV(X,K,Fe,[wn],V,Ye,o,!1,E,I,Dh(re==null?void 0:re.defaultOpenValue),Tt,L,F),Ln=ke(Xt,2),tn=Ln[0],kn=Ln[1],Gt=Jr(function(vt,St,Zn){if(At(St),G&&Zn!==!1){var pr=vt||Fe[Fe.length-1];G(pr,St)}}),Mn=function(){_t(pe()),q(!1,{force:!0})},Dr=function(St){!A&&!Ae.current.nativeElement.contains(document.activeElement)&&Ae.current.focus(),q(!0),De==null||De(St)},ci=function(){_t(null),q(!1,{force:!0})},di=b.useState(null),bt=ke(di,2),Ve=bt[0],de=bt[1],Ne=b.useState(null),et=ke(Ne,2),Dt=et[0],An=et[1],Xn=b.useMemo(function(){var vt=[Dt].concat(ar(Fe)).filter(function(St){return St});return C?vt:vt.slice(0,1)},[Fe,Dt,C]),Vt=b.useMemo(function(){return!C&&Dt?[Dt]:Fe.filter(function(vt){return vt})},[Fe,Dt,C]);b.useEffect(function(){V||An(null)},[V]);var Pr=AV(be),Hn=function(St){An(St),de("preset")},Ni=function(St){var Zn=C?Be(pe(),St):[St],pr=_t(Zn);pr&&!C&&q(!1,{force:!0})},Mo=function(St){Ni(St)},ka=function(St){An(St),de("cell")},Fa=function(St){q(!0),wt(St)},Wl=function(St){Oe("panel");var Zn=C?Be(pe(),St):[St];ge(Zn),!T&&!s&&o===qe&&Mn()},Va=function(){q(!1)},Wa=eI(Ee,_e,ee),Ba=b.useMemo(function(){var vt=Bc(i,!1),St=Hh(i,[].concat(ar(Object.keys(vt)),["onChange","onCalendarChange","style","className","onPanelChange"]));return Xe(Xe({},St),{},{multiple:i.multiple})},[i]),qo=b.createElement(jV,Ot({},Ba,{showNow:Ut,showTime:re,disabledDate:H,onFocus:Fa,onBlur:sn,picker:se,mode:wn,internalMode:qe,onPanelChange:Gt,format:u,value:Fe,isInvalid:c,onChange:null,onSelect:Wl,pickerValue:tn,defaultOpenValue:re==null?void 0:re.defaultOpenValue,onPickerValueChange:kn,hoverValue:Xn,onHover:ka,needConfirm:T,onSubmit:Mn,onOk:$e,presets:Pr,onPresetHover:Hn,onPresetSubmit:Ni,onNow:Mo,cellRender:Wa})),vs=function(St){ge(St)},on=function(){Oe("input")},$t=function(St){Oe("input"),q(!0,{inherit:!0}),wt(St)},Nr=function(St){q(!1),sn(St)},$r=function(St,Zn){St.key==="Tab"&&Mn(),O==null||O(St,Zn)},ur=b.useMemo(function(){return{prefixCls:g,locale:K,generateConfig:X,button:le.button,input:le.input}},[g,K,X,le.button,le.input]);return io(function(){V&&Ye!==void 0&&Gt(null,se,!1)},[V,Ye,se]),io(function(){var vt=Oe();!V&&vt==="input"&&(q(!1),Mn()),!V&&s&&!T&&vt==="panel"&&(q(!0),Mn())},[V]),b.createElement(Aa.Provider,{value:ur},b.createElement(pV,Ot({},CV(i),{popupElement:qo,popupStyle:p.popup,popupClassName:v.popup,visible:V,onClose:Va}),b.createElement(Z9,Ot({},i,{ref:Ae,suffixIcon:Z,removeIcon:ue,activeHelp:!!Dt,allHelp:!!Dt&&Ve==="preset",focused:ze,onFocus:$t,onBlur:Nr,onKeyDown:$r,onSubmit:Mn,value:Vt,maskFormat:u,onChange:vs,onInputChange:on,internalPicker:o,format:a,inputReadOnly:N,disabled:A,open:V,onOpenChange:q,onClick:Dr,onClear:ci,invalid:ht,onInvalid:function(St){Rt(St,0)}}))))}var J9=b.forwardRef(Q9);function oI(t){return Vi(t,{inputAffixPadding:t.paddingXXS})}const sI=t=>{const{controlHeight:e,fontSize:n,lineHeight:r,lineWidth:i,controlHeightSM:o,controlHeightLG:s,fontSizeLG:a,lineHeightLG:u,paddingSM:c,controlPaddingHorizontalSM:h,controlPaddingHorizontal:g,colorFillAlter:p,colorPrimaryHover:v,colorPrimary:y,controlOutlineWidth:R,controlOutline:S,colorErrorOutline:T,colorWarningOutline:x,colorBgContainer:O}=t;return{paddingBlock:Math.max(Math.round((e-n*r)/2*10)/10-i,0),paddingBlockSM:Math.max(Math.round((o-n*r)/2*10)/10-i,0),paddingBlockLG:Math.ceil((s-a*u)/2*10)/10-i,paddingInline:c-i,paddingInlineSM:h-i,paddingInlineLG:g-i,addonBg:p,activeBorderColor:y,hoverBorderColor:v,activeShadow:`0 0 0 ${R}px ${S}`,errorActiveShadow:`0 0 0 ${R}px ${T}`,warningActiveShadow:`0 0 0 ${R}px ${x}`,hoverBg:O,activeBg:O,inputFontSize:n,inputFontSizeLG:a,inputFontSizeSM:n}},eq=t=>({borderColor:t.hoverBorderColor,backgroundColor:t.hoverBg}),aI=t=>({color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},eq(Vi(t,{hoverBorderColor:t.colorBorder,hoverBg:t.colorBgContainerDisabled})))}),UV=(t,e)=>({background:t.colorBgContainer,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:t.activeBg}}),xD=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},UV(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}}),[`&${t.componentCls}-status-${e.status}${t.componentCls}-disabled`]:{borderColor:e.borderColor}}),GV=(t,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},UV(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},aI(t))}),xD(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),xD(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),ID=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),tq=t=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.addonBg,border:`${at(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},ID(t,{status:"error",addonBorderColor:t.colorError,addonColor:t.colorErrorText})),ID(t,{status:"warning",addonBorderColor:t.colorWarning,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group-addon`]:Object.assign({},aI(t))}})}),KV=(t,e)=>{const{componentCls:n}=t;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:t.colorTextDisabled},[`&${n}-status-error`]:{"&, & input, & textarea":{color:t.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:t.colorWarning}}},e)}},qV=(t,e)=>({background:e.bg,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:e==null?void 0:e.inputColor},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:t.activeBg}}),OD=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},qV(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}})}),XV=(t,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},qV(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},aI(t))}),OD(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,inputColor:t.colorErrorText,affixColor:t.colorError})),OD(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,inputColor:t.colorWarningText,affixColor:t.colorWarning})),e)}),PD=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),nq=t=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary},[`${t.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${at(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${at(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}}},PD(t,{status:"error",addonBg:t.colorErrorBg,addonColor:t.colorErrorText})),PD(t,{status:"warning",addonBg:t.colorWarningBg,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary,color:t.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${at(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${at(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${at(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${at(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${at(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${at(t.lineWidth)} ${t.lineType} ${t.colorBorder}`}}}})}),ZV=t=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),QV=t=>{const{paddingBlockLG:e,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:i}=t;return{padding:`${at(e)} ${at(i)}`,fontSize:t.inputFontSizeLG,lineHeight:n,borderRadius:r}},JV=t=>({padding:`${at(t.paddingBlockSM)} ${at(t.paddingInlineSM)}`,fontSize:t.inputFontSizeSM,borderRadius:t.borderRadiusSM}),e2=t=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${at(t.paddingBlock)} ${at(t.paddingInline)}`,color:t.colorText,fontSize:t.inputFontSize,lineHeight:t.lineHeight,borderRadius:t.borderRadius,transition:`all ${t.motionDurationMid}`},ZV(t.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:`all ${t.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},QV(t)),"&-sm":Object.assign({},JV(t)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),rq=t=>{const{componentCls:e,antCls:n}=t;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:t.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},QV(t)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},JV(t)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${at(t.paddingInline)}`,color:t.colorText,fontWeight:"normal",fontSize:t.inputFontSize,textAlign:"center",borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${at(t.calc(t.paddingBlock).add(1).mul(-1).equal())} ${at(t.calc(t.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${at(t.lineWidth)} ${t.lineType} transparent`,boxShadow:"none"}}},[`${n}-cascader-picker`]:{margin:`-9px ${at(t.calc(t.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[e]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},x5()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:t.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderInlineEndWidth:t.lineWidth},[e]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${e},
      & > ${n}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:t.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${e},
      & > ${n}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${e},
      & > ${n}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:t.lineWidth,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius},[`& > ${n}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:t.calc(t.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:t.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:t.borderRadius}}}})}},iq=t=>{const{componentCls:e,controlHeightSM:n,lineWidth:r,calc:i}=t,s=i(n).sub(i(r).mul(2)).sub(16).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},yh(t)),e2(t)),GV(t)),XV(t)),KV(t)),{'&[type="color"]':{height:t.controlHeight,[`&${e}-lg`]:{height:t.controlHeightLG},[`&${e}-sm`]:{height:n,paddingTop:s,paddingBottom:s}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},oq=t=>{const{componentCls:e}=t;return{[`${e}-clear-icon`]:{margin:0,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"&:hover":{color:t.colorTextTertiary},"&:active":{color:t.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${at(t.inputAffixPadding)}`}}}},sq=t=>{const{componentCls:e,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:o,colorIconHover:s,iconCls:a}=t,u=`${e}-affix-wrapper`,c=`${e}-affix-wrapper-disabled`;return{[u]:Object.assign(Object.assign(Object.assign(Object.assign({},e2(t)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:t.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:t.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),oq(t)),{[`${a}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:s}}}),[c]:{[`${a}${e}-password-icon`]:{color:o,cursor:"not-allowed","&:hover":{color:o}}}}},aq=t=>{const{componentCls:e,borderRadiusLG:n,borderRadiusSM:r}=t;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},yh(t)),rq(t)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:n,fontSize:t.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:r}}},tq(t)),nq(t)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},lq=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-search`;return{[r]:{[e]:{"&:hover, &:focus":{[`+ ${e}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:t.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{height:t.controlHeight,borderRadius:0},[`${e}-lg`]:{lineHeight:t.calc(t.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-primary)`]:{color:t.colorTextDescription,"&:hover":{color:t.colorPrimaryHover},"&:active":{color:t.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:t.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${e}-affix-wrapper, ${r}-button`]:{height:t.controlHeightLG}},"&-small":{[`${e}-affix-wrapper, ${r}-button`]:{height:t.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},uq=t=>{const{componentCls:e,paddingLG:n}=t,r=`${e}-textarea`;return{[r]:{position:"relative","&-show-count":{[`> ${e}`]:{height:"100%"},[`${e}-data-count`]:{position:"absolute",bottom:t.calc(t.fontSize).mul(t.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:t.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${e},
        &-affix-wrapper${r}-has-feedback ${e}
      `]:{paddingInlineEnd:n},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:t.paddingInline,insetBlockStart:t.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:t.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${e}-affix-wrapper-sm`]:{[`${e}-suffix`]:{[`${e}-clear-icon`]:{insetInlineEnd:t.paddingInlineSM}}}}}},cq=t=>{const{componentCls:e}=t;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:t.colorError}}}},lI=kg("Input",t=>{const e=Vi(t,oI(t));return[iq(e),uq(e),sq(e),aq(e),lq(e),cq(e),d0(e)]},sI,{resetFont:!1}),D_=(t,e)=>{const{componentCls:n,controlHeight:r}=t,i=e?`${n}-${e}`:"",o=nV(t);return[{[`${n}-multiple${i}`]:{paddingBlock:o.containerPadding,paddingInlineStart:o.basePadding,minHeight:r,[`${n}-selection-item`]:{height:o.itemHeight,lineHeight:at(o.itemLineHeight)}}}]},dq=t=>{const{componentCls:e,calc:n,lineWidth:r}=t,i=Vi(t,{fontHeight:t.fontSize,selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.multipleItemHeightSM,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS,controlHeight:t.controlHeightSM}),o=Vi(t,{fontHeight:n(t.multipleItemHeightLG).sub(n(r).mul(2).equal()).equal(),fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius,controlHeight:t.controlHeightLG});return[D_(i,"small"),D_(t),D_(o,"large"),{[`${e}${e}-multiple`]:Object.assign(Object.assign({width:"100%",cursor:"text",[`${e}-selector`]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},[`${e}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:t.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}}},rV(t)),{[`${e}-multiple-input`]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},hq=t=>{const{pickerCellCls:e,pickerCellInnerCls:n,cellHeight:r,borderRadiusSM:i,motionDurationMid:o,cellHoverBg:s,lineWidth:a,lineType:u,colorPrimary:c,cellActiveWithRangeBg:h,colorTextLightSolid:g,colorTextDisabled:p,cellBgDisabled:v,colorFillSecondary:y}=t;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:r,transform:"translateY(-50%)",content:'""'},[n]:{position:"relative",zIndex:2,display:"inline-block",minWidth:r,height:r,lineHeight:at(r),borderRadius:i,transition:`background ${o}`},[`&:hover:not(${e}-in-view),
    &:hover:not(${e}-selected):not(${e}-range-start):not(${e}-range-end)`]:{[n]:{background:s}},[`&-in-view${e}-today ${n}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${at(a)} ${u} ${c}`,borderRadius:i,content:'""'}},[`&-in-view${e}-in-range,
      &-in-view${e}-range-start,
      &-in-view${e}-range-end`]:{position:"relative",[`&:not(${e}-disabled):before`]:{background:h}},[`&-in-view${e}-selected,
      &-in-view${e}-range-start,
      &-in-view${e}-range-end`]:{[`&:not(${e}-disabled) ${n}`]:{color:g,background:c},[`&${e}-disabled ${n}`]:{background:y}},[`&-in-view${e}-range-start:not(${e}-disabled):before`]:{insetInlineStart:"50%"},[`&-in-view${e}-range-end:not(${e}-disabled):before`]:{insetInlineEnd:"50%"},[`&-in-view${e}-range-start:not(${e}-range-end) ${n}`]:{borderStartStartRadius:i,borderEndStartRadius:i,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${e}-range-end:not(${e}-range-start) ${n}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:i,borderEndEndRadius:i},"&-disabled":{color:p,pointerEvents:"none",[n]:{background:"transparent"},"&::before":{background:v}},[`&-disabled${e}-today ${n}::before`]:{borderColor:p}}},fq=t=>{const{componentCls:e,pickerCellCls:n,pickerCellInnerCls:r,pickerYearMonthCellWidth:i,pickerControlIconSize:o,cellWidth:s,paddingSM:a,paddingXS:u,paddingXXS:c,colorBgContainer:h,lineWidth:g,lineType:p,borderRadiusLG:v,colorPrimary:y,colorTextHeading:R,colorSplit:S,pickerControlIconBorderWidth:T,colorIcon:x,textHeight:O,motionDurationMid:A,colorIconHover:H,fontWeightStrong:L,cellHeight:F,pickerCellPaddingVertical:j,colorTextDisabled:z,colorText:Y,fontSize:K,motionDurationSlow:X,withoutTimeCellHeight:se,pickerQuarterPanelContentHeight:ne,borderRadiusSM:J,colorTextLightSolid:re,cellHoverBg:ae,timeColumnHeight:G,timeColumnWidth:oe,timeCellHeight:te,controlItemBgActive:C,marginXXS:E,pickerDatePanelPaddingHorizontal:I,pickerControlIconMargin:$}=t,N=t.calc(s).mul(7).add(t.calc(I).mul(2)).equal();return{[e]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:h,borderRadius:v,outline:"none","&-focused":{borderColor:y},"&-rtl":{[`${e}-prev-icon,
              ${e}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${e}-next-icon,
              ${e}-super-next-icon`]:{transform:"rotate(-135deg)"},[`${e}-time-panel`]:{[`${e}-content`]:{direction:"ltr","> *":{direction:"rtl"}}}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:N},"&-header":{display:"flex",padding:`0 ${at(u)}`,color:R,borderBottom:`${at(g)} ${p} ${S}`,"> *":{flex:"none"},button:{padding:0,color:x,lineHeight:at(O),background:"transparent",border:0,cursor:"pointer",transition:`color ${A}`,fontSize:"inherit",display:"inline-flex",alignItems:"center",justifyContent:"center"},"> button":{minWidth:"1.6em",fontSize:K,"&:hover":{color:H},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:L,lineHeight:at(O),"> button":{color:"inherit",fontWeight:"inherit","&:not(:first-child)":{marginInlineStart:u},"&:hover":{color:y}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",width:o,height:o,"&::before":{position:"absolute",top:0,insetInlineStart:0,width:o,height:o,border:"0 solid currentcolor",borderBlockWidth:`${at(T)} 0`,borderInlineWidth:`${at(T)} 0`,content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:$,insetInlineStart:$,display:"inline-block",width:o,height:o,border:"0 solid currentcolor",borderBlockWidth:`${at(T)} 0`,borderInlineWidth:`${at(T)} 0`,content:'""'}},"&-prev-icon, &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon, &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:F,fontWeight:"normal"},th:{height:t.calc(F).add(t.calc(j).mul(2)).equal(),color:Y,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${at(j)} 0`,color:z,cursor:"pointer","&-in-view":{color:Y}},hq(t)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${e}-content`]:{height:t.calc(se).mul(4).equal()},[r]:{padding:`0 ${at(u)}`}},"&-quarter-panel":{[`${e}-content`]:{height:ne}},"&-decade-panel":{[r]:{padding:`0 ${at(t.calc(u).div(2).equal())}`},[`${e}-cell::before`]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${e}-body`]:{padding:`0 ${at(u)}`},[r]:{width:i}},"&-date-panel":{[`${e}-body`]:{padding:`${at(u)} ${at(I)}`},[`${e}-content th`]:{boxSizing:"border-box",padding:0}},"&-week-panel":{[`${e}-cell`]:{[`&:hover ${r},
            &-selected ${r},
            ${r}`]:{background:"transparent !important"}},"&-row":{td:{"&:before":{transition:`background ${A}`},"&:first-child:before":{borderStartStartRadius:J,borderEndStartRadius:J},"&:last-child:before":{borderStartEndRadius:J,borderEndEndRadius:J}},"&:hover td":{"&:before":{background:ae}},"&-range-start td, &-range-end td, &-selected td, &-hover td":{[`&${n}`]:{"&:before":{background:y},[`&${e}-cell-week`]:{color:new Nc(re).setAlpha(.5).toHexString()},[r]:{color:re}}},"&-range-hover td:before":{background:C}}},"&-week-panel, &-date-panel-show-week":{[`${e}-body`]:{padding:`${at(u)} ${at(a)}`},[`${e}-content th`]:{width:"auto"}},"&-datetime-panel":{display:"flex",[`${e}-time-panel`]:{borderInlineStart:`${at(g)} ${p} ${S}`},[`${e}-date-panel,
          ${e}-time-panel`]:{transition:`opacity ${X}`},"&-active":{[`${e}-date-panel,
            ${e}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",[`${e}-content`]:{display:"flex",flex:"auto",height:G},"&-column":{flex:"1 0 auto",width:oe,margin:`${at(c)} 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${A}`,overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:t.colorTextTertiary,borderRadius:t.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:`${t.colorTextTertiary} transparent`},"&::after":{display:"block",height:t.calc("100%").sub(te).equal(),content:'""'},"&:not(:first-child)":{borderInlineStart:`${at(g)} ${p} ${S}`},"&-active":{background:new Nc(C).setAlpha(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${e}-time-panel-cell`]:{marginInline:E,[`${e}-time-panel-cell-inner`]:{display:"block",width:t.calc(oe).sub(t.calc(E).mul(2)).equal(),height:te,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:t.calc(oe).sub(te).div(2).equal(),color:Y,lineHeight:at(te),borderRadius:J,cursor:"pointer",transition:`background ${A}`,"&:hover":{background:ae}},"&-selected":{[`${e}-time-panel-cell-inner`]:{background:C}},"&-disabled":{[`${e}-time-panel-cell-inner`]:{color:z,background:"transparent",cursor:"not-allowed"}}}}}}}}},gq=t=>{const{componentCls:e,textHeight:n,lineWidth:r,paddingSM:i,antCls:o,colorPrimary:s,cellActiveWithRangeBg:a,colorPrimaryBorder:u,lineType:c,colorSplit:h}=t;return{[`${e}-dropdown`]:{[`${e}-footer`]:{borderTop:`${at(r)} ${c} ${h}`,"&-extra":{padding:`0 ${at(i)}`,lineHeight:at(t.calc(n).sub(t.calc(r).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:`${at(r)} ${c} ${h}`}}},[`${e}-panels + ${e}-footer ${e}-ranges`]:{justifyContent:"space-between"},[`${e}-ranges`]:{marginBlock:0,paddingInline:at(i),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:at(t.calc(n).sub(t.calc(r).mul(2)).equal()),display:"inline-block"},[`${e}-now-btn-disabled`]:{pointerEvents:"none",color:t.colorTextDisabled},[`${e}-preset > ${o}-tag-blue`]:{color:s,background:a,borderColor:u,cursor:"pointer"},[`${e}-ok`]:{paddingBlock:t.calc(r).mul(2).equal(),marginInlineStart:"auto"}}}}},mq=t=>{const{componentCls:e,controlHeightLG:n,paddingXXS:r,padding:i}=t;return{pickerCellCls:`${e}-cell`,pickerCellInnerCls:`${e}-cell-inner`,pickerYearMonthCellWidth:t.calc(n).mul(1.5).equal(),pickerQuarterPanelContentHeight:t.calc(n).mul(1.4).equal(),pickerCellPaddingVertical:t.calc(r).add(t.calc(r).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:t.calc(i).add(t.calc(r).div(2)).equal()}},pq=t=>{const{colorBgContainerDisabled:e,controlHeight:n,controlHeightSM:r,controlHeightLG:i,paddingXXS:o,lineWidth:s}=t,a=o*2,u=s*2,c=Math.min(n-a,n-u),h=Math.min(r-a,r-u),g=Math.min(i-a,i-u);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(o/2),cellHoverBg:t.controlItemBgHover,cellActiveWithRangeBg:t.controlItemBgActive,cellHoverWithRangeBg:new Nc(t.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new Nc(t.colorPrimary).lighten(20).toHexString(),cellBgDisabled:e,timeColumnWidth:i*1.4,timeColumnHeight:28*8,timeCellHeight:28,cellWidth:r*1.5,cellHeight:r,textHeight:i,withoutTimeCellHeight:i*1.65,multipleItemBg:t.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:c,multipleItemHeightSM:h,multipleItemHeightLG:g,multipleSelectorBgDisabled:e,multipleItemColorDisabled:t.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}},vq=t=>Object.assign(Object.assign(Object.assign(Object.assign({},sI(t)),pq(t)),I5(t)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:t.zIndexPopupBase+50}),wq=t=>{const{componentCls:e}=t;return{[e]:[Object.assign(Object.assign(Object.assign({},GV(t)),XV(t)),KV(t)),{"&-outlined":{[`&${e}-multiple ${e}-selection-item`]:{background:t.multipleItemBg,border:`${at(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}},"&-filled":{[`&${e}-multiple ${e}-selection-item`]:{background:t.colorBgContainer,border:`${at(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}},"&-borderless":{[`&${e}-multiple ${e}-selection-item`]:{background:t.multipleItemBg,border:`${at(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}}}]}},N_=(t,e,n,r)=>{const i=t.calc(n).add(2).equal(),o=t.max(t.calc(e).sub(i).div(2).equal(),0),s=t.max(t.calc(e).sub(i).sub(o).equal(),0);return{padding:`${at(o)} ${at(r)} ${at(s)}`}},Cq=t=>{const{componentCls:e,colorError:n,colorWarning:r}=t;return{[`${e}:not(${e}-disabled):not([disabled])`]:{[`&${e}-status-error`]:{[`${e}-active-bar`]:{background:n}},[`&${e}-status-warning`]:{[`${e}-active-bar`]:{background:r}}}}},yq=t=>{const{componentCls:e,antCls:n,controlHeight:r,paddingInline:i,lineWidth:o,lineType:s,colorBorder:a,borderRadius:u,motionDurationMid:c,colorTextDisabled:h,colorTextPlaceholder:g,controlHeightLG:p,fontSizeLG:v,controlHeightSM:y,paddingInlineSM:R,paddingXS:S,marginXS:T,colorTextDescription:x,lineWidthBold:O,colorPrimary:A,motionDurationSlow:H,zIndexPopup:L,paddingXXS:F,sizePopupArrow:j,colorBgElevated:z,borderRadiusLG:Y,boxShadowSecondary:K,borderRadiusSM:X,colorSplit:se,cellHoverBg:ne,presetsWidth:J,presetsMaxWidth:re,boxShadowPopoverArrow:ae,fontHeight:G,fontHeightLG:oe,lineHeightLG:te}=t;return[{[e]:Object.assign(Object.assign(Object.assign({},yh(t)),N_(t,r,G,i)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:u,transition:`border ${c}, box-shadow ${c}, background ${c}`,[`${e}-input`]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:t.fontSize,lineHeight:t.lineHeight,transition:`all ${c}`},ZV(g)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:h,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:g}}},"&-large":Object.assign(Object.assign({},N_(t,p,oe,i)),{[`${e}-input > input`]:{fontSize:v,lineHeight:te}}),"&-small":Object.assign({},N_(t,y,G,R)),[`${e}-suffix`]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:t.calc(S).div(2).equal(),color:h,lineHeight:1,pointerEvents:"none",transition:`opacity ${c}, color ${c}`,"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:T}}},[`${e}-clear`]:{position:"absolute",top:"50%",insetInlineEnd:0,color:h,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:`opacity ${c}, color ${c}`,"> *":{verticalAlign:"top"},"&:hover":{color:x}},"&:hover":{[`${e}-clear`]:{opacity:1},[`${e}-suffix:not(:last-child)`]:{opacity:0}},[`${e}-separator`]:{position:"relative",display:"inline-block",width:"1em",height:v,color:h,fontSize:v,verticalAlign:"top",cursor:"default",[`${e}-focused &`]:{color:x},[`${e}-range-separator &`]:{[`${e}-disabled &`]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",[`${e}-active-bar`]:{bottom:t.calc(o).mul(-1).equal(),height:O,background:A,opacity:0,transition:`all ${H} ease-out`,pointerEvents:"none"},[`&${e}-focused`]:{[`${e}-active-bar`]:{opacity:1}},[`${e}-range-separator`]:{alignItems:"center",padding:`0 ${at(S)}`,lineHeight:1}},"&-range, &-multiple":{[`${e}-clear`]:{insetInlineEnd:i},[`&${e}-small`]:{[`${e}-clear`]:{insetInlineEnd:R}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},yh(t)),fq(t)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:L,[`&${e}-dropdown-hidden`]:{display:"none"},"&-rtl":{direction:"rtl"},[`&${e}-dropdown-placement-bottomLeft,
            &${e}-dropdown-placement-bottomRight`]:{[`${e}-range-arrow`]:{top:0,display:"block",transform:"translateY(-100%)"}},[`&${e}-dropdown-placement-topLeft,
            &${e}-dropdown-placement-topRight`]:{[`${e}-range-arrow`]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},[`&${n}-slide-up-enter${n}-slide-up-enter-active${e}-dropdown-placement-topLeft,
          &${n}-slide-up-enter${n}-slide-up-enter-active${e}-dropdown-placement-topRight,
          &${n}-slide-up-appear${n}-slide-up-appear-active${e}-dropdown-placement-topLeft,
          &${n}-slide-up-appear${n}-slide-up-appear-active${e}-dropdown-placement-topRight`]:{animationName:IF},[`&${n}-slide-up-enter${n}-slide-up-enter-active${e}-dropdown-placement-bottomLeft,
          &${n}-slide-up-enter${n}-slide-up-enter-active${e}-dropdown-placement-bottomRight,
          &${n}-slide-up-appear${n}-slide-up-appear-active${e}-dropdown-placement-bottomLeft,
          &${n}-slide-up-appear${n}-slide-up-appear-active${e}-dropdown-placement-bottomRight`]:{animationName:xF},[`&${n}-slide-up-leave ${e}-panel-container`]:{pointerEvents:"none"},[`&${n}-slide-up-leave${n}-slide-up-leave-active${e}-dropdown-placement-topLeft,
          &${n}-slide-up-leave${n}-slide-up-leave-active${e}-dropdown-placement-topRight`]:{animationName:PF},[`&${n}-slide-up-leave${n}-slide-up-leave-active${e}-dropdown-placement-bottomLeft,
          &${n}-slide-up-leave${n}-slide-up-leave-active${e}-dropdown-placement-bottomRight`]:{animationName:OF},[`${e}-panel > ${e}-time-panel`]:{paddingTop:F},[`${e}-range-wrapper`]:{display:"flex",position:"relative"},[`${e}-range-arrow`]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:t.calc(i).mul(1.5).equal(),boxSizing:"content-box",transition:`all ${H} ease-out`},O5(t,z,ae)),{"&:before":{insetInlineStart:t.calc(i).mul(1.5).equal()}}),[`${e}-panel-container`]:{overflow:"hidden",verticalAlign:"top",background:z,borderRadius:Y,boxShadow:K,transition:`margin ${H}`,display:"inline-block",pointerEvents:"auto",[`${e}-panel-layout`]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},[`${e}-presets`]:{display:"flex",flexDirection:"column",minWidth:J,maxWidth:re,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:S,borderInlineEnd:`${at(o)} ${s} ${se}`,li:Object.assign(Object.assign({},Xb),{borderRadius:X,paddingInline:S,paddingBlock:t.calc(y).sub(G).div(2).equal(),cursor:"pointer",transition:`all ${H}`,"+ li":{marginTop:T},"&:hover":{background:ne}})}},[`${e}-panels`]:{display:"inline-flex",flexWrap:"nowrap","&:last-child":{[`${e}-panel`]:{borderWidth:0}}},[`${e}-panel`]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,[`${e}-content, table`]:{textAlign:"center"},"&-focused":{borderColor:a}}}}),"&-dropdown-range":{padding:`${at(t.calc(j).mul(2).div(3).equal())} 0`,"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",[`${e}-separator`]:{transform:"rotate(180deg)"},[`${e}-footer`]:{"&-extra":{direction:"rtl"}}}})},Zb(t,"slide-up"),Zb(t,"slide-down"),eS(t,"move-up"),eS(t,"move-down")]},t2=kg("DatePicker",t=>{const e=Vi(oI(t),mq(t),{inputPaddingHorizontalBase:t.calc(t.paddingSM).sub(1).equal(),multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[gq(e),yq(e),wq(e),Cq(e),dq(e),d0(t,{focusElCls:`${t.componentCls}-focused`})]},vq);var bq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},Sq=function(e,n){return b.createElement(ms,Ot({},e,{ref:n,icon:bq}))},Rq=b.forwardRef(Sq);function Eq(t){return!!(t.addonBefore||t.addonAfter)}function _q(t){return!!(t.prefix||t.suffix||t.allowClear)}function AD(t,e,n){var r=e.cloneNode(!0),i=Object.create(t,{target:{value:r},currentTarget:{value:r}});return r.value=n,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(r.selectionStart=e.selectionStart,r.selectionEnd=e.selectionEnd),r.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},i}function nS(t,e,n,r){if(n){var i=e;if(e.type==="click"){i=AD(e,t,""),n(i);return}if(t.type!=="file"&&r!==void 0){i=AD(e,t,r),n(i);return}n(i)}}function Mq(t,e){if(t){t.focus(e);var n=e||{},r=n.cursor;if(r){var i=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(i,i);break;default:t.setSelectionRange(0,i)}}}}var n2=ot.forwardRef(function(t,e){var n,r,i=t.inputElement,o=t.children,s=t.prefixCls,a=t.prefix,u=t.suffix,c=t.addonBefore,h=t.addonAfter,g=t.className,p=t.style,v=t.disabled,y=t.readOnly,R=t.focused,S=t.triggerFocus,T=t.allowClear,x=t.value,O=t.handleReset,A=t.hidden,H=t.classes,L=t.classNames,F=t.dataAttrs,j=t.styles,z=t.components,Y=t.onClear,K=o??i,X=(z==null?void 0:z.affixWrapper)||"span",se=(z==null?void 0:z.groupWrapper)||"span",ne=(z==null?void 0:z.wrapper)||"span",J=(z==null?void 0:z.groupAddon)||"span",re=b.useRef(null),ae=function(ee){var De;(De=re.current)!==null&&De!==void 0&&De.contains(ee.target)&&(S==null||S())},G=_q(t),oe=b.cloneElement(K,{value:x,className:lt(K.props.className,!G&&(L==null?void 0:L.variant))||null}),te=b.useRef(null);if(ot.useImperativeHandle(e,function(){return{nativeElement:te.current||re.current}}),G){var C=null;if(T){var E=!v&&!y&&x,I="".concat(s,"-clear-icon"),$=Wi(T)==="object"&&T!==null&&T!==void 0&&T.clearIcon?T.clearIcon:"✖";C=ot.createElement("span",{onClick:function(ee){O==null||O(ee),Y==null||Y()},onMouseDown:function(ee){return ee.preventDefault()},className:lt(I,tt(tt({},"".concat(I,"-hidden"),!E),"".concat(I,"-has-suffix"),!!u)),role:"button",tabIndex:-1},$)}var N="".concat(s,"-affix-wrapper"),Z=lt(N,tt(tt(tt(tt(tt({},"".concat(s,"-disabled"),v),"".concat(N,"-disabled"),v),"".concat(N,"-focused"),R),"".concat(N,"-readonly"),y),"".concat(N,"-input-with-clear-btn"),u&&T&&x),H==null?void 0:H.affixWrapper,L==null?void 0:L.affixWrapper,L==null?void 0:L.variant),ue=(u||T)&&ot.createElement("span",{className:lt("".concat(s,"-suffix"),L==null?void 0:L.suffix),style:j==null?void 0:j.suffix},C,u);oe=ot.createElement(X,Ot({className:Z,style:j==null?void 0:j.affixWrapper,onClick:ae},F==null?void 0:F.affixWrapper,{ref:re}),a&&ot.createElement("span",{className:lt("".concat(s,"-prefix"),L==null?void 0:L.prefix),style:j==null?void 0:j.prefix},a),oe,ue)}if(Eq(t)){var me="".concat(s,"-group"),Me="".concat(me,"-addon"),be="".concat(me,"-wrapper"),le=lt("".concat(s,"-wrapper"),me,H==null?void 0:H.wrapper,L==null?void 0:L.wrapper),Ee=lt(be,tt({},"".concat(be,"-disabled"),v),H==null?void 0:H.group,L==null?void 0:L.groupWrapper);oe=ot.createElement(se,{className:Ee,ref:te},ot.createElement(ne,{className:le},c&&ot.createElement(J,{className:Me},c),oe,h&&ot.createElement(J,{className:Me},h)))}return ot.cloneElement(oe,{className:lt((n=oe.props)===null||n===void 0?void 0:n.className,g)||null,style:Xe(Xe({},(r=oe.props)===null||r===void 0?void 0:r.style),p),hidden:A})}),Tq=["show"];function r2(t,e){return b.useMemo(function(){var n={};e&&(n.show=Wi(e)==="object"&&e.formatter?e.formatter:!!e),n=Xe(Xe({},n),t);var r=n,i=r.show,o=Ri(r,Tq);return Xe(Xe({},o),{},{show:!!i,showFormatter:typeof i=="function"?i:void 0,strategy:o.strategy||function(s){return s.length}})},[t,e])}var xq=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],Iq=b.forwardRef(function(t,e){var n=t.autoComplete,r=t.onChange,i=t.onFocus,o=t.onBlur,s=t.onPressEnter,a=t.onKeyDown,u=t.onKeyUp,c=t.prefixCls,h=c===void 0?"rc-input":c,g=t.disabled,p=t.htmlSize,v=t.className,y=t.maxLength,R=t.suffix,S=t.showCount,T=t.count,x=t.type,O=x===void 0?"text":x,A=t.classes,H=t.classNames,L=t.styles,F=t.onCompositionStart,j=t.onCompositionEnd,z=Ri(t,xq),Y=b.useState(!1),K=ke(Y,2),X=K[0],se=K[1],ne=b.useRef(!1),J=b.useRef(!1),re=b.useRef(null),ae=b.useRef(null),G=function(Q){re.current&&Mq(re.current,Q)},oe=ro(t.defaultValue,{value:t.value}),te=ke(oe,2),C=te[0],E=te[1],I=C==null?"":String(C),$=b.useState(null),N=ke($,2),Z=N[0],ue=N[1],me=r2(T,S),Me=me.max||y,be=me.strategy(I),le=!!Me&&be>Me;b.useImperativeHandle(e,function(){var fe;return{focus:G,blur:function(){var we;(we=re.current)===null||we===void 0||we.blur()},setSelectionRange:function(we,ce,ie){var ve;(ve=re.current)===null||ve===void 0||ve.setSelectionRange(we,ce,ie)},select:function(){var we;(we=re.current)===null||we===void 0||we.select()},input:re.current,nativeElement:((fe=ae.current)===null||fe===void 0?void 0:fe.nativeElement)||re.current}}),b.useEffect(function(){se(function(fe){return fe&&g?!1:fe})},[g]);var Ee=function(Q,we,ce){var ie=we;if(!ne.current&&me.exceedFormatter&&me.max&&me.strategy(we)>me.max){if(ie=me.exceedFormatter(we,{max:me.max}),we!==ie){var ve,pe;ue([((ve=re.current)===null||ve===void 0?void 0:ve.selectionStart)||0,((pe=re.current)===null||pe===void 0?void 0:pe.selectionEnd)||0])}}else if(ce.source==="compositionEnd")return;E(ie),re.current&&nS(re.current,Q,r,ie)};b.useEffect(function(){if(Z){var fe;(fe=re.current)===null||fe===void 0||fe.setSelectionRange.apply(fe,ar(Z))}},[Z]);var _e=function(Q){Ee(Q,Q.target.value,{source:"change"})},ee=function(Q){ne.current=!1,Ee(Q,Q.currentTarget.value,{source:"compositionEnd"}),j==null||j(Q)},De=function(Q){s&&Q.key==="Enter"&&!J.current&&(J.current=!0,s(Q)),a==null||a(Q)},Ae=function(Q){Q.key==="Enter"&&(J.current=!1),u==null||u(Q)},Pe=function(Q){se(!0),i==null||i(Q)},Be=function(Q){se(!1),o==null||o(Q)},je=function(Q){E(""),G(),re.current&&nS(re.current,Q,r)},k=le&&"".concat(h,"-out-of-range"),V=function(){var Q=Hh(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return ot.createElement("input",Ot({autoComplete:n},Q,{onChange:_e,onFocus:Pe,onBlur:Be,onKeyDown:De,onKeyUp:Ae,className:lt(h,tt({},"".concat(h,"-disabled"),g),H==null?void 0:H.input),style:L==null?void 0:L.input,ref:re,size:p,type:O,onCompositionStart:function(ce){ne.current=!0,F==null||F(ce)},onCompositionEnd:ee}))},q=function(){var Q=Number(Me)>0;if(R||me.show){var we=me.showFormatter?me.showFormatter({value:I,count:be,maxLength:Me}):"".concat(be).concat(Q?" / ".concat(Me):"");return ot.createElement(ot.Fragment,null,me.show&&ot.createElement("span",{className:lt("".concat(h,"-show-count-suffix"),tt({},"".concat(h,"-show-count-has-suffix"),!!R),H==null?void 0:H.count),style:Xe({},L==null?void 0:L.count)},we),R)}return null};return ot.createElement(n2,Ot({},z,{prefixCls:h,className:lt(v,k),handleReset:je,value:I,focused:X,triggerFocus:G,suffix:q(),disabled:g,classes:A,classNames:H,styles:L}),V())});const Oq=t=>{const{getPrefixCls:e,direction:n}=b.useContext(Bi),{prefixCls:r,className:i}=t,o=e("input-group",r),s=e("input"),[a,u]=lI(s),c=lt(o,{[`${o}-lg`]:t.size==="large",[`${o}-sm`]:t.size==="small",[`${o}-compact`]:t.compact,[`${o}-rtl`]:n==="rtl"},u,i),h=b.useContext(Pu),g=b.useMemo(()=>Object.assign(Object.assign({},h),{isFormItemInput:!1}),[h]);return a(b.createElement("span",{className:c,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},b.createElement(Pu.Provider,{value:g},t.children)))},i2=t=>{let e;return typeof t=="object"&&(t!=null&&t.clearIcon)?e=t:t&&(e={clearIcon:ot.createElement(LF,null)}),e};function o2(t,e){const n=b.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var i,o,s,a;!((i=t.current)===null||i===void 0)&&i.input&&((o=t.current)===null||o===void 0?void 0:o.input.getAttribute("type"))==="password"&&(!((s=t.current)===null||s===void 0)&&s.input.hasAttribute("value"))&&((a=t.current)===null||a===void 0||a.input.removeAttribute("value"))}))};return b.useEffect(()=>(e&&r(),()=>n.current.forEach(i=>{i&&clearTimeout(i)})),[]),r}function Pq(t){return!!(t.prefix||t.suffix||t.allowClear||t.showCount)}var Aq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Hq(t,e){if(!t)return;t.focus(e);const{cursor:n}=e||{};if(n){const r=t.value.length;switch(n){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(r,r);break;default:t.setSelectionRange(0,r)}}}const C0=b.forwardRef((t,e)=>{var n;const{prefixCls:r,bordered:i=!0,status:o,size:s,disabled:a,onBlur:u,onFocus:c,suffix:h,allowClear:g,addonAfter:p,addonBefore:v,className:y,style:R,styles:S,rootClassName:T,onChange:x,classNames:O,variant:A}=t,H=Aq(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:L,direction:F,input:j}=ot.useContext(Bi),z=L("input",r),Y=b.useRef(null),K=Vg(z),[X,se,ne]=lI(z,K),{compactSize:J,compactItemClassnames:re}=Fg(z,F),ae=Kc(_e=>{var ee;return(ee=s??J)!==null&&ee!==void 0?ee:_e}),G=ot.useContext(Ah),oe=a??G,{status:te,hasFeedback:C,feedbackIcon:E}=b.useContext(Pu),I=Wg(te,o),$=Pq(t)||!!C;b.useRef($);const N=o2(Y,!0),Z=_e=>{N(),u==null||u(_e)},ue=_e=>{N(),c==null||c(_e)},me=_e=>{N(),x==null||x(_e)},Me=(C||h)&&ot.createElement(ot.Fragment,null,h,C&&E),be=i2(g??(j==null?void 0:j.allowClear)),[le,Ee]=Yv("input",A,i);return X(ot.createElement(Iq,Object.assign({ref:Ph(e,Y),prefixCls:z,autoComplete:j==null?void 0:j.autoComplete},H,{disabled:oe,onBlur:Z,onFocus:ue,style:Object.assign(Object.assign({},j==null?void 0:j.style),R),styles:Object.assign(Object.assign({},j==null?void 0:j.styles),S),suffix:Me,allowClear:be,className:lt(y,T,ne,K,re,j==null?void 0:j.className),onChange:me,addonBefore:v&&ot.createElement(Qb,{form:!0,space:!0},v),addonAfter:p&&ot.createElement(Qb,{form:!0,space:!0},p),classNames:Object.assign(Object.assign(Object.assign({},O),j==null?void 0:j.classNames),{input:lt({[`${z}-sm`]:ae==="small",[`${z}-lg`]:ae==="large",[`${z}-rtl`]:F==="rtl"},O==null?void 0:O.input,(n=j==null?void 0:j.classNames)===null||n===void 0?void 0:n.input,se),variant:lt({[`${z}-${le}`]:Ee},xg(z,I)),affixWrapper:lt({[`${z}-affix-wrapper-sm`]:ae==="small",[`${z}-affix-wrapper-lg`]:ae==="large",[`${z}-affix-wrapper-rtl`]:F==="rtl"},se),wrapper:lt({[`${z}-group-rtl`]:F==="rtl"},se),groupWrapper:lt({[`${z}-group-wrapper-sm`]:ae==="small",[`${z}-group-wrapper-lg`]:ae==="large",[`${z}-group-wrapper-rtl`]:F==="rtl",[`${z}-group-wrapper-${le}`]:Ee},xg(`${z}-group-wrapper`,I,C),se)})})))}),Dq=t=>{const{componentCls:e,paddingXS:n}=t;return{[e]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,"&-rtl":{direction:"rtl"},[`${e}-input`]:{textAlign:"center",paddingInline:t.paddingXXS},[`&${e}-sm ${e}-input`]:{paddingInline:t.calc(t.paddingXXS).div(2).equal()},[`&${e}-lg ${e}-input`]:{paddingInline:t.paddingXS}}}},Nq=kg(["Input","OTP"],t=>{const e=Vi(t,oI(t));return[Dq(e)]},sI);var $q=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Lq=b.forwardRef((t,e)=>{const{value:n,onChange:r,onActiveChange:i,index:o,mask:s}=t,a=$q(t,["value","onChange","onActiveChange","index","mask"]),u=n&&typeof s=="string"?s:n,c=y=>{r(o,y.target.value)},h=b.useRef(null);b.useImperativeHandle(e,()=>h.current);const g=()=>{Er(()=>{var y;const R=(y=h.current)===null||y===void 0?void 0:y.input;document.activeElement===R&&R&&R.select()})},p=y=>{let{key:R}=y;R==="ArrowLeft"?i(o-1):R==="ArrowRight"&&i(o+1),g()},v=y=>{y.key==="Backspace"&&!n&&i(o-1),g()};return b.createElement(C0,Object.assign({type:s===!0?"password":"text"},a,{ref:h,value:u,onInput:c,onFocus:g,onKeyDown:p,onKeyUp:v,onMouseDown:g,onMouseUp:g}))});var kq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function HC(t){return(t||"").split("")}const Fq=b.forwardRef((t,e)=>{const{prefixCls:n,length:r=6,size:i,defaultValue:o,value:s,onChange:a,formatter:u,variant:c,disabled:h,status:g,autoFocus:p,mask:v,type:y}=t,R=kq(t,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask","type"]),{getPrefixCls:S,direction:T}=b.useContext(Bi),x=S("otp",n),O=Bc(R,{aria:!0,data:!0,attr:!0}),A=Vg(x),[H,L,F]=Nq(x,A),j=Kc(E=>i??E),z=b.useContext(Pu),Y=Wg(z.status,g),K=b.useMemo(()=>Object.assign(Object.assign({},z),{status:Y,hasFeedback:!1,feedbackIcon:null}),[z,Y]),X=b.useRef(null),se=b.useRef({});b.useImperativeHandle(e,()=>({focus:()=>{var E;(E=se.current[0])===null||E===void 0||E.focus()},blur:()=>{var E;for(let I=0;I<r;I+=1)(E=se.current[I])===null||E===void 0||E.blur()},nativeElement:X.current}));const ne=E=>u?u(E):E,[J,re]=b.useState(HC(ne(o||"")));b.useEffect(()=>{s!==void 0&&re(HC(s))},[s]);const ae=Jr(E=>{re(E),a&&E.length===r&&E.every(I=>I)&&E.some((I,$)=>J[$]!==I)&&a(E.join(""))}),G=Jr((E,I)=>{let $=ar(J);for(let Z=0;Z<E;Z+=1)$[Z]||($[Z]="");I.length<=1?$[E]=I:$=$.slice(0,E).concat(HC(I)),$=$.slice(0,r);for(let Z=$.length-1;Z>=0&&!$[Z];Z-=1)$.pop();const N=ne($.map(Z=>Z||" ").join(""));return $=HC(N).map((Z,ue)=>Z===" "&&!$[ue]?$[ue]:Z),$}),oe=(E,I)=>{var $;const N=G(E,I),Z=Math.min(E+I.length,r-1);Z!==E&&(($=se.current[Z])===null||$===void 0||$.focus()),ae(N)},te=E=>{var I;(I=se.current[E])===null||I===void 0||I.focus()},C={variant:c,disabled:h,status:Y,mask:v,type:y};return H(b.createElement("div",Object.assign({},O,{ref:X,className:lt(x,{[`${x}-sm`]:j==="small",[`${x}-lg`]:j==="large",[`${x}-rtl`]:T==="rtl"},F,L)}),b.createElement(Pu.Provider,{value:K},Array.from({length:r}).map((E,I)=>{const $=`otp-${I}`,N=J[I]||"";return b.createElement(Lq,Object.assign({ref:Z=>{se.current[I]=Z},key:$,index:I,size:j,htmlSize:1,className:`${x}-input`,onChange:oe,value:N,onActiveChange:te,autoFocus:I===0&&p},C))}))))});var Vq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Wq=function(e,n){return b.createElement(ms,Ot({},e,{ref:n,icon:Vq}))},Bq=b.forwardRef(Wq),jq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},zq=function(e,n){return b.createElement(ms,Ot({},e,{ref:n,icon:jq}))},Yq=b.forwardRef(zq),Uq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Gq=t=>t?b.createElement(Yq,null):b.createElement(Bq,null),Kq={click:"onClick",hover:"onMouseOver"},qq=b.forwardRef((t,e)=>{const{disabled:n,action:r="click",visibilityToggle:i=!0,iconRender:o=Gq}=t,s=b.useContext(Ah),a=n??s,u=typeof i=="object"&&i.visible!==void 0,[c,h]=b.useState(()=>u?i.visible:!1),g=b.useRef(null);b.useEffect(()=>{u&&h(i.visible)},[u,i]);const p=o2(g),v=()=>{a||(c&&p(),h(Y=>{var K;const X=!Y;return typeof i=="object"&&((K=i.onVisibleChange)===null||K===void 0||K.call(i,X)),X}))},y=Y=>{const K=Kq[r]||"",X=o(c),se={[K]:v,className:`${Y}-icon`,key:"passwordIcon",onMouseDown:ne=>{ne.preventDefault()},onMouseUp:ne=>{ne.preventDefault()}};return b.cloneElement(b.isValidElement(X)?X:b.createElement("span",null,X),se)},{className:R,prefixCls:S,inputPrefixCls:T,size:x}=t,O=Uq(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:A}=b.useContext(Bi),H=A("input",T),L=A("input-password",S),F=i&&y(L),j=lt(L,R,{[`${L}-${x}`]:!!x}),z=Object.assign(Object.assign({},Hh(O,["suffix","iconRender","visibilityToggle"])),{type:c?"text":"password",className:j,prefixCls:H,suffix:F});return x&&(z.size=x),b.createElement(C0,Object.assign({ref:Ph(e,g)},z))});var Xq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Zq=b.forwardRef((t,e)=>{const{prefixCls:n,inputPrefixCls:r,className:i,size:o,suffix:s,enterButton:a=!1,addonAfter:u,loading:c,disabled:h,onSearch:g,onChange:p,onCompositionStart:v,onCompositionEnd:y}=t,R=Xq(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:S,direction:T}=b.useContext(Bi),x=b.useRef(!1),O=S("input-search",n),A=S("input",r),{compactSize:H}=Fg(O,T),L=Kc(te=>{var C;return(C=o??H)!==null&&C!==void 0?C:te}),F=b.useRef(null),j=te=>{te!=null&&te.target&&te.type==="click"&&g&&g(te.target.value,te,{source:"clear"}),p==null||p(te)},z=te=>{var C;document.activeElement===((C=F.current)===null||C===void 0?void 0:C.input)&&te.preventDefault()},Y=te=>{var C,E;g&&g((E=(C=F.current)===null||C===void 0?void 0:C.input)===null||E===void 0?void 0:E.value,te,{source:"input"})},K=te=>{x.current||c||Y(te)},X=typeof a=="boolean"?b.createElement(Qx,null):null,se=`${O}-button`;let ne;const J=a||{},re=J.type&&J.type.__ANT_BUTTON===!0;re||J.type==="button"?ne=qb(J,Object.assign({onMouseDown:z,onClick:te=>{var C,E;(E=(C=J==null?void 0:J.props)===null||C===void 0?void 0:C.onClick)===null||E===void 0||E.call(C,te),Y(te)},key:"enterButton"},re?{className:se,size:L}:{})):ne=b.createElement(Tc,{className:se,type:a?"primary":void 0,size:L,disabled:h,key:"enterButton",onMouseDown:z,onClick:Y,loading:c,icon:X},a),u&&(ne=[ne,qb(u,{key:"addonAfter"})]);const ae=lt(O,{[`${O}-rtl`]:T==="rtl",[`${O}-${L}`]:!!L,[`${O}-with-button`]:!!a},i),G=te=>{x.current=!0,v==null||v(te)},oe=te=>{x.current=!1,y==null||y(te)};return b.createElement(C0,Object.assign({ref:Ph(F,e),onPressEnter:K},R,{size:L,onCompositionStart:G,onCompositionEnd:oe,prefixCls:A,addonAfter:ne,suffix:s,onChange:j,className:ae,disabled:h}))});var Qq=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,Jq=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],$_={},ns;function eX(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&$_[n])return $_[n];var r=window.getComputedStyle(t),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),s=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),a=Jq.map(function(c){return"".concat(c,":").concat(r.getPropertyValue(c))}).join(";"),u={sizingStyle:a,paddingSize:o,borderSize:s,boxSizing:i};return e&&n&&($_[n]=u),u}function tX(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;ns||(ns=document.createElement("textarea"),ns.setAttribute("tab-index","-1"),ns.setAttribute("aria-hidden","true"),ns.setAttribute("name","hiddenTextarea"),document.body.appendChild(ns)),t.getAttribute("wrap")?ns.setAttribute("wrap",t.getAttribute("wrap")):ns.removeAttribute("wrap");var i=eX(t,e),o=i.paddingSize,s=i.borderSize,a=i.boxSizing,u=i.sizingStyle;ns.setAttribute("style","".concat(u,";").concat(Qq)),ns.value=t.value||t.placeholder||"";var c=void 0,h=void 0,g,p=ns.scrollHeight;if(a==="border-box"?p+=s:a==="content-box"&&(p-=o),n!==null||r!==null){ns.value=" ";var v=ns.scrollHeight-o;n!==null&&(c=v*n,a==="border-box"&&(c=c+o+s),p=Math.max(c,p)),r!==null&&(h=v*r,a==="border-box"&&(h=h+o+s),g=p>h?"":"hidden",p=Math.min(h,p))}var y={height:p,overflowY:g,resize:"none"};return c&&(y.minHeight=c),h&&(y.maxHeight=h),y}var nX=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],L_=0,k_=1,F_=2,rX=b.forwardRef(function(t,e){var n=t,r=n.prefixCls,i=n.defaultValue,o=n.value,s=n.autoSize,a=n.onResize,u=n.className,c=n.style,h=n.disabled,g=n.onChange;n.onInternalAutoSize;var p=Ri(n,nX),v=ro(i,{value:o,postState:function($){return $??""}}),y=ke(v,2),R=y[0],S=y[1],T=function($){S($.target.value),g==null||g($)},x=b.useRef();b.useImperativeHandle(e,function(){return{textArea:x.current}});var O=b.useMemo(function(){return s&&Wi(s)==="object"?[s.minRows,s.maxRows]:[]},[s]),A=ke(O,2),H=A[0],L=A[1],F=!!s,j=function(){try{if(document.activeElement===x.current){var $=x.current,N=$.selectionStart,Z=$.selectionEnd,ue=$.scrollTop;x.current.setSelectionRange(N,Z),x.current.scrollTop=ue}}catch{}},z=b.useState(F_),Y=ke(z,2),K=Y[0],X=Y[1],se=b.useState(),ne=ke(se,2),J=ne[0],re=ne[1],ae=function(){X(L_)};io(function(){F&&ae()},[o,H,L,F]),io(function(){if(K===L_)X(k_);else if(K===k_){var I=tX(x.current,!1,H,L);X(F_),re(I)}else j()},[K]);var G=b.useRef(),oe=function(){Er.cancel(G.current)},te=function($){K===F_&&(a==null||a($),s&&(oe(),G.current=Er(function(){ae()})))};b.useEffect(function(){return oe},[]);var C=F?J:null,E=Xe(Xe({},c),C);return(K===L_||K===k_)&&(E.overflowY="hidden",E.overflowX="hidden"),b.createElement(jv,{onResize:te,disabled:!(s||a)},b.createElement("textarea",Ot({},p,{ref:x,style:E,className:lt(r,u,tt({},"".concat(r,"-disabled"),h)),disabled:h,value:R,onChange:T})))}),iX=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],oX=ot.forwardRef(function(t,e){var n,r=t.defaultValue,i=t.value,o=t.onFocus,s=t.onBlur,a=t.onChange,u=t.allowClear,c=t.maxLength,h=t.onCompositionStart,g=t.onCompositionEnd,p=t.suffix,v=t.prefixCls,y=v===void 0?"rc-textarea":v,R=t.showCount,S=t.count,T=t.className,x=t.style,O=t.disabled,A=t.hidden,H=t.classNames,L=t.styles,F=t.onResize,j=t.onClear,z=t.onPressEnter,Y=t.readOnly,K=t.autoSize,X=t.onKeyDown,se=Ri(t,iX),ne=ro(r,{value:i,defaultValue:r}),J=ke(ne,2),re=J[0],ae=J[1],G=re==null?"":String(re),oe=ot.useState(!1),te=ke(oe,2),C=te[0],E=te[1],I=ot.useRef(!1),$=ot.useState(null),N=ke($,2),Z=N[0],ue=N[1],me=b.useRef(null),Me=b.useRef(null),be=function(){var xe;return(xe=Me.current)===null||xe===void 0?void 0:xe.textArea},le=function(){be().focus()};b.useImperativeHandle(e,function(){var Ie;return{resizableTextArea:Me.current,focus:le,blur:function(){be().blur()},nativeElement:((Ie=me.current)===null||Ie===void 0?void 0:Ie.nativeElement)||be()}}),b.useEffect(function(){E(function(Ie){return!O&&Ie})},[O]);var Ee=ot.useState(null),_e=ke(Ee,2),ee=_e[0],De=_e[1];ot.useEffect(function(){if(ee){var Ie;(Ie=be()).setSelectionRange.apply(Ie,ar(ee))}},[ee]);var Ae=r2(S,R),Pe=(n=Ae.max)!==null&&n!==void 0?n:c,Be=Number(Pe)>0,je=Ae.strategy(G),k=!!Pe&&je>Pe,V=function(xe,ze){var Ge=ze;!I.current&&Ae.exceedFormatter&&Ae.max&&Ae.strategy(ze)>Ae.max&&(Ge=Ae.exceedFormatter(ze,{max:Ae.max}),ze!==Ge&&De([be().selectionStart||0,be().selectionEnd||0])),ae(Ge),nS(xe.currentTarget,xe,a,Ge)},q=function(xe){I.current=!0,h==null||h(xe)},fe=function(xe){I.current=!1,V(xe,xe.currentTarget.value),g==null||g(xe)},Q=function(xe){V(xe,xe.target.value)},we=function(xe){xe.key==="Enter"&&z&&z(xe),X==null||X(xe)},ce=function(xe){E(!0),o==null||o(xe)},ie=function(xe){E(!1),s==null||s(xe)},ve=function(xe){ae(""),le(),nS(be(),xe,a)},pe=p,ge;Ae.show&&(Ae.showFormatter?ge=Ae.showFormatter({value:G,count:je,maxLength:Pe}):ge="".concat(je).concat(Be?" / ".concat(Pe):""),pe=ot.createElement(ot.Fragment,null,pe,ot.createElement("span",{className:lt("".concat(y,"-data-count"),H==null?void 0:H.count),style:L==null?void 0:L.count},ge)));var $e=function(xe){var ze;F==null||F(xe),(ze=be())!==null&&ze!==void 0&&ze.style.height&&ue(!0)},Fe=!K&&!R&&!u;return ot.createElement(n2,{ref:me,value:G,allowClear:u,handleReset:ve,suffix:pe,prefixCls:y,classNames:Xe(Xe({},H),{},{affixWrapper:lt(H==null?void 0:H.affixWrapper,tt(tt({},"".concat(y,"-show-count"),R),"".concat(y,"-textarea-allow-clear"),u))}),disabled:O,focused:C,className:lt(T,k&&"".concat(y,"-out-of-range")),style:Xe(Xe({},x),Z&&!Fe?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof ge=="string"?ge:void 0}},hidden:A,readOnly:Y,onClear:j},ot.createElement(rX,Ot({},se,{autoSize:K,maxLength:c,onKeyDown:we,onChange:Q,onFocus:ce,onBlur:ie,onCompositionStart:q,onCompositionEnd:fe,className:lt(H==null?void 0:H.textarea),style:Xe(Xe({},L==null?void 0:L.textarea),{},{resize:x==null?void 0:x.resize}),disabled:O,prefixCls:y,onResize:$e,ref:Me,readOnly:Y})))}),sX=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const aX=b.forwardRef((t,e)=>{var n,r;const{prefixCls:i,bordered:o=!0,size:s,disabled:a,status:u,allowClear:c,classNames:h,rootClassName:g,className:p,style:v,styles:y,variant:R}=t,S=sX(t,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:T,direction:x,textArea:O}=b.useContext(Bi),A=Kc(s),H=b.useContext(Ah),L=a??H,{status:F,hasFeedback:j,feedbackIcon:z}=b.useContext(Pu),Y=Wg(F,u),K=b.useRef(null);b.useImperativeHandle(e,()=>{var te;return{resizableTextArea:(te=K.current)===null||te===void 0?void 0:te.resizableTextArea,focus:C=>{var E,I;Hq((I=(E=K.current)===null||E===void 0?void 0:E.resizableTextArea)===null||I===void 0?void 0:I.textArea,C)},blur:()=>{var C;return(C=K.current)===null||C===void 0?void 0:C.blur()}}});const X=T("input",i),se=Vg(X),[ne,J,re]=lI(X,se),[ae,G]=Yv("textArea",R,o),oe=i2(c??(O==null?void 0:O.allowClear));return ne(b.createElement(oX,Object.assign({autoComplete:O==null?void 0:O.autoComplete},S,{style:Object.assign(Object.assign({},O==null?void 0:O.style),v),styles:Object.assign(Object.assign({},O==null?void 0:O.styles),y),disabled:L,allowClear:oe,className:lt(re,se,p,g,O==null?void 0:O.className),classNames:Object.assign(Object.assign(Object.assign({},h),O==null?void 0:O.classNames),{textarea:lt({[`${X}-sm`]:A==="small",[`${X}-lg`]:A==="large"},J,h==null?void 0:h.textarea,(n=O==null?void 0:O.classNames)===null||n===void 0?void 0:n.textarea),variant:lt({[`${X}-${ae}`]:G},xg(X,Y)),affixWrapper:lt(`${X}-textarea-affix-wrapper`,{[`${X}-affix-wrapper-rtl`]:x==="rtl",[`${X}-affix-wrapper-sm`]:A==="small",[`${X}-affix-wrapper-lg`]:A==="large",[`${X}-textarea-show-count`]:t.showCount||((r=t.count)===null||r===void 0?void 0:r.show)},J)}),prefixCls:X,suffix:j&&b.createElement("span",{className:`${X}-textarea-suffix`},z),ref:K})))}),Yg=C0;Yg.Group=Oq;Yg.Search=Zq;Yg.TextArea=aX;Yg.Password=qq;Yg.OTP=Fq;var lX={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},uX=function(e,n){return b.createElement(ms,Ot({},e,{ref:n,icon:lX}))},s2=b.forwardRef(uX),cX={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},dX=function(e,n){return b.createElement(ms,Ot({},e,{ref:n,icon:cX}))},a2=b.forwardRef(dX),hX={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},fX=function(e,n){return b.createElement(ms,Ot({},e,{ref:n,icon:hX}))},gX=b.forwardRef(fX);function mX(t,e,n){return n!==void 0?n:e==="year"&&t.lang.yearPlaceholder?t.lang.yearPlaceholder:e==="quarter"&&t.lang.quarterPlaceholder?t.lang.quarterPlaceholder:e==="month"&&t.lang.monthPlaceholder?t.lang.monthPlaceholder:e==="week"&&t.lang.weekPlaceholder?t.lang.weekPlaceholder:e==="time"&&t.timePickerLocale.placeholder?t.timePickerLocale.placeholder:t.lang.placeholder}function pX(t,e,n){return n!==void 0?n:e==="year"&&t.lang.yearPlaceholder?t.lang.rangeYearPlaceholder:e==="quarter"&&t.lang.quarterPlaceholder?t.lang.rangeQuarterPlaceholder:e==="month"&&t.lang.monthPlaceholder?t.lang.rangeMonthPlaceholder:e==="week"&&t.lang.weekPlaceholder?t.lang.rangeWeekPlaceholder:e==="time"&&t.timePickerLocale.placeholder?t.timePickerLocale.rangePlaceholder:t.lang.rangePlaceholder}function uI(t,e){const n={adjustX:1,adjustY:1};switch(e){case"bottomLeft":return{points:["tl","bl"],offset:[0,4],overflow:n};case"bottomRight":return{points:["tr","br"],offset:[0,4],overflow:n};case"topLeft":return{points:["bl","tl"],offset:[0,-4],overflow:n};case"topRight":return{points:["br","tr"],offset:[0,-4],overflow:n};default:return{points:t==="rtl"?["tr","br"]:["tl","bl"],offset:[0,4],overflow:n}}}function l2(t,e){const{allowClear:n=!0}=t,{clearIcon:r,removeIcon:i}=sV(Object.assign(Object.assign({},t),{prefixCls:e,componentName:"DatePicker"}));return[b.useMemo(()=>n===!1?!1:Object.assign({clearIcon:r},n===!0?{}:n),[n,r]),i]}const[vX,wX]=["week","WeekPicker"],[CX,yX]=["month","MonthPicker"],[bX,SX]=["year","YearPicker"],[RX,EX]=["quarter","QuarterPicker"],[u2,HD]=["time","TimePicker"],_X=t=>b.createElement(Tc,Object.assign({size:"small",type:"primary"},t));function c2(t){return b.useMemo(()=>Object.assign({button:_X},t),[t])}var MX=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const TX=t=>b.forwardRef((n,r)=>{var i;const{prefixCls:o,getPopupContainer:s,components:a,className:u,style:c,placement:h,size:g,disabled:p,bordered:v=!0,placeholder:y,popupClassName:R,dropdownClassName:S,status:T,rootClassName:x,variant:O,picker:A}=n,H=MX(n,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupClassName","dropdownClassName","status","rootClassName","variant","picker"]),L=b.useRef(null),{getPrefixCls:F,direction:j,getPopupContainer:z,rangePicker:Y}=b.useContext(Bi),K=F("picker",o),{compactSize:X,compactItemClassnames:se}=Fg(K,j),ne=F(),[J,re]=Yv("rangePicker",O,v),ae=Vg(K),[G,oe,te]=t2(K,ae),[C]=l2(n,K),E=c2(a),I=Kc(ee=>{var De;return(De=g??X)!==null&&De!==void 0?De:ee}),$=b.useContext(Ah),N=p??$,Z=b.useContext(Pu),{hasFeedback:ue,status:me,feedbackIcon:Me}=Z,be=b.createElement(b.Fragment,null,A===u2?b.createElement(a2,null):b.createElement(s2,null),ue&&Me);b.useImperativeHandle(r,()=>L.current);const[le]=Vx("Calendar",HF),Ee=Object.assign(Object.assign({},le),n.locale),[_e]=Fx("DatePicker",(i=n.popupStyle)===null||i===void 0?void 0:i.zIndex);return G(b.createElement(Qb,{space:!0},b.createElement(G9,Object.assign({separator:b.createElement("span",{"aria-label":"to",className:`${K}-separator`},b.createElement(gX,null)),disabled:N,ref:L,popupAlign:uI(j,h),placement:h,placeholder:pX(Ee,A,y),suffixIcon:be,prevIcon:b.createElement("span",{className:`${K}-prev-icon`}),nextIcon:b.createElement("span",{className:`${K}-next-icon`}),superPrevIcon:b.createElement("span",{className:`${K}-super-prev-icon`}),superNextIcon:b.createElement("span",{className:`${K}-super-next-icon`}),transitionName:`${ne}-slide-up`,picker:A},H,{className:lt({[`${K}-${I}`]:I,[`${K}-${J}`]:re},xg(K,Wg(me,T),ue),oe,se,u,Y==null?void 0:Y.className,te,ae,x),style:Object.assign(Object.assign({},Y==null?void 0:Y.style),c),locale:Ee.lang,prefixCls:K,getPopupContainer:s||z,generateConfig:t,components:E,direction:j,classNames:{popup:lt(oe,R||S,te,ae,x)},styles:{popup:Object.assign(Object.assign({},n.popupStyle),{zIndex:_e})},allowClear:C}))))});var xX=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const IX=t=>{const e=(u,c)=>{const h=c===HD?"timePicker":"datePicker";return b.forwardRef((p,v)=>{var y;const{prefixCls:R,getPopupContainer:S,components:T,style:x,className:O,rootClassName:A,size:H,bordered:L,placement:F,placeholder:j,popupClassName:z,dropdownClassName:Y,disabled:K,status:X,variant:se,onCalendarChange:ne}=p,J=xX(p,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange"]),{getPrefixCls:re,direction:ae,getPopupContainer:G,[h]:oe}=b.useContext(Bi),te=re("picker",R),{compactSize:C,compactItemClassnames:E}=Fg(te,ae),I=b.useRef(null),[$,N]=Yv("datePicker",se,L),Z=Vg(te),[ue,me,Me]=t2(te,Z);b.useImperativeHandle(v,()=>I.current);const be={showToday:!0},le=u||p.picker,Ee=re(),{onSelect:_e,multiple:ee}=J,De=_e&&u==="time"&&!ee,Ae=($e,Fe,Ie)=>{ne==null||ne($e,Fe,Ie),De&&_e($e)},[Pe,Be]=l2(p,te),je=c2(T),k=Kc($e=>{var Fe;return(Fe=H??C)!==null&&Fe!==void 0?Fe:$e}),V=b.useContext(Ah),q=K??V,fe=b.useContext(Pu),{hasFeedback:Q,status:we,feedbackIcon:ce}=fe,ie=b.createElement(b.Fragment,null,le==="time"?b.createElement(a2,null):b.createElement(s2,null),Q&&ce),[ve]=Vx("DatePicker",HF),pe=Object.assign(Object.assign({},ve),p.locale),[ge]=Fx("DatePicker",(y=p.popupStyle)===null||y===void 0?void 0:y.zIndex);return ue(b.createElement(Qb,{space:!0},b.createElement(J9,Object.assign({ref:I,placeholder:mX(pe,le,j),suffixIcon:ie,dropdownAlign:uI(ae,F),placement:F,prevIcon:b.createElement("span",{className:`${te}-prev-icon`}),nextIcon:b.createElement("span",{className:`${te}-next-icon`}),superPrevIcon:b.createElement("span",{className:`${te}-super-prev-icon`}),superNextIcon:b.createElement("span",{className:`${te}-super-next-icon`}),transitionName:`${Ee}-slide-up`,picker:u,onCalendarChange:Ae},be,J,{locale:pe.lang,className:lt({[`${te}-${k}`]:k,[`${te}-${$}`]:N},xg(te,Wg(we,X),Q),me,E,oe==null?void 0:oe.className,O,Me,Z,A),style:Object.assign(Object.assign({},oe==null?void 0:oe.style),x),prefixCls:te,getPopupContainer:S||G,generateConfig:t,components:je,direction:ae,disabled:q,classNames:{popup:lt(me,Me,Z,A,z||Y)},styles:{popup:Object.assign(Object.assign({},p.popupStyle),{zIndex:ge})},allowClear:Pe,removeIcon:Be}))))})},n=e(),r=e(vX,wX),i=e(CX,yX),o=e(bX,SX),s=e(RX,EX),a=e(u2,HD);return{DatePicker:n,WeekPicker:r,MonthPicker:i,YearPicker:o,TimePicker:a,QuarterPicker:s}},d2=t=>{const{DatePicker:e,WeekPicker:n,MonthPicker:r,YearPicker:i,TimePicker:o,QuarterPicker:s}=IX(t),a=TX(t),u=e;return u.WeekPicker=n,u.MonthPicker=r,u.YearPicker=i,u.RangePicker=a,u.TimePicker=o,u.QuarterPicker=s,u},Ug=d2(r9);function h2(t){const e=uI(t.direction,t.placement);return e.overflow.adjustY=!1,e.overflow.adjustX=!1,Object.assign(Object.assign({},t),{dropdownAlign:e})}const OX=Gx(Ug,"picker",null,h2);Ug._InternalPanelDoNotUseOrYouWillBeFired=OX;const PX=Gx(Ug.RangePicker,"picker",null,h2);Ug._InternalRangePanelDoNotUseOrYouWillBeFired=PX;Ug.generatePicker=d2;var AX={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},HX=function(e,n){return b.createElement(ms,Ot({},e,{ref:n,icon:AX}))},DX=b.forwardRef(HX),NX={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},$X=function(e,n){return b.createElement(ms,Ot({},e,{ref:n,icon:NX}))},LX=b.forwardRef($X);function dg(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var V_={exports:{}},DD;function kX(){return DD||(DD=1,function(t,e){(function(n,r){t.exports=r()})(Ai,function(){var n;function r(){return n.apply(null,arguments)}function i(f){n=f}function o(f){return f instanceof Array||Object.prototype.toString.call(f)==="[object Array]"}function s(f){return f!=null&&Object.prototype.toString.call(f)==="[object Object]"}function a(f,w){return Object.prototype.hasOwnProperty.call(f,w)}function u(f){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(f).length===0;var w;for(w in f)if(a(f,w))return!1;return!0}function c(f){return f===void 0}function h(f){return typeof f=="number"||Object.prototype.toString.call(f)==="[object Number]"}function g(f){return f instanceof Date||Object.prototype.toString.call(f)==="[object Date]"}function p(f,w){var M=[],P,W=f.length;for(P=0;P<W;++P)M.push(w(f[P],P));return M}function v(f,w){for(var M in w)a(w,M)&&(f[M]=w[M]);return a(w,"toString")&&(f.toString=w.toString),a(w,"valueOf")&&(f.valueOf=w.valueOf),f}function y(f,w,M,P){return ju(f,w,M,P,!0).utc()}function R(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function S(f){return f._pf==null&&(f._pf=R()),f._pf}var T;Array.prototype.some?T=Array.prototype.some:T=function(f){var w=Object(this),M=w.length>>>0,P;for(P=0;P<M;P++)if(P in w&&f.call(this,w[P],P,w))return!0;return!1};function x(f){var w=null,M=!1,P=f._d&&!isNaN(f._d.getTime());if(P&&(w=S(f),M=T.call(w.parsedDateParts,function(W){return W!=null}),P=w.overflow<0&&!w.empty&&!w.invalidEra&&!w.invalidMonth&&!w.invalidWeekday&&!w.weekdayMismatch&&!w.nullInput&&!w.invalidFormat&&!w.userInvalidated&&(!w.meridiem||w.meridiem&&M),f._strict&&(P=P&&w.charsLeftOver===0&&w.unusedTokens.length===0&&w.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(f))f._isValid=P;else return P;return f._isValid}function O(f){var w=y(NaN);return f!=null?v(S(w),f):S(w).userInvalidated=!0,w}var A=r.momentProperties=[],H=!1;function L(f,w){var M,P,W,Ce=A.length;if(c(w._isAMomentObject)||(f._isAMomentObject=w._isAMomentObject),c(w._i)||(f._i=w._i),c(w._f)||(f._f=w._f),c(w._l)||(f._l=w._l),c(w._strict)||(f._strict=w._strict),c(w._tzm)||(f._tzm=w._tzm),c(w._isUTC)||(f._isUTC=w._isUTC),c(w._offset)||(f._offset=w._offset),c(w._pf)||(f._pf=S(w)),c(w._locale)||(f._locale=w._locale),Ce>0)for(M=0;M<Ce;M++)P=A[M],W=w[P],c(W)||(f[P]=W);return f}function F(f){L(this,f),this._d=new Date(f._d!=null?f._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),H===!1&&(H=!0,r.updateOffset(this),H=!1)}function j(f){return f instanceof F||f!=null&&f._isAMomentObject!=null}function z(f){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+f)}function Y(f,w){var M=!0;return v(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,f),M){var P=[],W,Ce,Le,gt=arguments.length;for(Ce=0;Ce<gt;Ce++){if(W="",typeof arguments[Ce]=="object"){W+=`
[`+Ce+"] ";for(Le in arguments[0])a(arguments[0],Le)&&(W+=Le+": "+arguments[0][Le]+", ");W=W.slice(0,-2)}else W=arguments[Ce];P.push(W)}z(f+`
Arguments: `+Array.prototype.slice.call(P).join("")+`
`+new Error().stack),M=!1}return w.apply(this,arguments)},w)}var K={};function X(f,w){r.deprecationHandler!=null&&r.deprecationHandler(f,w),K[f]||(z(w),K[f]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function se(f){return typeof Function<"u"&&f instanceof Function||Object.prototype.toString.call(f)==="[object Function]"}function ne(f){var w,M;for(M in f)a(f,M)&&(w=f[M],se(w)?this[M]=w:this["_"+M]=w);this._config=f,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function J(f,w){var M=v({},f),P;for(P in w)a(w,P)&&(s(f[P])&&s(w[P])?(M[P]={},v(M[P],f[P]),v(M[P],w[P])):w[P]!=null?M[P]=w[P]:delete M[P]);for(P in f)a(f,P)&&!a(w,P)&&s(f[P])&&(M[P]=v({},M[P]));return M}function re(f){f!=null&&this.set(f)}var ae;Object.keys?ae=Object.keys:ae=function(f){var w,M=[];for(w in f)a(f,w)&&M.push(w);return M};var G={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function oe(f,w,M){var P=this._calendar[f]||this._calendar.sameElse;return se(P)?P.call(w,M):P}function te(f,w,M){var P=""+Math.abs(f),W=w-P.length,Ce=f>=0;return(Ce?M?"+":"":"-")+Math.pow(10,Math.max(0,W)).toString().substr(1)+P}var C=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,E=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,I={},$={};function N(f,w,M,P){var W=P;typeof P=="string"&&(W=function(){return this[P]()}),f&&($[f]=W),w&&($[w[0]]=function(){return te(W.apply(this,arguments),w[1],w[2])}),M&&($[M]=function(){return this.localeData().ordinal(W.apply(this,arguments),f)})}function Z(f){return f.match(/\[[\s\S]/)?f.replace(/^\[|\]$/g,""):f.replace(/\\/g,"")}function ue(f){var w=f.match(C),M,P;for(M=0,P=w.length;M<P;M++)$[w[M]]?w[M]=$[w[M]]:w[M]=Z(w[M]);return function(W){var Ce="",Le;for(Le=0;Le<P;Le++)Ce+=se(w[Le])?w[Le].call(W,f):w[Le];return Ce}}function me(f,w){return f.isValid()?(w=Me(w,f.localeData()),I[w]=I[w]||ue(w),I[w](f)):f.localeData().invalidDate()}function Me(f,w){var M=5;function P(W){return w.longDateFormat(W)||W}for(E.lastIndex=0;M>=0&&E.test(f);)f=f.replace(E,P),E.lastIndex=0,M-=1;return f}var be={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function le(f){var w=this._longDateFormat[f],M=this._longDateFormat[f.toUpperCase()];return w||!M?w:(this._longDateFormat[f]=M.match(C).map(function(P){return P==="MMMM"||P==="MM"||P==="DD"||P==="dddd"?P.slice(1):P}).join(""),this._longDateFormat[f])}var Ee="Invalid date";function _e(){return this._invalidDate}var ee="%d",De=/\d{1,2}/;function Ae(f){return this._ordinal.replace("%d",f)}var Pe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Be(f,w,M,P){var W=this._relativeTime[M];return se(W)?W(f,w,M,P):W.replace(/%d/i,f)}function je(f,w){var M=this._relativeTime[f>0?"future":"past"];return se(M)?M(w):M.replace(/%s/i,w)}var k={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function V(f){return typeof f=="string"?k[f]||k[f.toLowerCase()]:void 0}function q(f){var w={},M,P;for(P in f)a(f,P)&&(M=V(P),M&&(w[M]=f[P]));return w}var fe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Q(f){var w=[],M;for(M in f)a(f,M)&&w.push({unit:M,priority:fe[M]});return w.sort(function(P,W){return P.priority-W.priority}),w}var we=/\d/,ce=/\d\d/,ie=/\d{3}/,ve=/\d{4}/,pe=/[+-]?\d{6}/,ge=/\d\d?/,$e=/\d\d\d\d?/,Fe=/\d\d\d\d\d\d?/,Ie=/\d{1,3}/,xe=/\d{1,4}/,ze=/[+-]?\d{1,6}/,Ge=/\d+/,Oe=/[+-]?\d+/,Ye=/Z|[+-]\d\d:?\d\d/gi,wt=/Z|[+-]\d\d(?::?\d\d)?/gi,sn=/[+-]?\d+(\.\d{1,3})?/,Nt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,In=/^[1-9]\d?/,wn=/^([1-9]\d|\d)/,At;At={};function qe(f,w,M){At[f]=se(w)?w:function(P,W){return P&&M?M:w}}function Ut(f,w){return a(At,f)?At[f](w._strict,w._locale):new RegExp(Yt(f))}function Yt(f){return qt(f.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(w,M,P,W,Ce){return M||P||W||Ce}))}function qt(f){return f.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function $n(f){return f<0?Math.ceil(f)||0:Math.floor(f)}function _t(f){var w=+f,M=0;return w!==0&&isFinite(w)&&(M=$n(w)),M}var zn={};function it(f,w){var M,P=w,W;for(typeof f=="string"&&(f=[f]),h(w)&&(P=function(Ce,Le){Le[w]=_t(Ce)}),W=f.length,M=0;M<W;M++)zn[f[M]]=P}function ft(f,w){it(f,function(M,P,W,Ce){W._w=W._w||{},w(M,W._w,W,Ce)})}function Rt(f,w,M){w!=null&&a(zn,f)&&zn[f](w,M._a,M,f)}function ht(f){return f%4===0&&f%100!==0||f%400===0}var Tt=0,Xt=1,Ln=2,tn=3,kn=4,Gt=5,Mn=6,Dr=7,ci=8;N("Y",0,0,function(){var f=this.year();return f<=9999?te(f,4):"+"+f}),N(0,["YY",2],0,function(){return this.year()%100}),N(0,["YYYY",4],0,"year"),N(0,["YYYYY",5],0,"year"),N(0,["YYYYYY",6,!0],0,"year"),qe("Y",Oe),qe("YY",ge,ce),qe("YYYY",xe,ve),qe("YYYYY",ze,pe),qe("YYYYYY",ze,pe),it(["YYYYY","YYYYYY"],Tt),it("YYYY",function(f,w){w[Tt]=f.length===2?r.parseTwoDigitYear(f):_t(f)}),it("YY",function(f,w){w[Tt]=r.parseTwoDigitYear(f)}),it("Y",function(f,w){w[Tt]=parseInt(f,10)});function di(f){return ht(f)?366:365}r.parseTwoDigitYear=function(f){return _t(f)+(_t(f)>68?1900:2e3)};var bt=de("FullYear",!0);function Ve(){return ht(this.year())}function de(f,w){return function(M){return M!=null?(et(this,f,M),r.updateOffset(this,w),this):Ne(this,f)}}function Ne(f,w){if(!f.isValid())return NaN;var M=f._d,P=f._isUTC;switch(w){case"Milliseconds":return P?M.getUTCMilliseconds():M.getMilliseconds();case"Seconds":return P?M.getUTCSeconds():M.getSeconds();case"Minutes":return P?M.getUTCMinutes():M.getMinutes();case"Hours":return P?M.getUTCHours():M.getHours();case"Date":return P?M.getUTCDate():M.getDate();case"Day":return P?M.getUTCDay():M.getDay();case"Month":return P?M.getUTCMonth():M.getMonth();case"FullYear":return P?M.getUTCFullYear():M.getFullYear();default:return NaN}}function et(f,w,M){var P,W,Ce,Le,gt;if(!(!f.isValid()||isNaN(M))){switch(P=f._d,W=f._isUTC,w){case"Milliseconds":return void(W?P.setUTCMilliseconds(M):P.setMilliseconds(M));case"Seconds":return void(W?P.setUTCSeconds(M):P.setSeconds(M));case"Minutes":return void(W?P.setUTCMinutes(M):P.setMinutes(M));case"Hours":return void(W?P.setUTCHours(M):P.setHours(M));case"Date":return void(W?P.setUTCDate(M):P.setDate(M));case"FullYear":break;default:return}Ce=M,Le=f.month(),gt=f.date(),gt=gt===29&&Le===1&&!ht(Ce)?28:gt,W?P.setUTCFullYear(Ce,Le,gt):P.setFullYear(Ce,Le,gt)}}function Dt(f){return f=V(f),se(this[f])?this[f]():this}function An(f,w){if(typeof f=="object"){f=q(f);var M=Q(f),P,W=M.length;for(P=0;P<W;P++)this[M[P].unit](f[M[P].unit])}else if(f=V(f),se(this[f]))return this[f](w);return this}function Xn(f,w){return(f%w+w)%w}var Vt;Array.prototype.indexOf?Vt=Array.prototype.indexOf:Vt=function(f){var w;for(w=0;w<this.length;++w)if(this[w]===f)return w;return-1};function Pr(f,w){if(isNaN(f)||isNaN(w))return NaN;var M=Xn(w,12);return f+=(w-M)/12,M===1?ht(f)?29:28:31-M%7%2}N("M",["MM",2],"Mo",function(){return this.month()+1}),N("MMM",0,0,function(f){return this.localeData().monthsShort(this,f)}),N("MMMM",0,0,function(f){return this.localeData().months(this,f)}),qe("M",ge,In),qe("MM",ge,ce),qe("MMM",function(f,w){return w.monthsShortRegex(f)}),qe("MMMM",function(f,w){return w.monthsRegex(f)}),it(["M","MM"],function(f,w){w[Xt]=_t(f)-1}),it(["MMM","MMMM"],function(f,w,M,P){var W=M._locale.monthsParse(f,P,M._strict);W!=null?w[Xt]=W:S(M).invalidMonth=f});var Hn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ni="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Mo=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ka=Nt,Fa=Nt;function Wl(f,w){return f?o(this._months)?this._months[f.month()]:this._months[(this._months.isFormat||Mo).test(w)?"format":"standalone"][f.month()]:o(this._months)?this._months:this._months.standalone}function Va(f,w){return f?o(this._monthsShort)?this._monthsShort[f.month()]:this._monthsShort[Mo.test(w)?"format":"standalone"][f.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Wa(f,w,M){var P,W,Ce,Le=f.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],P=0;P<12;++P)Ce=y([2e3,P]),this._shortMonthsParse[P]=this.monthsShort(Ce,"").toLocaleLowerCase(),this._longMonthsParse[P]=this.months(Ce,"").toLocaleLowerCase();return M?w==="MMM"?(W=Vt.call(this._shortMonthsParse,Le),W!==-1?W:null):(W=Vt.call(this._longMonthsParse,Le),W!==-1?W:null):w==="MMM"?(W=Vt.call(this._shortMonthsParse,Le),W!==-1?W:(W=Vt.call(this._longMonthsParse,Le),W!==-1?W:null)):(W=Vt.call(this._longMonthsParse,Le),W!==-1?W:(W=Vt.call(this._shortMonthsParse,Le),W!==-1?W:null))}function Ba(f,w,M){var P,W,Ce;if(this._monthsParseExact)return Wa.call(this,f,w,M);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),P=0;P<12;P++){if(W=y([2e3,P]),M&&!this._longMonthsParse[P]&&(this._longMonthsParse[P]=new RegExp("^"+this.months(W,"").replace(".","")+"$","i"),this._shortMonthsParse[P]=new RegExp("^"+this.monthsShort(W,"").replace(".","")+"$","i")),!M&&!this._monthsParse[P]&&(Ce="^"+this.months(W,"")+"|^"+this.monthsShort(W,""),this._monthsParse[P]=new RegExp(Ce.replace(".",""),"i")),M&&w==="MMMM"&&this._longMonthsParse[P].test(f))return P;if(M&&w==="MMM"&&this._shortMonthsParse[P].test(f))return P;if(!M&&this._monthsParse[P].test(f))return P}}function qo(f,w){if(!f.isValid())return f;if(typeof w=="string"){if(/^\d+$/.test(w))w=_t(w);else if(w=f.localeData().monthsParse(w),!h(w))return f}var M=w,P=f.date();return P=P<29?P:Math.min(P,Pr(f.year(),M)),f._isUTC?f._d.setUTCMonth(M,P):f._d.setMonth(M,P),f}function vs(f){return f!=null?(qo(this,f),r.updateOffset(this,!0),this):Ne(this,"Month")}function on(){return Pr(this.year(),this.month())}function $t(f){return this._monthsParseExact?(a(this,"_monthsRegex")||$r.call(this),f?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ka),this._monthsShortStrictRegex&&f?this._monthsShortStrictRegex:this._monthsShortRegex)}function Nr(f){return this._monthsParseExact?(a(this,"_monthsRegex")||$r.call(this),f?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Fa),this._monthsStrictRegex&&f?this._monthsStrictRegex:this._monthsRegex)}function $r(){function f(zt,gn){return gn.length-zt.length}var w=[],M=[],P=[],W,Ce,Le,gt;for(W=0;W<12;W++)Ce=y([2e3,W]),Le=qt(this.monthsShort(Ce,"")),gt=qt(this.months(Ce,"")),w.push(Le),M.push(gt),P.push(gt),P.push(Le);w.sort(f),M.sort(f),P.sort(f),this._monthsRegex=new RegExp("^("+P.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+M.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+w.join("|")+")","i")}function ur(f,w,M,P,W,Ce,Le){var gt;return f<100&&f>=0?(gt=new Date(f+400,w,M,P,W,Ce,Le),isFinite(gt.getFullYear())&&gt.setFullYear(f)):gt=new Date(f,w,M,P,W,Ce,Le),gt}function vt(f){var w,M;return f<100&&f>=0?(M=Array.prototype.slice.call(arguments),M[0]=f+400,w=new Date(Date.UTC.apply(null,M)),isFinite(w.getUTCFullYear())&&w.setUTCFullYear(f)):w=new Date(Date.UTC.apply(null,arguments)),w}function St(f,w,M){var P=7+w-M,W=(7+vt(f,0,P).getUTCDay()-w)%7;return-W+P-1}function Zn(f,w,M,P,W){var Ce=(7+M-P)%7,Le=St(f,P,W),gt=1+7*(w-1)+Ce+Le,zt,gn;return gt<=0?(zt=f-1,gn=di(zt)+gt):gt>di(f)?(zt=f+1,gn=gt-di(f)):(zt=f,gn=gt),{year:zt,dayOfYear:gn}}function pr(f,w,M){var P=St(f.year(),w,M),W=Math.floor((f.dayOfYear()-P-1)/7)+1,Ce,Le;return W<1?(Le=f.year()-1,Ce=W+_r(Le,w,M)):W>_r(f.year(),w,M)?(Ce=W-_r(f.year(),w,M),Le=f.year()+1):(Le=f.year(),Ce=W),{week:Ce,year:Le}}function _r(f,w,M){var P=St(f,w,M),W=St(f+1,w,M);return(di(f)-P+W)/7}N("w",["ww",2],"wo","week"),N("W",["WW",2],"Wo","isoWeek"),qe("w",ge,In),qe("ww",ge,ce),qe("W",ge,In),qe("WW",ge,ce),ft(["w","ww","W","WW"],function(f,w,M,P){w[P.substr(0,1)]=_t(f)});function so(f){return pr(f,this._week.dow,this._week.doy).week}var ao={dow:0,doy:6};function Jt(){return this._week.dow}function Wt(){return this._week.doy}function an(f){var w=this.localeData().week(this);return f==null?w:this.add((f-w)*7,"d")}function Mr(f){var w=pr(this,1,4).week;return f==null?w:this.add((f-w)*7,"d")}N("d",0,"do","day"),N("dd",0,0,function(f){return this.localeData().weekdaysMin(this,f)}),N("ddd",0,0,function(f){return this.localeData().weekdaysShort(this,f)}),N("dddd",0,0,function(f){return this.localeData().weekdays(this,f)}),N("e",0,0,"weekday"),N("E",0,0,"isoWeekday"),qe("d",ge),qe("e",ge),qe("E",ge),qe("dd",function(f,w){return w.weekdaysMinRegex(f)}),qe("ddd",function(f,w){return w.weekdaysShortRegex(f)}),qe("dddd",function(f,w){return w.weekdaysRegex(f)}),ft(["dd","ddd","dddd"],function(f,w,M,P){var W=M._locale.weekdaysParse(f,P,M._strict);W!=null?w.d=W:S(M).invalidWeekday=f}),ft(["d","e","E"],function(f,w,M,P){w[P]=_t(f)});function Gi(f,w){return typeof f!="string"?f:isNaN(f)?(f=w.weekdaysParse(f),typeof f=="number"?f:null):parseInt(f,10)}function Uh(f,w){return typeof f=="string"?w.weekdaysParse(f)%7||7:isNaN(f)?null:f}function Gh(f,w){return f.slice(w,7).concat(f.slice(0,w))}var CR="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Sw="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),yR="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Rw=Nt,bR=Nt,SR=Nt;function RR(f,w){var M=o(this._weekdays)?this._weekdays:this._weekdays[f&&f!==!0&&this._weekdays.isFormat.test(w)?"format":"standalone"];return f===!0?Gh(M,this._week.dow):f?M[f.day()]:M}function ER(f){return f===!0?Gh(this._weekdaysShort,this._week.dow):f?this._weekdaysShort[f.day()]:this._weekdaysShort}function om(f){return f===!0?Gh(this._weekdaysMin,this._week.dow):f?this._weekdaysMin[f.day()]:this._weekdaysMin}function _R(f,w,M){var P,W,Ce,Le=f.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],P=0;P<7;++P)Ce=y([2e3,1]).day(P),this._minWeekdaysParse[P]=this.weekdaysMin(Ce,"").toLocaleLowerCase(),this._shortWeekdaysParse[P]=this.weekdaysShort(Ce,"").toLocaleLowerCase(),this._weekdaysParse[P]=this.weekdays(Ce,"").toLocaleLowerCase();return M?w==="dddd"?(W=Vt.call(this._weekdaysParse,Le),W!==-1?W:null):w==="ddd"?(W=Vt.call(this._shortWeekdaysParse,Le),W!==-1?W:null):(W=Vt.call(this._minWeekdaysParse,Le),W!==-1?W:null):w==="dddd"?(W=Vt.call(this._weekdaysParse,Le),W!==-1||(W=Vt.call(this._shortWeekdaysParse,Le),W!==-1)?W:(W=Vt.call(this._minWeekdaysParse,Le),W!==-1?W:null)):w==="ddd"?(W=Vt.call(this._shortWeekdaysParse,Le),W!==-1||(W=Vt.call(this._weekdaysParse,Le),W!==-1)?W:(W=Vt.call(this._minWeekdaysParse,Le),W!==-1?W:null)):(W=Vt.call(this._minWeekdaysParse,Le),W!==-1||(W=Vt.call(this._weekdaysParse,Le),W!==-1)?W:(W=Vt.call(this._shortWeekdaysParse,Le),W!==-1?W:null))}function MR(f,w,M){var P,W,Ce;if(this._weekdaysParseExact)return _R.call(this,f,w,M);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),P=0;P<7;P++){if(W=y([2e3,1]).day(P),M&&!this._fullWeekdaysParse[P]&&(this._fullWeekdaysParse[P]=new RegExp("^"+this.weekdays(W,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[P]=new RegExp("^"+this.weekdaysShort(W,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[P]=new RegExp("^"+this.weekdaysMin(W,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[P]||(Ce="^"+this.weekdays(W,"")+"|^"+this.weekdaysShort(W,"")+"|^"+this.weekdaysMin(W,""),this._weekdaysParse[P]=new RegExp(Ce.replace(".",""),"i")),M&&w==="dddd"&&this._fullWeekdaysParse[P].test(f))return P;if(M&&w==="ddd"&&this._shortWeekdaysParse[P].test(f))return P;if(M&&w==="dd"&&this._minWeekdaysParse[P].test(f))return P;if(!M&&this._weekdaysParse[P].test(f))return P}}function TR(f){if(!this.isValid())return f!=null?this:NaN;var w=Ne(this,"Day");return f!=null?(f=Gi(f,this.localeData()),this.add(f-w,"d")):w}function xR(f){if(!this.isValid())return f!=null?this:NaN;var w=(this.day()+7-this.localeData()._week.dow)%7;return f==null?w:this.add(f-w,"d")}function IR(f){if(!this.isValid())return f!=null?this:NaN;if(f!=null){var w=Uh(f,this.localeData());return this.day(this.day()%7?w:w-7)}else return this.day()||7}function vr(f){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||sm.call(this),f?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Rw),this._weekdaysStrictRegex&&f?this._weekdaysStrictRegex:this._weekdaysRegex)}function cr(f){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||sm.call(this),f?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=bR),this._weekdaysShortStrictRegex&&f?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function OR(f){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||sm.call(this),f?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=SR),this._weekdaysMinStrictRegex&&f?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function sm(){function f(ki,Es){return Es.length-ki.length}var w=[],M=[],P=[],W=[],Ce,Le,gt,zt,gn;for(Ce=0;Ce<7;Ce++)Le=y([2e3,1]).day(Ce),gt=qt(this.weekdaysMin(Le,"")),zt=qt(this.weekdaysShort(Le,"")),gn=qt(this.weekdays(Le,"")),w.push(gt),M.push(zt),P.push(gn),W.push(gt),W.push(zt),W.push(gn);w.sort(f),M.sort(f),P.sort(f),W.sort(f),this._weekdaysRegex=new RegExp("^("+W.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+P.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+M.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+w.join("|")+")","i")}function am(){return this.hours()%12||12}function PR(){return this.hours()||24}N("H",["HH",2],0,"hour"),N("h",["hh",2],0,am),N("k",["kk",2],0,PR),N("hmm",0,0,function(){return""+am.apply(this)+te(this.minutes(),2)}),N("hmmss",0,0,function(){return""+am.apply(this)+te(this.minutes(),2)+te(this.seconds(),2)}),N("Hmm",0,0,function(){return""+this.hours()+te(this.minutes(),2)}),N("Hmmss",0,0,function(){return""+this.hours()+te(this.minutes(),2)+te(this.seconds(),2)});function Ew(f,w){N(f,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),w)})}Ew("a",!0),Ew("A",!1);function _w(f,w){return w._meridiemParse}qe("a",_w),qe("A",_w),qe("H",ge,wn),qe("h",ge,In),qe("k",ge,In),qe("HH",ge,ce),qe("hh",ge,ce),qe("kk",ge,ce),qe("hmm",$e),qe("hmmss",Fe),qe("Hmm",$e),qe("Hmmss",Fe),it(["H","HH"],tn),it(["k","kk"],function(f,w,M){var P=_t(f);w[tn]=P===24?0:P}),it(["a","A"],function(f,w,M){M._isPm=M._locale.isPM(f),M._meridiem=f}),it(["h","hh"],function(f,w,M){w[tn]=_t(f),S(M).bigHour=!0}),it("hmm",function(f,w,M){var P=f.length-2;w[tn]=_t(f.substr(0,P)),w[kn]=_t(f.substr(P)),S(M).bigHour=!0}),it("hmmss",function(f,w,M){var P=f.length-4,W=f.length-2;w[tn]=_t(f.substr(0,P)),w[kn]=_t(f.substr(P,2)),w[Gt]=_t(f.substr(W)),S(M).bigHour=!0}),it("Hmm",function(f,w,M){var P=f.length-2;w[tn]=_t(f.substr(0,P)),w[kn]=_t(f.substr(P))}),it("Hmmss",function(f,w,M){var P=f.length-4,W=f.length-2;w[tn]=_t(f.substr(0,P)),w[kn]=_t(f.substr(P,2)),w[Gt]=_t(f.substr(W))});function Mw(f){return(f+"").toLowerCase().charAt(0)==="p"}var AR=/[ap]\.?m?\.?/i,mi=de("Hours",!0);function lm(f,w,M){return f>11?M?"pm":"PM":M?"am":"AM"}var ja={calendar:G,longDateFormat:be,invalidDate:Ee,ordinal:ee,dayOfMonthOrdinalParse:De,relativeTime:Pe,months:Hn,monthsShort:Ni,week:ao,weekdays:CR,weekdaysMin:yR,weekdaysShort:Sw,meridiemParse:AR},wr={},Bl={},Ei;function Tw(f,w){var M,P=Math.min(f.length,w.length);for(M=0;M<P;M+=1)if(f[M]!==w[M])return M;return P}function um(f){return f&&f.toLowerCase().replace("_","-")}function xw(f){for(var w=0,M,P,W,Ce;w<f.length;){for(Ce=um(f[w]).split("-"),M=Ce.length,P=um(f[w+1]),P=P?P.split("-"):null;M>0;){if(W=td(Ce.slice(0,M).join("-")),W)return W;if(P&&P.length>=M&&Tw(Ce,P)>=M-1)break;M--}w++}return Ei}function Iw(f){return!!(f&&f.match("^[^/\\\\]*$"))}function td(f){var w=null,M;if(wr[f]===void 0&&t&&t.exports&&Iw(f))try{w=Ei._abbr,M=dg,M("./locale/"+f),qs(w)}catch{wr[f]=null}return wr[f]}function qs(f,w){var M;return f&&(c(w)?M=Gr(f):M=$i(f,w),M?Ei=M:typeof console<"u"&&console.warn&&console.warn("Locale "+f+" not found. Did you forget to load it?")),Ei._abbr}function $i(f,w){if(w!==null){var M,P=ja;if(w.abbr=f,wr[f]!=null)X("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),P=wr[f]._config;else if(w.parentLocale!=null)if(wr[w.parentLocale]!=null)P=wr[w.parentLocale]._config;else if(M=td(w.parentLocale),M!=null)P=M._config;else return Bl[w.parentLocale]||(Bl[w.parentLocale]=[]),Bl[w.parentLocale].push({name:f,config:w}),null;return wr[f]=new re(J(P,w)),Bl[f]&&Bl[f].forEach(function(W){$i(W.name,W.config)}),qs(f),wr[f]}else return delete wr[f],null}function HR(f,w){if(w!=null){var M,P,W=ja;wr[f]!=null&&wr[f].parentLocale!=null?wr[f].set(J(wr[f]._config,w)):(P=td(f),P!=null&&(W=P._config),w=J(W,w),P==null&&(w.abbr=f),M=new re(w),M.parentLocale=wr[f],wr[f]=M),qs(f)}else wr[f]!=null&&(wr[f].parentLocale!=null?(wr[f]=wr[f].parentLocale,f===qs()&&qs(f)):wr[f]!=null&&delete wr[f]);return wr[f]}function Gr(f){var w;if(f&&f._locale&&f._locale._abbr&&(f=f._locale._abbr),!f)return Ei;if(!o(f)){if(w=td(f),w)return w;f=[f]}return xw(f)}function DR(){return ae(wr)}function Kh(f){var w,M=f._a;return M&&S(f).overflow===-2&&(w=M[Xt]<0||M[Xt]>11?Xt:M[Ln]<1||M[Ln]>Pr(M[Tt],M[Xt])?Ln:M[tn]<0||M[tn]>24||M[tn]===24&&(M[kn]!==0||M[Gt]!==0||M[Mn]!==0)?tn:M[kn]<0||M[kn]>59?kn:M[Gt]<0||M[Gt]>59?Gt:M[Mn]<0||M[Mn]>999?Mn:-1,S(f)._overflowDayOfYear&&(w<Tt||w>Ln)&&(w=Ln),S(f)._overflowWeeks&&w===-1&&(w=Dr),S(f)._overflowWeekday&&w===-1&&(w=ci),S(f).overflow=w),f}var za=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qh=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,cm=/Z|[+-]\d\d(?::?\d\d)?/,nr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ws=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],dm=/^\/?Date\((-?\d+)/i,NR=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,hm={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ow(f){var w,M,P=f._i,W=za.exec(P)||qh.exec(P),Ce,Le,gt,zt,gn=nr.length,ki=ws.length;if(W){for(S(f).iso=!0,w=0,M=gn;w<M;w++)if(nr[w][1].exec(W[1])){Le=nr[w][0],Ce=nr[w][2]!==!1;break}if(Le==null){f._isValid=!1;return}if(W[3]){for(w=0,M=ki;w<M;w++)if(ws[w][1].exec(W[3])){gt=(W[2]||" ")+ws[w][0];break}if(gt==null){f._isValid=!1;return}}if(!Ce&&gt!=null){f._isValid=!1;return}if(W[4])if(cm.exec(W[4]))zt="Z";else{f._isValid=!1;return}f._f=Le+(gt||"")+(zt||""),gm(f)}else f._isValid=!1}function $R(f,w,M,P,W,Ce){var Le=[LR(f),Ni.indexOf(w),parseInt(M,10),parseInt(P,10),parseInt(W,10)];return Ce&&Le.push(parseInt(Ce,10)),Le}function LR(f){var w=parseInt(f,10);return w<=49?2e3+w:w<=999?1900+w:w}function Pw(f){return f.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Xh(f,w,M){if(f){var P=Sw.indexOf(f),W=new Date(w[0],w[1],w[2]).getDay();if(P!==W)return S(M).weekdayMismatch=!0,M._isValid=!1,!1}return!0}function Bu(f,w,M){if(f)return hm[f];if(w)return 0;var P=parseInt(M,10),W=P%100,Ce=(P-W)/100;return Ce*60+W}function Aw(f){var w=NR.exec(Pw(f._i)),M;if(w){if(M=$R(w[4],w[3],w[2],w[5],w[6],w[7]),!Xh(w[1],M,f))return;f._a=M,f._tzm=Bu(w[8],w[9],w[10]),f._d=vt.apply(null,f._a),f._d.setUTCMinutes(f._d.getUTCMinutes()-f._tzm),S(f).rfc2822=!0}else f._isValid=!1}function Hw(f){var w=dm.exec(f._i);if(w!==null){f._d=new Date(+w[1]);return}if(Ow(f),f._isValid===!1)delete f._isValid;else return;if(Aw(f),f._isValid===!1)delete f._isValid;else return;f._strict?f._isValid=!1:r.createFromInputFallback(f)}r.createFromInputFallback=Y("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(f){f._d=new Date(f._i+(f._useUTC?" UTC":""))});function jl(f,w,M){return f??w??M}function fm(f){var w=new Date(r.now());return f._useUTC?[w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()]:[w.getFullYear(),w.getMonth(),w.getDate()]}function nd(f){var w,M,P=[],W,Ce,Le;if(!f._d){for(W=fm(f),f._w&&f._a[Ln]==null&&f._a[Xt]==null&&Dw(f),f._dayOfYear!=null&&(Le=jl(f._a[Tt],W[Tt]),(f._dayOfYear>di(Le)||f._dayOfYear===0)&&(S(f)._overflowDayOfYear=!0),M=vt(Le,0,f._dayOfYear),f._a[Xt]=M.getUTCMonth(),f._a[Ln]=M.getUTCDate()),w=0;w<3&&f._a[w]==null;++w)f._a[w]=P[w]=W[w];for(;w<7;w++)f._a[w]=P[w]=f._a[w]==null?w===2?1:0:f._a[w];f._a[tn]===24&&f._a[kn]===0&&f._a[Gt]===0&&f._a[Mn]===0&&(f._nextDay=!0,f._a[tn]=0),f._d=(f._useUTC?vt:ur).apply(null,P),Ce=f._useUTC?f._d.getUTCDay():f._d.getDay(),f._tzm!=null&&f._d.setUTCMinutes(f._d.getUTCMinutes()-f._tzm),f._nextDay&&(f._a[tn]=24),f._w&&typeof f._w.d<"u"&&f._w.d!==Ce&&(S(f).weekdayMismatch=!0)}}function Dw(f){var w,M,P,W,Ce,Le,gt,zt,gn;w=f._w,w.GG!=null||w.W!=null||w.E!=null?(Ce=1,Le=4,M=jl(w.GG,f._a[Tt],pr(dr(),1,4).year),P=jl(w.W,1),W=jl(w.E,1),(W<1||W>7)&&(zt=!0)):(Ce=f._locale._week.dow,Le=f._locale._week.doy,gn=pr(dr(),Ce,Le),M=jl(w.gg,f._a[Tt],gn.year),P=jl(w.w,gn.week),w.d!=null?(W=w.d,(W<0||W>6)&&(zt=!0)):w.e!=null?(W=w.e+Ce,(w.e<0||w.e>6)&&(zt=!0)):W=Ce),P<1||P>_r(M,Ce,Le)?S(f)._overflowWeeks=!0:zt!=null?S(f)._overflowWeekday=!0:(gt=Zn(M,P,W,Ce,Le),f._a[Tt]=gt.year,f._dayOfYear=gt.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function gm(f){if(f._f===r.ISO_8601){Ow(f);return}if(f._f===r.RFC_2822){Aw(f);return}f._a=[],S(f).empty=!0;var w=""+f._i,M,P,W,Ce,Le,gt=w.length,zt=0,gn,ki;for(W=Me(f._f,f._locale).match(C)||[],ki=W.length,M=0;M<ki;M++)Ce=W[M],P=(w.match(Ut(Ce,f))||[])[0],P&&(Le=w.substr(0,w.indexOf(P)),Le.length>0&&S(f).unusedInput.push(Le),w=w.slice(w.indexOf(P)+P.length),zt+=P.length),$[Ce]?(P?S(f).empty=!1:S(f).unusedTokens.push(Ce),Rt(Ce,P,f)):f._strict&&!P&&S(f).unusedTokens.push(Ce);S(f).charsLeftOver=gt-zt,w.length>0&&S(f).unusedInput.push(w),f._a[tn]<=12&&S(f).bigHour===!0&&f._a[tn]>0&&(S(f).bigHour=void 0),S(f).parsedDateParts=f._a.slice(0),S(f).meridiem=f._meridiem,f._a[tn]=mm(f._locale,f._a[tn],f._meridiem),gn=S(f).era,gn!==null&&(f._a[Tt]=f._locale.erasConvertYear(gn,f._a[Tt])),nd(f),Kh(f)}function mm(f,w,M){var P;return M==null?w:f.meridiemHour!=null?f.meridiemHour(w,M):(f.isPM!=null&&(P=f.isPM(M),P&&w<12&&(w+=12),!P&&w===12&&(w=0)),w)}function pm(f){var w,M,P,W,Ce,Le,gt=!1,zt=f._f.length;if(zt===0){S(f).invalidFormat=!0,f._d=new Date(NaN);return}for(W=0;W<zt;W++)Ce=0,Le=!1,w=L({},f),f._useUTC!=null&&(w._useUTC=f._useUTC),w._f=f._f[W],gm(w),x(w)&&(Le=!0),Ce+=S(w).charsLeftOver,Ce+=S(w).unusedTokens.length*10,S(w).score=Ce,gt?Ce<P&&(P=Ce,M=w):(P==null||Ce<P||Le)&&(P=Ce,M=w,Le&&(gt=!0));v(f,M||w)}function kR(f){if(!f._d){var w=q(f._i),M=w.day===void 0?w.date:w.day;f._a=p([w.year,w.month,M,w.hour,w.minute,w.second,w.millisecond],function(P){return P&&parseInt(P,10)}),nd(f)}}function Nw(f){var w=new F(Kh(Ki(f)));return w._nextDay&&(w.add(1,"d"),w._nextDay=void 0),w}function Ki(f){var w=f._i,M=f._f;return f._locale=f._locale||Gr(f._l),w===null||M===void 0&&w===""?O({nullInput:!0}):(typeof w=="string"&&(f._i=w=f._locale.preparse(w)),j(w)?new F(Kh(w)):(g(w)?f._d=w:o(M)?pm(f):M?gm(f):vm(f),x(f)||(f._d=null),f))}function vm(f){var w=f._i;c(w)?f._d=new Date(r.now()):g(w)?f._d=new Date(w.valueOf()):typeof w=="string"?Hw(f):o(w)?(f._a=p(w.slice(0),function(M){return parseInt(M,10)}),nd(f)):s(w)?kR(f):h(w)?f._d=new Date(w):r.createFromInputFallback(f)}function ju(f,w,M,P,W){var Ce={};return(w===!0||w===!1)&&(P=w,w=void 0),(M===!0||M===!1)&&(P=M,M=void 0),(s(f)&&u(f)||o(f)&&f.length===0)&&(f=void 0),Ce._isAMomentObject=!0,Ce._useUTC=Ce._isUTC=W,Ce._l=M,Ce._i=f,Ce._f=w,Ce._strict=P,Nw(Ce)}function dr(f,w,M,P){return ju(f,w,M,P,!1)}var $w=Y("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var f=dr.apply(null,arguments);return this.isValid()&&f.isValid()?f<this?this:f:O()}),FR=Y("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var f=dr.apply(null,arguments);return this.isValid()&&f.isValid()?f>this?this:f:O()});function Lw(f,w){var M,P;if(w.length===1&&o(w[0])&&(w=w[0]),!w.length)return dr();for(M=w[0],P=1;P<w.length;++P)(!w[P].isValid()||w[P][f](M))&&(M=w[P]);return M}function VR(){var f=[].slice.call(arguments,0);return Lw("isBefore",f)}function WR(){var f=[].slice.call(arguments,0);return Lw("isAfter",f)}var BR=function(){return Date.now?Date.now():+new Date},Cs=["year","quarter","month","week","day","hour","minute","second","millisecond"];function jR(f){var w,M=!1,P,W=Cs.length;for(w in f)if(a(f,w)&&!(Vt.call(Cs,w)!==-1&&(f[w]==null||!isNaN(f[w]))))return!1;for(P=0;P<W;++P)if(f[Cs[P]]){if(M)return!1;parseFloat(f[Cs[P]])!==_t(f[Cs[P]])&&(M=!0)}return!0}function zR(){return this._isValid}function wm(){return Cn(NaN)}function rd(f){var w=q(f),M=w.year||0,P=w.quarter||0,W=w.month||0,Ce=w.week||w.isoWeek||0,Le=w.day||0,gt=w.hour||0,zt=w.minute||0,gn=w.second||0,ki=w.millisecond||0;this._isValid=jR(w),this._milliseconds=+ki+gn*1e3+zt*6e4+gt*1e3*60*60,this._days=+Le+Ce*7,this._months=+W+P*3+M*12,this._data={},this._locale=Gr(),this._bubble()}function Xo(f){return f instanceof rd}function zu(f){return f<0?Math.round(-1*f)*-1:Math.round(f)}function YR(f,w,M){var P=Math.min(f.length,w.length),W=Math.abs(f.length-w.length),Ce=0,Le;for(Le=0;Le<P;Le++)_t(f[Le])!==_t(w[Le])&&Ce++;return Ce+W}function kw(f,w){N(f,0,0,function(){var M=this.utcOffset(),P="+";return M<0&&(M=-M,P="-"),P+te(~~(M/60),2)+w+te(~~M%60,2)})}kw("Z",":"),kw("ZZ",""),qe("Z",wt),qe("ZZ",wt),it(["Z","ZZ"],function(f,w,M){M._useUTC=!0,M._tzm=Ya(wt,f)});var UR=/([\+\-]|\d\d)/gi;function Ya(f,w){var M=(w||"").match(f),P,W,Ce;return M===null?null:(P=M[M.length-1]||[],W=(P+"").match(UR)||["-",0,0],Ce=+(W[1]*60)+_t(W[2]),Ce===0?0:W[0]==="+"?Ce:-Ce)}function lo(f,w){var M,P;return w._isUTC?(M=w.clone(),P=(j(f)||g(f)?f.valueOf():dr(f).valueOf())-M.valueOf(),M._d.setTime(M._d.valueOf()+P),r.updateOffset(M,!1),M):dr(f).local()}function Zh(f){return-Math.round(f._d.getTimezoneOffset())}r.updateOffset=function(){};function GR(f,w,M){var P=this._offset||0,W;if(!this.isValid())return f!=null?this:NaN;if(f!=null){if(typeof f=="string"){if(f=Ya(wt,f),f===null)return this}else Math.abs(f)<16&&!M&&(f=f*60);return!this._isUTC&&w&&(W=Zh(this)),this._offset=f,this._isUTC=!0,W!=null&&this.add(W,"m"),P!==f&&(!w||this._changeInProgress?Vw(this,Cn(f-P,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?P:Zh(this)}function KR(f,w){return f!=null?(typeof f!="string"&&(f=-f),this.utcOffset(f,w),this):-this.utcOffset()}function qR(f){return this.utcOffset(0,f)}function XR(f){return this._isUTC&&(this.utcOffset(0,f),this._isUTC=!1,f&&this.subtract(Zh(this),"m")),this}function ZR(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var f=Ya(Ye,this._i);f!=null?this.utcOffset(f):this.utcOffset(0,!0)}return this}function Yu(f){return this.isValid()?(f=f?dr(f).utcOffset():0,(this.utcOffset()-f)%60===0):!1}function Re(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function We(){if(!c(this._isDSTShifted))return this._isDSTShifted;var f={},w;return L(f,this),f=Ki(f),f._a?(w=f._isUTC?y(f._a):dr(f._a),this._isDSTShifted=this.isValid()&&YR(f._a,w.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function He(){return this.isValid()?!this._isUTC:!1}function pt(){return this.isValid()?this._isUTC:!1}function Kt(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Bn=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ti=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cn(f,w){var M=f,P=null,W,Ce,Le;return Xo(f)?M={ms:f._milliseconds,d:f._days,M:f._months}:h(f)||!isNaN(+f)?(M={},w?M[w]=+f:M.milliseconds=+f):(P=Bn.exec(f))?(W=P[1]==="-"?-1:1,M={y:0,d:_t(P[Ln])*W,h:_t(P[tn])*W,m:_t(P[kn])*W,s:_t(P[Gt])*W,ms:_t(zu(P[Mn]*1e3))*W}):(P=ti.exec(f))?(W=P[1]==="-"?-1:1,M={y:Xs(P[2],W),M:Xs(P[3],W),w:Xs(P[4],W),d:Xs(P[5],W),h:Xs(P[6],W),m:Xs(P[7],W),s:Xs(P[8],W)}):M==null?M={}:typeof M=="object"&&("from"in M||"to"in M)&&(Le=To(dr(M.from),dr(M.to)),M={},M.ms=Le.milliseconds,M.M=Le.months),Ce=new rd(M),Xo(f)&&a(f,"_locale")&&(Ce._locale=f._locale),Xo(f)&&a(f,"_isValid")&&(Ce._isValid=f._isValid),Ce}Cn.fn=rd.prototype,Cn.invalid=wm;function Xs(f,w){var M=f&&parseFloat(f.replace(",","."));return(isNaN(M)?0:M)*w}function Fw(f,w){var M={};return M.months=w.month()-f.month()+(w.year()-f.year())*12,f.clone().add(M.months,"M").isAfter(w)&&--M.months,M.milliseconds=+w-+f.clone().add(M.months,"M"),M}function To(f,w){var M;return f.isValid()&&w.isValid()?(w=lo(w,f),f.isBefore(w)?M=Fw(f,w):(M=Fw(w,f),M.milliseconds=-M.milliseconds,M.months=-M.months),M):{milliseconds:0,months:0}}function id(f,w){return function(M,P){var W,Ce;return P!==null&&!isNaN(+P)&&(X(w,"moment()."+w+"(period, number) is deprecated. Please use moment()."+w+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Ce=M,M=P,P=Ce),W=Cn(M,P),Vw(this,W,f),this}}function Vw(f,w,M,P){var W=w._milliseconds,Ce=zu(w._days),Le=zu(w._months);f.isValid()&&(P=P??!0,Le&&qo(f,Ne(f,"Month")+Le*M),Ce&&et(f,"Date",Ne(f,"Date")+Ce*M),W&&f._d.setTime(f._d.valueOf()+W*M),P&&r.updateOffset(f,Ce||Le))}var Uu=id(1,"add"),Qh=id(-1,"subtract");function od(f){return typeof f=="string"||f instanceof String}function Gn(f){return j(f)||g(f)||od(f)||h(f)||Ww(f)||QR(f)||f===null||f===void 0}function QR(f){var w=s(f)&&!u(f),M=!1,P=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],W,Ce,Le=P.length;for(W=0;W<Le;W+=1)Ce=P[W],M=M||a(f,Ce);return w&&M}function Ww(f){var w=o(f),M=!1;return w&&(M=f.filter(function(P){return!h(P)&&od(f)}).length===0),w&&M}function Jh(f){var w=s(f)&&!u(f),M=!1,P=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],W,Ce;for(W=0;W<P.length;W+=1)Ce=P[W],M=M||a(f,Ce);return w&&M}function JR(f,w){var M=f.diff(w,"days",!0);return M<-6?"sameElse":M<-1?"lastWeek":M<0?"lastDay":M<1?"sameDay":M<2?"nextDay":M<7?"nextWeek":"sameElse"}function eE(f,w){arguments.length===1&&(arguments[0]?Gn(arguments[0])?(f=arguments[0],w=void 0):Jh(arguments[0])&&(w=arguments[0],f=void 0):(f=void 0,w=void 0));var M=f||dr(),P=lo(M,this).startOf("day"),W=r.calendarFormat(this,P)||"sameElse",Ce=w&&(se(w[W])?w[W].call(this,M):w[W]);return this.format(Ce||this.localeData().calendar(W,this,dr(M)))}function tE(){return new F(this)}function ef(f,w){var M=j(f)?f:dr(f);return this.isValid()&&M.isValid()?(w=V(w)||"millisecond",w==="millisecond"?this.valueOf()>M.valueOf():M.valueOf()<this.clone().startOf(w).valueOf()):!1}function Ua(f,w){var M=j(f)?f:dr(f);return this.isValid()&&M.isValid()?(w=V(w)||"millisecond",w==="millisecond"?this.valueOf()<M.valueOf():this.clone().endOf(w).valueOf()<M.valueOf()):!1}function tf(f,w,M,P){var W=j(f)?f:dr(f),Ce=j(w)?w:dr(w);return this.isValid()&&W.isValid()&&Ce.isValid()?(P=P||"()",(P[0]==="("?this.isAfter(W,M):!this.isBefore(W,M))&&(P[1]===")"?this.isBefore(Ce,M):!this.isAfter(Ce,M))):!1}function Bw(f,w){var M=j(f)?f:dr(f),P;return this.isValid()&&M.isValid()?(w=V(w)||"millisecond",w==="millisecond"?this.valueOf()===M.valueOf():(P=M.valueOf(),this.clone().startOf(w).valueOf()<=P&&P<=this.clone().endOf(w).valueOf())):!1}function nf(f,w){return this.isSame(f,w)||this.isAfter(f,w)}function jw(f,w){return this.isSame(f,w)||this.isBefore(f,w)}function zw(f,w,M){var P,W,Ce;if(!this.isValid())return NaN;if(P=lo(f,this),!P.isValid())return NaN;switch(W=(P.utcOffset()-this.utcOffset())*6e4,w=V(w),w){case"year":Ce=zl(this,P)/12;break;case"month":Ce=zl(this,P);break;case"quarter":Ce=zl(this,P)/3;break;case"second":Ce=(this-P)/1e3;break;case"minute":Ce=(this-P)/6e4;break;case"hour":Ce=(this-P)/36e5;break;case"day":Ce=(this-P-W)/864e5;break;case"week":Ce=(this-P-W)/6048e5;break;default:Ce=this-P}return M?Ce:$n(Ce)}function zl(f,w){if(f.date()<w.date())return-zl(w,f);var M=(w.year()-f.year())*12+(w.month()-f.month()),P=f.clone().add(M,"months"),W,Ce;return w-P<0?(W=f.clone().add(M-1,"months"),Ce=(w-P)/(P-W)):(W=f.clone().add(M+1,"months"),Ce=(w-P)/(W-P)),-(M+Ce)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Yw(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function sd(f){if(!this.isValid())return null;var w=f!==!0,M=w?this.clone().utc():this;return M.year()<0||M.year()>9999?me(M,w?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):se(Date.prototype.toISOString)?w?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",me(M,"Z")):me(M,w?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Yl(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var f="moment",w="",M,P,W,Ce;return this.isLocal()||(f=this.utcOffset()===0?"moment.utc":"moment.parseZone",w="Z"),M="["+f+'("]',P=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",W="-MM-DD[T]HH:mm:ss.SSS",Ce=w+'[")]',this.format(M+P+W+Ce)}function rf(f){f||(f=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var w=me(this,f);return this.localeData().postformat(w)}function nE(f,w){return this.isValid()&&(j(f)&&f.isValid()||dr(f).isValid())?Cn({to:this,from:f}).locale(this.locale()).humanize(!w):this.localeData().invalidDate()}function rE(f){return this.from(dr(),f)}function iE(f,w){return this.isValid()&&(j(f)&&f.isValid()||dr(f).isValid())?Cn({from:this,to:f}).locale(this.locale()).humanize(!w):this.localeData().invalidDate()}function of(f){return this.to(dr(),f)}function ad(f){var w;return f===void 0?this._locale._abbr:(w=Gr(f),w!=null&&(this._locale=w),this)}var sf=Y("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(f){return f===void 0?this.localeData():this.locale(f)});function Uw(){return this._locale}var ld=1e3,Gu=60*ld,af=60*Gu,Kr=(365*400+97)*24*af;function Lr(f,w){return(f%w+w)%w}function Gw(f,w,M){return f<100&&f>=0?new Date(f+400,w,M)-Kr:new Date(f,w,M).valueOf()}function Kw(f,w,M){return f<100&&f>=0?Date.UTC(f+400,w,M)-Kr:Date.UTC(f,w,M)}function qw(f){var w,M;if(f=V(f),f===void 0||f==="millisecond"||!this.isValid())return this;switch(M=this._isUTC?Kw:Gw,f){case"year":w=M(this.year(),0,1);break;case"quarter":w=M(this.year(),this.month()-this.month()%3,1);break;case"month":w=M(this.year(),this.month(),1);break;case"week":w=M(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":w=M(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":w=M(this.year(),this.month(),this.date());break;case"hour":w=this._d.valueOf(),w-=Lr(w+(this._isUTC?0:this.utcOffset()*Gu),af);break;case"minute":w=this._d.valueOf(),w-=Lr(w,Gu);break;case"second":w=this._d.valueOf(),w-=Lr(w,ld);break}return this._d.setTime(w),r.updateOffset(this,!0),this}function oE(f){var w,M;if(f=V(f),f===void 0||f==="millisecond"||!this.isValid())return this;switch(M=this._isUTC?Kw:Gw,f){case"year":w=M(this.year()+1,0,1)-1;break;case"quarter":w=M(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":w=M(this.year(),this.month()+1,1)-1;break;case"week":w=M(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":w=M(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":w=M(this.year(),this.month(),this.date()+1)-1;break;case"hour":w=this._d.valueOf(),w+=af-Lr(w+(this._isUTC?0:this.utcOffset()*Gu),af)-1;break;case"minute":w=this._d.valueOf(),w+=Gu-Lr(w,Gu)-1;break;case"second":w=this._d.valueOf(),w+=ld-Lr(w,ld)-1;break}return this._d.setTime(w),r.updateOffset(this,!0),this}function Cm(){return this._d.valueOf()-(this._offset||0)*6e4}function ud(){return Math.floor(this.valueOf()/1e3)}function ym(){return new Date(this.valueOf())}function Ku(){var f=this;return[f.year(),f.month(),f.date(),f.hour(),f.minute(),f.second(),f.millisecond()]}function cd(){var f=this;return{years:f.year(),months:f.month(),date:f.date(),hours:f.hours(),minutes:f.minutes(),seconds:f.seconds(),milliseconds:f.milliseconds()}}function dd(){return this.isValid()?this.toISOString():null}function lf(){return x(this)}function qu(){return v({},S(this))}function sE(){return S(this).overflow}function aE(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}N("N",0,0,"eraAbbr"),N("NN",0,0,"eraAbbr"),N("NNN",0,0,"eraAbbr"),N("NNNN",0,0,"eraName"),N("NNNNN",0,0,"eraNarrow"),N("y",["y",1],"yo","eraYear"),N("y",["yy",2],0,"eraYear"),N("y",["yyy",3],0,"eraYear"),N("y",["yyyy",4],0,"eraYear"),qe("N",fn),qe("NN",fn),qe("NNN",fn),qe("NNNN",dE),qe("NNNNN",hE),it(["N","NN","NNN","NNNN","NNNNN"],function(f,w,M,P){var W=M._locale.erasParse(f,P,M._strict);W?S(M).era=W:S(M).invalidEra=f}),qe("y",Ge),qe("yy",Ge),qe("yyy",Ge),qe("yyyy",Ge),qe("yo",fE),it(["y","yy","yyy","yyyy"],Tt),it(["yo"],function(f,w,M,P){var W;M._locale._eraYearOrdinalRegex&&(W=f.match(M._locale._eraYearOrdinalRegex)),M._locale.eraYearOrdinalParse?w[Tt]=M._locale.eraYearOrdinalParse(f,W):w[Tt]=parseInt(f,10)});function lE(f,w){var M,P,W,Ce=this._eras||Gr("en")._eras;for(M=0,P=Ce.length;M<P;++M){switch(typeof Ce[M].since){case"string":W=r(Ce[M].since).startOf("day"),Ce[M].since=W.valueOf();break}switch(typeof Ce[M].until){case"undefined":Ce[M].until=1/0;break;case"string":W=r(Ce[M].until).startOf("day").valueOf(),Ce[M].until=W.valueOf();break}}return Ce}function uE(f,w,M){var P,W,Ce=this.eras(),Le,gt,zt;for(f=f.toUpperCase(),P=0,W=Ce.length;P<W;++P)if(Le=Ce[P].name.toUpperCase(),gt=Ce[P].abbr.toUpperCase(),zt=Ce[P].narrow.toUpperCase(),M)switch(w){case"N":case"NN":case"NNN":if(gt===f)return Ce[P];break;case"NNNN":if(Le===f)return Ce[P];break;case"NNNNN":if(zt===f)return Ce[P];break}else if([Le,gt,zt].indexOf(f)>=0)return Ce[P]}function cE(f,w){var M=f.since<=f.until?1:-1;return w===void 0?r(f.since).year():r(f.since).year()+(w-f.offset)*M}function uf(){var f,w,M,P=this.localeData().eras();for(f=0,w=P.length;f<w;++f)if(M=this.clone().startOf("day").valueOf(),P[f].since<=M&&M<=P[f].until||P[f].until<=M&&M<=P[f].since)return P[f].name;return""}function hd(){var f,w,M,P=this.localeData().eras();for(f=0,w=P.length;f<w;++f)if(M=this.clone().startOf("day").valueOf(),P[f].since<=M&&M<=P[f].until||P[f].until<=M&&M<=P[f].since)return P[f].narrow;return""}function Xw(){var f,w,M,P=this.localeData().eras();for(f=0,w=P.length;f<w;++f)if(M=this.clone().startOf("day").valueOf(),P[f].since<=M&&M<=P[f].until||P[f].until<=M&&M<=P[f].since)return P[f].abbr;return""}function B(){var f,w,M,P,W=this.localeData().eras();for(f=0,w=W.length;f<w;++f)if(M=W[f].since<=W[f].until?1:-1,P=this.clone().startOf("day").valueOf(),W[f].since<=P&&P<=W[f].until||W[f].until<=P&&P<=W[f].since)return(this.year()-r(W[f].since).year())*M+W[f].offset;return this.year()}function Xu(f){return a(this,"_erasNameRegex")||Zs.call(this),f?this._erasNameRegex:this._erasRegex}function cf(f){return a(this,"_erasAbbrRegex")||Zs.call(this),f?this._erasAbbrRegex:this._erasRegex}function xo(f){return a(this,"_erasNarrowRegex")||Zs.call(this),f?this._erasNarrowRegex:this._erasRegex}function fn(f,w){return w.erasAbbrRegex(f)}function dE(f,w){return w.erasNameRegex(f)}function hE(f,w){return w.erasNarrowRegex(f)}function fE(f,w){return w._eraYearOrdinalRegex||Ge}function Zs(){var f=[],w=[],M=[],P=[],W,Ce,Le,gt,zt,gn=this.eras();for(W=0,Ce=gn.length;W<Ce;++W)Le=qt(gn[W].name),gt=qt(gn[W].abbr),zt=qt(gn[W].narrow),w.push(Le),f.push(gt),M.push(zt),P.push(Le),P.push(gt),P.push(zt);this._erasRegex=new RegExp("^("+P.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+w.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+f.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+M.join("|")+")","i")}N(0,["gg",2],0,function(){return this.weekYear()%100}),N(0,["GG",2],0,function(){return this.isoWeekYear()%100});function df(f,w){N(0,[f,f.length],0,w)}df("gggg","weekYear"),df("ggggg","weekYear"),df("GGGG","isoWeekYear"),df("GGGGG","isoWeekYear"),qe("G",Oe),qe("g",Oe),qe("GG",ge,ce),qe("gg",ge,ce),qe("GGGG",xe,ve),qe("gggg",xe,ve),qe("GGGGG",ze,pe),qe("ggggg",ze,pe),ft(["gggg","ggggg","GGGG","GGGGG"],function(f,w,M,P){w[P.substr(0,2)]=_t(f)}),ft(["gg","GG"],function(f,w,M,P){w[P]=r.parseTwoDigitYear(f)});function gE(f){return Zw.call(this,f,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function mE(f){return Zw.call(this,f,this.isoWeek(),this.isoWeekday(),1,4)}function pE(){return _r(this.year(),1,4)}function vE(){return _r(this.isoWeekYear(),1,4)}function Qs(){var f=this.localeData()._week;return _r(this.year(),f.dow,f.doy)}function wE(){var f=this.localeData()._week;return _r(this.weekYear(),f.dow,f.doy)}function Zw(f,w,M,P,W){var Ce;return f==null?pr(this,P,W).year:(Ce=_r(f,P,W),w>Ce&&(w=Ce),CE.call(this,f,w,M,P,W))}function CE(f,w,M,P,W){var Ce=Zn(f,w,M,P,W),Le=vt(Ce.year,0,Ce.dayOfYear);return this.year(Le.getUTCFullYear()),this.month(Le.getUTCMonth()),this.date(Le.getUTCDate()),this}N("Q",0,"Qo","quarter"),qe("Q",we),it("Q",function(f,w){w[Xt]=(_t(f)-1)*3});function yE(f){return f==null?Math.ceil((this.month()+1)/3):this.month((f-1)*3+this.month()%3)}N("D",["DD",2],"Do","date"),qe("D",ge,In),qe("DD",ge,ce),qe("Do",function(f,w){return f?w._dayOfMonthOrdinalParse||w._ordinalParse:w._dayOfMonthOrdinalParseLenient}),it(["D","DD"],Ln),it("Do",function(f,w){w[Ln]=_t(f.match(ge)[0])});var Qw=de("Date",!0);N("DDD",["DDDD",3],"DDDo","dayOfYear"),qe("DDD",Ie),qe("DDDD",ie),it(["DDD","DDDD"],function(f,w,M){M._dayOfYear=_t(f)});function Js(f){var w=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return f==null?w:this.add(f-w,"d")}N("m",["mm",2],0,"minute"),qe("m",ge,wn),qe("mm",ge,ce),it(["m","mm"],kn);var bE=de("Minutes",!1);N("s",["ss",2],0,"second"),qe("s",ge,wn),qe("ss",ge,ce),it(["s","ss"],Gt);var SE=de("Seconds",!1);N("S",0,0,function(){return~~(this.millisecond()/100)}),N(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),N(0,["SSS",3],0,"millisecond"),N(0,["SSSS",4],0,function(){return this.millisecond()*10}),N(0,["SSSSS",5],0,function(){return this.millisecond()*100}),N(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),N(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),N(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),N(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),qe("S",Ie,we),qe("SS",Ie,ce),qe("SSS",Ie,ie);var Ga,Jw;for(Ga="SSSS";Ga.length<=9;Ga+="S")qe(Ga,Ge);function RE(f,w){w[Mn]=_t(("0."+f)*1e3)}for(Ga="S";Ga.length<=9;Ga+="S")it(Ga,RE);Jw=de("Milliseconds",!1),N("z",0,0,"zoneAbbr"),N("zz",0,0,"zoneName");function Ul(){return this._isUTC?"UTC":""}function EE(){return this._isUTC?"Coordinated Universal Time":""}var nt=F.prototype;nt.add=Uu,nt.calendar=eE,nt.clone=tE,nt.diff=zw,nt.endOf=oE,nt.format=rf,nt.from=nE,nt.fromNow=rE,nt.to=iE,nt.toNow=of,nt.get=Dt,nt.invalidAt=sE,nt.isAfter=ef,nt.isBefore=Ua,nt.isBetween=tf,nt.isSame=Bw,nt.isSameOrAfter=nf,nt.isSameOrBefore=jw,nt.isValid=lf,nt.lang=sf,nt.locale=ad,nt.localeData=Uw,nt.max=FR,nt.min=$w,nt.parsingFlags=qu,nt.set=An,nt.startOf=qw,nt.subtract=Qh,nt.toArray=Ku,nt.toObject=cd,nt.toDate=ym,nt.toISOString=sd,nt.inspect=Yl,typeof Symbol<"u"&&Symbol.for!=null&&(nt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),nt.toJSON=dd,nt.toString=Yw,nt.unix=ud,nt.valueOf=Cm,nt.creationData=aE,nt.eraName=uf,nt.eraNarrow=hd,nt.eraAbbr=Xw,nt.eraYear=B,nt.year=bt,nt.isLeapYear=Ve,nt.weekYear=gE,nt.isoWeekYear=mE,nt.quarter=nt.quarters=yE,nt.month=vs,nt.daysInMonth=on,nt.week=nt.weeks=an,nt.isoWeek=nt.isoWeeks=Mr,nt.weeksInYear=Qs,nt.weeksInWeekYear=wE,nt.isoWeeksInYear=pE,nt.isoWeeksInISOWeekYear=vE,nt.date=Qw,nt.day=nt.days=TR,nt.weekday=xR,nt.isoWeekday=IR,nt.dayOfYear=Js,nt.hour=nt.hours=mi,nt.minute=nt.minutes=bE,nt.second=nt.seconds=SE,nt.millisecond=nt.milliseconds=Jw,nt.utcOffset=GR,nt.utc=qR,nt.local=XR,nt.parseZone=ZR,nt.hasAlignedHourOffset=Yu,nt.isDST=Re,nt.isLocal=He,nt.isUtcOffset=pt,nt.isUtc=Kt,nt.isUTC=Kt,nt.zoneAbbr=Ul,nt.zoneName=EE,nt.dates=Y("dates accessor is deprecated. Use date instead.",Qw),nt.months=Y("months accessor is deprecated. Use month instead",vs),nt.years=Y("years accessor is deprecated. Use year instead",bt),nt.zone=Y("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",KR),nt.isDSTShifted=Y("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",We);function Zo(f){return dr(f*1e3)}function _E(){return dr.apply(null,arguments).parseZone()}function eC(f){return f}var Fn=re.prototype;Fn.calendar=oe,Fn.longDateFormat=le,Fn.invalidDate=_e,Fn.ordinal=Ae,Fn.preparse=eC,Fn.postformat=eC,Fn.relativeTime=Be,Fn.pastFuture=je,Fn.set=ne,Fn.eras=lE,Fn.erasParse=uE,Fn.erasConvertYear=cE,Fn.erasAbbrRegex=cf,Fn.erasNameRegex=Xu,Fn.erasNarrowRegex=xo,Fn.months=Wl,Fn.monthsShort=Va,Fn.monthsParse=Ba,Fn.monthsRegex=Nr,Fn.monthsShortRegex=$t,Fn.week=so,Fn.firstDayOfYear=Wt,Fn.firstDayOfWeek=Jt,Fn.weekdays=RR,Fn.weekdaysMin=om,Fn.weekdaysShort=ER,Fn.weekdaysParse=MR,Fn.weekdaysRegex=vr,Fn.weekdaysShortRegex=cr,Fn.weekdaysMinRegex=OR,Fn.isPM=Mw,Fn.meridiem=lm;function hf(f,w,M,P){var W=Gr(),Ce=y().set(P,w);return W[M](Ce,f)}function tC(f,w,M){if(h(f)&&(w=f,f=void 0),f=f||"",w!=null)return hf(f,w,M,"month");var P,W=[];for(P=0;P<12;P++)W[P]=hf(f,P,M,"month");return W}function ff(f,w,M,P){typeof f=="boolean"?(h(w)&&(M=w,w=void 0),w=w||""):(w=f,M=w,f=!1,h(w)&&(M=w,w=void 0),w=w||"");var W=Gr(),Ce=f?W._week.dow:0,Le,gt=[];if(M!=null)return hf(w,(M+Ce)%7,P,"day");for(Le=0;Le<7;Le++)gt[Le]=hf(w,(Le+Ce)%7,P,"day");return gt}function nC(f,w){return tC(f,w,"months")}function ME(f,w){return tC(f,w,"monthsShort")}function TE(f,w,M){return ff(f,w,M,"weekdays")}function bm(f,w,M){return ff(f,w,M,"weekdaysShort")}function fd(f,w,M){return ff(f,w,M,"weekdaysMin")}qs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(f){var w=f%10,M=_t(f%100/10)===1?"th":w===1?"st":w===2?"nd":w===3?"rd":"th";return f+M}}),r.lang=Y("moment.lang is deprecated. Use moment.locale instead.",qs),r.langData=Y("moment.langData is deprecated. Use moment.localeData instead.",Gr);var Io=Math.abs;function xE(){var f=this._data;return this._milliseconds=Io(this._milliseconds),this._days=Io(this._days),this._months=Io(this._months),f.milliseconds=Io(f.milliseconds),f.seconds=Io(f.seconds),f.minutes=Io(f.minutes),f.hours=Io(f.hours),f.months=Io(f.months),f.years=Io(f.years),this}function Sm(f,w,M,P){var W=Cn(w,M);return f._milliseconds+=P*W._milliseconds,f._days+=P*W._days,f._months+=P*W._months,f._bubble()}function IE(f,w){return Sm(this,f,w,1)}function ea(f,w){return Sm(this,f,w,-1)}function gf(f){return f<0?Math.floor(f):Math.ceil(f)}function Gl(){var f=this._milliseconds,w=this._days,M=this._months,P=this._data,W,Ce,Le,gt,zt;return f>=0&&w>=0&&M>=0||f<=0&&w<=0&&M<=0||(f+=gf(Rm(M)+w)*864e5,w=0,M=0),P.milliseconds=f%1e3,W=$n(f/1e3),P.seconds=W%60,Ce=$n(W/60),P.minutes=Ce%60,Le=$n(Ce/60),P.hours=Le%24,w+=$n(Le/24),zt=$n(uo(w)),M+=zt,w-=gf(Rm(zt)),gt=$n(M/12),M%=12,P.days=w,P.months=M,P.years=gt,this}function uo(f){return f*4800/146097}function Rm(f){return f*146097/4800}function rC(f){if(!this.isValid())return NaN;var w,M,P=this._milliseconds;if(f=V(f),f==="month"||f==="quarter"||f==="year")switch(w=this._days+P/864e5,M=this._months+uo(w),f){case"month":return M;case"quarter":return M/3;case"year":return M/12}else switch(w=this._days+Math.round(Rm(this._months)),f){case"week":return w/7+P/6048e5;case"day":return w+P/864e5;case"hour":return w*24+P/36e5;case"minute":return w*1440+P/6e4;case"second":return w*86400+P/1e3;case"millisecond":return Math.floor(w*864e5)+P;default:throw new Error("Unknown unit "+f)}}function ys(f){return function(){return this.as(f)}}var Zu=ys("ms"),Ka=ys("s"),iC=ys("m"),OE=ys("h"),mf=ys("d"),PE=ys("w"),oC=ys("M"),pi=ys("Q"),Em=ys("y"),sC=Zu;function bs(){return Cn(this)}function _m(f){return f=V(f),this.isValid()?this[f+"s"]():NaN}function Ss(f){return function(){return this.isValid()?this._data[f]:NaN}}var Kl=Ss("milliseconds"),aC=Ss("seconds"),Li=Ss("minutes"),Mm=Ss("hours"),AE=Ss("days"),HE=Ss("months"),DE=Ss("years");function Tm(){return $n(this.days()/7)}var ta=Math.round,Rs={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function lC(f,w,M,P,W){return W.relativeTime(w||1,!!M,f,P)}function NE(f,w,M,P){var W=Cn(f).abs(),Ce=ta(W.as("s")),Le=ta(W.as("m")),gt=ta(W.as("h")),zt=ta(W.as("d")),gn=ta(W.as("M")),ki=ta(W.as("w")),Es=ta(W.as("y")),na=Ce<=M.ss&&["s",Ce]||Ce<M.s&&["ss",Ce]||Le<=1&&["m"]||Le<M.m&&["mm",Le]||gt<=1&&["h"]||gt<M.h&&["hh",gt]||zt<=1&&["d"]||zt<M.d&&["dd",zt];return M.w!=null&&(na=na||ki<=1&&["w"]||ki<M.w&&["ww",ki]),na=na||gn<=1&&["M"]||gn<M.M&&["MM",gn]||Es<=1&&["y"]||["yy",Es],na[2]=w,na[3]=+f>0,na[4]=P,lC.apply(null,na)}function $E(f){return f===void 0?ta:typeof f=="function"?(ta=f,!0):!1}function gd(f,w){return Rs[f]===void 0?!1:w===void 0?Rs[f]:(Rs[f]=w,f==="s"&&(Rs.ss=w-1),!0)}function LE(f,w){if(!this.isValid())return this.localeData().invalidDate();var M=!1,P=Rs,W,Ce;return typeof f=="object"&&(w=f,f=!1),typeof f=="boolean"&&(M=f),typeof w=="object"&&(P=Object.assign({},Rs,w),w.s!=null&&w.ss==null&&(P.ss=w.s-1)),W=this.localeData(),Ce=NE(this,!M,P,W),M&&(Ce=W.pastFuture(+this,Ce)),W.postformat(Ce)}var xm=Math.abs;function qa(f){return(f>0)-(f<0)||+f}function md(){if(!this.isValid())return this.localeData().invalidDate();var f=xm(this._milliseconds)/1e3,w=xm(this._days),M=xm(this._months),P,W,Ce,Le,gt=this.asSeconds(),zt,gn,ki,Es;return gt?(P=$n(f/60),W=$n(P/60),f%=60,P%=60,Ce=$n(M/12),M%=12,Le=f?f.toFixed(3).replace(/\.?0+$/,""):"",zt=gt<0?"-":"",gn=qa(this._months)!==qa(gt)?"-":"",ki=qa(this._days)!==qa(gt)?"-":"",Es=qa(this._milliseconds)!==qa(gt)?"-":"",zt+"P"+(Ce?gn+Ce+"Y":"")+(M?gn+M+"M":"")+(w?ki+w+"D":"")+(W||P||f?"T":"")+(W?Es+W+"H":"")+(P?Es+P+"M":"")+(f?Es+Le+"S":"")):"P0D"}var On=rd.prototype;On.isValid=zR,On.abs=xE,On.add=IE,On.subtract=ea,On.as=rC,On.asMilliseconds=Zu,On.asSeconds=Ka,On.asMinutes=iC,On.asHours=OE,On.asDays=mf,On.asWeeks=PE,On.asMonths=oC,On.asQuarters=pi,On.asYears=Em,On.valueOf=sC,On._bubble=Gl,On.clone=bs,On.get=_m,On.milliseconds=Kl,On.seconds=aC,On.minutes=Li,On.hours=Mm,On.days=AE,On.weeks=Tm,On.months=HE,On.years=DE,On.humanize=LE,On.toISOString=md,On.toString=md,On.toJSON=md,On.locale=ad,On.localeData=Uw,On.toIsoString=Y("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",md),On.lang=sf,N("X",0,0,"unix"),N("x",0,0,"valueOf"),qe("x",Oe),qe("X",sn),it("X",function(f,w,M){M._d=new Date(parseFloat(f)*1e3)}),it("x",function(f,w,M){M._d=new Date(_t(f))});//! moment.js
return r.version="2.30.1",i(dr),r.fn=nt,r.min=VR,r.max=WR,r.now=BR,r.utc=y,r.unix=Zo,r.months=nC,r.isDate=g,r.locale=qs,r.invalid=O,r.duration=Cn,r.isMoment=j,r.weekdays=TE,r.parseZone=_E,r.localeData=Gr,r.isDuration=Xo,r.monthsShort=ME,r.weekdaysMin=fd,r.defineLocale=$i,r.updateLocale=HR,r.locales=DR,r.weekdaysShort=bm,r.normalizeUnits=V,r.relativeTimeRounding=$E,r.relativeTimeThreshold=gd,r.calendarFormat=JR,r.prototype=nt,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})}(V_)),V_.exports}(function(t,e){(function(n,r){r(typeof dg=="function"?kX():n.moment)})(Ai,function(n){//! moment.js locale configuration
var r=n.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(i){return/^ch$/i.test(i)},meridiem:function(i,o,s){return i<12?s?"sa":"SA":s?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần trước lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",w:"một tuần",ww:"%d tuần",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(i){return i},week:{dow:1,doy:4}});return r})})();const{RangePicker:FX}=Ug;function VX(){const{t}=DF();P5();const e=n=>{console.log(`selected ${n}`)};return Sn.jsx("div",{className:"mt-1",children:Sn.jsxs("details",{className:"group p-2 [&_summary::-webkit-details-marker]:hidden  bg-white border rounded-lg",open:!0,children:[Sn.jsxs("summary",{className:"flex cursor-pointer items-center justify-between gap-1.5 text-gray-900",children:[Sn.jsx("h2",{className:" text-base font-medium",children:t("CÔNG CỤ")}),Sn.jsx("span",{className:"relative size-5 shrink-0",children:Sn.jsx("svg",{className:"size-5 shrink-0 transition duration-300 group-open:-rotate-180",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Sn.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),Sn.jsxs("div",{className:"flex p-3 gap-4",children:[Sn.jsx(Tc,{type:"primary",icon:Sn.jsx(Qx,{}),size:"large",children:"Truy vấn"}),Sn.jsx(Tc,{type:"default",icon:Sn.jsx(LX,{}),size:"large",children:"Lưu"}),Sn.jsx(Tc,{type:"primary",danger:!0,icon:Sn.jsx(DX,{}),size:"large",children:"Xóa"}),Sn.jsx(Tc,{type:"dashed",icon:Sn.jsx(Rq,{}),size:"large",children:"Thêm"})]}),Sn.jsxs("div",{className:"flex p-3 gap-4",children:[Sn.jsxs("div",{className:"flex flex-col",children:[Sn.jsx("label",{htmlFor:"datePicker",children:"Thời gian"}),Sn.jsx(FX,{id:"datePicker",size:"large"})]}),Sn.jsxs("div",{className:"flex flex-col",children:[Sn.jsx("label",{htmlFor:"typeSelect",children:"Phân loại nhân viên"}),Sn.jsx(Bg,{id:"typeSelect",defaultValue:"lucy",style:{width:120},size:"large",onChange:e,options:[{value:"official",label:"Official"},{value:"seasonal",label:"Seasonal"}]})]}),Sn.jsxs("div",{className:"flex flex-col",children:[Sn.jsx("label",{htmlFor:"typeSelect",children:"Nhân viên"}),Sn.jsx(Yg,{size:"large"})]})]})]})})}var Lm=function(t){return t&&t.Math===Math&&t},ji=Lm(typeof globalThis=="object"&&globalThis)||Lm(typeof window=="object"&&window)||Lm(typeof self=="object"&&self)||Lm(typeof Ai=="object"&&Ai)||Lm(typeof Ai=="object"&&Ai)||function(){return this}()||Function("return this")(),cI={},Ko=function(t){try{return!!t()}catch{return!0}},WX=Ko,Ha=!WX(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),BX=Ko,y0=!BX(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),jX=y0,DC=Function.prototype.call,Da=jX?DC.bind(DC):function(){return DC.apply(DC,arguments)},f2={},g2={}.propertyIsEnumerable,m2=Object.getOwnPropertyDescriptor,zX=m2&&!g2.call({1:2},1);f2.f=zX?function(e){var n=m2(this,e);return!!n&&n.enumerable}:g2;var b0=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},p2=y0,v2=Function.prototype,MT=v2.call,YX=p2&&v2.bind.bind(MT,MT),gi=p2?YX:function(t){return function(){return MT.apply(t,arguments)}},w2=gi,UX=w2({}.toString),GX=w2("".slice),$h=function(t){return GX(UX(t),8,-1)},KX=gi,qX=Ko,XX=$h,W_=Object,ZX=KX("".split),QX=qX(function(){return!W_("z").propertyIsEnumerable(0)})?function(t){return XX(t)==="String"?ZX(t,""):W_(t)}:W_,S0=function(t){return t==null},JX=S0,eZ=TypeError,Gv=function(t){if(JX(t))throw new eZ("Can't call method on "+t);return t},tZ=QX,nZ=Gv,R0=function(t){return tZ(nZ(t))},B_=typeof document=="object"&&document.all,zi=typeof B_>"u"&&B_!==void 0?function(t){return typeof t=="function"||t===B_}:function(t){return typeof t=="function"},rZ=zi,Dl=function(t){return typeof t=="object"?t!==null:rZ(t)},j_=ji,iZ=zi,oZ=function(t){return iZ(t)?t:void 0},Gg=function(t,e){return arguments.length<2?oZ(j_[t]):j_[t]&&j_[t][e]},sZ=gi,E0=sZ({}.isPrototypeOf),aZ=ji,ND=aZ.navigator,$D=ND&&ND.userAgent,_0=$D?String($D):"",C2=ji,z_=_0,LD=C2.process,kD=C2.Deno,FD=LD&&LD.versions||kD&&kD.version,VD=FD&&FD.v8,Ra,rS;VD&&(Ra=VD.split("."),rS=Ra[0]>0&&Ra[0]<4?1:+(Ra[0]+Ra[1]));!rS&&z_&&(Ra=z_.match(/Edge\/(\d+)/),(!Ra||Ra[1]>=74)&&(Ra=z_.match(/Chrome\/(\d+)/),Ra&&(rS=+Ra[1])));var lZ=rS,WD=lZ,uZ=Ko,cZ=ji,dZ=cZ.String,dI=!!Object.getOwnPropertySymbols&&!uZ(function(){var t=Symbol("symbol detection");return!dZ(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&WD&&WD<41}),hZ=dI,y2=hZ&&!Symbol.sham&&typeof Symbol.iterator=="symbol",fZ=Gg,gZ=zi,mZ=E0,pZ=y2,vZ=Object,hI=pZ?function(t){return typeof t=="symbol"}:function(t){var e=fZ("Symbol");return gZ(e)&&mZ(e.prototype,vZ(t))},wZ=String,M0=function(t){try{return wZ(t)}catch{return"Object"}},CZ=zi,yZ=M0,bZ=TypeError,Kv=function(t){if(CZ(t))return t;throw new bZ(yZ(t)+" is not a function")},SZ=Kv,RZ=S0,T0=function(t,e){var n=t[e];return RZ(n)?void 0:SZ(n)},Y_=Da,U_=zi,G_=Dl,EZ=TypeError,_Z=function(t,e){var n,r;if(e==="string"&&U_(n=t.toString)&&!G_(r=Y_(n,t))||U_(n=t.valueOf)&&!G_(r=Y_(n,t))||e!=="string"&&U_(n=t.toString)&&!G_(r=Y_(n,t)))return r;throw new EZ("Can't convert object to primitive value")},b2={exports:{}},BD=ji,MZ=Object.defineProperty,fI=function(t,e){try{MZ(BD,t,{value:e,configurable:!0,writable:!0})}catch{BD[t]=e}return e},TZ=ji,xZ=fI,jD="__core-js_shared__",zD=b2.exports=TZ[jD]||xZ(jD,{});(zD.versions||(zD.versions=[])).push({version:"3.39.0",mode:"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"});var gI=b2.exports,YD=gI,S2=function(t,e){return YD[t]||(YD[t]=e||{})},IZ=Gv,OZ=Object,qv=function(t){return OZ(IZ(t))},PZ=gi,AZ=qv,HZ=PZ({}.hasOwnProperty),Nl=Object.hasOwn||function(e,n){return HZ(AZ(e),n)},DZ=gi,NZ=0,$Z=Math.random(),LZ=DZ(1 .toString),R2=function(t){return"Symbol("+(t===void 0?"":t)+")_"+LZ(++NZ+$Z,36)},kZ=ji,FZ=S2,UD=Nl,VZ=R2,WZ=dI,BZ=y2,hg=kZ.Symbol,K_=FZ("wks"),jZ=BZ?hg.for||hg:hg&&hg.withoutSetter||VZ,Xc=function(t){return UD(K_,t)||(K_[t]=WZ&&UD(hg,t)?hg[t]:jZ("Symbol."+t)),K_[t]},zZ=Da,GD=Dl,KD=hI,YZ=T0,UZ=_Z,GZ=Xc,KZ=TypeError,qZ=GZ("toPrimitive"),XZ=function(t,e){if(!GD(t)||KD(t))return t;var n=YZ(t,qZ),r;if(n){if(e===void 0&&(e="default"),r=zZ(n,t,e),!GD(r)||KD(r))return r;throw new KZ("Can't convert object to primitive value")}return e===void 0&&(e="number"),UZ(t,e)},ZZ=XZ,QZ=hI,E2=function(t){var e=ZZ(t,"string");return QZ(e)?e:e+""},JZ=ji,qD=Dl,TT=JZ.document,eQ=qD(TT)&&qD(TT.createElement),mI=function(t){return eQ?TT.createElement(t):{}},tQ=Ha,nQ=Ko,rQ=mI,_2=!tQ&&!nQ(function(){return Object.defineProperty(rQ("div"),"a",{get:function(){return 7}}).a!==7}),iQ=Ha,oQ=Da,sQ=f2,aQ=b0,lQ=R0,uQ=E2,cQ=Nl,dQ=_2,XD=Object.getOwnPropertyDescriptor;cI.f=iQ?XD:function(e,n){if(e=lQ(e),n=uQ(n),dQ)try{return XD(e,n)}catch{}if(cQ(e,n))return aQ(!oQ(sQ.f,e,n),e[n])};var Zc={},hQ=Ha,fQ=Ko,M2=hQ&&fQ(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),gQ=Dl,mQ=String,pQ=TypeError,$u=function(t){if(gQ(t))return t;throw new pQ(mQ(t)+" is not an object")},vQ=Ha,wQ=_2,CQ=M2,NC=$u,ZD=E2,yQ=TypeError,q_=Object.defineProperty,bQ=Object.getOwnPropertyDescriptor,X_="enumerable",Z_="configurable",Q_="writable";Zc.f=vQ?CQ?function(e,n,r){if(NC(e),n=ZD(n),NC(r),typeof e=="function"&&n==="prototype"&&"value"in r&&Q_ in r&&!r[Q_]){var i=bQ(e,n);i&&i[Q_]&&(e[n]=r.value,r={configurable:Z_ in r?r[Z_]:i[Z_],enumerable:X_ in r?r[X_]:i[X_],writable:!1})}return q_(e,n,r)}:q_:function(e,n,r){if(NC(e),n=ZD(n),NC(r),wQ)try{return q_(e,n,r)}catch{}if("get"in r||"set"in r)throw new yQ("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var SQ=Ha,RQ=Zc,EQ=b0,Xv=SQ?function(t,e,n){return RQ.f(t,e,EQ(1,n))}:function(t,e,n){return t[e]=n,t},T2={exports:{}},xT=Ha,_Q=Nl,x2=Function.prototype,MQ=xT&&Object.getOwnPropertyDescriptor,pI=_Q(x2,"name"),TQ=pI&&(function(){}).name==="something",xQ=pI&&(!xT||xT&&MQ(x2,"name").configurable),IQ={EXISTS:pI,PROPER:TQ,CONFIGURABLE:xQ},OQ=gi,PQ=zi,IT=gI,AQ=OQ(Function.toString);PQ(IT.inspectSource)||(IT.inspectSource=function(t){return AQ(t)});var HQ=IT.inspectSource,DQ=ji,NQ=zi,QD=DQ.WeakMap,$Q=NQ(QD)&&/native code/.test(String(QD)),LQ=S2,kQ=R2,JD=LQ("keys"),I2=function(t){return JD[t]||(JD[t]=kQ(t))},vI={},FQ=$Q,O2=ji,VQ=Dl,WQ=Xv,J_=Nl,e1=gI,BQ=I2,jQ=vI,eN="Object already initialized",OT=O2.TypeError,zQ=O2.WeakMap,iS,Cv,oS,YQ=function(t){return oS(t)?Cv(t):iS(t,{})},UQ=function(t){return function(e){var n;if(!VQ(e)||(n=Cv(e)).type!==t)throw new OT("Incompatible receiver, "+t+" required");return n}};if(FQ||e1.state){var Qa=e1.state||(e1.state=new zQ);Qa.get=Qa.get,Qa.has=Qa.has,Qa.set=Qa.set,iS=function(t,e){if(Qa.has(t))throw new OT(eN);return e.facade=t,Qa.set(t,e),e},Cv=function(t){return Qa.get(t)||{}},oS=function(t){return Qa.has(t)}}else{var bf=BQ("state");jQ[bf]=!0,iS=function(t,e){if(J_(t,bf))throw new OT(eN);return e.facade=t,WQ(t,bf,e),e},Cv=function(t){return J_(t,bf)?t[bf]:{}},oS=function(t){return J_(t,bf)}}var GQ={set:iS,get:Cv,has:oS,enforce:YQ,getterFor:UQ},wI=gi,KQ=Ko,qQ=zi,$C=Nl,PT=Ha,XQ=IQ.CONFIGURABLE,ZQ=HQ,P2=GQ,QQ=P2.enforce,JQ=P2.get,tN=String,Sb=Object.defineProperty,eJ=wI("".slice),tJ=wI("".replace),nJ=wI([].join),rJ=PT&&!KQ(function(){return Sb(function(){},"length",{value:8}).length!==8}),iJ=String(String).split("String"),oJ=T2.exports=function(t,e,n){eJ(tN(e),0,7)==="Symbol("&&(e="["+tJ(tN(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!$C(t,"name")||XQ&&t.name!==e)&&(PT?Sb(t,"name",{value:e,configurable:!0}):t.name=e),rJ&&n&&$C(n,"arity")&&t.length!==n.arity&&Sb(t,"length",{value:n.arity});try{n&&$C(n,"constructor")&&n.constructor?PT&&Sb(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var r=QQ(t);return $C(r,"source")||(r.source=nJ(iJ,typeof e=="string"?e:"")),t};Function.prototype.toString=oJ(function(){return qQ(this)&&JQ(this).source||ZQ(this)},"toString");var sJ=T2.exports,aJ=zi,lJ=Zc,uJ=sJ,cJ=fI,dJ=function(t,e,n,r){r||(r={});var i=r.enumerable,o=r.name!==void 0?r.name:e;if(aJ(n)&&uJ(n,o,r),r.global)i?t[e]=n:cJ(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch{}i?t[e]=n:lJ.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},A2={},hJ=Math.ceil,fJ=Math.floor,gJ=Math.trunc||function(e){var n=+e;return(n>0?fJ:hJ)(n)},mJ=gJ,Zv=function(t){var e=+t;return e!==e||e===0?0:mJ(e)},pJ=Zv,vJ=Math.max,wJ=Math.min,CJ=function(t,e){var n=pJ(t);return n<0?vJ(n+e,0):wJ(n,e)},yJ=Zv,bJ=Math.min,SJ=function(t){var e=yJ(t);return e>0?bJ(e,9007199254740991):0},RJ=SJ,Qv=function(t){return RJ(t.length)},EJ=R0,_J=CJ,MJ=Qv,nN=function(t){return function(e,n,r){var i=EJ(e),o=MJ(i);if(o===0)return!t&&-1;var s=_J(r,o),a;if(t&&n!==n){for(;o>s;)if(a=i[s++],a!==a)return!0}else for(;o>s;s++)if((t||s in i)&&i[s]===n)return t||s||0;return!t&&-1}},TJ={includes:nN(!0),indexOf:nN(!1)},xJ=gi,t1=Nl,IJ=R0,OJ=TJ.indexOf,PJ=vI,rN=xJ([].push),H2=function(t,e){var n=IJ(t),r=0,i=[],o;for(o in n)!t1(PJ,o)&&t1(n,o)&&rN(i,o);for(;e.length>r;)t1(n,o=e[r++])&&(~OJ(i,o)||rN(i,o));return i},CI=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],AJ=H2,HJ=CI,DJ=HJ.concat("length","prototype");A2.f=Object.getOwnPropertyNames||function(e){return AJ(e,DJ)};var D2={};D2.f=Object.getOwnPropertySymbols;var NJ=Gg,$J=gi,LJ=A2,kJ=D2,FJ=$u,VJ=$J([].concat),WJ=NJ("Reflect","ownKeys")||function(e){var n=LJ.f(FJ(e)),r=kJ.f;return r?VJ(n,r(e)):n},iN=Nl,BJ=WJ,jJ=cI,zJ=Zc,N2=function(t,e,n){for(var r=BJ(e),i=zJ.f,o=jJ.f,s=0;s<r.length;s++){var a=r[s];!iN(t,a)&&!(n&&iN(n,a))&&i(t,a,o(e,a))}},YJ=Ko,UJ=zi,GJ=/#|\.prototype\./,Jv=function(t,e){var n=qJ[KJ(t)];return n===ZJ?!0:n===XJ?!1:UJ(e)?YJ(e):!!e},KJ=Jv.normalize=function(t){return String(t).replace(GJ,".").toLowerCase()},qJ=Jv.data={},XJ=Jv.NATIVE="N",ZJ=Jv.POLYFILL="P",QJ=Jv,LC=ji,JJ=cI.f,eee=Xv,tee=dJ,nee=fI,ree=N2,iee=QJ,Yi=function(t,e){var n=t.target,r=t.global,i=t.stat,o,s,a,u,c,h;if(r?s=LC:i?s=LC[n]||nee(n,{}):s=LC[n]&&LC[n].prototype,s)for(a in e){if(c=e[a],t.dontCallGetSet?(h=JJ(s,a),u=h&&h.value):u=s[a],o=iee(r?a:n+(i?".":"#")+a,t.forced),!o&&u!==void 0){if(typeof c==typeof u)continue;ree(c,u)}(t.sham||u&&u.sham)&&eee(c,"sham",!0),tee(s,a,c,t)}},oee=y0,$2=Function.prototype,oN=$2.apply,sN=$2.call,x0=typeof Reflect=="object"&&Reflect.apply||(oee?sN.bind(oN):function(){return sN.apply(oN,arguments)}),see=gi,aee=Kv,L2=function(t,e,n){try{return see(aee(Object.getOwnPropertyDescriptor(t,e)[n]))}catch{}},lee=Dl,uee=function(t){return lee(t)||t===null},cee=uee,dee=String,hee=TypeError,fee=function(t){if(cee(t))return t;throw new hee("Can't set "+dee(t)+" as a prototype")},gee=L2,mee=Dl,pee=Gv,vee=fee,k2=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},n;try{n=gee(Object.prototype,"__proto__","set"),n(e,[]),t=e instanceof Array}catch{}return function(i,o){return pee(i),vee(o),mee(i)&&(t?n(i,o):i.__proto__=o),i}}():void 0),wee=Zc.f,Cee=function(t,e,n){n in t||wee(t,n,{configurable:!0,get:function(){return e[n]},set:function(r){e[n]=r}})},yee=zi,bee=Dl,aN=k2,See=function(t,e,n){var r,i;return aN&&yee(r=e.constructor)&&r!==n&&bee(i=r.prototype)&&i!==n.prototype&&aN(t,i),t},Ree=Xc,Eee=Ree("toStringTag"),F2={};F2[Eee]="z";var _ee=String(F2)==="[object z]",Mee=_ee,Tee=zi,Rb=$h,xee=Xc,Iee=xee("toStringTag"),Oee=Object,Pee=Rb(function(){return arguments}())==="Arguments",Aee=function(t,e){try{return t[e]}catch{}},V2=Mee?Rb:function(t){var e,n,r;return t===void 0?"Undefined":t===null?"Null":typeof(n=Aee(e=Oee(t),Iee))=="string"?n:Pee?Rb(e):(r=Rb(e))==="Object"&&Tee(e.callee)?"Arguments":r},Hee=V2,Dee=String,I0=function(t){if(Hee(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Dee(t)},Nee=I0,$ee=function(t,e){return t===void 0?arguments.length<2?"":e:Nee(t)},Lee=Dl,kee=Xv,Fee=function(t,e){Lee(e)&&"cause"in e&&kee(t,"cause",e.cause)},Vee=gi,W2=Error,Wee=Vee("".replace),Bee=function(t){return String(new W2(t).stack)}("zxcasd"),B2=/\n\s*at [^:]*:[^\n]*/,jee=B2.test(Bee),zee=function(t,e){if(jee&&typeof t=="string"&&!W2.prepareStackTrace)for(;e--;)t=Wee(t,B2,"");return t},Yee=Ko,Uee=b0,Gee=!Yee(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",Uee(1,7)),t.stack!==7):!0}),Kee=Xv,qee=zee,Xee=Gee,lN=Error.captureStackTrace,Zee=function(t,e,n,r){Xee&&(lN?lN(t,e):Kee(t,"stack",qee(n,r)))},uN=Gg,Qee=Nl,cN=Xv,Jee=E0,dN=k2,hN=N2,fN=Cee,ete=See,tte=$ee,nte=Fee,rte=Zee,ite=Ha,ote=function(t,e,n,r){var i="stackTraceLimit",o=r?2:1,s=t.split("."),a=s[s.length-1],u=uN.apply(null,s);if(u){var c=u.prototype;if(Qee(c,"cause")&&delete c.cause,!n)return u;var h=uN("Error"),g=e(function(p,v){var y=tte(r?v:p,void 0),R=r?new u(p):new u;return y!==void 0&&cN(R,"message",y),rte(R,g,R.stack,2),this&&Jee(c,this)&&ete(R,this,g),arguments.length>o&&nte(R,arguments[o]),R});g.prototype=c,a!=="Error"?dN?dN(g,h):hN(g,h,{name:!0}):ite&&i in u&&(fN(g,u,i),fN(g,u,"prepareStackTrace")),hN(g,u);try{c.name!==a&&cN(c,"name",a),c.constructor=g}catch{}return g}},j2=Yi,ste=ji,$l=x0,z2=ote,AT="WebAssembly",gN=ste[AT],sS=new Error("e",{cause:7}).cause!==7,Lh=function(t,e){var n={};n[t]=z2(t,e,sS),j2({global:!0,constructor:!0,arity:1,forced:sS},n)},yI=function(t,e){if(gN&&gN[t]){var n={};n[t]=z2(AT+"."+t,e,sS),j2({target:AT,stat:!0,constructor:!0,arity:1,forced:sS},n)}};Lh("Error",function(t){return function(n){return $l(t,this,arguments)}});Lh("EvalError",function(t){return function(n){return $l(t,this,arguments)}});Lh("RangeError",function(t){return function(n){return $l(t,this,arguments)}});Lh("ReferenceError",function(t){return function(n){return $l(t,this,arguments)}});Lh("SyntaxError",function(t){return function(n){return $l(t,this,arguments)}});Lh("TypeError",function(t){return function(n){return $l(t,this,arguments)}});Lh("URIError",function(t){return function(n){return $l(t,this,arguments)}});yI("CompileError",function(t){return function(n){return $l(t,this,arguments)}});yI("LinkError",function(t){return function(n){return $l(t,this,arguments)}});yI("RuntimeError",function(t){return function(n){return $l(t,this,arguments)}});var ate=$h,Y2=Array.isArray||function(e){return ate(e)==="Array"},lte=Ha,ute=Y2,cte=TypeError,dte=Object.getOwnPropertyDescriptor,hte=lte&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),U2=hte?function(t,e){if(ute(t)&&!dte(t,"length").writable)throw new cte("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},fte=TypeError,gte=9007199254740991,G2=function(t){if(t>gte)throw fte("Maximum allowed index exceeded");return t},mte=Yi,pte=qv,vte=Qv,wte=U2,Cte=G2,yte=Ko,bte=yte(function(){return[].push.call({length:4294967296},1)!==4294967297}),Ste=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},Rte=bte||!Ste();mte({target:"Array",proto:!0,arity:1,forced:Rte},{push:function(e){var n=pte(this),r=vte(n),i=arguments.length;Cte(r+i);for(var o=0;o<i;o++)n[r]=arguments[o],r++;return wte(n,r),r}});var n1=gi,kC=Set.prototype,Ll={Set,add:n1(kC.add),has:n1(kC.has),remove:n1(kC.delete),proto:kC},Ete=Ll.has,kh=function(t){return Ete(t),t},_te=Da,Fh=function(t,e,n){for(var r=n?t:t.iterator,i=t.next,o,s;!(o=_te(i,r)).done;)if(s=e(o.value),s!==void 0)return s},K2=gi,Mte=Fh,q2=Ll,Tte=q2.Set,X2=q2.proto,xte=K2(X2.forEach),Z2=K2(X2.keys),Ite=Z2(new Tte).next,ew=function(t,e,n){return n?Mte({iterator:Z2(t),next:Ite},e):xte(t,e)},Q2=Ll,Ote=ew,Pte=Q2.Set,Ate=Q2.add,bI=function(t){var e=new Pte;return Ote(t,function(n){Ate(e,n)}),e},Hte=L2,Dte=Ll,tw=Hte(Dte.proto,"size","get")||function(t){return t.size},Nte=function(t){return{iterator:t,next:t.next,done:!1}},mN=Kv,J2=$u,pN=Da,$te=Zv,Lte=Nte,vN="Invalid size",kte=RangeError,Fte=TypeError,Vte=Math.max,eW=function(t,e){this.set=t,this.size=Vte(e,0),this.has=mN(t.has),this.keys=mN(t.keys)};eW.prototype={getIterator:function(){return Lte(J2(pN(this.keys,this.set)))},includes:function(t){return pN(this.has,this.set,t)}};var Vh=function(t){J2(t);var e=+t.size;if(e!==e)throw new Fte(vN);var n=$te(e);if(n<0)throw new kte(vN);return new eW(t,n)},Wte=kh,tW=Ll,Bte=bI,jte=tw,zte=Vh,Yte=ew,Ute=Fh,Gte=tW.has,wN=tW.remove,Kte=function(e){var n=Wte(this),r=zte(e),i=Bte(n);return jte(n)<=r.size?Yte(n,function(o){r.includes(o)&&wN(i,o)}):Ute(r.getIterator(),function(o){Gte(n,o)&&wN(i,o)}),i},qte=Gg,CN=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},Wh=function(t){var e=qte("Set");try{new e()[t](CN(0));try{return new e()[t](CN(-1)),!1}catch{return!0}}catch{return!1}},Xte=Yi,Zte=Kte,Qte=Wh;Xte({target:"Set",proto:!0,real:!0,forced:!Qte("difference")},{difference:Zte});var Jte=kh,SI=Ll,ene=tw,tne=Vh,nne=ew,rne=Fh,ine=SI.Set,yN=SI.add,one=SI.has,sne=function(e){var n=Jte(this),r=tne(e),i=new ine;return ene(n)>r.size?rne(r.getIterator(),function(o){one(n,o)&&yN(i,o)}):nne(n,function(o){r.includes(o)&&yN(i,o)}),i},ane=Yi,lne=Ko,une=sne,cne=Wh,dne=!cne("intersection")||lne(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});ane({target:"Set",proto:!0,real:!0,forced:dne},{intersection:une});var hne=Da,bN=$u,fne=T0,RI=function(t,e,n){var r,i;bN(t);try{if(r=fne(t,"return"),!r){if(e==="throw")throw n;return n}r=hne(r,t)}catch(o){i=!0,r=o}if(e==="throw")throw n;if(i)throw r;return bN(r),n},gne=kh,mne=Ll.has,pne=tw,vne=Vh,wne=ew,Cne=Fh,yne=RI,bne=function(e){var n=gne(this),r=vne(e);if(pne(n)<=r.size)return wne(n,function(o){if(r.includes(o))return!1},!0)!==!1;var i=r.getIterator();return Cne(i,function(o){if(mne(n,o))return yne(i,"normal",!1)})!==!1},Sne=Yi,Rne=bne,Ene=Wh;Sne({target:"Set",proto:!0,real:!0,forced:!Ene("isDisjointFrom")},{isDisjointFrom:Rne});var _ne=kh,Mne=tw,Tne=ew,xne=Vh,Ine=function(e){var n=_ne(this),r=xne(e);return Mne(n)>r.size?!1:Tne(n,function(i){if(!r.includes(i))return!1},!0)!==!1},One=Yi,Pne=Ine,Ane=Wh;One({target:"Set",proto:!0,real:!0,forced:!Ane("isSubsetOf")},{isSubsetOf:Pne});var Hne=kh,Dne=Ll.has,Nne=tw,$ne=Vh,Lne=Fh,kne=RI,Fne=function(e){var n=Hne(this),r=$ne(e);if(Nne(n)<r.size)return!1;var i=r.getIterator();return Lne(i,function(o){if(!Dne(n,o))return kne(i,"normal",!1)})!==!1},Vne=Yi,Wne=Fne,Bne=Wh;Vne({target:"Set",proto:!0,real:!0,forced:!Bne("isSupersetOf")},{isSupersetOf:Wne});var jne=kh,EI=Ll,zne=bI,Yne=Vh,Une=Fh,Gne=EI.add,Kne=EI.has,qne=EI.remove,Xne=function(e){var n=jne(this),r=Yne(e).getIterator(),i=zne(n);return Une(r,function(o){Kne(n,o)?qne(i,o):Gne(i,o)}),i},Zne=Yi,Qne=Xne,Jne=Wh;Zne({target:"Set",proto:!0,real:!0,forced:!Jne("symmetricDifference")},{symmetricDifference:Qne});var ere=kh,tre=Ll.add,nre=bI,rre=Vh,ire=Fh,ore=function(e){var n=ere(this),r=rre(e).getIterator(),i=nre(n);return ire(r,function(o){tre(i,o)}),i},sre=Yi,are=ore,lre=Wh;sre({target:"Set",proto:!0,real:!0,forced:!lre("union")},{union:are});var ure=$h,cre=gi,dre=function(t){if(ure(t)==="Function")return cre(t)},SN=dre,hre=Kv,fre=y0,gre=SN(SN.bind),nW=function(t,e){return hre(t),e===void 0?t:fre?gre(t,e):function(){return t.apply(e,arguments)}},mre=Gg,rW=mre("document","documentElement"),pre=gi,_I=pre([].slice),vre=TypeError,iW=function(t,e){if(t<e)throw new vre("Not enough arguments");return t},wre=_0,Cre=/(?:ipad|iphone|ipod).*applewebkit/i.test(wre),km=ji,yre=_0,bre=$h,FC=function(t){return yre.slice(0,t.length)===t},oW=function(){return FC("Bun/")?"BUN":FC("Cloudflare-Workers")?"CLOUDFLARE":FC("Deno/")?"DENO":FC("Node.js/")?"NODE":km.Bun&&typeof Bun.version=="string"?"BUN":km.Deno&&typeof Deno.version=="object"?"DENO":bre(km.process)==="process"?"NODE":km.window&&km.document?"BROWSER":"REST"}(),Sre=oW,Rre=Sre==="NODE",gs=ji,Ere=x0,_re=nW,RN=zi,Mre=Nl,sW=Ko,EN=rW,Tre=_I,_N=mI,xre=iW,Ire=Cre,Ore=Rre,HT=gs.setImmediate,DT=gs.clearImmediate,Pre=gs.process,r1=gs.Dispatch,Are=gs.Function,MN=gs.MessageChannel,Hre=gs.String,i1=0,Kp={},TN="onreadystatechange",yv,yd,o1,s1;sW(function(){yv=gs.location});var MI=function(t){if(Mre(Kp,t)){var e=Kp[t];delete Kp[t],e()}},a1=function(t){return function(){MI(t)}},xN=function(t){MI(t.data)},IN=function(t){gs.postMessage(Hre(t),yv.protocol+"//"+yv.host)};(!HT||!DT)&&(HT=function(e){xre(arguments.length,1);var n=RN(e)?e:Are(e),r=Tre(arguments,1);return Kp[++i1]=function(){Ere(n,void 0,r)},yd(i1),i1},DT=function(e){delete Kp[e]},Ore?yd=function(t){Pre.nextTick(a1(t))}:r1&&r1.now?yd=function(t){r1.now(a1(t))}:MN&&!Ire?(o1=new MN,s1=o1.port2,o1.port1.onmessage=xN,yd=_re(s1.postMessage,s1)):gs.addEventListener&&RN(gs.postMessage)&&!gs.importScripts&&yv&&yv.protocol!=="file:"&&!sW(IN)?(yd=IN,gs.addEventListener("message",xN,!1)):TN in _N("script")?yd=function(t){EN.appendChild(_N("script"))[TN]=function(){EN.removeChild(this),MI(t)}}:yd=function(t){setTimeout(a1(t),0)});var aW={set:HT,clear:DT},Dre=Yi,Nre=ji,ON=aW.clear;Dre({global:!0,bind:!0,enumerable:!0,forced:Nre.clearImmediate!==ON},{clearImmediate:ON});var lW=ji,$re=x0,Lre=zi,kre=oW,Fre=_0,Vre=_I,Wre=iW,Bre=lW.Function,jre=/MSIE .\./.test(Fre)||kre==="BUN"&&function(){var t=lW.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}(),zre=function(t,e){var n=e?2:1;return jre?function(r,i){var o=Wre(arguments.length,1)>n,s=Lre(r)?r:Bre(r),a=o?Vre(arguments,n):[],u=o?function(){$re(s,this,a)}:s;return e?t(u,i):t(u)}:t},Yre=Yi,uW=ji,PN=aW.set,Ure=zre,AN=uW.setImmediate?Ure(PN,!1):PN;Yre({global:!0,bind:!0,enumerable:!0,forced:uW.setImmediate!==AN},{setImmediate:AN});/*! @license DOMPurify 2.5.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.7/LICENSE */function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function NT(t,e){return NT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},NT(t,e)}function Gre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Eb(t,e,n){return Gre()?Eb=Reflect.construct:Eb=function(i,o,s){var a=[null];a.push.apply(a,o);var u=Function.bind.apply(i,a),c=new u;return s&&NT(c,s.prototype),c},Eb.apply(null,arguments)}function ma(t){return Kre(t)||qre(t)||Xre(t)||Zre()}function Kre(t){if(Array.isArray(t))return $T(t)}function qre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xre(t,e){if(t){if(typeof t=="string")return $T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $T(t,e)}}function $T(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qre=Object.hasOwnProperty,HN=Object.setPrototypeOf,Jre=Object.isFrozen,eie=Object.getPrototypeOf,tie=Object.getOwnPropertyDescriptor,So=Object.freeze,Ys=Object.seal,nie=Object.create,cW=typeof Reflect<"u"&&Reflect,aS=cW.apply,LT=cW.construct;aS||(aS=function(e,n,r){return e.apply(n,r)});So||(So=function(e){return e});Ys||(Ys=function(e){return e});LT||(LT=function(e,n){return Eb(e,ma(n))});var rie=Us(Array.prototype.forEach),DN=Us(Array.prototype.pop),Fm=Us(Array.prototype.push),_b=Us(String.prototype.toLowerCase),l1=Us(String.prototype.toString),NN=Us(String.prototype.match),oa=Us(String.prototype.replace),iie=Us(String.prototype.indexOf),oie=Us(String.prototype.trim),Fi=Us(RegExp.prototype.test),u1=sie(TypeError);function Us(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return aS(t,e,r)}}function sie(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return LT(t,n)}}function pn(t,e,n){var r;n=(r=n)!==null&&r!==void 0?r:_b,HN&&HN(t,null);for(var i=e.length;i--;){var o=e[i];if(typeof o=="string"){var s=n(o);s!==o&&(Jre(e)||(e[i]=s),o=s)}t[o]=!0}return t}function bd(t){var e=nie(null),n;for(n in t)aS(Qre,t,[n])===!0&&(e[n]=t[n]);return e}function VC(t,e){for(;t!==null;){var n=tie(t,e);if(n){if(n.get)return Us(n.get);if(typeof n.value=="function")return Us(n.value)}t=eie(t)}function r(i){return console.warn("fallback value for",i),null}return r}var $N=So(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),c1=So(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),d1=So(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),aie=So(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),h1=So(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),lie=So(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),LN=So(["#text"]),kN=So(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),f1=So(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),FN=So(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),WC=So(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),uie=Ys(/\{\{[\w\W]*|[\w\W]*\}\}/gm),cie=Ys(/<%[\w\W]*|[\w\W]*%>/gm),die=Ys(/\${[\w\W]*}/gm),hie=Ys(/^data-[\-\w.\u00B7-\uFFFF]/),fie=Ys(/^aria-[\-\w]+$/),gie=Ys(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),mie=Ys(/^(?:\w+script|data):/i),pie=Ys(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),vie=Ys(/^html$/i),wie=Ys(/^[a-z][.\w]*(-[.\w]+)+$/i),Cie=function(){return typeof window>"u"?null:window},yie=function(e,n){if(Rc(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML:function(a){return a},createScriptURL:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function dW(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cie(),e=function(de){return dW(de)};if(e.version="2.5.7",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,o=t.HTMLTemplateElement,s=t.Node,a=t.Element,u=t.NodeFilter,c=t.NamedNodeMap,h=c===void 0?t.NamedNodeMap||t.MozNamedAttrMap:c,g=t.HTMLFormElement,p=t.DOMParser,v=t.trustedTypes,y=a.prototype,R=VC(y,"cloneNode"),S=VC(y,"nextSibling"),T=VC(y,"childNodes"),x=VC(y,"parentNode");if(typeof o=="function"){var O=r.createElement("template");O.content&&O.content.ownerDocument&&(r=O.content.ownerDocument)}var A=yie(v,n),H=A?A.createHTML(""):"",L=r,F=L.implementation,j=L.createNodeIterator,z=L.createDocumentFragment,Y=L.getElementsByTagName,K=n.importNode,X={};try{X=bd(r).documentMode?r.documentMode:{}}catch{}var se={};e.isSupported=typeof x=="function"&&F&&F.createHTMLDocument!==void 0&&X!==9;var ne=uie,J=cie,re=die,ae=hie,G=fie,oe=mie,te=pie,C=wie,E=gie,I=null,$=pn({},[].concat(ma($N),ma(c1),ma(d1),ma(h1),ma(LN))),N=null,Z=pn({},[].concat(ma(kN),ma(f1),ma(FN),ma(WC))),ue=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),me=null,Me=null,be=!0,le=!0,Ee=!1,_e=!0,ee=!1,De=!0,Ae=!1,Pe=!1,Be=!1,je=!1,k=!1,V=!1,q=!0,fe=!1,Q="user-content-",we=!0,ce=!1,ie={},ve=null,pe=pn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ge=null,$e=pn({},["audio","video","img","source","image","track"]),Fe=null,Ie=pn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),xe="http://www.w3.org/1998/Math/MathML",ze="http://www.w3.org/2000/svg",Ge="http://www.w3.org/1999/xhtml",Oe=Ge,Ye=!1,wt=null,sn=pn({},[xe,ze,Ge],l1),Nt,In=["application/xhtml+xml","text/html"],wn="text/html",At,qe=null,Ut=r.createElement("form"),Yt=function(de){return de instanceof RegExp||de instanceof Function},qt=function(de){qe&&qe===de||((!de||Rc(de)!=="object")&&(de={}),de=bd(de),Nt=In.indexOf(de.PARSER_MEDIA_TYPE)===-1?Nt=wn:Nt=de.PARSER_MEDIA_TYPE,At=Nt==="application/xhtml+xml"?l1:_b,I="ALLOWED_TAGS"in de?pn({},de.ALLOWED_TAGS,At):$,N="ALLOWED_ATTR"in de?pn({},de.ALLOWED_ATTR,At):Z,wt="ALLOWED_NAMESPACES"in de?pn({},de.ALLOWED_NAMESPACES,l1):sn,Fe="ADD_URI_SAFE_ATTR"in de?pn(bd(Ie),de.ADD_URI_SAFE_ATTR,At):Ie,ge="ADD_DATA_URI_TAGS"in de?pn(bd($e),de.ADD_DATA_URI_TAGS,At):$e,ve="FORBID_CONTENTS"in de?pn({},de.FORBID_CONTENTS,At):pe,me="FORBID_TAGS"in de?pn({},de.FORBID_TAGS,At):{},Me="FORBID_ATTR"in de?pn({},de.FORBID_ATTR,At):{},ie="USE_PROFILES"in de?de.USE_PROFILES:!1,be=de.ALLOW_ARIA_ATTR!==!1,le=de.ALLOW_DATA_ATTR!==!1,Ee=de.ALLOW_UNKNOWN_PROTOCOLS||!1,_e=de.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ee=de.SAFE_FOR_TEMPLATES||!1,De=de.SAFE_FOR_XML!==!1,Ae=de.WHOLE_DOCUMENT||!1,je=de.RETURN_DOM||!1,k=de.RETURN_DOM_FRAGMENT||!1,V=de.RETURN_TRUSTED_TYPE||!1,Be=de.FORCE_BODY||!1,q=de.SANITIZE_DOM!==!1,fe=de.SANITIZE_NAMED_PROPS||!1,we=de.KEEP_CONTENT!==!1,ce=de.IN_PLACE||!1,E=de.ALLOWED_URI_REGEXP||E,Oe=de.NAMESPACE||Ge,ue=de.CUSTOM_ELEMENT_HANDLING||{},de.CUSTOM_ELEMENT_HANDLING&&Yt(de.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ue.tagNameCheck=de.CUSTOM_ELEMENT_HANDLING.tagNameCheck),de.CUSTOM_ELEMENT_HANDLING&&Yt(de.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ue.attributeNameCheck=de.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),de.CUSTOM_ELEMENT_HANDLING&&typeof de.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ue.allowCustomizedBuiltInElements=de.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&(le=!1),k&&(je=!0),ie&&(I=pn({},ma(LN)),N=[],ie.html===!0&&(pn(I,$N),pn(N,kN)),ie.svg===!0&&(pn(I,c1),pn(N,f1),pn(N,WC)),ie.svgFilters===!0&&(pn(I,d1),pn(N,f1),pn(N,WC)),ie.mathMl===!0&&(pn(I,h1),pn(N,FN),pn(N,WC))),de.ADD_TAGS&&(I===$&&(I=bd(I)),pn(I,de.ADD_TAGS,At)),de.ADD_ATTR&&(N===Z&&(N=bd(N)),pn(N,de.ADD_ATTR,At)),de.ADD_URI_SAFE_ATTR&&pn(Fe,de.ADD_URI_SAFE_ATTR,At),de.FORBID_CONTENTS&&(ve===pe&&(ve=bd(ve)),pn(ve,de.FORBID_CONTENTS,At)),we&&(I["#text"]=!0),Ae&&pn(I,["html","head","body"]),I.table&&(pn(I,["tbody"]),delete me.tbody),So&&So(de),qe=de)},$n=pn({},["mi","mo","mn","ms","mtext"]),_t=pn({},["annotation-xml"]),zn=pn({},["title","style","font","a","script"]),it=pn({},c1);pn(it,d1),pn(it,aie);var ft=pn({},h1);pn(ft,lie);var Rt=function(de){var Ne=x(de);(!Ne||!Ne.tagName)&&(Ne={namespaceURI:Oe,tagName:"template"});var et=_b(de.tagName),Dt=_b(Ne.tagName);return wt[de.namespaceURI]?de.namespaceURI===ze?Ne.namespaceURI===Ge?et==="svg":Ne.namespaceURI===xe?et==="svg"&&(Dt==="annotation-xml"||$n[Dt]):!!it[et]:de.namespaceURI===xe?Ne.namespaceURI===Ge?et==="math":Ne.namespaceURI===ze?et==="math"&&_t[Dt]:!!ft[et]:de.namespaceURI===Ge?Ne.namespaceURI===ze&&!_t[Dt]||Ne.namespaceURI===xe&&!$n[Dt]?!1:!ft[et]&&(zn[et]||!it[et]):!!(Nt==="application/xhtml+xml"&&wt[de.namespaceURI]):!1},ht=function(de){Fm(e.removed,{element:de});try{de.parentNode.removeChild(de)}catch{try{de.outerHTML=H}catch{de.remove()}}},Tt=function(de,Ne){try{Fm(e.removed,{attribute:Ne.getAttributeNode(de),from:Ne})}catch{Fm(e.removed,{attribute:null,from:Ne})}if(Ne.removeAttribute(de),de==="is"&&!N[de])if(je||k)try{ht(Ne)}catch{}else try{Ne.setAttribute(de,"")}catch{}},Xt=function(de){var Ne,et;if(Be)de="<remove></remove>"+de;else{var Dt=NN(de,/^[\r\n\t ]+/);et=Dt&&Dt[0]}Nt==="application/xhtml+xml"&&Oe===Ge&&(de='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+de+"</body></html>");var An=A?A.createHTML(de):de;if(Oe===Ge)try{Ne=new p().parseFromString(An,Nt)}catch{}if(!Ne||!Ne.documentElement){Ne=F.createDocument(Oe,"template",null);try{Ne.documentElement.innerHTML=Ye?H:An}catch{}}var Xn=Ne.body||Ne.documentElement;return de&&et&&Xn.insertBefore(r.createTextNode(et),Xn.childNodes[0]||null),Oe===Ge?Y.call(Ne,Ae?"html":"body")[0]:Ae?Ne.documentElement:Xn},Ln=function(de){return j.call(de.ownerDocument||de,de,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null,!1)},tn=function(de){return de instanceof g&&(typeof de.nodeName!="string"||typeof de.textContent!="string"||typeof de.removeChild!="function"||!(de.attributes instanceof h)||typeof de.removeAttribute!="function"||typeof de.setAttribute!="function"||typeof de.namespaceURI!="string"||typeof de.insertBefore!="function"||typeof de.hasChildNodes!="function")},kn=function(de){return Rc(s)==="object"?de instanceof s:de&&Rc(de)==="object"&&typeof de.nodeType=="number"&&typeof de.nodeName=="string"},Gt=function(de,Ne,et){se[de]&&rie(se[de],function(Dt){Dt.call(e,Ne,et,qe)})},Mn=function(de){var Ne;if(Gt("beforeSanitizeElements",de,null),tn(de)||Fi(/[\u0080-\uFFFF]/,de.nodeName))return ht(de),!0;var et=At(de.nodeName);if(Gt("uponSanitizeElement",de,{tagName:et,allowedTags:I}),de.hasChildNodes()&&!kn(de.firstElementChild)&&(!kn(de.content)||!kn(de.content.firstElementChild))&&Fi(/<[/\w]/g,de.innerHTML)&&Fi(/<[/\w]/g,de.textContent)||et==="select"&&Fi(/<template/i,de.innerHTML)||de.nodeType===7||De&&de.nodeType===8&&Fi(/<[/\w]/g,de.data))return ht(de),!0;if(!I[et]||me[et]){if(!me[et]&&ci(et)&&(ue.tagNameCheck instanceof RegExp&&Fi(ue.tagNameCheck,et)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(et)))return!1;if(we&&!ve[et]){var Dt=x(de)||de.parentNode,An=T(de)||de.childNodes;if(An&&Dt)for(var Xn=An.length,Vt=Xn-1;Vt>=0;--Vt){var Pr=R(An[Vt],!0);Pr.__removalCount=(de.__removalCount||0)+1,Dt.insertBefore(Pr,S(de))}}return ht(de),!0}return de instanceof a&&!Rt(de)||(et==="noscript"||et==="noembed"||et==="noframes")&&Fi(/<\/no(script|embed|frames)/i,de.innerHTML)?(ht(de),!0):(ee&&de.nodeType===3&&(Ne=de.textContent,Ne=oa(Ne,ne," "),Ne=oa(Ne,J," "),Ne=oa(Ne,re," "),de.textContent!==Ne&&(Fm(e.removed,{element:de.cloneNode()}),de.textContent=Ne)),Gt("afterSanitizeElements",de,null),!1)},Dr=function(de,Ne,et){if(q&&(Ne==="id"||Ne==="name")&&(et in r||et in Ut))return!1;if(!(le&&!Me[Ne]&&Fi(ae,Ne))){if(!(be&&Fi(G,Ne))){if(!N[Ne]||Me[Ne]){if(!(ci(de)&&(ue.tagNameCheck instanceof RegExp&&Fi(ue.tagNameCheck,de)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(de))&&(ue.attributeNameCheck instanceof RegExp&&Fi(ue.attributeNameCheck,Ne)||ue.attributeNameCheck instanceof Function&&ue.attributeNameCheck(Ne))||Ne==="is"&&ue.allowCustomizedBuiltInElements&&(ue.tagNameCheck instanceof RegExp&&Fi(ue.tagNameCheck,et)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(et))))return!1}else if(!Fe[Ne]){if(!Fi(E,oa(et,te,""))){if(!((Ne==="src"||Ne==="xlink:href"||Ne==="href")&&de!=="script"&&iie(et,"data:")===0&&ge[de])){if(!(Ee&&!Fi(oe,oa(et,te,"")))){if(et)return!1}}}}}}return!0},ci=function(de){return de!=="annotation-xml"&&NN(de,C)},di=function(de){var Ne,et,Dt,An;Gt("beforeSanitizeAttributes",de,null);var Xn=de.attributes;if(Xn){var Vt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:N};for(An=Xn.length;An--;){Ne=Xn[An];var Pr=Ne,Hn=Pr.name,Ni=Pr.namespaceURI;if(et=Hn==="value"?Ne.value:oie(Ne.value),Dt=At(Hn),Vt.attrName=Dt,Vt.attrValue=et,Vt.keepAttr=!0,Vt.forceKeepAttr=void 0,Gt("uponSanitizeAttribute",de,Vt),et=Vt.attrValue,!Vt.forceKeepAttr&&(Tt(Hn,de),!!Vt.keepAttr)){if(!_e&&Fi(/\/>/i,et)){Tt(Hn,de);continue}ee&&(et=oa(et,ne," "),et=oa(et,J," "),et=oa(et,re," "));var Mo=At(de.nodeName);if(Dr(Mo,Dt,et)){if(fe&&(Dt==="id"||Dt==="name")&&(Tt(Hn,de),et=Q+et),De&&Fi(/((--!?|])>)|<\/(style|title)/i,et)){Tt(Hn,de);continue}if(A&&Rc(v)==="object"&&typeof v.getAttributeType=="function"&&!Ni)switch(v.getAttributeType(Mo,Dt)){case"TrustedHTML":{et=A.createHTML(et);break}case"TrustedScriptURL":{et=A.createScriptURL(et);break}}try{Ni?de.setAttributeNS(Ni,Hn,et):de.setAttribute(Hn,et),tn(de)?ht(de):DN(e.removed)}catch{}}}}Gt("afterSanitizeAttributes",de,null)}},bt=function Ve(de){var Ne,et=Ln(de);for(Gt("beforeSanitizeShadowDOM",de,null);Ne=et.nextNode();)Gt("uponSanitizeShadowNode",Ne,null),!Mn(Ne)&&(Ne.content instanceof i&&Ve(Ne.content),di(Ne));Gt("afterSanitizeShadowDOM",de,null)};return e.sanitize=function(Ve){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ne,et,Dt,An,Xn;if(Ye=!Ve,Ye&&(Ve="<!-->"),typeof Ve!="string"&&!kn(Ve))if(typeof Ve.toString=="function"){if(Ve=Ve.toString(),typeof Ve!="string")throw u1("dirty is not a string, aborting")}else throw u1("toString is not a function");if(!e.isSupported){if(Rc(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Ve=="string")return t.toStaticHTML(Ve);if(kn(Ve))return t.toStaticHTML(Ve.outerHTML)}return Ve}if(Pe||qt(de),e.removed=[],typeof Ve=="string"&&(ce=!1),ce){if(Ve.nodeName){var Vt=At(Ve.nodeName);if(!I[Vt]||me[Vt])throw u1("root node is forbidden and cannot be sanitized in-place")}}else if(Ve instanceof s)Ne=Xt("<!---->"),et=Ne.ownerDocument.importNode(Ve,!0),et.nodeType===1&&et.nodeName==="BODY"||et.nodeName==="HTML"?Ne=et:Ne.appendChild(et);else{if(!je&&!ee&&!Ae&&Ve.indexOf("<")===-1)return A&&V?A.createHTML(Ve):Ve;if(Ne=Xt(Ve),!Ne)return je?null:V?H:""}Ne&&Be&&ht(Ne.firstChild);for(var Pr=Ln(ce?Ve:Ne);Dt=Pr.nextNode();)Dt.nodeType===3&&Dt===An||Mn(Dt)||(Dt.content instanceof i&&bt(Dt.content),di(Dt),An=Dt);if(An=null,ce)return Ve;if(je){if(k)for(Xn=z.call(Ne.ownerDocument);Ne.firstChild;)Xn.appendChild(Ne.firstChild);else Xn=Ne;return(N.shadowroot||N.shadowrootmod)&&(Xn=K.call(n,Xn,!0)),Xn}var Hn=Ae?Ne.outerHTML:Ne.innerHTML;return Ae&&I["!doctype"]&&Ne.ownerDocument&&Ne.ownerDocument.doctype&&Ne.ownerDocument.doctype.name&&Fi(vie,Ne.ownerDocument.doctype.name)&&(Hn="<!DOCTYPE "+Ne.ownerDocument.doctype.name+`>
`+Hn),ee&&(Hn=oa(Hn,ne," "),Hn=oa(Hn,J," "),Hn=oa(Hn,re," ")),A&&V?A.createHTML(Hn):Hn},e.setConfig=function(Ve){qt(Ve),Pe=!0},e.clearConfig=function(){qe=null,Pe=!1},e.isValidAttribute=function(Ve,de,Ne){qe||qt({});var et=At(Ve),Dt=At(de);return Dr(et,Dt,Ne)},e.addHook=function(Ve,de){typeof de=="function"&&(se[Ve]=se[Ve]||[],Fm(se[Ve],de))},e.removeHook=function(Ve){if(se[Ve])return DN(se[Ve])},e.removeHooks=function(Ve){se[Ve]&&(se[Ve]=[])},e.removeAllHooks=function(){se={}},e}var bie=dW();//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hW;function Ze(){return hW.apply(null,arguments)}function Sie(t){hW=t}function xa(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function wh(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Yn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function TI(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Yn(t,e))return!1;return!0}function Wo(t){return t===void 0}function Au(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function nw(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function fW(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function xc(t,e){for(var n in e)Yn(e,n)&&(t[n]=e[n]);return Yn(e,"toString")&&(t.toString=e.toString),Yn(e,"valueOf")&&(t.valueOf=e.valueOf),t}function kl(t,e,n,r){return $W(t,e,n,r,!0).utc()}function Rie(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function un(t){return t._pf==null&&(t._pf=Rie()),t._pf}var kT;Array.prototype.some?kT=Array.prototype.some:kT=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function xI(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=un(t),n=kT.call(e.parsedDateParts,function(i){return i!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function O0(t){var e=kl(NaN);return t!=null?xc(un(e),t):un(e).userInvalidated=!0,e}var VN=Ze.momentProperties=[],g1=!1;function II(t,e){var n,r,i,o=VN.length;if(Wo(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Wo(e._i)||(t._i=e._i),Wo(e._f)||(t._f=e._f),Wo(e._l)||(t._l=e._l),Wo(e._strict)||(t._strict=e._strict),Wo(e._tzm)||(t._tzm=e._tzm),Wo(e._isUTC)||(t._isUTC=e._isUTC),Wo(e._offset)||(t._offset=e._offset),Wo(e._pf)||(t._pf=un(e)),Wo(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)r=VN[n],i=e[r],Wo(i)||(t[r]=i);return t}function rw(t){II(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),g1===!1&&(g1=!0,Ze.updateOffset(this),g1=!1)}function Ia(t){return t instanceof rw||t!=null&&t._isAMomentObject!=null}function gW(t){Ze.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Gs(t,e){var n=!0;return xc(function(){if(Ze.deprecationHandler!=null&&Ze.deprecationHandler(null,t),n){var r=[],i,o,s,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(s in arguments[0])Yn(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];r.push(i)}gW(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var WN={};function mW(t,e){Ze.deprecationHandler!=null&&Ze.deprecationHandler(t,e),WN[t]||(gW(e),WN[t]=!0)}Ze.suppressDeprecationWarnings=!1;Ze.deprecationHandler=null;function Fl(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function Eie(t){var e,n;for(n in t)Yn(t,n)&&(e=t[n],Fl(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function FT(t,e){var n=xc({},t),r;for(r in e)Yn(e,r)&&(wh(t[r])&&wh(e[r])?(n[r]={},xc(n[r],t[r]),xc(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Yn(t,r)&&!Yn(e,r)&&wh(t[r])&&(n[r]=xc({},n[r]));return n}function OI(t){t!=null&&this.set(t)}var VT;Object.keys?VT=Object.keys:VT=function(t){var e,n=[];for(e in t)Yn(t,e)&&n.push(e);return n};var _ie={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Mie(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Fl(r)?r.call(e,n):r}function Pl(t,e,n){var r=""+Math.abs(t),i=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var PI=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,BC=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,m1={},Cg={};function Ht(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(Cg[t]=i),e&&(Cg[e[0]]=function(){return Pl(i.apply(this,arguments),e[1],e[2])}),n&&(Cg[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Tie(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function xie(t){var e=t.match(PI),n,r;for(n=0,r=e.length;n<r;n++)Cg[e[n]]?e[n]=Cg[e[n]]:e[n]=Tie(e[n]);return function(i){var o="",s;for(s=0;s<r;s++)o+=Fl(e[s])?e[s].call(i,t):e[s];return o}}function Mb(t,e){return t.isValid()?(e=pW(e,t.localeData()),m1[e]=m1[e]||xie(e),m1[e](t)):t.localeData().invalidDate()}function pW(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(BC.lastIndex=0;n>=0&&BC.test(t);)t=t.replace(BC,r),BC.lastIndex=0,n-=1;return t}var Iie={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Oie(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(PI).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var Pie="Invalid date";function Aie(){return this._invalidDate}var Hie="%d",Die=/\d{1,2}/;function Nie(t){return this._ordinal.replace("%d",t)}var $ie={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Lie(t,e,n,r){var i=this._relativeTime[n];return Fl(i)?i(t,e,n,r):i.replace(/%d/i,t)}function kie(t,e){var n=this._relativeTime[t>0?"future":"past"];return Fl(n)?n(e):n.replace(/%s/i,e)}var BN={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ks(t){return typeof t=="string"?BN[t]||BN[t.toLowerCase()]:void 0}function AI(t){var e={},n,r;for(r in t)Yn(t,r)&&(n=Ks(r),n&&(e[n]=t[r]));return e}var Fie={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Vie(t){var e=[],n;for(n in t)Yn(t,n)&&e.push({unit:n,priority:Fie[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}var vW=/\d/,ps=/\d\d/,wW=/\d{3}/,HI=/\d{4}/,P0=/[+-]?\d{6}/,Or=/\d\d?/,CW=/\d\d\d\d?/,yW=/\d\d\d\d\d\d?/,A0=/\d{1,3}/,DI=/\d{1,4}/,H0=/[+-]?\d{1,6}/,Kg=/\d+/,D0=/[+-]?\d+/,Wie=/Z|[+-]\d\d:?\d\d/gi,N0=/Z|[+-]\d\d(?::?\d\d)?/gi,Bie=/[+-]?\d+(\.\d{1,3})?/,iw=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,qg=/^[1-9]\d?/,NI=/^([1-9]\d|\d)/,lS;lS={};function yt(t,e,n){lS[t]=Fl(e)?e:function(r,i){return r&&n?n:e}}function jie(t,e){return Yn(lS,t)?lS[t](e._strict,e._locale):new RegExp(zie(t))}function zie(t){return Iu(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,o){return n||r||i||o}))}function Iu(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ws(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Pn(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Ws(e)),n}var WT={};function mr(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Au(e)&&(r=function(o,s){s[e]=Pn(o)}),i=t.length,n=0;n<i;n++)WT[t[n]]=r}function ow(t,e){mr(t,function(n,r,i,o){i._w=i._w||{},e(n,i._w,i,o)})}function Yie(t,e,n){e!=null&&Yn(WT,t)&&WT[t](e,n._a,n,t)}function $0(t){return t%4===0&&t%100!==0||t%400===0}var oo=0,Ru=1,El=2,Si=3,Ea=4,Eu=5,ch=6,Uie=7,Gie=8;Ht("Y",0,0,function(){var t=this.year();return t<=9999?Pl(t,4):"+"+t});Ht(0,["YY",2],0,function(){return this.year()%100});Ht(0,["YYYY",4],0,"year");Ht(0,["YYYYY",5],0,"year");Ht(0,["YYYYYY",6,!0],0,"year");yt("Y",D0);yt("YY",Or,ps);yt("YYYY",DI,HI);yt("YYYYY",H0,P0);yt("YYYYYY",H0,P0);mr(["YYYYY","YYYYYY"],oo);mr("YYYY",function(t,e){e[oo]=t.length===2?Ze.parseTwoDigitYear(t):Pn(t)});mr("YY",function(t,e){e[oo]=Ze.parseTwoDigitYear(t)});mr("Y",function(t,e){e[oo]=parseInt(t,10)});function qp(t){return $0(t)?366:365}Ze.parseTwoDigitYear=function(t){return Pn(t)+(Pn(t)>68?1900:2e3)};var bW=Xg("FullYear",!0);function Kie(){return $0(this.year())}function Xg(t,e){return function(n){return n!=null?(SW(this,t,n),Ze.updateOffset(this,e),this):bv(this,t)}}function bv(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function SW(t,e,n){var r,i,o,s,a;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}o=n,s=t.month(),a=t.date(),a=a===29&&s===1&&!$0(o)?28:a,i?r.setUTCFullYear(o,s,a):r.setFullYear(o,s,a)}}function qie(t){return t=Ks(t),Fl(this[t])?this[t]():this}function Xie(t,e){if(typeof t=="object"){t=AI(t);var n=Vie(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=Ks(t),Fl(this[t]))return this[t](e);return this}function Zie(t,e){return(t%e+e)%e}var si;Array.prototype.indexOf?si=Array.prototype.indexOf:si=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function $I(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=Zie(e,12);return t+=(e-n)/12,n===1?$0(t)?29:28:31-n%7%2}Ht("M",["MM",2],"Mo",function(){return this.month()+1});Ht("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Ht("MMMM",0,0,function(t){return this.localeData().months(this,t)});yt("M",Or,qg);yt("MM",Or,ps);yt("MMM",function(t,e){return e.monthsShortRegex(t)});yt("MMMM",function(t,e){return e.monthsRegex(t)});mr(["M","MM"],function(t,e){e[Ru]=Pn(t)-1});mr(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[Ru]=i:un(n).invalidMonth=t});var Qie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),RW="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),EW=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Jie=iw,eoe=iw;function toe(t,e){return t?xa(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||EW).test(e)?"format":"standalone"][t.month()]:xa(this._months)?this._months:this._months.standalone}function noe(t,e){return t?xa(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[EW.test(e)?"format":"standalone"][t.month()]:xa(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function roe(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=kl([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?e==="MMM"?(i=si.call(this._shortMonthsParse,s),i!==-1?i:null):(i=si.call(this._longMonthsParse,s),i!==-1?i:null):e==="MMM"?(i=si.call(this._shortMonthsParse,s),i!==-1?i:(i=si.call(this._longMonthsParse,s),i!==-1?i:null)):(i=si.call(this._longMonthsParse,s),i!==-1?i:(i=si.call(this._shortMonthsParse,s),i!==-1?i:null))}function ioe(t,e,n){var r,i,o;if(this._monthsParseExact)return roe.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=kl([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function _W(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Pn(e);else if(e=t.localeData().monthsParse(e),!Au(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,$I(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function MW(t){return t!=null?(_W(this,t),Ze.updateOffset(this,!0),this):bv(this,"Month")}function ooe(){return $I(this.year(),this.month())}function soe(t){return this._monthsParseExact?(Yn(this,"_monthsRegex")||TW.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Yn(this,"_monthsShortRegex")||(this._monthsShortRegex=Jie),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function aoe(t){return this._monthsParseExact?(Yn(this,"_monthsRegex")||TW.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Yn(this,"_monthsRegex")||(this._monthsRegex=eoe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function TW(){function t(u,c){return c.length-u.length}var e=[],n=[],r=[],i,o,s,a;for(i=0;i<12;i++)o=kl([2e3,i]),s=Iu(this.monthsShort(o,"")),a=Iu(this.months(o,"")),e.push(s),n.push(a),r.push(a),r.push(s);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function loe(t,e,n,r,i,o,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,r,i,o,s),a}function Sv(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function uS(t,e,n){var r=7+e-n,i=(7+Sv(t,0,r).getUTCDay()-e)%7;return-i+r-1}function xW(t,e,n,r,i){var o=(7+n-r)%7,s=uS(t,r,i),a=1+7*(e-1)+o+s,u,c;return a<=0?(u=t-1,c=qp(u)+a):a>qp(t)?(u=t+1,c=a-qp(t)):(u=t,c=a),{year:u,dayOfYear:c}}function Rv(t,e,n){var r=uS(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,o,s;return i<1?(s=t.year()-1,o=i+Ou(s,e,n)):i>Ou(t.year(),e,n)?(o=i-Ou(t.year(),e,n),s=t.year()+1):(s=t.year(),o=i),{week:o,year:s}}function Ou(t,e,n){var r=uS(t,e,n),i=uS(t+1,e,n);return(qp(t)-r+i)/7}Ht("w",["ww",2],"wo","week");Ht("W",["WW",2],"Wo","isoWeek");yt("w",Or,qg);yt("ww",Or,ps);yt("W",Or,qg);yt("WW",Or,ps);ow(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Pn(t)});function uoe(t){return Rv(t,this._week.dow,this._week.doy).week}var coe={dow:0,doy:6};function doe(){return this._week.dow}function hoe(){return this._week.doy}function foe(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function goe(t){var e=Rv(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Ht("d",0,"do","day");Ht("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Ht("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Ht("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Ht("e",0,0,"weekday");Ht("E",0,0,"isoWeekday");yt("d",Or);yt("e",Or);yt("E",Or);yt("dd",function(t,e){return e.weekdaysMinRegex(t)});yt("ddd",function(t,e){return e.weekdaysShortRegex(t)});yt("dddd",function(t,e){return e.weekdaysRegex(t)});ow(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:un(n).invalidWeekday=t});ow(["d","e","E"],function(t,e,n,r){e[r]=Pn(t)});function moe(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function poe(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function LI(t,e){return t.slice(e,7).concat(t.slice(0,e))}var voe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),IW="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),woe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Coe=iw,yoe=iw,boe=iw;function Soe(t,e){var n=xa(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?LI(n,this._week.dow):t?n[t.day()]:n}function Roe(t){return t===!0?LI(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Eoe(t){return t===!0?LI(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function _oe(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=kl([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?e==="dddd"?(i=si.call(this._weekdaysParse,s),i!==-1?i:null):e==="ddd"?(i=si.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=si.call(this._minWeekdaysParse,s),i!==-1?i:null):e==="dddd"?(i=si.call(this._weekdaysParse,s),i!==-1||(i=si.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=si.call(this._minWeekdaysParse,s),i!==-1?i:null)):e==="ddd"?(i=si.call(this._shortWeekdaysParse,s),i!==-1||(i=si.call(this._weekdaysParse,s),i!==-1)?i:(i=si.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=si.call(this._minWeekdaysParse,s),i!==-1||(i=si.call(this._weekdaysParse,s),i!==-1)?i:(i=si.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function Moe(t,e,n){var r,i,o;if(this._weekdaysParseExact)return _oe.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=kl([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Toe(t){if(!this.isValid())return t!=null?this:NaN;var e=bv(this,"Day");return t!=null?(t=moe(t,this.localeData()),this.add(t-e,"d")):e}function xoe(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Ioe(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=poe(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Ooe(t){return this._weekdaysParseExact?(Yn(this,"_weekdaysRegex")||kI.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Yn(this,"_weekdaysRegex")||(this._weekdaysRegex=Coe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Poe(t){return this._weekdaysParseExact?(Yn(this,"_weekdaysRegex")||kI.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Yn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=yoe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Aoe(t){return this._weekdaysParseExact?(Yn(this,"_weekdaysRegex")||kI.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Yn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=boe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function kI(){function t(h,g){return g.length-h.length}var e=[],n=[],r=[],i=[],o,s,a,u,c;for(o=0;o<7;o++)s=kl([2e3,1]).day(o),a=Iu(this.weekdaysMin(s,"")),u=Iu(this.weekdaysShort(s,"")),c=Iu(this.weekdays(s,"")),e.push(a),n.push(u),r.push(c),i.push(a),i.push(u),i.push(c);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function FI(){return this.hours()%12||12}function Hoe(){return this.hours()||24}Ht("H",["HH",2],0,"hour");Ht("h",["hh",2],0,FI);Ht("k",["kk",2],0,Hoe);Ht("hmm",0,0,function(){return""+FI.apply(this)+Pl(this.minutes(),2)});Ht("hmmss",0,0,function(){return""+FI.apply(this)+Pl(this.minutes(),2)+Pl(this.seconds(),2)});Ht("Hmm",0,0,function(){return""+this.hours()+Pl(this.minutes(),2)});Ht("Hmmss",0,0,function(){return""+this.hours()+Pl(this.minutes(),2)+Pl(this.seconds(),2)});function OW(t,e){Ht(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}OW("a",!0);OW("A",!1);function PW(t,e){return e._meridiemParse}yt("a",PW);yt("A",PW);yt("H",Or,NI);yt("h",Or,qg);yt("k",Or,qg);yt("HH",Or,ps);yt("hh",Or,ps);yt("kk",Or,ps);yt("hmm",CW);yt("hmmss",yW);yt("Hmm",CW);yt("Hmmss",yW);mr(["H","HH"],Si);mr(["k","kk"],function(t,e,n){var r=Pn(t);e[Si]=r===24?0:r});mr(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});mr(["h","hh"],function(t,e,n){e[Si]=Pn(t),un(n).bigHour=!0});mr("hmm",function(t,e,n){var r=t.length-2;e[Si]=Pn(t.substr(0,r)),e[Ea]=Pn(t.substr(r)),un(n).bigHour=!0});mr("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Si]=Pn(t.substr(0,r)),e[Ea]=Pn(t.substr(r,2)),e[Eu]=Pn(t.substr(i)),un(n).bigHour=!0});mr("Hmm",function(t,e,n){var r=t.length-2;e[Si]=Pn(t.substr(0,r)),e[Ea]=Pn(t.substr(r))});mr("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Si]=Pn(t.substr(0,r)),e[Ea]=Pn(t.substr(r,2)),e[Eu]=Pn(t.substr(i))});function Doe(t){return(t+"").toLowerCase().charAt(0)==="p"}var Noe=/[ap]\.?m?\.?/i,$oe=Xg("Hours",!0);function Loe(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var AW={calendar:_ie,longDateFormat:Iie,invalidDate:Pie,ordinal:Hie,dayOfMonthOrdinalParse:Die,relativeTime:$ie,months:Qie,monthsShort:RW,week:coe,weekdays:voe,weekdaysMin:woe,weekdaysShort:IW,meridiemParse:Noe},Hr={},Vm={},Ev;function koe(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function jN(t){return t&&t.toLowerCase().replace("_","-")}function Foe(t){for(var e=0,n,r,i,o;e<t.length;){for(o=jN(t[e]).split("-"),n=o.length,r=jN(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=L0(o.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&koe(o,r)>=n-1)break;n--}e++}return Ev}function Voe(t){return!!(t&&t.match("^[^/\\\\]*$"))}function L0(t){var e=null,n;if(Hr[t]===void 0&&typeof module<"u"&&module&&module.exports&&Voe(t))try{e=Ev._abbr,n=require,n("./locale/"+t),Lc(e)}catch{Hr[t]=null}return Hr[t]}function Lc(t,e){var n;return t&&(Wo(e)?n=Lu(t):n=VI(t,e),n?Ev=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Ev._abbr}function VI(t,e){if(e!==null){var n,r=AW;if(e.abbr=t,Hr[t]!=null)mW("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Hr[t]._config;else if(e.parentLocale!=null)if(Hr[e.parentLocale]!=null)r=Hr[e.parentLocale]._config;else if(n=L0(e.parentLocale),n!=null)r=n._config;else return Vm[e.parentLocale]||(Vm[e.parentLocale]=[]),Vm[e.parentLocale].push({name:t,config:e}),null;return Hr[t]=new OI(FT(r,e)),Vm[t]&&Vm[t].forEach(function(i){VI(i.name,i.config)}),Lc(t),Hr[t]}else return delete Hr[t],null}function Woe(t,e){if(e!=null){var n,r,i=AW;Hr[t]!=null&&Hr[t].parentLocale!=null?Hr[t].set(FT(Hr[t]._config,e)):(r=L0(t),r!=null&&(i=r._config),e=FT(i,e),r==null&&(e.abbr=t),n=new OI(e),n.parentLocale=Hr[t],Hr[t]=n),Lc(t)}else Hr[t]!=null&&(Hr[t].parentLocale!=null?(Hr[t]=Hr[t].parentLocale,t===Lc()&&Lc(t)):Hr[t]!=null&&delete Hr[t]);return Hr[t]}function Lu(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ev;if(!xa(t)){if(e=L0(t),e)return e;t=[t]}return Foe(t)}function Boe(){return VT(Hr)}function WI(t){var e,n=t._a;return n&&un(t).overflow===-2&&(e=n[Ru]<0||n[Ru]>11?Ru:n[El]<1||n[El]>$I(n[oo],n[Ru])?El:n[Si]<0||n[Si]>24||n[Si]===24&&(n[Ea]!==0||n[Eu]!==0||n[ch]!==0)?Si:n[Ea]<0||n[Ea]>59?Ea:n[Eu]<0||n[Eu]>59?Eu:n[ch]<0||n[ch]>999?ch:-1,un(t)._overflowDayOfYear&&(e<oo||e>El)&&(e=El),un(t)._overflowWeeks&&e===-1&&(e=Uie),un(t)._overflowWeekday&&e===-1&&(e=Gie),un(t).overflow=e),t}var joe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zoe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yoe=/Z|[+-]\d\d(?::?\d\d)?/,jC=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],p1=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Uoe=/^\/?Date\((-?\d+)/i,Goe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Koe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function HW(t){var e,n,r=t._i,i=joe.exec(r)||zoe.exec(r),o,s,a,u,c=jC.length,h=p1.length;if(i){for(un(t).iso=!0,e=0,n=c;e<n;e++)if(jC[e][1].exec(i[1])){s=jC[e][0],o=jC[e][2]!==!1;break}if(s==null){t._isValid=!1;return}if(i[3]){for(e=0,n=h;e<n;e++)if(p1[e][1].exec(i[3])){a=(i[2]||" ")+p1[e][0];break}if(a==null){t._isValid=!1;return}}if(!o&&a!=null){t._isValid=!1;return}if(i[4])if(Yoe.exec(i[4]))u="Z";else{t._isValid=!1;return}t._f=s+(a||"")+(u||""),jI(t)}else t._isValid=!1}function qoe(t,e,n,r,i,o){var s=[Xoe(t),RW.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function Xoe(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Zoe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Qoe(t,e,n){if(t){var r=IW.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return un(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Joe(t,e,n){if(t)return Koe[t];if(e)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return o*60+i}function DW(t){var e=Goe.exec(Zoe(t._i)),n;if(e){if(n=qoe(e[4],e[3],e[2],e[5],e[6],e[7]),!Qoe(e[1],n,t))return;t._a=n,t._tzm=Joe(e[8],e[9],e[10]),t._d=Sv.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),un(t).rfc2822=!0}else t._isValid=!1}function ese(t){var e=Uoe.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(HW(t),t._isValid===!1)delete t._isValid;else return;if(DW(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Ze.createFromInputFallback(t)}Ze.createFromInputFallback=Gs("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function og(t,e,n){return t??e??n}function tse(t){var e=new Date(Ze.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function BI(t){var e,n,r=[],i,o,s;if(!t._d){for(i=tse(t),t._w&&t._a[El]==null&&t._a[Ru]==null&&nse(t),t._dayOfYear!=null&&(s=og(t._a[oo],i[oo]),(t._dayOfYear>qp(s)||t._dayOfYear===0)&&(un(t)._overflowDayOfYear=!0),n=Sv(s,0,t._dayOfYear),t._a[Ru]=n.getUTCMonth(),t._a[El]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Si]===24&&t._a[Ea]===0&&t._a[Eu]===0&&t._a[ch]===0&&(t._nextDay=!0,t._a[Si]=0),t._d=(t._useUTC?Sv:loe).apply(null,r),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Si]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(un(t).weekdayMismatch=!0)}}function nse(t){var e,n,r,i,o,s,a,u,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,s=4,n=og(e.GG,t._a[oo],Rv(Ir(),1,4).year),r=og(e.W,1),i=og(e.E,1),(i<1||i>7)&&(u=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,c=Rv(Ir(),o,s),n=og(e.gg,t._a[oo],c.year),r=og(e.w,c.week),e.d!=null?(i=e.d,(i<0||i>6)&&(u=!0)):e.e!=null?(i=e.e+o,(e.e<0||e.e>6)&&(u=!0)):i=o),r<1||r>Ou(n,o,s)?un(t)._overflowWeeks=!0:u!=null?un(t)._overflowWeekday=!0:(a=xW(n,r,i,o,s),t._a[oo]=a.year,t._dayOfYear=a.dayOfYear)}Ze.ISO_8601=function(){};Ze.RFC_2822=function(){};function jI(t){if(t._f===Ze.ISO_8601){HW(t);return}if(t._f===Ze.RFC_2822){DW(t);return}t._a=[],un(t).empty=!0;var e=""+t._i,n,r,i,o,s,a=e.length,u=0,c,h;for(i=pW(t._f,t._locale).match(PI)||[],h=i.length,n=0;n<h;n++)o=i[n],r=(e.match(jie(o,t))||[])[0],r&&(s=e.substr(0,e.indexOf(r)),s.length>0&&un(t).unusedInput.push(s),e=e.slice(e.indexOf(r)+r.length),u+=r.length),Cg[o]?(r?un(t).empty=!1:un(t).unusedTokens.push(o),Yie(o,r,t)):t._strict&&!r&&un(t).unusedTokens.push(o);un(t).charsLeftOver=a-u,e.length>0&&un(t).unusedInput.push(e),t._a[Si]<=12&&un(t).bigHour===!0&&t._a[Si]>0&&(un(t).bigHour=void 0),un(t).parsedDateParts=t._a.slice(0),un(t).meridiem=t._meridiem,t._a[Si]=rse(t._locale,t._a[Si],t._meridiem),c=un(t).era,c!==null&&(t._a[oo]=t._locale.erasConvertYear(c,t._a[oo])),BI(t),WI(t)}function rse(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function ise(t){var e,n,r,i,o,s,a=!1,u=t._f.length;if(u===0){un(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<u;i++)o=0,s=!1,e=II({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],jI(e),xI(e)&&(s=!0),o+=un(e).charsLeftOver,o+=un(e).unusedTokens.length*10,un(e).score=o,a?o<r&&(r=o,n=e):(r==null||o<r||s)&&(r=o,n=e,s&&(a=!0));xc(t,n||e)}function ose(t){if(!t._d){var e=AI(t._i),n=e.day===void 0?e.date:e.day;t._a=fW([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),BI(t)}}function sse(t){var e=new rw(WI(NW(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function NW(t){var e=t._i,n=t._f;return t._locale=t._locale||Lu(t._l),e===null||n===void 0&&e===""?O0({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Ia(e)?new rw(WI(e)):(nw(e)?t._d=e:xa(n)?ise(t):n?jI(t):ase(t),xI(t)||(t._d=null),t))}function ase(t){var e=t._i;Wo(e)?t._d=new Date(Ze.now()):nw(e)?t._d=new Date(e.valueOf()):typeof e=="string"?ese(t):xa(e)?(t._a=fW(e.slice(0),function(n){return parseInt(n,10)}),BI(t)):wh(e)?ose(t):Au(e)?t._d=new Date(e):Ze.createFromInputFallback(t)}function $W(t,e,n,r,i){var o={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(wh(t)&&TI(t)||xa(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,sse(o)}function Ir(t,e,n,r){return $W(t,e,n,r,!1)}var lse=Gs("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ir.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:O0()}),use=Gs("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ir.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:O0()});function LW(t,e){var n,r;if(e.length===1&&xa(e[0])&&(e=e[0]),!e.length)return Ir();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function cse(){var t=[].slice.call(arguments,0);return LW("isBefore",t)}function dse(){var t=[].slice.call(arguments,0);return LW("isAfter",t)}var hse=function(){return Date.now?Date.now():+new Date},Wm=["year","quarter","month","week","day","hour","minute","second","millisecond"];function fse(t){var e,n=!1,r,i=Wm.length;for(e in t)if(Yn(t,e)&&!(si.call(Wm,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[Wm[r]]){if(n)return!1;parseFloat(t[Wm[r]])!==Pn(t[Wm[r]])&&(n=!0)}return!0}function gse(){return this._isValid}function mse(){return Na(NaN)}function k0(t){var e=AI(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,u=e.minute||0,c=e.second||0,h=e.millisecond||0;this._isValid=fse(e),this._milliseconds=+h+c*1e3+u*6e4+a*1e3*60*60,this._days=+s+o*7,this._months=+i+r*3+n*12,this._data={},this._locale=Lu(),this._bubble()}function Tb(t){return t instanceof k0}function BT(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function pse(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),o=0,s;for(s=0;s<r;s++)Pn(t[s])!==Pn(e[s])&&o++;return o+i}function kW(t,e){Ht(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Pl(~~(n/60),2)+e+Pl(~~n%60,2)})}kW("Z",":");kW("ZZ","");yt("Z",N0);yt("ZZ",N0);mr(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=zI(N0,t)});var vse=/([\+\-]|\d\d)/gi;function zI(t,e){var n=(e||"").match(t),r,i,o;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(vse)||["-",0,0],o=+(i[1]*60)+Pn(i[2]),o===0?0:i[0]==="+"?o:-o)}function YI(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Ia(t)||nw(t)?t.valueOf():Ir(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Ze.updateOffset(n,!1),n):Ir(t).local()}function jT(t){return-Math.round(t._d.getTimezoneOffset())}Ze.updateOffset=function(){};function wse(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=zI(N0,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=jT(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?WW(this,Na(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ze.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:jT(this)}function Cse(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function yse(t){return this.utcOffset(0,t)}function bse(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(jT(this),"m")),this}function Sse(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=zI(Wie,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Rse(t){return this.isValid()?(t=t?Ir(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Ese(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _se(){if(!Wo(this._isDSTShifted))return this._isDSTShifted;var t={},e;return II(t,this),t=NW(t),t._a?(e=t._isUTC?kl(t._a):Ir(t._a),this._isDSTShifted=this.isValid()&&pse(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Mse(){return this.isValid()?!this._isUTC:!1}function Tse(){return this.isValid()?this._isUTC:!1}function FW(){return this.isValid()?this._isUTC&&this._offset===0:!1}var xse=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ise=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Na(t,e){var n=t,r=null,i,o,s;return Tb(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Au(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=xse.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:Pn(r[El])*i,h:Pn(r[Si])*i,m:Pn(r[Ea])*i,s:Pn(r[Eu])*i,ms:Pn(BT(r[ch]*1e3))*i}):(r=Ise.exec(t))?(i=r[1]==="-"?-1:1,n={y:Sd(r[2],i),M:Sd(r[3],i),w:Sd(r[4],i),d:Sd(r[5],i),h:Sd(r[6],i),m:Sd(r[7],i),s:Sd(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=Ose(Ir(n.from),Ir(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),o=new k0(n),Tb(t)&&Yn(t,"_locale")&&(o._locale=t._locale),Tb(t)&&Yn(t,"_isValid")&&(o._isValid=t._isValid),o}Na.fn=k0.prototype;Na.invalid=mse;function Sd(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function zN(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ose(t,e){var n;return t.isValid()&&e.isValid()?(e=YI(e,t),t.isBefore(e)?n=zN(t,e):(n=zN(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function VW(t,e){return function(n,r){var i,o;return r!==null&&!isNaN(+r)&&(mW(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=Na(n,r),WW(this,i,t),this}}function WW(t,e,n,r){var i=e._milliseconds,o=BT(e._days),s=BT(e._months);t.isValid()&&(r=r??!0,s&&_W(t,bv(t,"Month")+s*n),o&&SW(t,"Date",bv(t,"Date")+o*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&Ze.updateOffset(t,o||s))}var Pse=VW(1,"add"),Ase=VW(-1,"subtract");function BW(t){return typeof t=="string"||t instanceof String}function Hse(t){return Ia(t)||nw(t)||BW(t)||Au(t)||Nse(t)||Dse(t)||t===null||t===void 0}function Dse(t){var e=wh(t)&&!TI(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,s=r.length;for(i=0;i<s;i+=1)o=r[i],n=n||Yn(t,o);return e&&n}function Nse(t){var e=xa(t),n=!1;return e&&(n=t.filter(function(r){return!Au(r)&&BW(t)}).length===0),e&&n}function $se(t){var e=wh(t)&&!TI(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<r.length;i+=1)o=r[i],n=n||Yn(t,o);return e&&n}function Lse(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function kse(t,e){arguments.length===1&&(arguments[0]?Hse(arguments[0])?(t=arguments[0],e=void 0):$se(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Ir(),r=YI(n,this).startOf("day"),i=Ze.calendarFormat(this,r)||"sameElse",o=e&&(Fl(e[i])?e[i].call(this,n):e[i]);return this.format(o||this.localeData().calendar(i,this,Ir(n)))}function Fse(){return new rw(this)}function Vse(t,e){var n=Ia(t)?t:Ir(t);return this.isValid()&&n.isValid()?(e=Ks(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function Wse(t,e){var n=Ia(t)?t:Ir(t);return this.isValid()&&n.isValid()?(e=Ks(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function Bse(t,e,n,r){var i=Ia(t)?t:Ir(t),o=Ia(e)?e:Ir(e);return this.isValid()&&i.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function jse(t,e){var n=Ia(t)?t:Ir(t),r;return this.isValid()&&n.isValid()?(e=Ks(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function zse(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Yse(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Use(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(r=YI(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=Ks(e),e){case"year":o=xb(this,r)/12;break;case"month":o=xb(this,r);break;case"quarter":o=xb(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Ws(o)}function xb(t,e){if(t.date()<e.date())return-xb(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,o;return e-r<0?(i=t.clone().add(n-1,"months"),o=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),o=(e-r)/(i-r)),-(n+o)||0}Ze.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Ze.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Gse(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Kse(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Mb(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Fl(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Mb(n,"Z")):Mb(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function qse(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(n+r+i+o)}function Xse(t){t||(t=this.isUtc()?Ze.defaultFormatUtc:Ze.defaultFormat);var e=Mb(this,t);return this.localeData().postformat(e)}function Zse(t,e){return this.isValid()&&(Ia(t)&&t.isValid()||Ir(t).isValid())?Na({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Qse(t){return this.from(Ir(),t)}function Jse(t,e){return this.isValid()&&(Ia(t)&&t.isValid()||Ir(t).isValid())?Na({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function eae(t){return this.to(Ir(),t)}function jW(t){var e;return t===void 0?this._locale._abbr:(e=Lu(t),e!=null&&(this._locale=e),this)}var zW=Gs("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function YW(){return this._locale}var cS=1e3,yg=60*cS,dS=60*yg,UW=(365*400+97)*24*dS;function bg(t,e){return(t%e+e)%e}function GW(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-UW:new Date(t,e,n).valueOf()}function KW(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-UW:Date.UTC(t,e,n)}function tae(t){var e,n;if(t=Ks(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?KW:GW,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=bg(e+(this._isUTC?0:this.utcOffset()*yg),dS);break;case"minute":e=this._d.valueOf(),e-=bg(e,yg);break;case"second":e=this._d.valueOf(),e-=bg(e,cS);break}return this._d.setTime(e),Ze.updateOffset(this,!0),this}function nae(t){var e,n;if(t=Ks(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?KW:GW,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=dS-bg(e+(this._isUTC?0:this.utcOffset()*yg),dS)-1;break;case"minute":e=this._d.valueOf(),e+=yg-bg(e,yg)-1;break;case"second":e=this._d.valueOf(),e+=cS-bg(e,cS)-1;break}return this._d.setTime(e),Ze.updateOffset(this,!0),this}function rae(){return this._d.valueOf()-(this._offset||0)*6e4}function iae(){return Math.floor(this.valueOf()/1e3)}function oae(){return new Date(this.valueOf())}function sae(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function aae(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function lae(){return this.isValid()?this.toISOString():null}function uae(){return xI(this)}function cae(){return xc({},un(this))}function dae(){return un(this).overflow}function hae(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ht("N",0,0,"eraAbbr");Ht("NN",0,0,"eraAbbr");Ht("NNN",0,0,"eraAbbr");Ht("NNNN",0,0,"eraName");Ht("NNNNN",0,0,"eraNarrow");Ht("y",["y",1],"yo","eraYear");Ht("y",["yy",2],0,"eraYear");Ht("y",["yyy",3],0,"eraYear");Ht("y",["yyyy",4],0,"eraYear");yt("N",UI);yt("NN",UI);yt("NNN",UI);yt("NNNN",Rae);yt("NNNNN",Eae);mr(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?un(n).era=i:un(n).invalidEra=t});yt("y",Kg);yt("yy",Kg);yt("yyy",Kg);yt("yyyy",Kg);yt("yo",_ae);mr(["y","yy","yyy","yyyy"],oo);mr(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[oo]=n._locale.eraYearOrdinalParse(t,i):e[oo]=parseInt(t,10)});function fae(t,e){var n,r,i,o=this._eras||Lu("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":i=Ze(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=Ze(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function gae(t,e,n){var r,i,o=this.eras(),s,a,u;for(t=t.toUpperCase(),r=0,i=o.length;r<i;++r)if(s=o[r].name.toUpperCase(),a=o[r].abbr.toUpperCase(),u=o[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return o[r];break;case"NNNN":if(s===t)return o[r];break;case"NNNNN":if(u===t)return o[r];break}else if([s,a,u].indexOf(t)>=0)return o[r]}function mae(t,e){var n=t.since<=t.until?1:-1;return e===void 0?Ze(t.since).year():Ze(t.since).year()+(e-t.offset)*n}function pae(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function vae(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function wae(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function Cae(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-Ze(i[t].since).year())*n+i[t].offset;return this.year()}function yae(t){return Yn(this,"_erasNameRegex")||GI.call(this),t?this._erasNameRegex:this._erasRegex}function bae(t){return Yn(this,"_erasAbbrRegex")||GI.call(this),t?this._erasAbbrRegex:this._erasRegex}function Sae(t){return Yn(this,"_erasNarrowRegex")||GI.call(this),t?this._erasNarrowRegex:this._erasRegex}function UI(t,e){return e.erasAbbrRegex(t)}function Rae(t,e){return e.erasNameRegex(t)}function Eae(t,e){return e.erasNarrowRegex(t)}function _ae(t,e){return e._eraYearOrdinalRegex||Kg}function GI(){var t=[],e=[],n=[],r=[],i,o,s,a,u,c=this.eras();for(i=0,o=c.length;i<o;++i)s=Iu(c[i].name),a=Iu(c[i].abbr),u=Iu(c[i].narrow),e.push(s),t.push(a),n.push(u),r.push(s),r.push(a),r.push(u);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Ht(0,["gg",2],0,function(){return this.weekYear()%100});Ht(0,["GG",2],0,function(){return this.isoWeekYear()%100});function F0(t,e){Ht(0,[t,t.length],0,e)}F0("gggg","weekYear");F0("ggggg","weekYear");F0("GGGG","isoWeekYear");F0("GGGGG","isoWeekYear");yt("G",D0);yt("g",D0);yt("GG",Or,ps);yt("gg",Or,ps);yt("GGGG",DI,HI);yt("gggg",DI,HI);yt("GGGGG",H0,P0);yt("ggggg",H0,P0);ow(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Pn(t)});ow(["gg","GG"],function(t,e,n,r){e[r]=Ze.parseTwoDigitYear(t)});function Mae(t){return qW.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Tae(t){return qW.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function xae(){return Ou(this.year(),1,4)}function Iae(){return Ou(this.isoWeekYear(),1,4)}function Oae(){var t=this.localeData()._week;return Ou(this.year(),t.dow,t.doy)}function Pae(){var t=this.localeData()._week;return Ou(this.weekYear(),t.dow,t.doy)}function qW(t,e,n,r,i){var o;return t==null?Rv(this,r,i).year:(o=Ou(t,r,i),e>o&&(e=o),Aae.call(this,t,e,n,r,i))}function Aae(t,e,n,r,i){var o=xW(t,e,n,r,i),s=Sv(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}Ht("Q",0,"Qo","quarter");yt("Q",vW);mr("Q",function(t,e){e[Ru]=(Pn(t)-1)*3});function Hae(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Ht("D",["DD",2],"Do","date");yt("D",Or,qg);yt("DD",Or,ps);yt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});mr(["D","DD"],El);mr("Do",function(t,e){e[El]=Pn(t.match(Or)[0])});var XW=Xg("Date",!0);Ht("DDD",["DDDD",3],"DDDo","dayOfYear");yt("DDD",A0);yt("DDDD",wW);mr(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Pn(t)});function Dae(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Ht("m",["mm",2],0,"minute");yt("m",Or,NI);yt("mm",Or,ps);mr(["m","mm"],Ea);var Nae=Xg("Minutes",!1);Ht("s",["ss",2],0,"second");yt("s",Or,NI);yt("ss",Or,ps);mr(["s","ss"],Eu);var $ae=Xg("Seconds",!1);Ht("S",0,0,function(){return~~(this.millisecond()/100)});Ht(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Ht(0,["SSS",3],0,"millisecond");Ht(0,["SSSS",4],0,function(){return this.millisecond()*10});Ht(0,["SSSSS",5],0,function(){return this.millisecond()*100});Ht(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Ht(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Ht(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Ht(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});yt("S",A0,vW);yt("SS",A0,ps);yt("SSS",A0,wW);var Ic,ZW;for(Ic="SSSS";Ic.length<=9;Ic+="S")yt(Ic,Kg);function Lae(t,e){e[ch]=Pn(("0."+t)*1e3)}for(Ic="S";Ic.length<=9;Ic+="S")mr(Ic,Lae);ZW=Xg("Milliseconds",!1);Ht("z",0,0,"zoneAbbr");Ht("zz",0,0,"zoneName");function kae(){return this._isUTC?"UTC":""}function Fae(){return this._isUTC?"Coordinated Universal Time":""}var rt=rw.prototype;rt.add=Pse;rt.calendar=kse;rt.clone=Fse;rt.diff=Use;rt.endOf=nae;rt.format=Xse;rt.from=Zse;rt.fromNow=Qse;rt.to=Jse;rt.toNow=eae;rt.get=qie;rt.invalidAt=dae;rt.isAfter=Vse;rt.isBefore=Wse;rt.isBetween=Bse;rt.isSame=jse;rt.isSameOrAfter=zse;rt.isSameOrBefore=Yse;rt.isValid=uae;rt.lang=zW;rt.locale=jW;rt.localeData=YW;rt.max=use;rt.min=lse;rt.parsingFlags=cae;rt.set=Xie;rt.startOf=tae;rt.subtract=Ase;rt.toArray=sae;rt.toObject=aae;rt.toDate=oae;rt.toISOString=Kse;rt.inspect=qse;typeof Symbol<"u"&&Symbol.for!=null&&(rt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});rt.toJSON=lae;rt.toString=Gse;rt.unix=iae;rt.valueOf=rae;rt.creationData=hae;rt.eraName=pae;rt.eraNarrow=vae;rt.eraAbbr=wae;rt.eraYear=Cae;rt.year=bW;rt.isLeapYear=Kie;rt.weekYear=Mae;rt.isoWeekYear=Tae;rt.quarter=rt.quarters=Hae;rt.month=MW;rt.daysInMonth=ooe;rt.week=rt.weeks=foe;rt.isoWeek=rt.isoWeeks=goe;rt.weeksInYear=Oae;rt.weeksInWeekYear=Pae;rt.isoWeeksInYear=xae;rt.isoWeeksInISOWeekYear=Iae;rt.date=XW;rt.day=rt.days=Toe;rt.weekday=xoe;rt.isoWeekday=Ioe;rt.dayOfYear=Dae;rt.hour=rt.hours=$oe;rt.minute=rt.minutes=Nae;rt.second=rt.seconds=$ae;rt.millisecond=rt.milliseconds=ZW;rt.utcOffset=wse;rt.utc=yse;rt.local=bse;rt.parseZone=Sse;rt.hasAlignedHourOffset=Rse;rt.isDST=Ese;rt.isLocal=Mse;rt.isUtcOffset=Tse;rt.isUtc=FW;rt.isUTC=FW;rt.zoneAbbr=kae;rt.zoneName=Fae;rt.dates=Gs("dates accessor is deprecated. Use date instead.",XW);rt.months=Gs("months accessor is deprecated. Use month instead",MW);rt.years=Gs("years accessor is deprecated. Use year instead",bW);rt.zone=Gs("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Cse);rt.isDSTShifted=Gs("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_se);function Vae(t){return Ir(t*1e3)}function Wae(){return Ir.apply(null,arguments).parseZone()}function QW(t){return t}var Un=OI.prototype;Un.calendar=Mie;Un.longDateFormat=Oie;Un.invalidDate=Aie;Un.ordinal=Nie;Un.preparse=QW;Un.postformat=QW;Un.relativeTime=Lie;Un.pastFuture=kie;Un.set=Eie;Un.eras=fae;Un.erasParse=gae;Un.erasConvertYear=mae;Un.erasAbbrRegex=bae;Un.erasNameRegex=yae;Un.erasNarrowRegex=Sae;Un.months=toe;Un.monthsShort=noe;Un.monthsParse=ioe;Un.monthsRegex=aoe;Un.monthsShortRegex=soe;Un.week=uoe;Un.firstDayOfYear=hoe;Un.firstDayOfWeek=doe;Un.weekdays=Soe;Un.weekdaysMin=Eoe;Un.weekdaysShort=Roe;Un.weekdaysParse=Moe;Un.weekdaysRegex=Ooe;Un.weekdaysShortRegex=Poe;Un.weekdaysMinRegex=Aoe;Un.isPM=Doe;Un.meridiem=Loe;function hS(t,e,n,r){var i=Lu(),o=kl().set(r,e);return i[n](o,t)}function JW(t,e,n){if(Au(t)&&(e=t,t=void 0),t=t||"",e!=null)return hS(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=hS(t,r,n,"month");return i}function KI(t,e,n,r){typeof t=="boolean"?(Au(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Au(e)&&(n=e,e=void 0),e=e||"");var i=Lu(),o=t?i._week.dow:0,s,a=[];if(n!=null)return hS(e,(n+o)%7,r,"day");for(s=0;s<7;s++)a[s]=hS(e,(s+o)%7,r,"day");return a}function Bae(t,e){return JW(t,e,"months")}function jae(t,e){return JW(t,e,"monthsShort")}function zae(t,e,n){return KI(t,e,n,"weekdays")}function Yae(t,e,n){return KI(t,e,n,"weekdaysShort")}function Uae(t,e,n){return KI(t,e,n,"weekdaysMin")}Lc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Pn(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});Ze.lang=Gs("moment.lang is deprecated. Use moment.locale instead.",Lc);Ze.langData=Gs("moment.langData is deprecated. Use moment.localeData instead.",Lu);var tu=Math.abs;function Gae(){var t=this._data;return this._milliseconds=tu(this._milliseconds),this._days=tu(this._days),this._months=tu(this._months),t.milliseconds=tu(t.milliseconds),t.seconds=tu(t.seconds),t.minutes=tu(t.minutes),t.hours=tu(t.hours),t.months=tu(t.months),t.years=tu(t.years),this}function eB(t,e,n,r){var i=Na(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function Kae(t,e){return eB(this,t,e,1)}function qae(t,e){return eB(this,t,e,-1)}function YN(t){return t<0?Math.floor(t):Math.ceil(t)}function Xae(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,o,s,a,u;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=YN(zT(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Ws(t/1e3),r.seconds=i%60,o=Ws(i/60),r.minutes=o%60,s=Ws(o/60),r.hours=s%24,e+=Ws(s/24),u=Ws(tB(e)),n+=u,e-=YN(zT(u)),a=Ws(n/12),n%=12,r.days=e,r.months=n,r.years=a,this}function tB(t){return t*4800/146097}function zT(t){return t*146097/4800}function Zae(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=Ks(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+tB(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(zT(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function ku(t){return function(){return this.as(t)}}var nB=ku("ms"),Qae=ku("s"),Jae=ku("m"),ele=ku("h"),tle=ku("d"),nle=ku("w"),rle=ku("M"),ile=ku("Q"),ole=ku("y"),sle=nB;function ale(){return Na(this)}function lle(t){return t=Ks(t),this.isValid()?this[t+"s"]():NaN}function Bh(t){return function(){return this.isValid()?this._data[t]:NaN}}var ule=Bh("milliseconds"),cle=Bh("seconds"),dle=Bh("minutes"),hle=Bh("hours"),fle=Bh("days"),gle=Bh("months"),mle=Bh("years");function ple(){return Ws(this.days()/7)}var vu=Math.round,fg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function vle(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function wle(t,e,n,r){var i=Na(t).abs(),o=vu(i.as("s")),s=vu(i.as("m")),a=vu(i.as("h")),u=vu(i.as("d")),c=vu(i.as("M")),h=vu(i.as("w")),g=vu(i.as("y")),p=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||u<=1&&["d"]||u<n.d&&["dd",u];return n.w!=null&&(p=p||h<=1&&["w"]||h<n.w&&["ww",h]),p=p||c<=1&&["M"]||c<n.M&&["MM",c]||g<=1&&["y"]||["yy",g],p[2]=e,p[3]=+t>0,p[4]=r,vle.apply(null,p)}function Cle(t){return t===void 0?vu:typeof t=="function"?(vu=t,!0):!1}function yle(t,e){return fg[t]===void 0?!1:e===void 0?fg[t]:(fg[t]=e,t==="s"&&(fg.ss=e-1),!0)}function ble(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=fg,i,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},fg,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),o=wle(this,!n,r,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var v1=Math.abs;function Sf(t){return(t>0)-(t<0)||+t}function V0(){if(!this.isValid())return this.localeData().invalidDate();var t=v1(this._milliseconds)/1e3,e=v1(this._days),n=v1(this._months),r,i,o,s,a=this.asSeconds(),u,c,h,g;return a?(r=Ws(t/60),i=Ws(r/60),t%=60,r%=60,o=Ws(n/12),n%=12,s=t?t.toFixed(3).replace(/\.?0+$/,""):"",u=a<0?"-":"",c=Sf(this._months)!==Sf(a)?"-":"",h=Sf(this._days)!==Sf(a)?"-":"",g=Sf(this._milliseconds)!==Sf(a)?"-":"",u+"P"+(o?c+o+"Y":"")+(n?c+n+"M":"")+(e?h+e+"D":"")+(i||r||t?"T":"")+(i?g+i+"H":"")+(r?g+r+"M":"")+(t?g+s+"S":"")):"P0D"}var Wn=k0.prototype;Wn.isValid=gse;Wn.abs=Gae;Wn.add=Kae;Wn.subtract=qae;Wn.as=Zae;Wn.asMilliseconds=nB;Wn.asSeconds=Qae;Wn.asMinutes=Jae;Wn.asHours=ele;Wn.asDays=tle;Wn.asWeeks=nle;Wn.asMonths=rle;Wn.asQuarters=ile;Wn.asYears=ole;Wn.valueOf=sle;Wn._bubble=Xae;Wn.clone=ale;Wn.get=lle;Wn.milliseconds=ule;Wn.seconds=cle;Wn.minutes=dle;Wn.hours=hle;Wn.days=fle;Wn.weeks=ple;Wn.months=gle;Wn.years=mle;Wn.humanize=ble;Wn.toISOString=V0;Wn.toString=V0;Wn.toJSON=V0;Wn.locale=jW;Wn.localeData=YW;Wn.toIsoString=Gs("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",V0);Wn.lang=zW;Ht("X",0,0,"unix");Ht("x",0,0,"valueOf");yt("x",D0);yt("X",Bie);mr("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});mr("x",function(t,e,n){n._d=new Date(Pn(t))});//! moment.js
Ze.version="2.30.1";Sie(Ir);Ze.fn=rt;Ze.min=cse;Ze.max=dse;Ze.now=hse;Ze.utc=kl;Ze.unix=Vae;Ze.months=Bae;Ze.isDate=nw;Ze.locale=Lc;Ze.invalid=O0;Ze.duration=Na;Ze.isMoment=Ia;Ze.weekdays=zae;Ze.parseZone=Wae;Ze.localeData=Lu;Ze.isDuration=Tb;Ze.monthsShort=jae;Ze.weekdaysMin=Uae;Ze.defineLocale=VI;Ze.updateLocale=Woe;Ze.locales=Boe;Ze.weekdaysShort=Yae;Ze.normalizeUnits=Ks;Ze.relativeTimeRounding=Cle;Ze.relativeTimeThreshold=yle;Ze.calendarFormat=Lse;Ze.prototype=rt;Ze.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function Sle(t){const e=t.length;let n=0;for(;n<e;)t[n]=[t[n]],n+=1}function UN(t,e){const n=e.length;let r=0;for(;r<n;)t.push(e[r]),r+=1}function Ib(t){const e=[];if(!t||t.length===0||!t[0]||t[0].length===0)return e;const n=t.length,r=t[0].length;for(let i=0;i<n;i++)for(let o=0;o<r;o++)e[o]||(e[o]=[]),e[o][i]=t[i][o];return e}function Eo(t,e,n,r){let i=-1,o=t,s=n;Array.isArray(t)||(o=Array.from(t));const a=o.length;for(i+=1;i<a;)s=e(s,o[i],i,o),i+=1;return s}function jc(t,e){let n=0,r=t;Array.isArray(t)||(r=Array.from(t));const i=r.length,o=[];let s=-1;for(;n<i;){const a=r[n];e(a,n,r)&&(s+=1,o[s]=a),n+=1}return o}function _n(t,e){let n=0,r=t;Array.isArray(t)||(r=Array.from(t));const i=r.length,o=[];let s=-1;for(;n<i;){const a=r[n];s+=1,o[s]=e(a,n,r),n+=1}return o}function ye(t,e){let n=0,r=t;Array.isArray(t)||(r=Array.from(t));const i=r.length;for(;n<i&&e(r[n],n,r)!==!1;)n+=1;return t}function rB(t){const e=[];return ye(t,n=>{e.indexOf(n)===-1&&e.push(n)}),e}function GN(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,...i]=[...e];let o=r;return ye(i,s=>{o=o.filter(a=>!s.includes(a))}),o}function KN(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ";return t.split(e)}function tr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Eo(t,(o,s,a)=>{const u=s.replace(/\r?\n\s*/g,""),c=n[a]?n[a]:"";return o+u+c},"").trim()}function ai(t){let e;switch(typeof t){case"string":case"number":e=`${t}`;break;case"object":e=t===null?"":t.toString();break;case"undefined":e="";break;default:e=t.toString();break}return e}function Ct(t){return typeof t<"u"}function Sr(t){return typeof t>"u"}function ei(t){return t===null||t===""||Sr(t)}function Rle(t){return Object.prototype.toString.call(t)==="[object RegExp]"}const Bp="length",Xp=t=>parseInt(t,16),qN=t=>parseInt(t,10),fS=(t,e,n)=>t.substr(e,n),Zp=t=>t.codePointAt(0)-65,YT=t=>`${t}`.replace(/\-/g,""),Ele=t=>Xp(fS(YT(t),Xp("12"),Zp("F")))/(Xp(fS(YT(t),Zp("B"),~~![][Bp]))||9),_le=()=>typeof location<"u"&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host);let XN=!1;const ZN={invalid:()=>tr`
    The license key for Handsontable is invalid.\x20
    If you need any help, contact us at support@handsontable.com.`,expired:t=>{let{keyValidityDate:e,hotVersion:n}=t;return tr`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${n}. Renew your license key at handsontable.com or downgrade to a version released prior\x20
    to ${e}. If you need any help, contact us at sales@handsontable.com.`},missing:()=>tr`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\x20
    us at support@handsontable.com.`,non_commercial:()=>""},QN={invalid:()=>tr`
    The license key for Handsontable is invalid.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\x20
    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,expired:t=>{let{keyValidityDate:e,hotVersion:n}=t;return tr`
    The license key for Handsontable expired on ${e}, and is not valid for the installed\x20
    version ${n}. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\x20
    license key or downgrade to a version released prior to ${e}. If you need any\x20
    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.`},missing:()=>tr`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\x20
    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,non_commercial:()=>""};function Mle(t,e){const n=!ei(t),r=typeof t=="string"&&t.toLowerCase()==="non-commercial-and-evaluation",i="14.6.1";let o,s="invalid",a="invalid";t=YT(t||"");const u=Tle(t);if(n||r||u)if(u){const c=Ze("17/10/2024","DD/MM/YYYY"),h=Math.floor(c.toDate().getTime()/864e5),g=Ele(t);o=Ze((g+1)*864e5,"x").format("MMMM DD, YYYY"),h>g?(s="expired",a="expired"):(s="valid",a="valid")}else r?(s="non_commercial",a="valid"):(s="invalid",a="invalid");else s="missing",a="missing";if(_le()&&(s="valid",a="valid"),!XN&&s!=="valid"&&(ZN[s]({keyValidityDate:o,hotVersion:i})&&console[s==="non_commercial"?"info":"warn"](ZN[s]({keyValidityDate:o,hotVersion:i})),XN=!0),a!=="valid"&&e.parentNode&&QN[a]({keyValidityDate:o,hotVersion:i})){const h=document.createElement("div");h.className="hot-display-license-info",h.innerHTML=QN[a]({keyValidityDate:o,hotVersion:i}),e.parentNode.insertBefore(h,e.nextSibling)}}function Tle(t){let e=[][Bp],n=e;if(t[Bp]!==Zp("Z"))return!1;for(let r="",i="B<H4P+".split(""),o=Zp(i.shift());o;o=Zp(i.shift()||"A"))--o<""[Bp]?n=n|(qN(`${qN(Xp(r)+(Xp(fS(t,Math.abs(o),2))+[]).padStart(2,"0"))}`)%97||2)>>1:r=fS(t,o,o?i[Bp]===1?9:8:6);return n===e}function Oa(t){return t[0].toUpperCase()+t.substr(1)}function iB(){function t(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return t()+t()+t()+t()}function oB(t){return/^([0-9][0-9]?%$)|(^100%$)/.test(t)}function sB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return`${t}`.replace(/(?:\\)?\[([^[\]]+)]/g,(n,r)=>n.charAt(0)==="\\"?n.substr(1,n.length-1):e[r]===void 0?"":e[r])}function JN(t){return qI(`${t}`,{ALLOWED_TAGS:[]})}function qI(t,e){return bie.sanitize(t,e)}const Zg=t=>["tabindex",t],xle=()=>["role","treegrid"],xl=()=>["role","presentation"],Ile=()=>["role","gridcell"],Ole=()=>["role","rowheader"],aB=()=>["role","rowgroup"],Ple=()=>["role","columnheader"],UT=()=>["role","row"],Ale=()=>["role","menu"],Hle=()=>["role","menuitem"],Dle=()=>["role","menuitemcheckbox"],Nle=()=>["role","combobox"],lB=()=>["role","listbox"],$le=()=>["role","option"],Lle=()=>["role","checkbox"],kle=()=>["scope","col"],Fle=()=>["scope","row"],Vle=()=>["type","text"],gS=t=>["aria-label",t],jh=()=>["aria-hidden","true"],Wle=()=>["aria-disabled","true"],Ble=()=>["aria-multiselectable","true"],uB=t=>["aria-haspopup",t],cB=t=>["aria-rowcount",t],W0=t=>["aria-colcount",t],dB=t=>["aria-rowindex",t],XI=t=>["aria-colindex",t],zs=t=>["aria-expanded",t],jle=t=>["aria-sort",t],e$=()=>["aria-readonly","true"],t$=()=>["aria-invalid","true"],hB=t=>["aria-checked",t],ZI=()=>["aria-selected","true"],zle=()=>["aria-autocomplete","list"],Yle=t=>["aria-controls",t],Ule=t=>["aria-activedescendant",t],Gle=t=>["aria-live",t],Kle=t=>["aria-relevant",t],qle=t=>["aria-setsize",t],Xle=t=>["aria-posinset",t];function Zle(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=null,i=t;for(;i!==null;){if(n===e){r=i;break}i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:(n+=1,i=i.parentNode)}return r}function Qle(t,e){const n=t.closest(".handsontable");return!!n&&(n.parentNode===e||n===e)}function Jle(t){return Object.getPrototypeOf(t.parent)&&t.frameElement}function Ig(t){return Jle(t)&&t.parent}function Sh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;const{ELEMENT_NODE:r,DOCUMENT_FRAGMENT_NODE:i}=Node;let o=t;for(;o!=null&&o!==n;){const{nodeType:s,nodeName:a}=o;if(s===r&&(e.includes(a)||e.includes(o)))return o;const{host:u}=o;u&&s===i?o=u:o=o.parentNode}return null}function zC(t,e,n){const r=[];let i=t;for(;i&&(i=Sh(i,e,n),!(!i||n&&!n.contains(i)));)r.push(i),i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:i=i.parentNode;const o=r.length;return o?r[o-1]:null}function Ch(t,e){let n=t.parentNode,r=[];for(typeof e=="string"?t.defaultView?r=Array.prototype.slice.call(t.querySelectorAll(e),0):r=Array.prototype.slice.call(t.ownerDocument.querySelectorAll(e),0):r.push(e);n!==null;){if(r.indexOf(n)>-1)return!0;n=n.parentNode}return!1}function eue(t){let e=0,n=t;if(n.previousSibling)for(;n=n.previousSibling;)e+=1;return e}function Rd(t,e,n){const r=n.parentElement.querySelector(`.ht_clone_${t}`);return r?r.contains(e):null}function fB(t){return!t||!t.length?[]:t.filter(e=>!!e)}function gB(t,e){if(!t||!t.length)return{regexFree:[],regexes:[]};const n=[],r=[];return r.push(...t.filter(i=>{const o=i instanceof RegExp;return o&&e&&n.push(i),!o})),{regexFree:r,regexes:n}}function Ft(t,e){return t.classList===void 0||typeof e!="string"||e===""?!1:t.classList.contains(e)}function Qe(t,e){typeof e=="string"&&(e=e.split(" ")),e=fB(e),e.length>0&&t.classList.add(...e)}function Zt(t,e){typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);let{regexFree:n,regexes:r}=gB(e,!0);n=fB(n),n.length>0&&t.classList.remove(...n),r.forEach(i=>{t.classList.forEach(o=>{i.test(o)&&t.classList.remove(o)})})}function Lt(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;Array.isArray(e)||(e=[[e,n]]),e.forEach(r=>{Array.isArray(r)&&r[0]!==""&&t.setAttribute(...r)})}function Qg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];typeof e=="string"?e=e.split(" "):e instanceof RegExp&&(e=[e]);const{regexFree:n,regexes:r}=gB(e,!0);n.forEach(i=>{i!==""&&t.removeAttribute(i)}),r.forEach(i=>{t.getAttributeNames().forEach(o=>{i.test(o)&&t.removeAttribute(o)})})}function mB(t){if(t.nodeType===3)t.parentNode.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1){const e=t.childNodes;for(let n=e.length-1;n>=0;n--)mB(e[n])}}function Al(t){let e;for(;e=t.lastChild;)t.removeChild(e)}const tue=/(<(.*)>|&(.*);)/;function Jg(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;tue.test(e)?t.innerHTML=n?qI(e):e:Rh(t,e)}function Rh(t,e){const n=t.firstChild;n&&n.nodeType===3&&n.nextSibling===null?n.textContent=e:(Al(t),t.appendChild(t.ownerDocument.createTextNode(e)))}function Og(t){const e=t.ownerDocument.documentElement;let n=t;for(;n!==e;){if(n===null)return!1;if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE)if(n.host){if(n.host.impl)return Og(n.host.impl);if(n.host)return Og(n.host);throw new Error("Lost in Web Components world")}else return!1;else if(Hu(n).display==="none")return!1;n=n.parentNode}return!0}function Hi(t){const e=t.ownerDocument,n=e.defaultView,r=e.documentElement;let i=t,o,s,a;for(o=i.offsetLeft,s=i.offsetTop,a=i;(i=i.offsetParent)&&!(i===e.body||!("offsetLeft"in i));)o+=i.offsetLeft,s+=i.offsetTop,a=i;return a&&a.style.position==="fixed"&&(o+=n.pageXOffset||r.scrollLeft,s+=n.pageYOffset||r.scrollTop),{left:o,top:s}}function pB(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollY}function QI(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).scrollX}function JI(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?pB(e):t.scrollTop}function vB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t===e?QI(e):t.scrollLeft}function mS(t){let e=t.ownerDocument,n=e?e.defaultView:void 0;e||(e=t.document?t.document:t,n=e.defaultView);const r=["auto","scroll"];let i=t.parentNode;for(;i&&i.style&&e.body!==i;){let{overflow:o,overflowX:s,overflowY:a}=i.style;if([o,s,a].includes("scroll"))return i;if({overflow:o,overflowX:s,overflowY:a}=n.getComputedStyle(i),r.includes(o)||r.includes(s)||r.includes(a)||i.clientHeight<=i.scrollHeight+1&&(r.includes(a)||r.includes(o))||i.clientWidth<=i.scrollWidth+1&&(r.includes(s)||r.includes(o)))return i;i=i.parentNode}return n}function nue(t){return t.scrollHeight-t.clientHeight}function rue(t){return t.scrollWidth-t.clientWidth}function Pg(t){const e=t.ownerDocument,n=e.defaultView;let r=t.parentNode;for(;r&&r.style&&e.body!==r;){if(r.style.overflow!=="visible"&&r.style.overflow!=="")return r;const i=Hu(r,n),o=["scroll","hidden","auto"],s=i.getPropertyValue("overflow"),a=i.getPropertyValue("overflow-y"),u=i.getPropertyValue("overflow-x");if(o.includes(s)||o.includes(a)||o.includes(u))return r;r=r.parentNode}return n}function _v(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window;if(t){if(t===n)return e==="width"?`${n.innerWidth}px`:e==="height"?`${n.innerHeight}px`:void 0}else return;const r=t.style[e];if(r!==""&&r!==void 0)return r;const i=Hu(t,n);if(i[e]!==""&&i[e]!==void 0)return i[e]}function Hu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return t.currentStyle||e.getComputedStyle(t)}function Rr(t){return t.offsetWidth}function li(t){return t.offsetHeight}function gg(t){return t.clientHeight||t.innerHeight}function wB(t){return t.clientWidth||t.innerWidth}function CB(t){return t.selectionStart?t.selectionStart:0}function iue(t){return t.selectionEnd?t.selectionEnd:0}function n$(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;t.getSelection&&(t.getSelection().empty?t.getSelection().empty():t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges())}function B0(t,e,n){if(n===void 0&&(n=e),t.setSelectionRange){t.focus();try{t.setSelectionRange(e,n)}catch{const i=t.parentNode,o=i.style.display;i.style.display="block",t.setSelectionRange(e,n),i.style.display=o}}}let w1;function oue(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;const e=t.createElement("div");e.style.height="200px",e.style.width="100%";const n=t.createElement("div");n.style.boxSizing="content-box",n.style.height="150px",n.style.left="0px",n.style.overflow="hidden",n.style.position="absolute",n.style.top="0px",n.style.width="200px",n.style.visibility="hidden",n.appendChild(e),(t.body||t.documentElement).appendChild(n);const r=e.offsetWidth;n.style.overflow="scroll";let i=e.offsetWidth;return r===i&&(i=n.clientWidth),(t.body||t.documentElement).removeChild(n),r-i}function Di(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return w1===void 0&&(w1=oue(t)),w1}function sue(t){return t.offsetWidth!==t.clientWidth}function aue(t){return t.offsetHeight!==t.clientHeight}function eO(t,e,n){t.style.transform=`translate3d(${e},${n},0)`}function j0(t){t.style.transform&&t.style.transform!==""&&(t.style.transform="")}function Ob(t){return t&&(["INPUT","SELECT","TEXTAREA"].indexOf(t.nodeName)>-1||t.contentEditable==="true")}function yB(t){return Ob(t)&&t.hasAttribute("data-hot-input")===!1}function bB(t){return!t.parentNode}function lue(t,e){new IntersectionObserver((r,i)=>{r.forEach(o=>{o.isIntersecting&&t.offsetParent!==null&&(e(),i.unobserve(t))})},{root:t.ownerDocument.body}).observe(t)}function SB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=t.ownerDocument,i=r.createRange(),o=r.defaultView.getSelection();Lt(t,"contenteditable",!0),n&&Lt(t,...jh()),e&&Qe(t,"invisibleSelection"),i.selectNodeContents(t),o.removeAllRanges(),o.addRange(i)}function RB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=t.ownerDocument.defaultView.getSelection();t.hasAttribute("aria-hidden")&&t.removeAttribute("aria-hidden"),n.removeAllRanges(),e&&Zt(t,"invisibleSelection"),t.removeAttribute("contenteditable")}function uue(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;SB(t,n),e(),RB(t,n)}function br(t){return typeof t=="function"}function tO(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,n=null,r;function i(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return n&&clearTimeout(n),n=setTimeout(()=>{r=t.apply(this,s)},e),r}return i}function EB(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t.apply(this,n.concat(s))}}function cue(t){const e=t.length;function n(r){return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const u=r.concat(s);let c;return u.length>=e?c=t.apply(this,u):c=n(u),c}}return n([])}function GT(t,e,n,r,i,o,s,a){return Ct(a)?t.call(e,n,r,i,o,s,a):Ct(s)?t.call(e,n,r,i,o,s):Ct(o)?t.call(e,n,r,i,o):Ct(i)?t.call(e,n,r,i):Ct(r)?t.call(e,n,r):Ct(n)?t.call(e,n):t.call(e)}var due=gi,r$=Y2,hue=zi,i$=$h,fue=I0,o$=due([].push),gue=function(t){if(hue(t))return t;if(r$(t)){for(var e=t.length,n=[],r=0;r<e;r++){var i=t[r];typeof i=="string"?o$(n,i):(typeof i=="number"||i$(i)==="Number"||i$(i)==="String")&&o$(n,fue(i))}var o=n.length,s=!0;return function(a,u){if(s)return s=!1,u;if(r$(this))return u;for(var c=0;c<o;c++)if(n[c]===a)return u}}},mue=Yi,_B=Gg,MB=x0,pue=Da,sw=gi,TB=Ko,s$=zi,a$=hI,xB=_I,vue=gue,wue=dI,Cue=String,kc=_B("JSON","stringify"),YC=sw(/./.exec),l$=sw("".charAt),yue=sw("".charCodeAt),bue=sw("".replace),Sue=sw(1 .toString),Rue=/[\uD800-\uDFFF]/g,u$=/^[\uD800-\uDBFF]$/,c$=/^[\uDC00-\uDFFF]$/,d$=!wue||TB(function(){var t=_B("Symbol")("stringify detection");return kc([t])!=="[null]"||kc({a:t})!=="{}"||kc(Object(t))!=="{}"}),h$=TB(function(){return kc("\uDF06\uD834")!=='"\\udf06\\ud834"'||kc("\uDEAD")!=='"\\udead"'}),Eue=function(t,e){var n=xB(arguments),r=vue(e);if(!(!s$(r)&&(t===void 0||a$(t))))return n[1]=function(i,o){if(s$(r)&&(o=pue(r,this,Cue(i),o)),!a$(o))return o},MB(kc,null,n)},_ue=function(t,e,n){var r=l$(n,e-1),i=l$(n,e+1);return YC(u$,t)&&!YC(c$,i)||YC(c$,t)&&!YC(u$,r)?"\\u"+Sue(yue(t,0),16):t};kc&&mue({target:"JSON",stat:!0,arity:3,forced:d$||h$},{stringify:function(e,n,r){var i=xB(arguments),o=MB(d$?Eue:kc,null,i);return h$&&typeof o=="string"?bue(o,Rue,_ue):o}});function Mv(t){let e;return Array.isArray(t)?e=t.length?new Array(t.length).fill(null):[]:(e={},hn(t,(n,r)=>{r!=="__children"&&(n&&typeof n=="object"&&!Array.isArray(n)?e[r]=Mv(n):Array.isArray(n)?n.length&&typeof n[0]=="object"&&!Array.isArray(n[0])?e[r]=[Mv(n[0])]:e[r]=[]:e[r]=null)})),e}function Vl(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t}function fi(t,e,n){const r=Array.isArray(n);return hn(e,(i,o)=>{(r===!1||n.includes(o))&&(t[o]=i)}),t}function z0(t,e){hn(e,(n,r)=>{e[r]&&typeof e[r]=="object"?(t[r]||(Array.isArray(e[r])?t[r]=[]:Object.prototype.toString.call(e[r])==="[object Date]"?t[r]=e[r]:t[r]={}),z0(t[r],e[r])):t[r]=e[r]})}function Ro(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function Hl(t){const e={};return hn(t,(n,r)=>{e[r]=n}),e}function lr(t){t.MIXINS||(t.MIXINS=[]);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ye(n,i=>{t.MIXINS.push(i.MIXIN_NAME),hn(i,(o,s)=>{if(t.prototype[s]!==void 0)throw new Error(`Mixin conflict. Property '${s}' already exist and cannot be overwritten.`);if(typeof o=="function")t.prototype[s]=o;else{const a=function(h,g){const p=`_${h}`,v=y=>{let R=y;return(Array.isArray(R)||dn(R))&&(R=Ro(R)),R};return function(){return this[p]===void 0&&(this[p]=v(g)),this[p]}},u=function(h){const g=`_${h}`;return function(p){this[g]=p}};Object.defineProperty(t.prototype,s,{get:a(s,o),set:u(s),configurable:!0})}})}),t}function nO(t,e){return JSON.stringify(t)===JSON.stringify(e)}function dn(t){return Object.prototype.toString.call(t)==="[object Object]"}function Fu(t,e,n,r){r.value=n,r.writable=r.writable!==!1,r.enumerable=r.enumerable!==!1,r.configurable=r.configurable!==!1,Object.defineProperty(t,e,r)}function hn(t,e){for(const n in t)if((!t.hasOwnProperty||t.hasOwnProperty&&Object.prototype.hasOwnProperty.call(t,n))&&e(t[n],n,t)===!1)break;return t}function Mue(t,e){const n=e.split(".");let r=t;return hn(n,i=>{if(r=r[i],r===void 0)return r=void 0,!1}),r}function C1(t,e,n){const r=e.split(".");let i=t;r.forEach((o,s)=>{s!==r.length-1?(Yr(i,o)||(i[o]={}),i=i[o]):i[o]=n})}function rO(t){if(!dn(t))return 0;const e=function(n){let r=0;return dn(n)?hn(n,(i,o)=>{o!=="__children"&&(r+=e(i))}):r+=1,r};return e(t)}function _a(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value";const n=`_${e}`,r={_touched:!1,[n]:t,isTouched(){return this._touched}};return Object.defineProperty(r,e,{get(){return this[n]},set(i){this._touched=!0,this[n]=i},enumerable:!0,configurable:!0}),r}function Yr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function iO(t){return window.requestAnimationFrame(t)}function pS(t){window.cancelAnimationFrame(t)}function IB(){return"ontouchstart"in window}function Tue(){return typeof window<"u"}let Rf;function xue(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Rf||(typeof Intl=="object"?Rf=new Intl.Collator(t,e).compare:typeof String.prototype.localeCompare=="function"?Rf=(n,r)=>`${n}`.localeCompare(r):Rf=(n,r)=>n===r?0:n>r?-1:1,Rf)}const $s=t=>{const e={value:!1};return e.test=(n,r)=>{e.value=t(n,r)},e},Qc={chrome:$s((t,e)=>/Chrome/.test(t)&&/Google/.test(e)),chromeWebKit:$s(t=>/CriOS/.test(t)),edge:$s(t=>/Edge/.test(t)),edgeWebKit:$s(t=>/EdgiOS/.test(t)),firefox:$s(t=>/Firefox/.test(t)),firefoxWebKit:$s(t=>/FxiOS/.test(t)),mobile:$s(t=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)),safari:$s((t,e)=>/Safari/.test(t)&&/Apple Computer/.test(e))},aw={mac:$s(t=>/^Mac/.test(t)),win:$s(t=>/^Win/.test(t)),linux:$s(t=>/^Linux/.test(t)),ios:$s(t=>/iPhone|iPad|iPod/i.test(t))};function Iue(){let{userAgent:t=navigator.userAgent,vendor:e=navigator.vendor}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};hn(Qc,n=>{let{test:r}=n;return void r(t,e)})}function Oue(){let{platform:t=navigator.platform}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};hn(aw,e=>{let{test:n}=e;return void n(t)})}Tue()&&(Iue(),Oue());function OB(){return Qc.chrome.value}function Pue(){return Qc.chromeWebKit.value}function y1(){return Qc.firefox.value}function Aue(){return Qc.firefoxWebKit.value}function PB(){return Qc.safari.value}function Hue(){return Qc.edge.value}function Oc(){return Qc.mobile.value}function AB(){return aw.ios.value}function HB(){let{maxTouchPoints:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator;return t>2&&aw.mac.value}function f$(){return aw.win.value}function KT(){return aw.mac.value}const Pt={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:y1()?182:174,AUDIO_MUTE:y1()?181:173,AUDIO_UP:y1()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},Due=[Pt.ALT,Pt.ARROW_DOWN,Pt.ARROW_LEFT,Pt.ARROW_RIGHT,Pt.ARROW_UP,Pt.AUDIO_DOWN,Pt.AUDIO_MUTE,Pt.AUDIO_UP,Pt.BACKSPACE,Pt.CAPS_LOCK,Pt.DELETE,Pt.END,Pt.ENTER,Pt.ESCAPE,Pt.F1,Pt.F2,Pt.F3,Pt.F4,Pt.F5,Pt.F6,Pt.F7,Pt.F8,Pt.F9,Pt.F10,Pt.F11,Pt.F12,Pt.F13,Pt.F14,Pt.F15,Pt.F16,Pt.F17,Pt.F18,Pt.F19,Pt.HOME,Pt.INSERT,Pt.MEDIA_NEXT,Pt.MEDIA_PLAY_PAUSE,Pt.MEDIA_PREV,Pt.MEDIA_STOP,Pt.NULL,Pt.NUM_LOCK,Pt.PAGE_DOWN,Pt.PAGE_UP,Pt.PAUSE,Pt.SCROLL_LOCK,Pt.SHIFT,Pt.TAB];function Nue(t){return t===32||t>=48&&t<=57||t>=96&&t<=111||t>=186&&t<=192||t>=219&&t<=222||t>=226||t>=65&&t<=90}function DB(t){return Due.includes(t)}function $ue(t){return[Pt.CONTROL,Pt.COMMAND_LEFT,Pt.COMMAND_RIGHT,Pt.COMMAND_FIREFOX].includes(t)}function lw(t,e){const n=e.split("|");let r=!1;return ye(n,i=>{if(t===Pt[i])return r=!0,!1}),r}function $a(t){t.isImmediatePropagationEnabled=!1,t.cancelBubble=!0}function uh(t){return t.isImmediatePropagationEnabled===!1}function Eh(t){return t.button===2}function oO(t){return t.button===0}function Lue(t){return t instanceof TouchEvent}function kue(t,e){const n={x:t.offsetX,y:t.offsetY};let r=t.target;if(!(e instanceof HTMLElement)||r!==e&&r.contains(e))return n;for(;r!==e;)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;return n}var NB={},Fue=H2,Vue=CI,Wue=Object.keys||function(e){return Fue(e,Vue)},Bue=Ha,jue=M2,zue=Zc,Yue=$u,Uue=R0,Gue=Wue;NB.f=Bue&&!jue?Object.defineProperties:function(e,n){Yue(e);for(var r=Uue(n),i=Gue(n),o=i.length,s=0,a;o>s;)zue.f(e,a=i[s++],r[a]);return e};var Kue=$u,que=NB,g$=CI,Xue=vI,Zue=rW,Que=mI,Jue=I2,m$=">",p$="<",qT="prototype",XT="script",$B=Jue("IE_PROTO"),b1=function(){},LB=function(t){return p$+XT+m$+t+p$+"/"+XT+m$},v$=function(t){t.write(LB("")),t.close();var e=t.parentWindow.Object;return t=null,e},ece=function(){var t=Que("iframe"),e="java"+XT+":",n;return t.style.display="none",Zue.appendChild(t),t.src=String(e),n=t.contentWindow.document,n.open(),n.write(LB("document.F=Object")),n.close(),n.F},UC,Pb=function(){try{UC=new ActiveXObject("htmlfile")}catch{}Pb=typeof document<"u"?document.domain&&UC?v$(UC):ece():v$(UC);for(var t=g$.length;t--;)delete Pb[qT][g$[t]];return Pb()};Xue[$B]=!0;var tce=Object.create||function(e,n){var r;return e!==null?(b1[qT]=Kue(e),r=new b1,b1[qT]=null,r[$B]=e):r=Pb(),n===void 0?r:que.f(r,n)},nce=Xc,rce=tce,ice=Zc.f,ZT=nce("unscopables"),QT=Array.prototype;QT[ZT]===void 0&&ice(QT,ZT,{configurable:!0,value:rce(null)});var sO=function(t){QT[ZT][t]=!0},oce=sO;oce("flatMap");function er(){Ct(console)&&console.warn(...arguments)}function aO(){Ct(console)&&console.error(...arguments)}function sce(t,e,n){return(e=ace(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ace(t){var e=lce(t,"string");return typeof e=="symbol"?e:e+""}function lce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Ef=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterColumnSequenceChange","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterRowSequenceChange","beforeViewportScrollVertically","beforeViewportScrollHorizontally","beforeViewportScroll","afterScrollHorizontally","afterScrollVertically","afterScroll","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSelectionFocusSet","beforeSelectColumns","afterSelectColumns","beforeSelectRows","afterSelectRows","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeRowWrap","beforeColumnWrap","beforeSetCellMeta","beforeSelectionFocusSet","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeSelectionHighlightSet","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyFiltersMultiSelectValue","modifyFocusedElement","modifyRowHeader","modifyRowHeight","modifyRowHeightByOverlayName","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","modifyFocusOnTabNavigation","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","modifyColumnHeaderValue","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","modifyTransformFocus","modifyTransformStart","modifyTransformEnd","afterModifyTransformFocus","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","beforeBeginEditing","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],uce=tr`The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\x20
  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\x20
  learn about the migration path.`,S1=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),R1=new Map([[]]),GC=new WeakMap;class mt{static getSingleton(){return dce()}constructor(){sce(this,"globalBucket",void 0),this.globalBucket=this.createEmptyBucket()}createEmptyBucket(){const e=Object.create(null);return ye(Ef,n=>{e[n]=[],this.initOrderMap(e,n)}),e}getBucket(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e?(e.pluginHookBucket||(e.pluginHookBucket=this.createEmptyBucket()),e.pluginHookBucket):this.globalBucket}add(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;if(Array.isArray(n))ye(n,o=>this.add(e,o,r));else{S1.has(e)&&er(sB(uce,{hookName:e,removedInVersion:S1.get(e)})),R1.has(e)&&er(R1.get(e));const o=this.getBucket(r);if(typeof o[e]>"u"&&(this.register(e),o[e]=[],this.initOrderMap(o,e)),n.skip=!1,o[e].indexOf(n)===-1){let s=!1;n.initialHook&&ye(o[e],(a,u)=>{if(a.initialHook)return o[e][u]=n,s=!0,!1}),s||o[e].push(n)}this.setCallbackOrderIndex(o,e,n,i),this.orderBucketByOrderIndex(o,e)}return this}once(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;Array.isArray(n)?ye(n,o=>this.once(e,o,r)):(n.runOnce=!0,this.add(e,n,r,i))}remove(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const i=this.getBucket(r);return typeof i[e]<"u"&&i[e].indexOf(n)>=0?(n.skip=!0,!0):!1}has(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const r=this.getBucket(n);return!!(r[e]!==void 0&&r[e].length)}run(e,n,r,i,o,s,a,u){{const c=this.globalBucket[n],h=c?c.length:0;let g=0;if(h)for(;g<h;){if(!c[g]||c[g].skip){g+=1;continue}const p=GT(c[g],e,r,i,o,s,a,u);p!==void 0&&(r=p),c[g]&&c[g].runOnce&&this.remove(n,c[g]),g+=1}}{const c=this.getBucket(e)[n],h=c?c.length:0;let g=0;if(h)for(;g<h;){if(!c[g]||c[g].skip){g+=1;continue}const p=GT(c[g],e,r,i,o,s,a,u);p!==void 0&&(r=p),c[g]&&c[g].runOnce&&this.remove(n,c[g],e),g+=1}}return r}destroy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;hn(this.getBucket(e),(n,r,i)=>i[r].length=0)}register(e){this.isRegistered(e)||Ef.push(e)}deregister(e){this.isRegistered(e)&&Ef.splice(Ef.indexOf(e),1)}isDeprecated(e){return R1.has(e)||S1.has(e)}isRegistered(e){return Ef.indexOf(e)>=0}getRegistered(){return Ef}setCallbackOrderIndex(e,n,r,i){const o=Number.isInteger(i)?i:0,s=this.getCallbackOrderMap(e,n);s.set(o,[...s.get(o)||[],r])}orderBucketByOrderIndex(e,n){const r=this.getCallbackOrderMap(e,n);r===void 0||r.size===0||r.size===1&&r.has(0)||(e[n]=[...r].sort((i,o)=>i[0]-o[0]).flatMap(i=>{let[,o]=i;return o}))}initOrderMap(e,n){GC.has(e)||GC.set(e,[]),GC.get(e)[n]=new Map}getCallbackOrderMap(e,n){return GC.get(e)[n]}}const cce=new mt;function dce(){return cce}const E1=new Map;function La(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"common";E1.has(t)||E1.set(t,new Map);const e=E1.get(t);function n(a,u){e.set(a,u)}function r(a){return e.get(a)}function i(a){return e.has(a)}function o(){return[...e.keys()]}function s(){return[...e.values()]}return{register:n,getItem:r,hasItem:i,getNames:o,getValues:s}}const JT=new WeakMap,{register:hce,getItem:kB,hasItem:FB,getNames:WPe,getValues:BPe}=La("editors");function fce(t){const e={},n=t;this.getConstructor=function(){return t},this.getInstance=function(r){return r.guid in e||(e[r.guid]=new n(r)),e[r.guid]},mt.getSingleton().add("afterDestroy",function(){e[this.guid]=null})}function VB(t,e){let n;if(typeof t=="function")JT.get(t)||ss(null,t),n=JT.get(t);else if(typeof t=="string")n=kB(t);else throw Error('Only strings and functions can be passed as "editor" parameter');if(!n)throw Error(`No editor registered under name "${t}"`);return n.getInstance(e)}function ex(t){if(typeof t=="function")return t;if(!FB(t))throw Error(`No registered editor found under "${t}" name`);return kB(t).getConstructor()}function ss(t,e){t&&typeof t!="string"&&(e=t,t=e.EDITOR_TYPE);const n=new fce(e);typeof t=="string"&&hce(t,n),JT.set(e,n)}function gce(t,e,n){return(e=mce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mce(t){var e=pce(t,"string");return typeof e=="symbol"?e:e+""}function pce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Pa{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;gce(this,"context",void 0),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}addEventListener(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;function o(s){r.call(this,vce(s))}return this.context.eventListeners.push({element:e,event:n,callback:r,callbackProxy:o,options:i,eventManager:this}),e.addEventListener(n,o,i),()=>{this.removeEventListener(e,n,r)}}removeEventListener(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=this.context.eventListeners.length,s;for(;o;)if(o-=1,s=this.context.eventListeners[o],s.event===n&&s.element===e){if(r&&r!==s.callback||i&&s.eventManager!==this)continue;this.context.eventListeners.splice(o,1),s.element.removeEventListener(s.event,s.callbackProxy,s.options)}}clearEvents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.context)return;let n=this.context.eventListeners.length;for(;n;){n-=1;const r=this.context.eventListeners[n];e&&r.eventManager!==this||(this.context.eventListeners.splice(n,1),r.element.removeEventListener(r.event,r.callbackProxy,r.options))}}clear(){this.clearEvents()}destroy(){this.clearEvents(),this.context=null}destroyWithOwnEventsOnly(){this.clearEvents(!0),this.context=null}fireEvent(e,n){let r=e.document,i=e;r||(r=e.ownerDocument?e.ownerDocument:e,i=r.defaultView);const o={bubbles:!0,cancelable:n!=="mousemove",view:i,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};let s;r.createEvent?(s=r.createEvent("MouseEvents"),s.initMouseEvent(n,o.bubbles,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,r.body.parentNode)):s=r.createEventObject(),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(`on${n}`,s)}}function vce(t){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=function(){e.apply(this),$a(this)},t}function wce(t,e){Cce(t,e),e.add(t)}function Cce(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ed(t,e,n){return(e=yce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yce(t){var e=bce(t,"string");return typeof e=="symbol"?e:e+""}function bce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w$(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var _1=new WeakSet;class tx{constructor(e,n,r){wce(this,_1),Ed(this,"hot",void 0),Ed(this,"tableMeta",void 0),Ed(this,"selection",void 0),Ed(this,"eventManager",void 0),Ed(this,"destroyed",!1),Ed(this,"activeEditor",void 0),Ed(this,"cellProperties",void 0),this.hot=e,this.tableMeta=n,this.selection=r,this.eventManager=new Pa(e),this.hot.addHook("afterDocumentKeyDown",i=>w$(_1,this,Sce).call(this,i)),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"compositionstart",i=>{!this.destroyed&&this.hot.isListening()&&this.openEditor("",i)}),this.hot.view._wt.update("onCellDblClick",(i,o,s)=>w$(_1,this,Rce).call(this,i,o,s))}getActiveEditor(){return this.activeEditor}prepareEditor(){var e;if(this.activeEditor&&this.activeEditor.isWaiting()){this.closeEditor(!1,!1,c=>{c&&this.prepareEditor()});return}const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;if(!n||n.isHeader())return;const{row:r,col:i}=n,o=this.hot.runHooks("modifyGetCellCoords",r,i);let s=r,a=i;if(Array.isArray(o)&&([s,a]=o),this.cellProperties=this.hot.getCellMeta(s,a),!this.isCellEditable()){this.clearActiveEditor();return}const u=this.hot.getCell(r,i,!0);if(u){const c=this.hot.getCellEditor(this.cellProperties),h=this.hot.colToProp(a),g=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s),a);this.activeEditor=VB(c,this.hot),this.activeEditor.prepare(r,i,h,u,g,this.cellProperties)}}isEditorOpened(){return this.activeEditor&&this.activeEditor.isOpened()}openEditor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!this.isCellEditable()){this.clearActiveEditor();return}const i=this.hot.getSelectedRangeLast();let o=this.hot.runHooks("beforeBeginEditing",i.highlight.row,i.highlight.col,e,n,r);if(n instanceof MouseEvent&&typeof o!="boolean"&&(o=this.hot.selection.getLayerLevel()===0&&i.isSingle()),o===!1){this.clearActiveEditor();return}this.activeEditor||(this.hot.scrollToFocusedCell(),this.prepareEditor()),this.activeEditor&&(r&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(e,n))}closeEditor(e,n,r){this.activeEditor?this.activeEditor.finishEditing(e,n,r):r&&r(!1)}closeEditorAndSaveChanges(e){this.closeEditor(!1,e)}closeEditorAndRestoreOriginalValue(e){this.closeEditor(!0,e)}clearActiveEditor(){this.activeEditor=void 0}isCellEditable(){const e=this.hot.getSelectedRangeLast();if(!e)return!1;const n=this.hot.getCellEditor(this.cellProperties),{row:r,col:i}=e.highlight,{rowIndexMapper:o,columnIndexMapper:s}=this.hot,a=o.isHidden(this.hot.toPhysicalRow(r))||s.isHidden(this.hot.toPhysicalColumn(i));return!(this.cellProperties.readOnly||!n||a)}moveSelectionAfterEnter(e){const n={...typeof this.tableMeta.enterMoves=="function"?this.tableMeta.enterMoves(e):this.tableMeta.enterMoves};e.shiftKey&&(n.row=-n.row,n.col=-n.col),this.hot.selection.isMultiple()?this.selection.transformFocus(n.row,n.col):this.selection.transformStart(n.row,n.col,!0)}destroy(){this.destroyed=!0,this.eventManager.destroy()}}function Sce(t){const e=this.hot.getSelectedRangeLast();if(!this.hot.isListening()||!e||e.highlight.isHeader()||uh(t))return;const{keyCode:n}=t,r=(t.ctrlKey||t.metaKey)&&!t.altKey;(!this.activeEditor||this.activeEditor&&!this.activeEditor.isWaiting())&&!DB(n)&&!$ue(n)&&!r&&!this.isEditorOpened()&&this.openEditor("",t)}function Rce(t,e){e.isCell()&&this.openEditor(null,t,!0)}const C$=new WeakMap;tx.getInstance=function(t,e,n){let r=C$.get(t);return r||(r=new tx(t,e,n),C$.set(t,r)),r};function Ece(t,e){WB(t,e),e.add(t)}function Bm(t,e,n){WB(t,e),e.set(t,n)}function WB(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ar(t,e){return t.get(Su(t,e))}function jm(t,e,n){return t.set(Su(t,e),n),n}function Su(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Sg=Object.freeze({CELL:"cell",MIXED:"mixed"});var Oi=new WeakMap,KC=new WeakMap,qC=new WeakMap,XC=new WeakMap,ZC=new WeakMap,wc=new WeakSet;class _ce{constructor(e){var n=this;Ece(this,wc),Bm(this,Oi,void 0),Bm(this,KC,void 0),Bm(this,qC,1),Bm(this,XC,null),Bm(this,ZC,new Map);const r=e.getSettings();jm(Oi,this,e),jm(KC,this,r.imeFastEdit?Sg.MIXED:Sg.CELL),Ar(Oi,this).addHook("afterUpdateSettings",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Su(wc,n,Tce).call(n,...o)}),Ar(Oi,this).addHook("afterSelection",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Su(wc,n,y$).call(n,...o)}),Ar(Oi,this).addHook("afterSelectionFocusSet",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Su(wc,n,y$).call(n,...o)}),Ar(Oi,this).addHook("afterSelectionEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Su(wc,n,Mce).call(n,...o)})}getFocusMode(){return Ar(KC,this)}setFocusMode(e){Object.values(Sg).includes(e)?jm(KC,this,e):er(`"${e}" is not a valid focus mode.`)}getRefocusDelay(){return Ar(qC,this)}setRefocusDelay(e){jm(qC,this,e)}setRefocusElementGetter(e){jm(XC,this,e)}getRefocusElement(){if(typeof Ar(XC,this)=="function")return Ar(XC,this).call(this);var e;return(e=Ar(Oi,this).getActiveEditor())===null||e===void 0?void 0:e.TEXTAREA}focusOnHighlightedCell(e){const n=r=>{var i,o;const s=(i=Ar(Oi,this).getSelectedRangeLast())===null||i===void 0?void 0:i.highlight;if(!s)return;let a=Ar(Oi,this).runHooks("modifyFocusedElement",s.row,s.col,r);a instanceof HTMLElement||(a=r),a&&!((o=Ar(Oi,this).getActiveEditor())!==null&&o!==void 0&&o.isOpened())&&a.focus({preventScroll:!0})};e?n(e):Su(wc,this,lO).call(this,r=>n(r))}refocusToEditorTextarea(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ar(qC,this);const r=this.getRefocusElement();Ar(Oi,this).getSettings().imeFastEdit&&!((e=Ar(Oi,this).getActiveEditor())!==null&&e!==void 0&&e.isOpened())&&r&&(Ar(ZC,this).has(n)||Ar(ZC,this).set(n,tO(()=>{r.select()},n)),Ar(ZC,this).get(n)())}}function lO(t){var e;const n=(e=Ar(Oi,this).getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;if(!n||!Ar(Oi,this).selection.isCellVisible(n)){t(null);return}const r=Ar(Oi,this).getCell(n.row,n.col,!0);r===null?Ar(Oi,this).addHookOnce("afterScroll",()=>{t(Ar(Oi,this).getCell(n.row,n.col,!0))}):t(r)}function y$(){Su(wc,this,lO).call(this,t=>{const{activeElement:e}=Ar(Oi,this).rootDocument;e&&yB(e)&&e.blur(),this.focusOnHighlightedCell(t)})}function Mce(){Su(wc,this,lO).call(this,t=>{this.getFocusMode()===Sg.MIXED&&t.nodeName==="TD"&&this.refocusToEditorTextarea()})}function Tce(t){typeof t.imeFastEdit=="boolean"&&this.setFocusMode(t.imeFastEdit?Sg.MIXED:Sg.CELL)}var xce=Dl,Ice=$h,Oce=Xc,Pce=Oce("match"),Ace=function(t){var e;return xce(t)&&((e=t[Pce])!==void 0?!!e:Ice(t)==="RegExp")},Hce=$u,Dce=function(){var t=Hce(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},Nce=Da,$ce=Nl,Lce=E0,kce=Dce,b$=RegExp.prototype,Fce=function(t){var e=t.flags;return e===void 0&&!("flags"in b$)&&!$ce(t,"flags")&&Lce(b$,t)?Nce(kce,t):e},uO=gi,Vce=qv,Wce=Math.floor,M1=uO("".charAt),Bce=uO("".replace),T1=uO("".slice),jce=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,zce=/\$([$&'`]|\d{1,2})/g,Yce=function(t,e,n,r,i,o){var s=n+t.length,a=r.length,u=zce;return i!==void 0&&(i=Vce(i),u=jce),Bce(o,u,function(c,h){var g;switch(M1(h,0)){case"$":return"$";case"&":return t;case"`":return T1(e,0,n);case"'":return T1(e,s);case"<":g=i[T1(h,1,-1)];break;default:var p=+h;if(p===0)return c;if(p>a){var v=Wce(p/10);return v===0?c:v<=a?r[v-1]===void 0?M1(h,1):r[v-1]+M1(h,1):c}g=r[p-1]}return g===void 0?"":g})},Uce=Yi,Gce=Da,cO=gi,S$=Gv,Kce=zi,qce=S0,Xce=Ace,zm=I0,Zce=T0,Qce=Fce,Jce=Yce,ede=Xc,tde=ede("replace"),nde=TypeError,x1=cO("".indexOf);cO("".replace);var R$=cO("".slice),rde=Math.max;Uce({target:"String",proto:!0},{replaceAll:function(e,n){var r=S$(this),i,o,s,a,u,c,h,g,p,v,y=0,R="";if(!qce(e)){if(i=Xce(e),i&&(o=zm(S$(Qce(e))),!~x1(o,"g")))throw new nde("`.replaceAll` does not allow non-global regexes");if(s=Zce(e,tde),s)return Gce(s,e,r,n)}for(a=zm(r),u=zm(e),c=Kce(n),c||(n=zm(n)),h=u.length,g=rde(1,h),p=x1(a,u);p!==-1;)v=c?zm(n(u,p,a)):Jce(u,a,p,[],void 0,n),R+=R$(a,y,p)+v,y=p+h,p=p+g>a.length?-1:x1(a,u,p+g);return y<a.length&&(R+=R$(a,y)),R}});const BB={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},ide=new RegExp(Object.keys(BB).map(t=>`(${t})`).join("|"),"gi");function ode(t){return(t&&t.nodeName||"")==="TABLE"}function E$(t){const e=t.hasColHeaders(),n=t.hasRowHeaders(),r=[e?-1:0,n?-1:0,t.countRows()-1,t.countCols()-1],i=t.getData(...r),o=i.length,s=o>0?i[0].length:0,a=["<table>","</table>"],u=e?["<thead>","</thead>"]:[],c=["<tbody>","</tbody>"],h=n?1:0,g=e?1:0;for(let p=0;p<o;p+=1){const v=e&&p===0,y=[];for(let S=0;S<s;S+=1){const T=!v&&n&&S===0;let x="";if(v)x=`<th>${t.getColHeader(S-h)}</th>`;else if(T)x=`<th>${t.getRowHeader(p-g)}</th>`;else{const O=i[p][S],{hidden:A,rowspan:H,colspan:L}=t.getCellMeta(p-g,S-h);if(!A){const F=[];if(H&&F.push(`rowspan="${H}"`),L&&F.push(`colspan="${L}"`),ei(O))x=`<td ${F.join(" ")}></td>`;else{const j=O.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");x=`<td ${F.join(" ")}>${j}</td>`}}}y.push(x)}const R=["<tr>",...y,"</tr>"].join("");v?u.splice(1,0,R):c.splice(-1,0,R)}return a.splice(1,0,u.join(""),c.join("")),a.join("")}function _$(t){const e=t.length,n=["<table>"];for(let r=0;r<e;r+=1){const i=t[r],o=i.length,s=[];r===0&&n.push("<tbody>");for(let a=0;a<o;a+=1){const u=i[a],c=ei(u)?"":u.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,`<br>\r
`).replace(/\x20{2,}/gi,h=>`<span style="mso-spacerun: yes">${"&nbsp;".repeat(h.length-1)} </span>`).replace(/\t/gi,"&#9;");s.push(`<td>${c}</td>`)}n.push("<tr>",...s,"</tr>"),r+1===e&&n.push("</tbody>")}return n.push("</table>"),n.join("")}function sde(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;const n={},r=e.createDocumentFragment(),i=e.createElement("div");r.appendChild(i);let o=t;if(typeof o=="string"){const O=o.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,A=>{const H=A.match(/<td\b[^>]*?>/g)[0],L=/<p.*?>/g,F=A.substring(H.length,A.lastIndexOf("<")).trim().replaceAll(/\n\s+/g," ").replaceAll(L,`
`).replace(`
`,"").replaceAll(/<\/(.*)>\s+$/mg,"</$1>").replace(/(<(?!br)([^>]+)>)/gi,"").replaceAll(/^&nbsp;$/mg,"");return`${H}${F}</td>`});i.insertAdjacentHTML("afterbegin",`${O}`),o=i.querySelector("table")}if(!o||!ode(o))return;const s=i.querySelector('meta[name$="enerator"]'),a=o.querySelector("tbody th")!==null,u=o.querySelector("tr"),c=u?Array.from(u.cells).reduce((O,A)=>O+A.colSpan,0)-(a?1:0):0,h=o.tFoot&&Array.from(o.tFoot.rows)||[],g=[];let p=!1,v=0,y=0;if(o.tHead){const O=Array.from(o.tHead.rows).filter(A=>{const H=A.querySelector("td")!==null;return H&&g.push(A),!H});v=O.length,p=v>0,v>1?n.nestedHeaders=Array.from(O).reduce((A,H)=>{const L=Array.from(H.cells).reduce((F,j,z)=>{if(a&&z===0)return F;const{colSpan:Y,innerHTML:K}=j,X=Y>1?{label:K,colspan:Y}:K;return F.push(X),F},[]);return A.push(L),A},[]):p&&(n.colHeaders=Array.from(O[0].children).reduce((A,H,L)=>(a&&L===0||A.push(H.innerHTML),A),[]))}g.length&&(n.fixedRowsTop=g.length),h.length&&(n.fixedRowsBottom=h.length);const R=[...g,...Array.from(o.tBodies).reduce((O,A)=>(O.push(...Array.from(A.rows)),O),[]),...h];y=R.length;const S=new Array(y);for(let O=0;O<y;O++)S[O]=new Array(c);const T=[],x=[];for(let O=0;O<y;O++){const A=R[O],H=Array.from(A.cells),L=H.length;for(let F=0;F<L;F++){const j=H[F],{nodeName:z,innerHTML:Y,rowSpan:K,colSpan:X}=j,se=S[O].findIndex(ne=>ne===void 0);if(z==="TD"){if(K>1||X>1){for(let ae=O;ae<O+K;ae++)if(ae<y)for(let G=se;G<se+X;G++)S[ae][G]=null;const J=j.getAttribute("style");J&&J.includes("mso-ignore:colspan")||T.push({col:se,row:O,rowspan:K,colspan:X})}let ne="";s&&/excel/gi.test(s.content)?ne=Y.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,`\r
`):ne=Y.replace(/<br(\s*|\/)>[\r\n]?/gim,`\r
`),S[O][se]=ne.replace(ide,J=>BB[J])}else x.push(Y)}}return T.length&&(n.mergeCells=T),x.length&&(n.rowHeaders=x),S.length&&(n.data=S),n}function bo(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=typeof t;if(n==="number")return!isNaN(t)&&isFinite(t);if(n==="string"){if(t.length===0)return!1;if(t.length===1)return/\d/.test(t);const r=Array.from(new Set([".",...e])).map(i=>`\\${i}`).join("|");return new RegExp(`^[+-]?(((${r})?\\d+((${r})\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$`,"i").test(t.trim())}else if(n==="object")return!!t&&typeof t.valueOf()=="number"&&!(t instanceof Date);return!1}function ade(t){return bo(t,[","])}function Mt(t,e,n){let r=-1;for(typeof e=="function"?(n=e,e=t):r=t-1;++r<=e&&n(r)!==!1;);}function M$(t,e,n){let r=t+1;for(typeof e=="function"&&(n=e,e=0);--r>=e&&n(r)!==!1;);}function jB(t,e){return e=parseInt(e.toString().replace("%",""),10),e=isNaN(e)?0:e,parseInt(t*e/100,10)}function or(t,e,n){return Math.min(t,e)===t?e:Math.max(t,n)===t?n:t}const nx="asc",lde="desc",T$=new Map([[nx,[-1,1]],[lde,[1,-1]]]),ude=t=>`The priority '${t}' is already declared in a map.`,cde=t=>`The priority '${t}' is not a number.`;function dde(){let{errorPriorityExists:t,errorPriorityNaN:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new Map;t=br(t)?t:ude,e=br(e)?e:cde;function r(o,s){if(!bo(o))throw new Error(e(o));if(n.has(o))throw new Error(t(o));n.set(o,s)}function i(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nx;const[s,a]=T$.get(o)||T$.get(nx);return[...n].sort((u,c)=>u[0]<c[0]?s:a).map(u=>u[1])}return{addItem:r,getItems:i}}const hde=t=>`The id '${t}' is already declared in a map.`;function Y0(){let{errorIdExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=new Map;t=br(t)?t:hde;function n(c,h){if(u(c))throw new Error(t(c));e.set(c,h)}function r(c){return e.delete(c)}function i(){e.clear()}function o(c){const[h]=a().find(g=>{let[p,v]=g;return c===v?p:!1})||[null];return h}function s(c){return e.get(c)}function a(){return[...e]}function u(c){return e.has(c)}return{addItem:n,clear:i,getId:o,getItem:s,getItems:a,hasItem:u,removeItem:r}}const fde=t=>`'${t}' value is already declared in a unique set.`;function gde(){let{errorItemExists:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=new Set;t=br(t)?t:fde;function n(o){if(e.has(o))throw new Error(t(o));e.add(o)}function r(){return[...e]}function i(){e.clear()}return{addItem:n,clear:i,getItems:r}}const dO=t=>`There is already registered "${t}" plugin.`,mde=t=>`There is already registered plugin on priority "${t}".`,pde=t=>`The priority "${t}" is not a number.`,zB=dde({errorPriorityExists:mde,errorPriorityNaN:pde}),YB=gde({errorItemExists:dO}),rx=Y0({errorIdExists:dO});function UB(){return[...zB.getItems(),...YB.getItems()]}function hO(t){const e=Oa(t);return rx.getItem(e)}function vde(t){return!!hO(t)}function jn(t,e,n){[t,e,n]=Cde(t,e,n),hO(t)===void 0&&wde(t,e,n)}function wde(t,e,n){const r=Oa(t);if(rx.hasItem(r))throw new Error(dO(r));n===void 0?YB.addItem(r):zB.addItem(n,r),rx.addItem(r,e)}function Cde(t,e,n){return typeof t=="function"&&(e=t,t=e.PLUGIN_KEY,n=e.PLUGIN_PRIORITY),[t,e,n]}const{register:yde,getItem:bde,hasItem:GB,getNames:jPe,getValues:zPe}=La("renderers");function ix(t){if(typeof t=="function")return t;if(!GB(t))throw Error(`No registered renderer found under "${t}" name`);return bde(t)}function Ds(t,e){typeof t!="string"&&(e=t,t=e.RENDERER_TYPE),yde(t,e)}const{register:Sde,getItem:Rde,hasItem:KB,getNames:YPe,getValues:UPe}=La("validators");function Ede(t){if(typeof t=="function")return t;if(!KB(t))throw Error(`No registered validator found under "${t}" name`);return Rde(t)}function sg(t,e){typeof t!="string"&&(e=t,t=e.VALIDATOR_TYPE),Sde(t,e)}var _de=Yi,Mde=qv,Tde=Qv,xde=Zv,Ide=sO;_de({target:"Array",proto:!0},{at:function(e){var n=Mde(this),r=Tde(n),i=xde(e),o=i>=0?i:r+i;return o<0||o>=r?void 0:n[o]}});Ide("at");var Ode=Yi,Pde=gi,Ade=Gv,Hde=Zv,Dde=I0,Nde=Ko,$de=Pde("".charAt),Lde=Nde(function(){return"𠮷".at(-2)!=="\uD842"});Ode({target:"String",proto:!0,forced:Lde},{at:function(e){var n=Dde(Ade(this)),r=n.length,i=Hde(e),o=i>=0?i:r+i;return o<0||o>=r?void 0:$de(n,o)}});function Ym(t,e,n){return(e=kde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kde(t){var e=Fde(t,"string");return typeof e=="symbol"?e:e+""}function Fde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Vde{constructor(){Ym(this,"count",0),Ym(this,"startColumn",null),Ym(this,"endColumn",null),Ym(this,"startPosition",null),Ym(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedWidth:r,zeroBasedScrollOffset:i,viewportWidth:o,columnWidth:s}=n,a=i>0?o+1:o;r>=i&&r+s<=i+a&&((this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=e),this.endColumn=e)}finalize(e){var n;const{scrollOffset:r,viewportWidth:i,inlineStartOffset:o,zeroBasedScrollOffset:s,totalColumns:a,needReverse:u,startPositions:c,columnWidth:h}=e;if(this.endColumn===a-1&&u)for(this.startColumn=this.endColumn;this.startColumn>0;){const y=c[this.endColumn]+h-c[this.startColumn-1];if(y<=i&&(this.startColumn-=1),y>=i)break}this.startPosition=(n=c[this.startColumn])!==null&&n!==void 0?n:null;const g=s>0?i+1:i,p=r+i-g,v=this.startColumn===null?0:e.getColumnWidth(this.startColumn);p<-1*o||r>c.at(-1)||-1*r-i>-1*v?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,a<this.endColumn&&(this.endColumn=a-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}}function Um(t,e,n){return(e=Wde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wde(t){var e=Bde(t,"string");return typeof e=="symbol"?e:e+""}function Bde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jde{constructor(){Um(this,"count",0),Um(this,"startRow",null),Um(this,"endRow",null),Um(this,"startPosition",null),Um(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedHeight:r,zeroBasedScrollOffset:i,innerViewportHeight:o,rowHeight:s}=n;r>=i&&r+s<=o&&(this.startRow===null&&(this.startRow=e),this.endRow=e)}finalize(e){var n;const{scrollOffset:r,viewportHeight:i,horizontalScrollbarHeight:o,totalRows:s,needReverse:a,startPositions:u,rowHeight:c}=e;if(this.endRow===s-1&&a)for(this.startRow=this.endRow;this.startRow>0;){const p=u[this.endRow]+c-u[this.startRow-1];if(p<=i-o&&(this.startRow-=1),p>=i-o)break}this.startPosition=(n=u[this.startRow])!==null&&n!==void 0?n:null;const h=r+i-o,g=this.startRow===null?0:e.getRowHeight(this.startRow);h<g||r>u.at(-1)?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,s<this.endRow&&(this.endRow=s-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function Gm(t,e,n){return(e=zde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zde(t){var e=Yde(t,"string");return typeof e=="symbol"?e:e+""}function Yde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qB{constructor(){Gm(this,"count",0),Gm(this,"startColumn",null),Gm(this,"endColumn",null),Gm(this,"startPosition",null),Gm(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedWidth:r,zeroBasedScrollOffset:i,viewportWidth:o}=n;r<=i&&(this.startColumn=e);const s=i>0?o+1:o;r>=i&&r<=i+s&&(this.startColumn===null||this.startColumn===void 0)&&(this.startColumn=e),this.endColumn=e}finalize(e){var n;const{scrollOffset:r,viewportWidth:i,inlineStartOffset:o,zeroBasedScrollOffset:s,totalColumns:a,needReverse:u,startPositions:c,columnWidth:h}=e;if(this.endColumn===a-1&&u)for(this.startColumn=this.endColumn;this.startColumn>0;){const v=c[this.endColumn]+h-c[this.startColumn-1];if(this.startColumn-=1,v>i)break}this.startPosition=(n=c[this.startColumn])!==null&&n!==void 0?n:null;const g=s>0?i+1:i;r+i-g<-1*o||r>c.at(-1)+h||-1*r-i>0?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,a<this.endColumn&&(this.endColumn=a-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}}function Km(t,e,n){return(e=Ude(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ude(t){var e=Gde(t,"string");return typeof e=="symbol"?e:e+""}function Gde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class XB{constructor(){Km(this,"count",0),Km(this,"startRow",null),Km(this,"endRow",null),Km(this,"startPosition",null),Km(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,n){const{totalCalculatedHeight:r,zeroBasedScrollOffset:i,innerViewportHeight:o}=n;r<=i&&(this.startRow=e),r>=i&&r<=o&&this.startRow===null&&(this.startRow=e),this.endRow=e}finalize(e){var n;const{scrollOffset:r,viewportHeight:i,horizontalScrollbarHeight:o,totalRows:s,needReverse:a,startPositions:u,rowHeight:c}=e;if(this.endRow===s-1&&a)for(this.startRow=this.endRow;this.startRow>0;){const g=u[this.endRow]+c-u[this.startRow-1];if(this.startRow-=1,g>=i-o)break}this.startPosition=(n=u[this.startRow])!==null&&n!==void 0?n:null,r+i-o<0||r>u.at(-1)+c?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,s<this.endRow&&(this.endRow=s-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function qm(t,e,n){return(e=Kde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kde(t){var e=qde(t,"string");return typeof e=="symbol"?e:e+""}function qde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Xde{constructor(){qm(this,"count",0),qm(this,"startColumn",0),qm(this,"endColumn",0),qm(this,"startPosition",0),qm(this,"isVisibleInTrimmingContainer",!0)}initialize(e){let{totalColumns:n}=e;this.count=n,this.endColumn=this.count-1}process(){}finalize(){}}function Xm(t,e,n){return(e=Zde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zde(t){var e=Qde(t,"string");return typeof e=="symbol"?e:e+""}function Qde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Jde{constructor(){Xm(this,"count",0),Xm(this,"startRow",0),Xm(this,"endRow",0),Xm(this,"startPosition",0),Xm(this,"isVisibleInTrimmingContainer",!0)}initialize(e){let{totalRows:n}=e;this.count=n,this.endRow=this.count-1}process(){}finalize(){}}class ehe extends qB{finalize(e){var n;super.finalize(e);const{overrideFn:r,totalColumns:i,startPositions:o}=e;this.startColumn!==null&&typeof r=="function"&&r(this),this.startColumn<0&&(this.startColumn=0),this.startPosition=(n=o[this.startColumn])!==null&&n!==void 0?n:null,i<this.endColumn&&(this.endColumn=i-1),this.startColumn!==null&&(this.count=this.endColumn-this.startColumn+1)}}class the extends XB{finalize(e){var n;super.finalize(e);const{overrideFn:r,totalRows:i,startPositions:o}=e;this.startRow!==null&&typeof r=="function"&&r(this),this.startRow<0&&(this.startRow=0),this.startPosition=(n=o[this.startRow])!==null&&n!==void 0?n:null,i<this.endRow&&(this.endRow=i-1),this.startRow!==null&&(this.count=this.endRow-this.startRow+1)}}function x$(t,e,n){return(e=nhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nhe(t){var e=rhe(t,"string");return typeof e=="symbol"?e:e+""}function rhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ZB{constructor(e){x$(this,"calculationTypes",[]),x$(this,"calculationResults",new Map),this.calculationTypes=e}_initialize(e){this.calculationTypes.forEach(n=>{let[r,i]=n;this.calculationResults.set(r,i),i.initialize(e)})}_process(e,n){this.calculationTypes.forEach(r=>{let[,i]=r;return i.process(e,n)})}_finalize(e){this.calculationTypes.forEach(n=>{let[,r]=n;return r.finalize(e)})}getResultsFor(e){return this.calculationResults.get(e)}}function sa(t,e,n){return(e=ihe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ihe(t){var e=ohe(t,"string");return typeof e=="symbol"?e:e+""}function ohe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const U0=50;class she extends ZB{constructor(e){let{calculationTypes:n,viewportWidth:r,scrollOffset:i,totalColumns:o,columnWidthFn:s,overrideFn:a,inlineStartOffset:u}=e;super(n),sa(this,"viewportWidth",0),sa(this,"scrollOffset",0),sa(this,"zeroBasedScrollOffset",0),sa(this,"totalColumns",0),sa(this,"columnWidthFn",null),sa(this,"columnWidth",0),sa(this,"overrideFn",null),sa(this,"inlineStartOffset",0),sa(this,"totalCalculatedWidth",0),sa(this,"startPositions",[]),sa(this,"needReverse",!0),this.viewportWidth=r,this.scrollOffset=i,this.zeroBasedScrollOffset=Math.max(i,0),this.totalColumns=o,this.columnWidthFn=s,this.overrideFn=a,this.inlineStartOffset=u,this.calculate()}calculate(){this._initialize(this);for(let e=0;e<this.totalColumns;e++)if(this.columnWidth=this.getColumnWidth(e),this._process(e,this),this.startPositions.push(this.totalCalculatedWidth),this.totalCalculatedWidth+=this.columnWidth,this.totalCalculatedWidth>=this.zeroBasedScrollOffset+this.viewportWidth){this.needReverse=!1;break}this._finalize(this)}getColumnWidth(e){const n=this.columnWidthFn(e);return isNaN(n)?U0:n}}function xs(t,e,n){return(e=ahe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ahe(t){var e=lhe(t,"string");return typeof e=="symbol"?e:e+""}function lhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const QB=23;class uhe extends ZB{constructor(e){let{calculationTypes:n,viewportHeight:r,scrollOffset:i,totalRows:o,rowHeightFn:s,overrideFn:a,horizontalScrollbarHeight:u}=e;super(n),xs(this,"viewportHeight",0),xs(this,"scrollOffset",0),xs(this,"zeroBasedScrollOffset",0),xs(this,"totalRows",0),xs(this,"rowHeightFn",null),xs(this,"rowHeight",0),xs(this,"overrideFn",null),xs(this,"horizontalScrollbarHeight",0),xs(this,"innerViewportHeight",0),xs(this,"totalCalculatedHeight",0),xs(this,"startPositions",[]),xs(this,"needReverse",!0),this.viewportHeight=r,this.scrollOffset=i,this.zeroBasedScrollOffset=Math.max(i,0),this.totalRows=o,this.rowHeightFn=s,this.overrideFn=a,this.horizontalScrollbarHeight=u??0,this.innerViewportHeight=this.zeroBasedScrollOffset+this.viewportHeight-this.horizontalScrollbarHeight,this.calculate()}calculate(){this._initialize(this);for(let e=0;e<this.totalRows;e++)if(this.rowHeight=this.getRowHeight(e),this._process(e,this),this.startPositions.push(this.totalCalculatedHeight),this.totalCalculatedHeight+=this.rowHeight,this.totalCalculatedHeight>=this.innerViewportHeight){this.needReverse=!1;break}this._finalize(this)}getRowHeight(e){const n=this.rowHeightFn(e);return isNaN(n)?QB:n}}function che(t,e,n){dhe(t,e),e.set(t,n)}function dhe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function I$(t,e,n){return(e=hhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hhe(t){var e=fhe(t,"string");return typeof e=="symbol"?e:e+""}function fhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _f(t,e){return t.get(JB(t,e))}function O$(t,e,n){return t.set(JB(t,e),n),n}function JB(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var nu=new WeakMap;class _h{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;I$(this,"row",null),I$(this,"col",null),che(this,nu,!1),O$(nu,this,r),typeof e<"u"&&typeof n<"u"&&(this.row=e,this.col=n)}isValid(e){const{countRows:n,countCols:r,countRowHeaders:i,countColHeaders:o}={countRows:0,countCols:0,countRowHeaders:0,countColHeaders:0,...e};return!(!Number.isInteger(this.row)||!Number.isInteger(this.col)||this.row<-o||this.col<-i||this.row>=n||this.col>=r)}isEqual(e){return e===this?!0:this.row===e.row&&this.col===e.col}isHeader(){return!this.isCell()}isCell(){return this.row>=0&&this.col>=0}isRtl(){return _f(nu,this)}isSouthEastOf(e){return this.row>=e.row&&(_f(nu,this)?this.col<=e.col:this.col>=e.col)}isNorthWestOf(e){return this.row<=e.row&&(_f(nu,this)?this.col>=e.col:this.col<=e.col)}isSouthWestOf(e){return this.row>=e.row&&(_f(nu,this)?this.col>=e.col:this.col<=e.col)}isNorthEastOf(e){return this.row<=e.row&&(_f(nu,this)?this.col<=e.col:this.col>=e.col)}normalize(){return this.row=this.row===null?this.row:Math.max(this.row,0),this.col=this.col===null?this.col:Math.max(this.col,0),this}assign(e){return Number.isInteger(e==null?void 0:e.row)&&(this.row=e.row),Number.isInteger(e==null?void 0:e.col)&&(this.col=e.col),e instanceof _h&&O$(nu,this,e.isRtl()),this}clone(){return new _h(this.row,this.col,_f(nu,this))}toObject(){return{row:this.row,col:this.col}}}function ghe(t,e,n){mhe(t,e),e.set(t,n)}function mhe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function I1(t,e,n){return(e=phe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function phe(t){var e=vhe(t,"string");return typeof e=="symbol"?e:e+""}function vhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Is(t,e){return t.get(ej(t,e))}function whe(t,e,n){return t.set(ej(t,e),n),n}function ej(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Do=new WeakMap;class uw{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;I1(this,"highlight",null),I1(this,"from",null),I1(this,"to",null),ghe(this,Do,!1),this.highlight=e.clone(),this.from=n.clone(),this.to=r.clone(),whe(Do,this,i)}setHighlight(e){return this.highlight=e.clone(),this}setFrom(e){return this.from=e.clone(),this}setTo(e){return this.to=e.clone(),this}isValid(e){return this.from.isValid(e)&&this.to.isValid(e)}isSingle(){return this.isSingleCell()||this.isSingleHeader()}isSingleCell(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}isSingleHeader(){return(this.from.row<0||this.from.col<0)&&this.from.row===this.to.row&&this.from.col===this.to.col}isHeader(){return this.from.isHeader()&&this.to.isHeader()?!0:this.from.col<0&&this.to.col<0||this.from.row<0&&this.to.row<0}containsHeaders(){return this.from.isHeader()||this.to.isHeader()}getOuterHeight(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}getOuterWidth(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}getHeight(){if(this.from.row<0&&this.to.row<0)return 0;const e=Math.max(this.from.row,0),n=Math.max(this.to.row,0);return Math.max(e,n)-Math.min(e,n)+1}getWidth(){if(this.from.col<0&&this.to.col<0)return 0;const e=Math.max(this.from.col,0),n=Math.max(this.to.col,0);return Math.max(e,n)-Math.min(e,n)+1}getCellsCount(){return this.getWidth()*this.getHeight()}includes(e){const{row:n,col:r}=e,i=this.getOuterTopStartCorner(),o=this.getOuterBottomEndCorner();return i.row<=n&&o.row>=n&&i.col<=r&&o.col>=r}includesRange(e){return this.includes(e.getOuterTopStartCorner())&&this.includes(e.getOuterBottomEndCorner())}isEqual(e){return Math.min(this.from.row,this.to.row)===Math.min(e.from.row,e.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(e.from.row,e.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(e.from.col,e.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(e.from.col,e.to.col)}overlaps(e){return e.isSouthEastOf(this.getOuterTopLeftCorner())&&e.isNorthWestOf(this.getOuterBottomRightCorner())}isSouthEastOf(e){return this.getOuterTopLeftCorner().isSouthEastOf(e)||this.getOuterBottomRightCorner().isSouthEastOf(e)}isNorthWestOf(e){return this.getOuterTopLeftCorner().isNorthWestOf(e)||this.getOuterBottomRightCorner().isNorthWestOf(e)}isOverlappingHorizontally(e){return this.getOuterTopEndCorner().col>=e.getOuterTopStartCorner().col&&this.getOuterTopEndCorner().col<=e.getOuterTopEndCorner().col||this.getOuterTopStartCorner().col<=e.getOuterTopEndCorner().col&&this.getOuterTopStartCorner().col>=e.getOuterTopStartCorner().col}isOverlappingVertically(e){return this.getOuterBottomStartCorner().row>=e.getOuterTopRightCorner().row&&this.getOuterBottomStartCorner().row<=e.getOuterBottomStartCorner().row||this.getOuterTopEndCorner().row<=e.getOuterBottomStartCorner().row&&this.getOuterTopEndCorner().row>=e.getOuterTopRightCorner().row}expand(e){const n=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner();return e.row<n.row||e.col<n.col||e.row>r.row||e.col>r.col?(this.from=this._createCellCoords(Math.min(n.row,e.row),Math.min(n.col,e.col)),this.to=this._createCellCoords(Math.max(r.row,e.row),Math.max(r.col,e.col)),!0):!1}expandByRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(this.includesRange(e)||!this.overlaps(e))return!1;const r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner(),o=this.getDirection(),s=e.getOuterTopStartCorner(),a=e.getOuterBottomEndCorner(),u=Math.min(r.row,s.row),c=Math.min(r.col,s.col),h=Math.max(i.row,a.row),g=Math.max(i.col,a.col),p=this._createCellCoords(u,c),v=this._createCellCoords(h,g);return this.from=p,this.to=v,this.setDirection(o),n&&(this.highlight.row===this.getOuterBottomRightCorner().row&&this.getVerticalDirection()==="N-S"&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&this.getHorizontalDirection()==="W-E"&&this.flipDirectionHorizontally()),!0}getDirection(){if(this.from.isNorthWestOf(this.to))return"NW-SE";if(this.from.isNorthEastOf(this.to))return"NE-SW";if(this.from.isSouthEastOf(this.to))return"SE-NW";if(this.from.isSouthWestOf(this.to))return"SW-NE"}setDirection(e){switch(e){case"NW-SE":[this.from,this.to]=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];break;case"NE-SW":[this.from,this.to]=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];break;case"SE-NW":[this.from,this.to]=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];break;case"SW-NE":[this.from,this.to]=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];break}}getVerticalDirection(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}getHorizontalDirection(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}flipDirectionVertically(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE");break}}flipDirectionHorizontally(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW");break}}getTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getTopLeftCorner(){return Is(Do,this)?this.getTopEndCorner():this.getTopStartCorner()}getBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getBottomRightCorner(){return Is(Do,this)?this.getBottomStartCorner():this.getBottomEndCorner()}getTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getTopRightCorner(){return Is(Do,this)?this.getTopStartCorner():this.getTopEndCorner()}getBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getBottomLeftCorner(){return Is(Do,this)?this.getBottomEndCorner():this.getBottomStartCorner()}getOuterTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterTopLeftCorner(){return Is(Do,this)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}getOuterBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterBottomRightCorner(){return Is(Do,this)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}getOuterTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterTopRightCorner(){return Is(Do,this)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}getOuterBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterBottomLeftCorner(){return Is(Do,this)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}isCorner(e){return e.isEqual(this.getOuterTopLeftCorner())||e.isEqual(this.getOuterTopRightCorner())||e.isEqual(this.getOuterBottomLeftCorner())||e.isEqual(this.getOuterBottomRightCorner())}getOppositeCorner(e){if(!(e instanceof _h))return!1;if(e.isEqual(this.getOuterBottomEndCorner()))return this.getOuterTopStartCorner();if(e.isEqual(this.getOuterTopStartCorner()))return this.getOuterBottomEndCorner();if(e.isEqual(this.getOuterTopEndCorner()))return this.getOuterBottomStartCorner();if(e.isEqual(this.getOuterBottomStartCorner()))return this.getOuterTopEndCorner()}getBordersSharedWith(e){if(!this.includesRange(e))return[];const n={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},r={top:Math.min(e.from.row,e.to.row),bottom:Math.max(e.from.row,e.to.row),left:Math.min(e.from.col,e.to.col),right:Math.max(e.from.col,e.to.col)},i=[];return n.top===r.top&&i.push("top"),n.right===r.right&&i.push(Is(Do,this)?"left":"right"),n.bottom===r.bottom&&i.push("bottom"),n.left===r.left&&i.push(Is(Do,this)?"right":"left"),i}getInner(){const e=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),r=[];for(let i=e.row;i<=n.row;i++)for(let o=e.col;o<=n.col;o++)!(this.from.row===i&&this.from.col===o)&&!(this.to.row===i&&this.to.col===o)&&r.push(this._createCellCoords(i,o));return r}getAll(){const e=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner(),r=[];for(let i=e.row;i<=n.row;i++)for(let o=e.col;o<=n.col;o++)e.row===i&&e.col===o?r.push(e):n.row===i&&n.col===o?r.push(n):r.push(this._createCellCoords(i,o));return r}forAll(e){const n=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner();for(let i=n.row;i<=r.row;i++)for(let o=n.col;o<=r.col;o++)if(e(i,o)===!1)return}clone(){return new uw(this.highlight,this.from,this.to,Is(Do,this))}toObject(){return{from:this.from.toObject(),to:this.to.toObject()}}_createCellCoords(e,n){return new _h(e,n,Is(Do,this))}}function Ja(t,e,n){Che(t,e),e.set(t,n)}function Che(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xt(t,e){return t.get(tj(t,e))}function rc(t,e,n){return t.set(tj(t,e),n),n}function tj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Os=new WeakMap,O1=new WeakMap,Ti=new WeakMap,Mf=new WeakMap,QC=new WeakMap,aa=new WeakMap,P1=new WeakMap,Zm=new WeakMap,_d=new WeakMap,el=new WeakMap;let nj=class{constructor(e,n,r,i,o,s){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;Ja(this,Os,void 0),Ja(this,O1,void 0),Ja(this,Ti,void 0),Ja(this,Mf,void 0),Ja(this,QC,void 0),Ja(this,aa,void 0),Ja(this,P1,void 0),Ja(this,Zm,void 0),Ja(this,_d,[null,null]),Ja(this,el,[null,null]),rc(Os,this,r),rc(O1,this,n),rc(Ti,this,o),rc(Mf,this,s),rc(QC,this,a),rc(aa,this,i),rc(P1,this,e),this.registerEvents()}registerEvents(){xt(aa,this).addEventListener(xt(Ti,this).holder,"contextmenu",r=>this.onContextMenu(r)),xt(aa,this).addEventListener(xt(Ti,this).TABLE,"mouseover",r=>this.onMouseOver(r)),xt(aa,this).addEventListener(xt(Ti,this).TABLE,"mouseout",r=>this.onMouseOut(r));const e=()=>{xt(aa,this).addEventListener(xt(Ti,this).holder,"touchstart",r=>this.onTouchStart(r)),xt(aa,this).addEventListener(xt(Ti,this).holder,"touchend",r=>this.onTouchEnd(r)),this.momentumScrolling||(this.momentumScrolling={}),xt(aa,this).addEventListener(xt(Ti,this).holder,"scroll",()=>{clearTimeout(this.momentumScrolling._timeout),this.momentumScrolling.ongoing||xt(Os,this).getSetting("onBeforeTouchScroll"),this.momentumScrolling.ongoing=!0,this.momentumScrolling._timeout=setTimeout(()=>{this.touchApplied||(this.momentumScrolling.ongoing=!1,xt(Os,this).getSetting("onAfterMomentumScroll"))},200)})},n=()=>{xt(aa,this).addEventListener(xt(Ti,this).holder,"mouseup",r=>this.onMouseUp(r)),xt(aa,this).addEventListener(xt(Ti,this).holder,"mousedown",r=>this.onMouseDown(r))};Oc()?e():(IB()&&e(),n())}selectedCellWasTouched(e){const r=this.parentCell(e).coords;if(xt(Zm,this)&&r){const[i,o]=[r.row,xt(Zm,this).from.row],[s,a]=[r.col,xt(Zm,this).from.col];return i===o&&s===a}return!1}parentCell(e){const n={},r=xt(Ti,this).TABLE,i=zC(e,["TD","TH"],r);return i?(n.coords=xt(Ti,this).getCoords(i),n.TD=i):Ft(e,"wtBorder")&&Ft(e,"current")?(n.coords=xt(Mf,this).getFocusSelection().cellRange.highlight,n.TD=xt(Ti,this).getCell(n.coords)):Ft(e,"wtBorder")&&Ft(e,"area")&&xt(Mf,this).getAreaSelection().cellRange&&(n.coords=xt(Mf,this).getAreaSelection().cellRange.to,n.TD=xt(Ti,this).getCell(n.coords)),n}onMouseDown(e){const n=xt(O1,this).rootDocument.activeElement,r=EB(Zle,e.target),i=e.target;if(!["TD","TH"].includes(n.nodeName)&&(i===n||r(0)===n||r(1)===n))return;const o=this.parentCell(i);Ft(i,"corner")?xt(Os,this).getSetting("onCellCornerMouseDown",e,i):o.TD&&xt(Os,this).has("onCellMouseDown")&&this.callListener("onCellMouseDown",e,o.coords,o.TD),(e.button===0||this.touchApplied)&&o.TD&&(xt(el,this)[0]=o.TD,clearTimeout(xt(_d,this)[0]),xt(_d,this)[0]=setTimeout(()=>{xt(el,this)[0]=null},1e3))}onContextMenu(e){if(xt(Os,this).has("onCellContextMenu")){const n=this.parentCell(e.target);n.TD&&this.callListener("onCellContextMenu",e,n.coords,n.TD)}}onMouseOver(e){if(!xt(Os,this).has("onCellMouseOver"))return;const n=xt(Ti,this).TABLE,r=zC(e.target,["TD","TH"],n),i=xt(QC,this)||this;r&&r!==i.lastMouseOver&&Ch(r,n)&&(i.lastMouseOver=r,this.callListener("onCellMouseOver",e,xt(Ti,this).getCoords(r),r))}onMouseOut(e){if(!xt(Os,this).has("onCellMouseOut"))return;const n=xt(Ti,this).TABLE,r=zC(e.target,["TD","TH"],n),i=zC(e.relatedTarget,["TD","TH"],n),o=xt(QC,this)||this;r&&r!==i&&Ch(r,n)&&(this.callListener("onCellMouseOut",e,xt(Ti,this).getCoords(r),r),i===null&&(o.lastMouseOver=null))}onMouseUp(e){const n=this.parentCell(e.target);n.TD&&xt(Os,this).has("onCellMouseUp")&&this.callListener("onCellMouseUp",e,n.coords,n.TD),!(e.button!==0&&!this.touchApplied)&&(n.TD===xt(el,this)[0]&&n.TD===xt(el,this)[1]?(Ft(e.target,"corner")?this.callListener("onCellCornerDblClick",e,n.coords,n.TD):this.callListener("onCellDblClick",e,n.coords,n.TD),xt(el,this)[0]=null,xt(el,this)[1]=null):n.TD===xt(el,this)[0]&&(xt(el,this)[1]=n.TD,clearTimeout(xt(_d,this)[1]),xt(_d,this)[1]=setTimeout(()=>{xt(el,this)[1]=null},500)))}onTouchStart(e){rc(Zm,this,xt(Mf,this).getFocusSelection().cellRange),this.touchApplied=!0,this.onMouseDown(e)}onTouchEnd(e){var n;const r=e.target,i=(n=this.parentCell(r))===null||n===void 0?void 0:n.coords,o=Ct(i)&&i.row>=0&&i.col>=0;if(e.cancelable&&o&&xt(Os,this).getSetting("isDataViewInstance")){const a=["A","BUTTON","INPUT"];AB()&&(Pue()||Aue())&&this.selectedCellWasTouched(r)&&!a.includes(r.tagName)?e.preventDefault():this.selectedCellWasTouched(r)||e.preventDefault()}this.onMouseUp(e),this.touchApplied=!1}callListener(e,n,r,i){const o=xt(Os,this).getSettingPure(e);o&&o(n,r,i,xt(P1,this).call(this))}destroy(){clearTimeout(xt(_d,this)[0]),clearTimeout(xt(_d,this)[1]),xt(aa,this).destroy()}};function A1(t,e,n){return(e=yhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yhe(t){var e=bhe(t,"string");return typeof e=="symbol"?e:e+""}function bhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class She{constructor(e,n,r){A1(this,"offset",void 0),A1(this,"total",void 0),A1(this,"countTH",void 0),this.offset=e,this.total=n,this.countTH=r}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleRowHeadedColumnToSourceColumn(e){return this.renderedToSource(this.offsettedTH(e))}sourceColumnToVisibleRowHeadedColumn(e){return this.unOffsettedTH(this.sourceToRendered(e))}}function H1(t,e,n){return(e=Rhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rhe(t){var e=Ehe(t,"string");return typeof e=="symbol"?e:e+""}function Ehe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _he{constructor(e,n,r){H1(this,"offset",void 0),H1(this,"total",void 0),H1(this,"countTH",void 0),this.offset=e,this.total=n,this.countTH=r}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleColHeadedRowToSourceRow(e){return this.renderedToSource(this.offsettedTH(e))}sourceRowToVisibleColHeadedRow(e){return this.unOffsettedTH(this.sourceToRendered(e))}}const Mhe=0,vS=1,wS=2;function JC(t,e,n){return(e=The(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function The(t){var e=xhe(t,"string");return typeof e=="symbol"?e:e+""}function xhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class P${constructor(){JC(this,"currentSize",0),JC(this,"nextSize",0),JC(this,"currentOffset",0),JC(this,"nextOffset",0)}setSize(e){this.currentSize=this.nextSize,this.nextSize=e}setOffset(e){this.currentOffset=this.nextOffset,this.nextOffset=e}}function D1(t,e,n){return(e=Ihe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ihe(t){var e=Ohe(t,"string");return typeof e=="symbol"?e:e+""}function Ohe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Phe{constructor(){D1(this,"size",new P$),D1(this,"workingSpace",Mhe),D1(this,"sharedSize",null)}setSize(e){this.size.setSize(e)}setOffset(e){this.size.setOffset(e)}getViewSize(){return this.size}isShared(){return this.sharedSize instanceof P$}isPlaceOn(e){return this.workingSpace===e}append(e){this.workingSpace=vS,e.workingSpace=wS,this.sharedSize=e.getViewSize()}prepend(e){this.workingSpace=wS,e.workingSpace=vS,this.sharedSize=e.getViewSize()}}function Tf(t,e,n){return(e=Ahe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ahe(t){var e=Hhe(t,"string");return typeof e=="symbol"?e:e+""}function Hhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rj{constructor(e,n,r){Tf(this,"rootNode",void 0),Tf(this,"nodesPool",void 0),Tf(this,"sizeSet",new Phe),Tf(this,"childNodeType",void 0),Tf(this,"visualIndex",0),Tf(this,"collectedNodes",[]),this.rootNode=e,this.nodesPool=n,this.childNodeType=r.toUpperCase()}setSize(e){return this.sizeSet.setSize(e),this}setOffset(e){return this.sizeSet.setOffset(e),this}isSharedViewSet(){return this.sizeSet.isShared()}getNode(e){return e<this.collectedNodes.length?this.collectedNodes[e]:null}getCurrentNode(){const e=this.collectedNodes.length;return e>0?this.collectedNodes[e-1]:null}getRenderedChildCount(){const{rootNode:e,sizeSet:n}=this;let r=0;if(this.isSharedViewSet()){let i=e.firstElementChild;for(;i;){if(i.tagName===this.childNodeType)r+=1;else if(n.isPlaceOn(vS))break;i=i.nextElementSibling}}else r=e.childElementCount;return r}start(){this.collectedNodes.length=0,this.visualIndex=0;const{rootNode:e,sizeSet:n}=this,r=this.isSharedViewSet(),{nextSize:i}=n.getViewSize();let o=this.getRenderedChildCount();for(;o<i;){const a=this.nodesPool();!r||r&&n.isPlaceOn(wS)?e.appendChild(a):e.insertBefore(a,e.firstChild),o+=1}const s=r&&n.isPlaceOn(vS);for(;o>i;)e.removeChild(s?e.firstChild:e.lastChild),o-=1}render(){const{rootNode:e,sizeSet:n}=this;let r=this.visualIndex;this.isSharedViewSet()&&n.isPlaceOn(wS)&&(r+=n.sharedSize.nextSize);let i=e.childNodes[r];if(i.tagName!==this.childNodeType){const o=this.nodesPool();e.replaceChild(o,i),i=o}this.collectedNodes.push(i),this.visualIndex+=1}end(){}}class ij extends rj{prependView(e){return this.sizeSet.prepend(e.sizeSet),e.sizeSet.append(this.sizeSet),this}appendView(e){return this.sizeSet.append(e.sizeSet),e.sizeSet.prepend(this.sizeSet),this}}function Dhe(t,e,n){return(e=Nhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nhe(t){var e=$he(t,"string");return typeof e=="symbol"?e:e+""}function $he(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Lhe{constructor(e){Dhe(this,"nodeType",void 0),this.nodeType=e.toUpperCase()}setRootDocument(e){this.rootDocument=e}obtain(){return this.rootDocument.createElement(this.nodeType)}}function Qm(t,e,n){return(e=khe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function khe(t){var e=Fhe(t,"string");return typeof e=="symbol"?e:e+""}function Fhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cw{constructor(e,n){Qm(this,"nodesPool",null),Qm(this,"nodeType",void 0),Qm(this,"rootNode",void 0),Qm(this,"table",null),Qm(this,"renderedNodes",0),this.nodesPool=typeof e=="string"?new Lhe(e):null,this.nodeType=e,this.rootNode=n}setTable(e){this.nodesPool&&this.nodesPool.setRootDocument(e.rootDocument),this.table=e}adjust(){}render(){}}function A$(t,e,n){return(e=Vhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vhe(t){var e=Whe(t,"string");return typeof e=="symbol"?e:e+""}function Whe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Bhe extends cw{constructor(){super("TH"),A$(this,"orderViews",new WeakMap),A$(this,"sourceRowIndex",0)}obtainOrderView(e){let n;return this.orderViews.has(e)?n=this.orderViews.get(e):(n=new ij(e,r=>this.nodesPool.obtain(this.sourceRowIndex,r),this.nodeType),this.orderViews.set(e,n)),n}render(){const{rowsToRender:e,rowHeaderFunctions:n,rowHeadersCount:r,rows:i,cells:o}=this.table;for(let s=0;s<e;s++){const a=this.table.renderedRowToSource(s),u=i.getRenderedNode(s);this.sourceRowIndex=a;const c=this.obtainOrderView(u),h=o.obtainOrderView(u);c.appendView(h).setSize(r).setOffset(this.table.renderedColumnToSource(0)).start();for(let g=0;g<r;g++){c.render();const p=c.getCurrentNode();p.className="",p.removeAttribute("style"),Qg(p,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&Lt(p,[Ole(),Fle(),XI(g+1),Zg(-1)]),n[g](a,p,g)}c.end()}}}class jhe extends cw{constructor(e){super(null,e)}adjust(){const{columnHeadersCount:e,rowHeadersCount:n}=this.table;let r=this.rootNode.firstChild;if(e){const{columnsToRender:i}=this.table,o=i+n;for(let a=0,u=e;a<u;a++){for(r=this.rootNode.childNodes[a],r||(r=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(r)),this.renderedNodes=r.childNodes.length;this.renderedNodes<o;)r.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;for(;this.renderedNodes>o;)r.removeChild(r.lastChild),this.renderedNodes-=1}const s=this.rootNode.childNodes.length;if(s>e)for(let a=e;a<s;a++)this.rootNode.removeChild(this.rootNode.lastChild)}else r&&Al(r)}render(){const{columnHeadersCount:e}=this.table;this.table.isAriaEnabled()&&Lt(this.rootNode,[aB()]);for(let n=0;n<e;n+=1){const{columnHeaderFunctions:r,columnsToRender:i,rowHeadersCount:o}=this.table,s=this.rootNode.childNodes[n];this.table.isAriaEnabled()&&Lt(s,[UT(),dB(n+1)]);for(let a=-1*o;a<i;a+=1){const u=this.table.renderedColumnToSource(a),c=s.childNodes[a+o];c.className="",c.removeAttribute("style"),Qg(c,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&Lt(c,[XI(a+1+this.table.rowHeadersCount),Zg(-1),Ple(),...a>=0?[kle()]:[UT()]]),r[n](u,c,n)}}}}let H$=!1;class zhe extends cw{constructor(e){super(null,e)}adjust(){const{columnsToRender:e,rowHeadersCount:n}=this.table,r=e+n;for(;this.renderedNodes<r;)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;for(;this.renderedNodes>r;)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}render(){this.adjust();const{columnsToRender:e,rowHeadersCount:n}=this.table;!H$&&e>1e3&&(H$=!0,er(tr`Performance tip: Handsontable rendered more than 1000 visible columns.\x20
        Consider limiting the number of rendered columns by specifying the table width and/or\x20
        turning off the "renderAllColumns" option.`));for(let i=0;i<n;i++){const o=this.table.renderedColumnToSource(i),s=this.table.columnUtils.getHeaderWidth(o);this.rootNode.childNodes[i].style.width=`${s}px`}for(let i=0;i<e;i++){const o=this.table.renderedColumnToSource(i),s=this.table.columnUtils.getStretchedColumnWidth(o);this.rootNode.childNodes[i+n].style.width=`${s}px`}const r=this.rootNode.firstChild;r&&Qe(r,"rowHeader")}}function Yhe(t,e,n){return(e=Uhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uhe(t){var e=Ghe(t,"string");return typeof e=="symbol"?e:e+""}function Ghe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const ey={rowEven:"ht__row_even",rowOdd:"ht__row_odd"};let D$=!1;class Khe extends cw{constructor(e){super("TR",e),Yhe(this,"orderView",void 0),this.orderView=new rj(e,n=>this.nodesPool.obtain(n),this.nodeType)}getRenderedNode(e){return this.orderView.getNode(e)}render(){const{rowsToRender:e}=this.table;!D$&&e>1e3&&(D$=!0,er(tr`Performance tip: Handsontable rendered more than 1000 visible rows.\x20
        Consider limiting the number of rendered rows by specifying the table height and/or\x20
        turning off the "renderAllRows" option.`)),this.table.isAriaEnabled()&&Lt(this.rootNode,[aB()]),this.orderView.setSize(e).setOffset(this.table.renderedRowToSource(0)).start();for(let i=0;i<e;i++){this.orderView.render();const o=this.orderView.getCurrentNode(),s=this.table.renderedRowToSource(i);if(this.table.isAriaEnabled()){var n,r;Lt(o,[UT(),dB(s+((n=(r=this.table.rowUtils)===null||r===void 0||(r=r.dataAccessObject)===null||r===void 0?void 0:r.columnHeaders.length)!==null&&n!==void 0?n:0)+1)])}Zt(o,[ey.rowEven,ey.rowOdd]),(s+1)%2===0?Qe(o,ey.rowEven):Qe(o,ey.rowOdd)}this.orderView.end()}}function N$(t,e,n){return(e=qhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qhe(t){var e=Xhe(t,"string");return typeof e=="symbol"?e:e+""}function Xhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Zhe extends cw{constructor(){super("TD"),N$(this,"orderViews",new WeakMap),N$(this,"sourceRowIndex",0)}obtainOrderView(e){let n;return this.orderViews.has(e)?n=this.orderViews.get(e):(n=new ij(e,r=>this.nodesPool.obtain(this.sourceRowIndex,r),this.nodeType),this.orderViews.set(e,n)),n}render(){const{rowsToRender:e,columnsToRender:n,rows:r,rowHeaders:i}=this.table;for(let a=0;a<e;a++){const u=this.table.renderedRowToSource(a),c=r.getRenderedNode(a);this.sourceRowIndex=u;const h=this.obtainOrderView(c),g=i.obtainOrderView(c);h.prependView(g).setSize(n).setOffset(this.table.renderedColumnToSource(0)).start();for(let p=0;p<n;p++){h.render();const v=h.getCurrentNode(),y=this.table.renderedColumnToSource(p);if(Ft(v,"hide")||(v.className=""),v.removeAttribute("style"),v.removeAttribute("dir"),Qg(v,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.cellRenderer(u,y,v),this.table.isAriaEnabled()){var o,s;Lt(v,[...v.hasAttribute("role")?[]:[Ile()],Zg(-1),XI(y+((o=(s=this.table.rowUtils)===null||s===void 0||(s=s.dataAccessObject)===null||s===void 0?void 0:s.rowHeaders.length)!==null&&o!==void 0?o:0)+1)])}}h.end()}}}function vi(t,e,n){return(e=Qhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qhe(t){var e=Jhe(t,"string");return typeof e=="symbol"?e:e+""}function Jhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class efe{constructor(e){let{cellRenderer:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};vi(this,"rootNode",void 0),vi(this,"rootDocument",void 0),vi(this,"rowHeaders",null),vi(this,"columnHeaders",null),vi(this,"colGroup",null),vi(this,"rows",null),vi(this,"cells",null),vi(this,"rowFilter",null),vi(this,"columnFilter",null),vi(this,"rowUtils",null),vi(this,"columnUtils",null),vi(this,"rowsToRender",0),vi(this,"columnsToRender",0),vi(this,"rowHeaderFunctions",[]),vi(this,"rowHeadersCount",0),vi(this,"columnHeaderFunctions",[]),vi(this,"columnHeadersCount",0),vi(this,"cellRenderer",void 0),vi(this,"activeOverlayName",void 0),this.rootNode=e,this.rootDocument=this.rootNode.ownerDocument,this.cellRenderer=n}setActiveOverlayName(e){this.activeOverlayName=e}setAxisUtils(e,n){this.rowUtils=e,this.columnUtils=n}setViewportSize(e,n){this.rowsToRender=e,this.columnsToRender=n}setFilters(e,n){this.rowFilter=e,this.columnFilter=n}setHeaderContentRenderers(e,n){this.rowHeaderFunctions=e,this.rowHeadersCount=e.length,this.columnHeaderFunctions=n,this.columnHeadersCount=n.length}setRenderers(){let{rowHeaders:e,columnHeaders:n,colGroup:r,rows:i,cells:o}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.setTable(this),n.setTable(this),r.setTable(this),i.setTable(this),o.setTable(this),this.rowHeaders=e,this.columnHeaders=n,this.colGroup=r,this.rows=i,this.cells=o}renderedRowToSource(e){return this.rowFilter.renderedToSource(e)}renderedColumnToSource(e){return this.columnFilter.renderedToSource(e)}isAriaEnabled(){return this.rowUtils.wtSettings.getSetting("ariaTags")}render(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();const{rowsToRender:e,rows:n}=this;for(let r=0;r<e;r++){const i=n.getRenderedNode(r);if(i.firstChild){const o=this.renderedRowToSource(r),s=this.rowUtils.getHeightByOverlayName(o,this.activeOverlayName);s?i.firstChild.style.height=`${s-1}px`:i.firstChild.style.height=""}}}}class tfe{constructor(){let{TABLE:e,THEAD:n,COLGROUP:r,TBODY:i,rowUtils:o,columnUtils:s,cellRenderer:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.renderer=new efe(e,{cellRenderer:a}),this.renderer.setRenderers({rowHeaders:new Bhe,columnHeaders:new jhe(n),colGroup:new zhe(r),rows:new Khe(i),cells:new Zhe}),this.renderer.setAxisUtils(o,s)}setActiveOverlayName(e){return this.renderer.setActiveOverlayName(e),this}setFilters(e,n){return this.renderer.setFilters(e,n),this}setViewportSize(e,n){return this.renderer.setViewportSize(e,n),this}setHeaderContentRenderers(e,n){return this.renderer.setHeaderContentRenderers(e,n),this}adjust(){this.renderer.adjust()}render(){this.renderer.render()}}function Jm(t,e,n){nfe(t,e),e.set(t,n)}function nfe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ty(t,e,n){return(e=rfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rfe(t){var e=ife(t,"string");return typeof e=="symbol"?e:e+""}function ife(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xi(t,e){return t.get(oj(t,e))}function ep(t,e,n){return t.set(oj(t,e),n),n}function oj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ny=new WeakMap,xf=new WeakMap,tp=new WeakMap,ry=new WeakMap,Md=new WeakMap;class ofe{constructor(e){let{totalColumns:n,stretchMode:r,stretchingColumnWidthFn:i,columnWidthFn:o}=e;ty(this,"stretchAllRatio",0),ty(this,"stretchLastWidth",0),ty(this,"stretchAllColumnsWidth",[]),Jm(this,ny,0),ty(this,"needVerifyLastColumnWidth",!0),Jm(this,xf,()=>0),Jm(this,tp,s=>s),Jm(this,ry,s=>s),Jm(this,Md,()=>"none"),ep(xf,this,n),ep(Md,this,r),ep(tp,this,i??Xi(tp,this)),ep(ry,this,o??Xi(ry,this))}refreshStretching(e){if(Xi(Md,this).call(this)==="none")return;this.stretchAllRatio=0,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0,this.stretchLastWidth=0,ep(ny,this,e);let n=0;for(let i=0;i<Xi(xf,this).call(this);i++){const o=this._getColumnWidth(i),s=Xi(tp,this).call(this,void 0,i);typeof s=="number"?e-=s:n+=o}const r=e-n;if(Xi(Md,this).call(this)==="all"&&r>0)this.stretchAllRatio=e/n,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if(Xi(Md,this).call(this)==="last"&&e!==1/0){const i=this._getColumnWidth(Xi(xf,this).call(this)-1),o=r+i;this.stretchLastWidth=o>=0?o:i}}getStretchedColumnWidth(e,n){let r=null;return Xi(Md,this).call(this)==="all"&&this.stretchAllRatio!==0?r=this._getStretchedAllColumnWidth(e,n):Xi(Md,this).call(this)==="last"&&this.stretchLastWidth!==0&&(r=this._getStretchedLastColumnWidth(e)),r}_getStretchedAllColumnWidth(e,n){let r=0;if(!this.stretchAllColumnsWidth[e]){const i=Math.round(n*this.stretchAllRatio),o=Xi(tp,this).call(this,i,e);o===void 0?this.stretchAllColumnsWidth[e]=i:this.stretchAllColumnsWidth[e]=isNaN(o)?this._getColumnWidth(e):o}if(this.stretchAllColumnsWidth.length===Xi(xf,this).call(this)&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(let i=0;i<this.stretchAllColumnsWidth.length;i++)r+=this.stretchAllColumnsWidth[i];r!==Xi(ny,this)&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=Xi(ny,this)-r)}return this.stretchAllColumnsWidth[e]}_getStretchedLastColumnWidth(e){return e===Xi(xf,this).call(this)-1?this.stretchLastWidth:null}_getColumnWidth(e){let n=Xi(ry,this).call(this,e);return isNaN(n)&&(n=U0),n}}function iy(t,e,n){return(e=sfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sfe(t){var e=afe(t,"string");return typeof e=="symbol"?e:e+""}function afe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class lfe{constructor(e,n){iy(this,"dataAccessObject",void 0),iy(this,"wtSettings",void 0),iy(this,"headerWidths",new Map),iy(this,"stretching",void 0),this.dataAccessObject=e,this.wtSettings=n,this.stretching=new ofe({totalColumns:()=>this.wtSettings.getSetting("totalColumns"),stretchMode:()=>this.wtSettings.getSetting("stretchH"),stretchingColumnWidthFn:(r,i)=>this.wtSettings.getSetting("onBeforeStretchingColumnWidth",r,i),columnWidthFn:r=>this.dataAccessObject.wtTable.getColumnWidth(r)})}getWidth(e){return this.wtSettings.getSetting("columnWidth",e)||this.wtSettings.getSetting("defaultColumnWidth")}getStretchedColumnWidth(e){let n=this.getWidth(e);const r=this.stretching.getStretchedColumnWidth(e,n);return r&&(n=r),n}getHeaderHeight(e){let n=this.wtSettings.getSetting("defaultRowHeight");const r=this.dataAccessObject.wtViewport.oversizedColumnHeaders[e];return r!==void 0&&(n=n?Math.max(n,r):r),n}getHeaderWidth(e){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(e))}refreshStretching(){const{wtTable:e,wtViewport:n,cloneSource:r}=this.dataAccessObject,i=r?r.wtTable.holder:e.holder,o=i.offsetHeight<i.scrollHeight?Di():0;this.stretching.refreshStretching(n.getViewportWidth()-o)}calculateWidths(){const{wtSettings:e}=this;let n=e.getSetting("rowHeaderWidth");if(this.refreshStretching(),n=e.getSetting("onModifyRowHeaderWidth",n),n!=null){const r=e.getSetting("rowHeaders").length,i=e.getSetting("defaultColumnWidth");for(let o=0;o<r;o++){let s=Array.isArray(n)?n[o]:n;s=s??i,this.headerWidths.set(o,s)}}}}function $$(t,e,n){return(e=ufe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ufe(t){var e=cfe(t,"string");return typeof e=="symbol"?e:e+""}function cfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dfe{constructor(e,n){$$(this,"dataAccessObject",void 0),$$(this,"wtSettings",void 0),this.dataAccessObject=e,this.wtSettings=n}getHeight(e){let n=this.wtSettings.getSetting("rowHeight",e);const r=this.dataAccessObject.wtViewport.oversizedRows[e];return r!==void 0&&(n=n===void 0?r:Math.max(n,r)),n}getHeightByOverlayName(e,n){let r=this.wtSettings.getSetting("rowHeightByOverlayName",e,n);const i=this.dataAccessObject.wtViewport.oversizedRows[e];return i!==void 0&&(r=r===void 0?i:Math.max(r,i)),r}}function tl(t,e,n){return(e=hfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hfe(t){var e=ffe(t,"string");return typeof e=="symbol"?e:e+""}function ffe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class em{constructor(e,n,r,i,o){tl(this,"wtSettings",null),tl(this,"domBindings",void 0),tl(this,"TBODY",null),tl(this,"THEAD",null),tl(this,"COLGROUP",null),tl(this,"hasTableHeight",!0),tl(this,"hasTableWidth",!0),tl(this,"isTableVisible",!1),tl(this,"tableOffset",0),tl(this,"holderOffset",0),this.domBindings=r,this.isMaster=o==="master",this.name=o,this.dataAccessObject=e,this.facadeGetter=n,this.wtSettings=i,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=r.rootTable,mB(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;const s=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",()=>this._modifyRowHeaderWidth(s)),this.rowUtils=new dfe(this.dataAccessObject,this.wtSettings),this.columnUtils=new lfe(this.dataAccessObject,this.wtSettings),this.tableRenderer=new tfe({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer")})}is(e){return this.name===e}fixTableDomTree(){const e=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=e.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=e.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=e.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}createSpreader(e){const n=e.parentNode;let r;return(!n||n.nodeType!==Node.ELEMENT_NODE||!Ft(n,"wtHolder"))&&(r=this.domBindings.rootDocument.createElement("div"),r.className="wtSpreader",n&&n.insertBefore(r,e),r.appendChild(e)),r.style.position="relative",this.wtSettings.getSetting("ariaTags")&&Lt(r,[xl()]),r}createHider(e){const n=e.parentNode;let r;return(!n||n.nodeType!==Node.ELEMENT_NODE||!Ft(n,"wtHolder"))&&(r=this.domBindings.rootDocument.createElement("div"),r.className="wtHider",n&&n.insertBefore(r,e),r.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&Lt(r,[xl()]),r}createHolder(e){const n=e.parentNode;let r;return(!n||n.nodeType!==Node.ELEMENT_NODE||!Ft(n,"wtHolder"))&&(r=this.domBindings.rootDocument.createElement("div"),r.style.position="relative",r.className="wtHolder",n&&n.insertBefore(r,e),this.isMaster&&(r.parentNode.className+="ht_master handsontable",r.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr"),this.wtSettings.getSetting("ariaTags")&&Lt(r.parentNode,[xl()])),r.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&Lt(r,[xl()]),r}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtSettings:n}=this,{wtOverlays:r,wtViewport:i}=this.dataAccessObject,o=n.getSetting("totalRows"),s=n.getSetting("totalColumns"),a=n.getSetting("rowHeaders"),u=a.length,c=n.getSetting("columnHeaders"),h=c.length;let g=e;if(this.isMaster&&(r.beforeDraw(),this.holderOffset=Hi(this.holder),g=i.createCalculators(g),u&&!n.getSetting("fixedColumnsStart"))){const v=r.inlineStartOverlay.getScrollPosition(),y=this.correctHeaderWidth;this.correctHeaderWidth=v!==0,y!==this.correctHeaderWidth&&(g=!1)}if(g)this.isMaster&&r.refresh(!0);else{this.isMaster?this.tableOffset=Hi(this.TABLE):this.tableOffset=this.dataAccessObject.parentTableOffset;const v=o>0?this.getFirstRenderedRow():0,y=s>0?this.getFirstRenderedColumn():0;this.rowFilter=new _he(v,o,h),this.columnFilter=new She(y,s,u);let R=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();const S={};this.wtSettings.getSetting("beforeDraw",!0,S),R=S.skipRender!==!0}if(R){this.tableRenderer.setHeaderContentRenderers(a,c),(this.is(_l)||this.is(Fc))&&this.tableRenderer.setHeaderContentRenderers(a,[]),this.resetOversizedRows(),this.tableRenderer.setActiveOverlayName(this.name).setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render();let S;if(this.isMaster&&(S=this.dataAccessObject.workspaceWidth,i.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(_l))&&this.markOversizedRows(),this.isMaster){this.wtSettings.getSetting("externalRowCalculator")||i.createVisibleCalculators(),r.refresh(!1),r.applyToDOM();const T=Rr(this.hider),x=Rr(this.TABLE);T!==0&&x!==T&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),S!==i.getWorkspaceWidth()&&(i.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wtSettings.getSetting("onDraw",!0)}else this.is(_l)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize()}}let p=!1;return this.isMaster&&(p=r.topOverlay.resetFixedPosition(),r.bottomOverlay.clone&&(p=r.bottomOverlay.resetFixedPosition()||p),p=r.inlineStartOverlay.resetFixedPosition()||p,r.topInlineStartCornerOverlay&&r.topInlineStartCornerOverlay.resetFixedPosition(),r.bottomInlineStartCornerOverlay&&r.bottomInlineStartCornerOverlay.clone&&r.bottomInlineStartCornerOverlay.resetFixedPosition()),p?(r.refreshAll(),r.adjustElementsSize()):this.dataAccessObject.selectionManager.setActiveOverlay(this.facadeGetter()).render(g),this.isMaster&&r.afterDraw(),this.dataAccessObject.drawn=!0,this}markIfOversizedColumnHeader(e){const n=this.columnFilter.renderedToSource(e);let r=this.wtSettings.getSetting("columnHeaders").length;const i=this.wtSettings.getSetting("defaultRowHeight");let o,s,a;const u=this.wtSettings.getSetting("columnHeaderHeight")||[];for(;r;)r-=1,o=this.getColumnHeaderHeight(r),s=this.getColumnHeader(n,r),s&&(a=gg(s),(!o&&i<a||o<a)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=a),Array.isArray(u)?u[r]!==null&&u[r]!==void 0&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=u[r]):isNaN(u)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=u),this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]<(u[r]||u)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[r]=u[r]||u))}adjustColumnHeaderHeights(){const{wtSettings:e}=this,n=this.THEAD.childNodes,r=this.dataAccessObject.wtViewport.oversizedColumnHeaders,i=e.getSetting("columnHeaders");for(let o=0,s=i.length;o<s;o++)if(r[o]){if(!n[o]||n[o].childNodes.length===0)return;n[o].childNodes[0].style.height=`${r[o]}px`}}resetOversizedRows(){const{wtSettings:e}=this,{wtViewport:n}=this.dataAccessObject;if(!(!this.isMaster&&!this.is(_l))&&!e.getSetting("externalRowCalculator")){const r=this.getRenderedRowsCount();for(let i=0;i<r;i++){const o=this.rowFilter.renderedToSource(i);n.oversizedRows&&n.oversizedRows[o]&&(n.oversizedRows[o]=void 0)}}}getCell(e){let n=e.row,r=e.col;const i=this.wtSettings.getSetting("onModifyGetCellCoords",n,r);if(i&&Array.isArray(i)&&([n,r]=i),this.isRowBeforeRenderedRows(n))return-1;if(this.isRowAfterRenderedRows(n))return-2;if(this.isColumnBeforeRenderedColumns(r))return-3;if(this.isColumnAfterRenderedColumns(r))return-4;const o=this.getRow(n);if(!o&&n>=0)throw new Error("TR was expected to be rendered but is not");const s=o.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(r)];if(!s&&r>=0)throw new Error("TD or TH was expected to be rendered but is not");return s}getRow(e){let n=null,r=null;if(e<0){var i;n=(i=this.rowFilter)===null||i===void 0?void 0:i.sourceRowToVisibleColHeadedRow(e),r=this.THEAD}else{var o;n=(o=this.rowFilter)===null||o===void 0?void 0:o.sourceToRendered(e),r=this.TBODY}return n!==void 0&&r!==void 0?r.childNodes.length<n+1?!1:r.childNodes[n]:!1}getColumnHeader(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.THEAD.childNodes[n];return r==null?void 0:r.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e)]}getColumnHeaders(e){const n=[],r=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e);return this.THEAD.childNodes.forEach(i=>{const o=i.childNodes[r];o&&n.push(o)}),n}getRowHeader(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.wtSettings.getSetting("rowHeaders").length;if(n>=r)return;const i=this.rowFilter.sourceToRendered(e),o=i<0?this.rowFilter.sourceRowToVisibleColHeadedRow(e):i,a=(i<0?this.THEAD:this.TBODY).childNodes[o];return a==null?void 0:a.childNodes[n]}getRowHeaders(e){const n=[],r=this.wtSettings.getSetting("rowHeaders").length;for(let i=0;i<r;i++){const o=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)],s=o==null?void 0:o.childNodes[i];s&&n.push(s)}return n}getCoords(e){let n=e;if(n.nodeName!=="TD"&&n.nodeName!=="TH"&&(n=Sh(n,["TD","TH"])),n===null)return null;const r=n.parentNode,i=r.parentNode;let o=eue(r),s=n.cellIndex;return Rd(xh,n,this.wtRootElement)||Rd(Mh,n,this.wtRootElement)?i.nodeName==="THEAD"&&(o-=i.childNodes.length):Rd(Fc,n,this.wtRootElement)||Rd(_l,n,this.wtRootElement)?o=this.wtSettings.getSetting("totalRows")-i.childNodes.length+o:i===this.THEAD?o=this.rowFilter.visibleColHeadedRowToSourceRow(o):o=this.rowFilter.renderedToSource(o),Rd(xh,n,this.wtRootElement)||Rd(Th,n,this.wtRootElement)||Rd(Fc,n,this.wtRootElement)?s=this.columnFilter.offsettedTH(s):s=this.columnFilter.visibleRowHeadedColumnToSourceColumn(s),this.wot.createCellCoords(o,s)}markOversizedRows(){if(this.wtSettings.getSetting("externalRowCalculator"))return;let e=this.TBODY.childNodes.length;const n=e*this.wtSettings.getSetting("defaultRowHeight"),r=gg(this.TBODY)-1;let i,o,s,a,u;if(!(n===r&&!this.wtSettings.getSetting("fixedRowsBottom")))for(;e;)e-=1,s=this.rowFilter.renderedToSource(e),i=this.getRowHeight(s),a=this.getTrForRow(s),u=a.querySelector("th"),u?o=gg(u):o=gg(a)-1,(!i&&this.wtSettings.getSetting("defaultRowHeight")<o||i<o)&&(o+=1,this.dataAccessObject.wtViewport.oversizedRows[s]=o)}getTrForRow(e){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)]}isColumnHeaderRendered(e){if(e>=0)return!1;const r=this.wtSettings.getSetting("rowHeaders").length;return Math.abs(e)<=r}isRowHeaderRendered(e){if(e>=0)return!1;const r=this.wtSettings.getSetting("columnHeaders").length;return Math.abs(e)<=r}isRowBeforeRenderedRows(e){const n=this.getFirstRenderedRow();return e<0&&n<=0?!this.isRowHeaderRendered(e):e<n}isRowAfterRenderedRows(e){return e>this.getLastRenderedRow()}isColumnBeforeRenderedColumns(e){const n=this.getFirstRenderedColumn();return e<0&&n<=0?!this.isColumnHeaderRendered(e):e<n}isColumnAfterRenderedColumns(e){return this.columnFilter&&e>this.getLastRenderedColumn()}isColumnAfterViewport(e){return this.columnFilter&&e>this.getLastVisibleColumn()}isRowAfterViewport(e){return this.rowFilter&&e>this.getLastVisibleRow()}isColumnBeforeViewport(e){return this.columnFilter&&this.columnFilter.sourceToRendered(e)<0&&e>=0}isLastRowFullyVisible(){return this.getLastVisibleRow()===this.getLastRenderedRow()}isLastColumnFullyVisible(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}allRowsInViewport(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}allColumnsInViewport(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}getRowHeight(e){return this.rowUtils.getHeight(e)}getColumnHeaderHeight(e){return this.columnUtils.getHeaderHeight(e)}getColumnWidth(e){return this.columnUtils.getWidth(e)}getStretchedColumnWidth(e){return this.columnUtils.getStretchedColumnWidth(e)}hasDefinedSize(){return this.hasTableHeight&&this.hasTableWidth}getWidth(){return Rr(this.TABLE)}getHeight(){return li(this.TABLE)}getTotalWidth(){const e=Rr(this.hider);return e!==0?e:this.getWidth()}getTotalHeight(){const e=li(this.hider);return e!==0?e:this.getHeight()}isVisible(){return Og(this.TABLE)}_modifyRowHeaderWidth(e){let n=br(e)?e():null;return Array.isArray(n)?(n=[...n],n[n.length-1]=this._correctRowHeaderWidth(n[n.length-1])):n=this._correctRowHeaderWidth(n),n}_correctRowHeaderWidth(e){let n=e;return typeof e!="number"&&(n=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(n+=1),n}}const gfe="stickyRowsBottom",fO={getFirstRenderedRow(){const t=this.wtSettings.getSetting("totalRows"),e=this.wtSettings.getSetting("fixedRowsBottom"),n=t-e;return t===0||e===0?-1:n<0?0:n},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){const t=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsBottom"),t)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return 0}};Fu(fO,"MIXIN_NAME",gfe,{writable:!1,enumerable:!1});const mfe="stickyColumnsStart",G0={getFirstRenderedColumn(){return this.wtSettings.getSetting("totalColumns")===0?-1:0},getFirstVisibleColumn(){return this.getFirstRenderedColumn()},getFirstPartiallyVisibleColumn(){return this.getFirstRenderedColumn()},getLastRenderedColumn(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn(){return this.getLastRenderedColumn()},getLastPartiallyVisibleColumn(){return this.getLastRenderedColumn()},getRenderedColumnsCount(){const t=this.wtSettings.getSetting("totalColumns");return Math.min(this.wtSettings.getSetting("fixedColumnsStart"),t)},getVisibleColumnsCount(){return this.getRenderedColumnsCount()},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Fu(G0,"MIXIN_NAME",mfe,{writable:!1,enumerable:!1});class gO extends em{constructor(e,n,r,i){super(e,n,r,i,Fc)}}lr(gO,fO);lr(gO,G0);const Mh="top",_l="bottom",Th="inline_start",xh="top_inline_start_corner",Fc="bottom_inline_start_corner",sj=[Mh,_l,Th,xh,Fc],pfe=new Map([[Mh,`ht_clone_${Mh}`],[_l,`ht_clone_${_l}`],[Th,`ht_clone_${Th} ht_clone_left`],[xh,`ht_clone_${xh} ht_clone_top_left_corner`],[Fc,`ht_clone_${Fc} ht_clone_bottom_left_corner`]]);function vfe(t,e){wfe(t,e),e.add(t)}function wfe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Cfe(t,e,n){return(e=yfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yfe(t){var e=bfe(t,"string");return typeof e=="symbol"?e:e+""}function bfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oy(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var np=new WeakSet;class Sfe{constructor(e){vfe(this,np),Cfe(this,"dataAccessObject",void 0),this.dataAccessObject=e}scrollViewport(e,n,r,i,o){const s=this.scrollViewportHorizontally(e.col,r,o),a=this.scrollViewportVertically(e.row,n,i);return s||a}scrollViewportHorizontally(e,n,r){const{drawn:i,totalColumns:o}=this.dataAccessObject;if(!i||!Number.isInteger(e)||e<0||e>o)return!1;const s=n===void 0&&r===void 0,{fixedColumnsStart:a,inlineStartOverlay:u}=this.dataAccessObject;if(s&&e<a||(e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollHorizontally",e),!Number.isInteger(e)||e<0||e>o))return!1;const c=this.getFirstVisibleColumn(),h=this.getLastVisibleColumn();let g=!1;return(s&&(e<c||e>h)||!s)&&(g=u.scrollTo(e,s?e>=this.getLastPartiallyVisibleColumn():n)),g}scrollViewportVertically(e,n,r){const{drawn:i,totalRows:o}=this.dataAccessObject;if(!i||!Number.isInteger(e)||e<0||e>o)return!1;const s=n===void 0&&r===void 0,{fixedRowsBottom:a,fixedRowsTop:u,topOverlay:c}=this.dataAccessObject;if(s&&(e<u||e>o-a-1)||(e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollVertically",e),!Number.isInteger(e)||e<0||e>o))return!1;const h=this.getFirstVisibleRow(),g=this.getLastVisibleRow();let p=!1;return(s&&(e<h||e>g)||!s)&&(p=c.scrollTo(e,s?e>=this.getLastPartiallyVisibleRow():r)),p}getFirstVisibleRow(){return this.dataAccessObject.wtTable.getFirstVisibleRow()}getLastVisibleRow(){return oy(np,this,k$).call(this,this.dataAccessObject.wtTable.getLastVisibleRow())}getFirstPartiallyVisibleRow(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleRow()}getLastPartiallyVisibleRow(){return oy(np,this,k$).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleRow())}getFirstVisibleColumn(){return this.dataAccessObject.wtTable.getFirstVisibleColumn()}getLastVisibleColumn(){return oy(np,this,L$).call(this,this.dataAccessObject.wtTable.getLastVisibleColumn())}getFirstPartiallyVisibleColumn(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleColumn()}getLastPartiallyVisibleColumn(){return oy(np,this,L$).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleColumn())}}function L$(t){const{wtSettings:e,inlineStartOverlay:n,wtTable:r,wtViewport:i,totalColumns:o,rootWindow:s}=this.dataAccessObject;if(n.mainTableScrollableElement===s){const a=e.getSetting("rtlMode");let u=null;if(a){const h=r.TABLE.getBoundingClientRect(),p=this.dataAccessObject.rootWindow.document.documentElement.offsetWidth;u=Math.abs(h.right-p)}else u=Hi(r.wtRootElement).left;const c=Math.abs(vB(s,s));if(u>c){const h=wB(s);let g=i.getRowHeaderWidth();for(let p=1;p<=o;p++)if(g+=n.sumCellSizes(p-1,p),u+g-c>=h){t=p-2;break}}}return t}function k$(t){const{topOverlay:e,wtTable:n,wtViewport:r,totalRows:i,rootWindow:o}=this.dataAccessObject;if(e.mainTableScrollableElement===o){const s=Hi(n.wtRootElement),a=JI(o,o);if(s.top>a){const u=gg(o);let c=r.getColumnHeaderHeight();for(let h=1;h<=i;h++)if(c+=e.sumCellSizes(h-1,h),s.top+c-a>=u){t=h-2;break}}}return t}function la(t,e,n){return(e=Rfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rfe(t){var e=Efe(t,"string");return typeof e=="symbol"?e:e+""}function Efe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mO{get eventManager(){return new Pa(this)}constructor(e,n){la(this,"wtTable",void 0),la(this,"wtScroll",void 0),la(this,"wtViewport",void 0),la(this,"wtOverlays",void 0),la(this,"selectionManager",void 0),la(this,"wtEvent",void 0),la(this,"guid",`wt_${iB()}`),la(this,"drawInterrupted",!1),la(this,"drawn",!1),la(this,"domBindings",void 0),la(this,"wtSettings",void 0),this.domBindings={rootTable:e,rootDocument:e.ownerDocument,rootWindow:e.ownerDocument.defaultView},this.wtSettings=n,this.wtScroll=new Sfe(this.createScrollDao())}findOriginalHeaders(){const e=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(let n=0,r=this.wtTable.THEAD.childNodes[0].childNodes.length;n<r;n++)e.push(this.wtTable.THEAD.childNodes[0].childNodes[n].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(n,r){Rh(r,e[n])}])}}createCellCoords(e,n){return new _h(e,n,this.wtSettings.getSetting("rtlMode"))}createCellRange(e,n,r){return new uw(e,n,r,this.wtSettings.getSetting("rtlMode"))}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.drawInterrupted=!1,this.wtTable.isVisible()?this.wtTable.draw(e):this.drawInterrupted=!0,this}getCell(e){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1))return this.wtTable.getCell(e);const r=this.wtSettings.getSetting("totalRows"),i=this.wtSettings.getSetting("fixedRowsTop"),o=this.wtSettings.getSetting("fixedRowsBottom"),s=this.wtSettings.getSetting("fixedColumnsStart");if(e.row<i&&e.col<s)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(e);if(e.row<i)return this.wtOverlays.topOverlay.clone.wtTable.getCell(e);if(e.col<s&&e.row>=r-o){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(e)}else{if(e.col<s)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(e);if(e.row<r&&e.row>=r-o&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(e)}return this.wtTable.getCell(e)}scrollViewport(e,n,r,i,o){return e.col<0||e.row<0?!1:this.wtScroll.scrollViewport(e,n,r,i,o)}scrollViewportHorizontally(e,n,r){return e<0?!1:this.wtScroll.scrollViewportHorizontally(e,n,r)}scrollViewportVertically(e,n,r){return e<0?!1:this.wtScroll.scrollViewportVertically(e,n,r)}getViewport(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}destroy(){this.wtOverlays.destroy(),this.wtEvent.destroy()}createScrollDao(){const e=this;return{get drawn(){return e.drawn},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get wtTable(){return e.wtTable},get wtViewport(){return e.wtViewport},get wtSettings(){return e.wtSettings},get rootWindow(){return e.domBindings.rootWindow},get totalRows(){return e.wtSettings.getSetting("totalRows")},get totalColumns(){return e.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return e.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return e.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return e.wtSettings.getSetting("fixedColumnsStart")}}}getTableDao(){const e=this;return{get wot(){return e},get parentTableOffset(){return e.cloneSource.wtTable.tableOffset},get cloneSource(){return e.cloneSource},get workspaceWidth(){return e.wtViewport.getWorkspaceWidth()},get wtViewport(){return e.wtViewport},get wtOverlays(){return e.wtOverlays},get selectionManager(){return e.selectionManager},get drawn(){return e.drawn},set drawn(n){e.drawn=n},get wtTable(){return e.wtTable},get startColumnRendered(){return e.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return e.wtViewport.columnsVisibleCalculator.startColumn},get startColumnPartiallyVisible(){return e.wtViewport.columnsPartiallyVisibleCalculator.startColumn},get endColumnRendered(){return e.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return e.wtViewport.columnsVisibleCalculator.endColumn},get endColumnPartiallyVisible(){return e.wtViewport.columnsPartiallyVisibleCalculator.endColumn},get countColumnsRendered(){return e.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return e.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return e.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return e.wtViewport.rowsVisibleCalculator.startRow},get startRowPartiallyVisible(){return e.wtViewport.rowsPartiallyVisibleCalculator.startRow},get endRowRendered(){return e.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return e.wtViewport.rowsVisibleCalculator.endRow},get endRowPartiallyVisible(){return e.wtViewport.rowsPartiallyVisibleCalculator.endRow},get countRowsRendered(){return e.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return e.wtViewport.rowsVisibleCalculator.count},get columnHeaders(){return e.wtSettings.getSetting("columnHeaders")},get rowHeaders(){return e.wtSettings.getSetting("rowHeaders")}}}}function F$(t,e,n){return(e=_fe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _fe(t){var e=Mfe(t,"string");return typeof e=="symbol"?e:e+""}function Mfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Tfe extends mO{constructor(e,n,r){super(e,n),F$(this,"cloneSource",void 0),F$(this,"cloneOverlay",void 0);const i=this.wtSettings.getSetting("facade",this);this.cloneSource=r.source,this.cloneOverlay=r.overlay,this.wtTable=this.cloneOverlay.createTable(this.getTableDao(),i,this.domBindings,this.wtSettings),this.wtViewport=r.viewport,this.selectionManager=r.selectionManager,this.wtEvent=new nj(i,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager,r.event),this.findOriginalHeaders()}}function xfe(t,e,n){return(e=Ife(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ife(t){var e=Ofe(t,"string");return typeof e=="symbol"?e:e+""}function Ofe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dw{constructor(e,n,r,i,o){xfe(this,"wtSettings",null),Fu(this,"wot",e,{writable:!1}),this.domBindings=o,this.facadeGetter=n,this.wtSettings=i;const{TABLE:s,hider:a,spreader:u,holder:c,wtRootElement:h}=this.wot.wtTable;this.instance=this.wot,this.type=r,this.mainTableScrollableElement=null,this.TABLE=s,this.hider=a,this.spreader=u,this.holder=c,this.wtRootElement=h,this.trimmingContainer=Pg(this.hider.parentNode.parentNode),this.needFullRender=this.shouldBeRendered(),this.clone=this.makeClone()}hasRenderingStateChanged(){return this.needFullRender!==this.shouldBeRendered()}updateStateOfRendering(e){e==="before"&&this.shouldBeRendered()?this.needFullRender=!0:e==="after"&&!this.shouldBeRendered()&&(this.needFullRender=!1)}shouldBeRendered(){return!0}updateTrimmingContainer(){this.trimmingContainer=Pg(this.hider.parentNode.parentNode)}updateMainScrollableElement(){const{wtTable:e}=this.wot,{rootWindow:n}=this.domBindings;n.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=this.wot.wtTable.holder:this.mainTableScrollableElement=mS(e.TABLE)}getRelativeCellPosition(e,n,r){if(this.clone.wtTable.holder.contains(e)===!1){er(`The provided element is not a child of the ${this.type} overlay`);return}const i=this.mainTableScrollableElement===this.domBindings.rootWindow,o=r<this.wtSettings.getSetting("fixedColumnsStart"),s=n<this.wtSettings.getSetting("fixedRowsTop"),a=n>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),u=this.clone.wtTable.spreader,c={start:this.getRelativeStartPosition(u),top:u.offsetTop},h={start:this.getRelativeStartPosition(e),top:e.offsetTop};let g=null;return i?g=this.getRelativeCellPositionWithinWindow(s,o,h,c):g=this.getRelativeCellPositionWithinHolder(s,a,o,h,c),g}getRelativeStartPosition(e){return this.isRtl()?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:e.offsetLeft}getRelativeCellPositionWithinWindow(e,n,r,i){const o=this.wot.wtTable.wtRootElement.getBoundingClientRect();let s=0,a=0;if(!n)s=i.start;else{let u=o.left;this.isRtl()&&(u=this.domBindings.rootWindow.innerWidth-(o.left+o.width+Di())),s=u<=0?-1*u:0}return e?a=this.clone.wtTable.TABLE.getBoundingClientRect().top-o.top:a=i.top,{start:r.start+s,top:r.top+a}}getRelativeCellPositionWithinHolder(e,n,r,i,o){const s={horizontal:this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),vertical:this.wot.wtOverlays.topOverlay.getScrollPosition()};let a=0,u=0;if(r||(a=s.horizontal-o.start),n){const c=this.wot.wtTable.wtRootElement.getBoundingClientRect();u=this.clone.wtTable.TABLE.getBoundingClientRect().top*-1+c.top}else e||(u=s.vertical-o.top);return{start:i.start-a,top:i.top-u}}makeClone(){if(sj.indexOf(this.type)===-1)throw new Error(`Clone type "${this.type}" is not supported.`);const{wtTable:e,wtSettings:n}=this.wot,{rootDocument:r,rootWindow:i}=this.domBindings,o=r.createElement("div"),s=r.createElement("table"),a=e.wtRootElement.parentNode;o.className=`${pfe.get(this.type)} handsontable`,o.setAttribute("dir",this.isRtl()?"rtl":"ltr"),o.style.position="absolute",o.style.top=0,o.style.overflow="visible",this.isRtl()?o.style.right=0:o.style.left=0,n.getSetting("ariaTags")&&Lt(o,[xl()]),s.className=e.TABLE.className,e.TABLE.getAttribute("role")&&s.setAttribute("role",e.TABLE.getAttribute("role")),o.appendChild(s),a.appendChild(o);const c=this.wtSettings.getSetting("preventOverflow");return c===!0||c==="horizontal"&&this.type===Mh||c==="vertical"&&this.type===Th?this.mainTableScrollableElement=i:i.getComputedStyle(a).getPropertyValue("overflow")==="hidden"?this.mainTableScrollableElement=e.holder:this.mainTableScrollableElement=mS(e.TABLE),new Tfe(s,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selectionManager:this.wot.selectionManager})}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.needFullRender&&this.clone.draw(e)}reset(){const e=this.clone.wtTable.holder,n=this.clone.wtTable.hider,r=e.style,i=n.style,o=e.parentNode.style;[r,i,o].forEach(s=>{s.width="",s.height=""})}isRtl(){return this.wtSettings.getSetting("rtlMode")}destroy(){this.clone.eventManager.destroy()}}class Pfe extends dw{constructor(e,n,r,i,o,s){super(e,n,Fc,r,i),this.bottomOverlay=o,this.inlineStartOverlay=s}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new gO(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wot:e}=this;if(this.updateTrimmingContainer(),!e.wtTable.holder.parentNode)return!1;const n=this.clone.wtTable.holder.parentNode;if(n.style.top="",this.trimmingContainer===this.domBindings.rootWindow){const o=this.inlineStartOverlay.getOverlayOffset(),s=this.bottomOverlay.getOverlayOffset();n.style[this.isRtl()?"right":"left"]=`${o}px`,n.style.bottom=`${s}px`}else j0(n),this.repositionOverlay();let r=li(this.clone.wtTable.TABLE);const i=Rr(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(r=0),n.style.height=`${r}px`,n.style.width=`${i}px`,!1}repositionOverlay(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r}=this.domBindings,i=this.clone.wtTable.holder.parentNode;let o=0;n.hasVerticalScroll()||(o+=n.getWorkspaceHeight()-e.getTotalHeight()),n.hasVerticalScroll()&&n.hasHorizontalScroll()&&(o+=Di(r)),i.style.bottom=`${o}px`}}const Afe="calculatedColumns",K0={getFirstRenderedColumn(){const t=this.dataAccessObject.startColumnRendered;return t===null?-1:t},getFirstVisibleColumn(){const t=this.dataAccessObject.startColumnVisible;return t===null?-1:t},getFirstPartiallyVisibleColumn(){const t=this.dataAccessObject.startColumnPartiallyVisible;return t===null?-1:t},getLastRenderedColumn(){const t=this.dataAccessObject.endColumnRendered;return t===null?-1:t},getLastVisibleColumn(){const t=this.dataAccessObject.endColumnVisible;return t===null?-1:t},getLastPartiallyVisibleColumn(){const t=this.dataAccessObject.endColumnPartiallyVisible;return t===null?-1:t},getRenderedColumnsCount(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount(){return this.dataAccessObject.countColumnsVisible},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};Fu(K0,"MIXIN_NAME",Afe,{writable:!1,enumerable:!1});class pO extends em{constructor(e,n,r,i){super(e,n,r,i,_l)}}lr(pO,fO);lr(pO,K0);function Hfe(t,e,n){return(e=Dfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dfe(t){var e=Nfe(t,"string");return typeof e=="symbol"?e:e+""}function Nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $fe extends dw{constructor(e,n,r,i){super(e,n,_l,r,i),Hfe(this,"cachedFixedRowsBottom",-1),this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom")}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new pO(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;const{rootWindow:e}=this.domBindings,n=this.clone.wtTable.holder.parentNode;n.style.top="";let r=0;const i=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer===e&&(!i||i!=="vertical")?(r=this.getOverlayOffset(),n.style.bottom=`${r}px`):(r=this.getScrollPosition(),this.repositionOverlay());const o=this.adjustHeaderBordersPosition(r);return this.adjustElementsSize(),o}repositionOverlay(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r}=this.domBindings,i=this.clone.wtTable.holder.parentNode;let o=0;n.hasVerticalScroll()||(o+=n.getWorkspaceHeight()-e.getTotalHeight()),n.hasVerticalScroll()&&n.hasHorizontalScroll()&&(o+=Di(r)),i.style.bottom=`${o}px`}setScrollPosition(e){const{rootWindow:n}=this.domBindings;let r=!1;return this.mainTableScrollableElement===n?(n.scrollTo(QI(n),e),r=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,r=!0),r}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,n){const{wtTable:r,wtSettings:i}=this.wot,o=i.getSetting("defaultRowHeight");let s=e,a=0;for(;s<n;){const u=r.getRowHeight(s);a+=u===void 0?o:u,s+=1}return a}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e,wtViewport:n}=this.wot,{rootDocument:r,rootWindow:i}=this.domBindings,o=Di(r),a=this.clone.wtTable.holder.parentNode.style,u=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==i||u==="horizontal"){let h=n.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(h-=o),h=Math.min(h,e.wtRootElement.scrollWidth),a.width=`${h}px`}else a.width="";this.clone.wtTable.holder.style.width=a.width;let c=li(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(c=0),a.height=`${c}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=e.parentNode.style.height}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:n}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?n.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:n.style[e]=""}scrollTo(e,n){let r=this.getTableParentOffset();const o=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder;let s=0;n&&o.offsetHeight!==o.clientHeight&&(s=Di(this.domBindings.rootDocument)),n?(r+=this.sumCellSizes(0,e+1),r-=this.wot.wtViewport.getViewportHeight(),r+=1):r+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),e),r+=s,this.setScrollPosition(r)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return JI(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0;if(this.trimmingContainer===e&&(!n||n!=="vertical")){const i=this.wot.wtTable.getTotalHeight(),o=this.clone.wtTable.getTotalHeight(),s=i-o,a=this.domBindings.rootDocument.documentElement.clientHeight;r=Math.max(this.getTableParentOffset()-this.getScrollPosition()-a+i,0),r>s&&(r=0)}return r}adjustHeaderBordersPosition(e){const n=this.wtSettings.getSetting("fixedRowsBottom"),r=this.cachedFixedRowsBottom!==n,i=this.wtSettings.getSetting("columnHeaders");let o=!1;if((r||n===0)&&i.length>0){const s=this.wot.wtTable.holder.parentNode,a=Ft(s,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),e||this.wtSettings.getSetting("totalRows")===0?(Qe(s,"innerBorderBottom"),o=!a):(Zt(s,"innerBorderBottom"),o=a)}return o}}const Lfe="calculatedRows",vO={getFirstRenderedRow(){const t=this.dataAccessObject.startRowRendered;return t===null?-1:t},getFirstVisibleRow(){const t=this.dataAccessObject.startRowVisible;return t===null?-1:t},getFirstPartiallyVisibleRow(){const t=this.dataAccessObject.startRowPartiallyVisible;return t===null?-1:t},getLastRenderedRow(){const t=this.dataAccessObject.endRowRendered;return t===null?-1:t},getLastVisibleRow(){const t=this.dataAccessObject.endRowVisible;return t===null?-1:t},getLastPartiallyVisibleRow(){const t=this.dataAccessObject.endRowPartiallyVisible;return t===null?-1:t},getRenderedRowsCount(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount(){return this.dataAccessObject.countRowsVisible},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Fu(vO,"MIXIN_NAME",Lfe,{writable:!1,enumerable:!1});class wO extends em{constructor(e,n,r,i){super(e,n,r,i,Th)}}lr(wO,vO);lr(wO,G0);const kfe="localHooks",Ui={_localHooks:Object.create(null),addLocalHook(t,e){return this._localHooks[t]||(this._localHooks[t]=[]),this._localHooks[t].push(e),this},runLocalHooks(t,e,n,r,i,o,s){if(this._localHooks[t]){const a=this._localHooks[t].length;for(let u=0;u<a;u++)GT(this._localHooks[t][u],this,e,n,r,i,o,s)}},clearLocalHooks(){return this._localHooks={},this}};Fu(Ui,"MIXIN_NAME",kfe,{writable:!1,enumerable:!1});let aj=class{constructor(e,n){this.settings=e,this.cellRange=n||null}isEmpty(){return this.cellRange===null}add(e){return this.isEmpty()?this.cellRange=this.settings.createCellRange(e):this.cellRange.expand(e),this}replace(e,n){if(!this.isEmpty()){if(this.cellRange.from.isEqual(e))return this.cellRange.from=n,!0;if(this.cellRange.to.isEqual(e))return this.cellRange.to=n,!0}return!1}clear(){return this.cellRange=null,this}getCorners(){const e=this.cellRange.getOuterTopStartCorner(),n=this.cellRange.getOuterBottomEndCorner();return[e.row,e.col,n.row,n.col]}destroy(){this.runLocalHooks("destroy")}};lr(aj,Ui);const lj="active-header",CO="header",yO="area",bO="focus",Ffe="fill",Vfe="row",Wfe="column",Bfe="custom-selection",SO=Object.freeze({width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"});var jfe=sO;jfe("flat");function zfe(t,e){uj(t,e),e.add(t)}function V$(t,e,n){uj(t,e),e.set(t,n)}function uj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ii(t,e){return t.get(Qp(t,e))}function W$(t,e,n){return t.set(Qp(t,e),n),n}function Qp(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ua=new WeakMap,Fo=new WeakMap,sy=new WeakSet;class Yfe{constructor(){zfe(this,sy),V$(this,ua,void 0),V$(this,Fo,void 0)}setActiveOverlay(e){return W$(Fo,this,e),this}setActiveSelection(e){return W$(ua,this,e),this}scan(){const e=ii(ua,this).settings.selectionType,n=new Set;return e==="active-header"?(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanRowsInHeadersRange(r=>n.add(r))):e==="area"?this.scanCellsRange(r=>n.add(r)):e==="focus"?(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanRowsInHeadersRange(r=>n.add(r)),this.scanCellsRange(r=>n.add(r))):e==="fill"?this.scanCellsRange(r=>n.add(r)):e==="header"?(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanRowsInHeadersRange(r=>n.add(r))):e==="row"?(this.scanRowsInHeadersRange(r=>n.add(r)),this.scanRowsInCellsRange(r=>n.add(r))):e==="column"&&(this.scanColumnsInHeadersRange(r=>n.add(r)),this.scanColumnsInCellsRange(r=>n.add(r))),n}scanColumnsInHeadersRange(e){const[n,r,i,o]=ii(ua,this).getCorners(),{wtTable:s}=ii(Fo,this),a=s.getRenderedColumnsCount(),u=s.getColumnHeadersCount();let c=0;for(let h=-s.getRowHeadersCount();h<a;h++){const g=s.columnFilter.renderedToSource(h);if(!(g<r||g>o)){for(let p=-u;p<0;p++){if(p<n||p>i)continue;const v=p+u;let y=s.getColumnHeader(g,v);const R=ii(Fo,this).getSetting("onBeforeHighlightingColumnHeader",g,v,{selectionType:ii(ua,this).settings.selectionType,columnCursor:c,selectionWidth:o-r+1});R!==null&&(R!==g&&(y=s.getColumnHeader(R,v)),e(y))}c+=1}}}scanRowsInHeadersRange(e){const[n,r,i,o]=ii(ua,this).getCorners(),{wtTable:s}=ii(Fo,this),a=s.getRenderedRowsCount(),u=s.getRowHeadersCount();let c=0;for(let h=-s.getColumnHeadersCount();h<a;h++){const g=s.rowFilter.renderedToSource(h);if(!(g<n||g>i)){for(let p=-u;p<0;p++){if(p<r||p>o)continue;const v=p+u;let y=s.getRowHeader(g,v);const R=ii(Fo,this).getSetting("onBeforeHighlightingRowHeader",g,v,{selectionType:ii(ua,this).settings.selectionType,rowCursor:c,selectionHeight:i-n+1});R!==null&&(R!==g&&(y=s.getRowHeader(R,v)),e(y))}c+=1}}}scanCellsRange(e){const[n,r,i,o]=ii(ua,this).getCorners(),{wtTable:s}=ii(Fo,this);Qp(sy,this,N1).call(this,(a,u)=>{if(a>=n&&a<=i&&u>=r&&u<=o){const c=s.getCell(ii(Fo,this).createCellCoords(a,u)),h=ii(Fo,this).getSetting("onAfterDrawSelection",a,u,ii(ua,this).settings.layerLevel);typeof h=="string"&&Qe(c,h),e(c)}})}scanRowsInCellsRange(e){const[n,,r]=ii(ua,this).getCorners(),{wtTable:i}=ii(Fo,this);Qp(sy,this,N1).call(this,(o,s)=>{if(o>=n&&o<=r){const a=i.getCell(ii(Fo,this).createCellCoords(o,s));e(a)}})}scanColumnsInCellsRange(e){const[,n,,r]=ii(ua,this).getCorners(),{wtTable:i}=ii(Fo,this);Qp(sy,this,N1).call(this,(o,s)=>{if(s>=n&&s<=r){const a=i.getCell(ii(Fo,this).createCellCoords(o,s));e(a)}})}}function N1(t){const{wtTable:e}=ii(Fo,this),n=e.getRenderedRowsCount(),r=e.getRenderedColumnsCount();for(let i=0;i<n;i+=1){const o=e.rowFilter.renderedToSource(i);for(let s=0;s<r;s+=1)t(o,e.columnFilter.renderedToSource(s))}}class B${constructor(e,n){n&&(this.eventManager=e.eventManager,this.instance=e,this.wot=e,this.settings=n,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle=SO,this.cornerCenterPointOffset=-(parseInt(this.cornerDefaultStyle.width,10)/2),this.corner=null,this.cornerStyle=null,this.createBorders(n),this.registerListeners())}registerListeners(){const e=this.wot.rootDocument.body;this.eventManager.addEventListener(e,"mousedown",()=>this.onMouseDown()),this.eventManager.addEventListener(e,"mouseup",()=>this.onMouseUp());for(let n=0,r=this.main.childNodes.length;n<r;n++){const i=this.main.childNodes[n];this.eventManager.addEventListener(i,"mouseenter",o=>this.onMouseEnter(o,this.main.childNodes[n]))}}onMouseDown(){this.mouseDown=!0}onMouseUp(){this.mouseDown=!1}onMouseEnter(e,n){if(!this.mouseDown||!this.wot.getSetting("hideBorderOnMouseDownOver"))return;e.preventDefault(),$a(e);const r=this,i=this.wot.rootDocument.body,o=n.getBoundingClientRect();n.style.display="none";function s(u){if(u.clientY<Math.floor(o.top)||u.clientY>Math.ceil(o.top+o.height)||u.clientX<Math.floor(o.left)||u.clientX>Math.ceil(o.left+o.width))return!0}function a(u){s(u)&&(r.eventManager.removeEventListener(i,"mousemove",a),n.style.display="block")}this.eventManager.addEventListener(i,"mousemove",a)}createBorders(e){const{rootDocument:n}=this.wot;this.main=n.createElement("div");const r=["top","start","bottom","end","corner"];let i=this.main.style;i.position="absolute",i.top=0,i.left=0;for(let a=0;a<5;a++){const u=r[a],c=n.createElement("div");c.className=`wtBorder ${this.settings.className||""}`,this.settings[u]&&this.settings[u].hide&&(c.className+=" hidden"),i=c.style,i.backgroundColor=this.settings[u]&&this.settings[u].color?this.settings[u].color:e.border.color,i.height=this.settings[u]&&this.settings[u].width?`${this.settings[u].width}px`:`${e.border.width}px`,i.width=this.settings[u]&&this.settings[u].width?`${this.settings[u].width}px`:`${e.border.width}px`,this.main.appendChild(c)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),Oc()&&this.instance.getSetting("isDataViewInstance")&&this.createMultipleSelectorHandles(),this.disappear();const{wtTable:o}=this.wot;let s=o.bordersHolder;s||(s=n.createElement("div"),s.className="htBorders",o.bordersHolder=s,o.spreader.appendChild(s)),s.appendChild(this.main)}createMultipleSelectorHandles(){const{rootDocument:e}=this.wot;this.selectionHandles={top:e.createElement("DIV"),topHitArea:e.createElement("DIV"),bottom:e.createElement("DIV"),bottomHitArea:e.createElement("DIV")};const n=10,r=40;this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style};const i={position:"absolute",height:`${r}px`,width:`${r}px`,"border-radius":`${parseInt(r/1.5,10)}px`};hn(i,(s,a)=>{this.selectionHandles.styles.bottomHitArea[a]=s,this.selectionHandles.styles.topHitArea[a]=s});const o={position:"absolute",height:`${n}px`,width:`${n}px`,"border-radius":`${parseInt(n/1.5,10)}px`,background:"#F5F5FF",border:"1px solid #4285c8"};hn(o,(s,a)=>{this.selectionHandles.styles.bottom[a]=s,this.selectionHandles.styles.top[a]=s}),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}isPartRange(e,n){const r=this.wot.selectionManager.getAreaSelection();return!!(r.cellRange&&(e!==r.cellRange.to.row||n!==r.cellRange.to.col))}updateMultipleSelectionHandlesPosition(e,n,r,i,o,s){const u=this.wot.wtSettings.getSetting("rtlMode")?"right":"left",{top:c,topHitArea:h,bottom:g,bottomHitArea:p}=this.selectionHandles.styles,v=parseInt(c.borderWidth,10),y=parseInt(c.width,10),R=parseInt(h.width,10),S=this.wot.wtTable.getWidth(),T=this.wot.wtTable.getHeight();c.top=`${parseInt(r-y-1,10)}px`,c[u]=`${parseInt(i-y-1,10)}px`,h.top=`${parseInt(r-R/4*3,10)}px`,h[u]=`${parseInt(i-R/4*3,10)}px`;const x=Math.min(parseInt(i+o,10),S-y-v*2),O=Math.min(parseInt(i+o-R/4,10),S-R-v*2);g[u]=`${x}px`,p[u]=`${O}px`;const A=Math.min(parseInt(r+s,10),T-y-v*2),H=Math.min(parseInt(r+s-R/4,10),T-R-v*2);g.top=`${A}px`,p.top=`${H}px`,this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(c.display="block",h.display="block",this.isPartRange(e,n)?(g.display="none",p.display="none"):(g.display="block",p.display="block")):(c.display="none",g.display="none",h.display="none",p.display="none"),e===this.wot.wtSettings.getSetting("fixedRowsTop")||n===this.wot.wtSettings.getSetting("fixedColumnsStart")?(c.zIndex="9999",h.zIndex="9999"):(c.zIndex="",h.zIndex="")}appear(e){if(this.disabled)return;const{wtTable:n,rootDocument:r,rootWindow:i}=this.wot;let o,s,a,u,c,h;const g=n.getRenderedRowsCount();for(let G=0;G<g;G+=1){const oe=n.rowFilter.renderedToSource(G);if(oe>=e[0]&&oe<=e[2]){o=oe,c=e[0];break}}for(let G=g-1;G>=0;G-=1){const oe=n.rowFilter.renderedToSource(G);if(oe>=e[0]&&oe<=e[2]){s=oe;break}}const p=n.getRenderedColumnsCount();for(let G=0;G<p;G+=1){const oe=n.columnFilter.renderedToSource(G);if(oe>=e[1]&&oe<=e[3]){a=oe,h=e[1];break}}for(let G=p-1;G>=0;G-=1){const oe=n.columnFilter.renderedToSource(G);if(oe>=e[1]&&oe<=e[3]){u=oe;break}}if(o===void 0||a===void 0){this.disappear();return}let v=n.getCell(this.wot.createCellCoords(o,a));const y=o!==s||a!==u,R=y?n.getCell(this.wot.createCellCoords(s,u)):v,S=Hi(v),T=y?Hi(R):S,x=Hi(n.TABLE),O=Rr(n.TABLE),A=S.top,H=S.left,L=this.wot.wtSettings.getSetting("rtlMode");let F=0,j=0;if(L){const G=Rr(v),oe=i.innerWidth-x.left-O;j=H+G-T.left,F=i.innerWidth-H-G-oe-1}else j=T.left+Rr(R)-H,F=H-x.left-1;if(this.isEntireColumnSelected(o,s)){const G=this.getDimensionsFromHeader("columns",a,u,c,x);let oe=null;G&&([oe,F,j]=G),oe&&(v=oe)}let z=A-x.top-1,Y=T.top+li(R)-A;if(this.isEntireRowSelected(a,u)){const G=this.getDimensionsFromHeader("rows",o,s,h,x);let oe=null;G&&([oe,z,Y]=G),oe&&(v=oe)}const K=Hu(v,i);parseInt(K.borderTopWidth,10)>0&&(z+=1,Y=Y>0?Y-1:0),parseInt(K[L?"borderRightWidth":"borderLeftWidth"],10)>0&&(F+=1,j=j>0?j-1:0);const X=L?"right":"left";this.topStyle.top=`${z}px`,this.topStyle[X]=`${F}px`,this.topStyle.width=`${j}px`,this.topStyle.display="block",this.startStyle.top=`${z}px`,this.startStyle[X]=`${F}px`,this.startStyle.height=`${Y}px`,this.startStyle.display="block";const se=Math.floor(this.settings.border.width/2);this.bottomStyle.top=`${z+Y-se}px`,this.bottomStyle[X]=`${F}px`,this.bottomStyle.width=`${j}px`,this.bottomStyle.display="block",this.endStyle.top=`${z}px`,this.endStyle[X]=`${F+j-se}px`,this.endStyle.height=`${Y+1}px`,this.endStyle.display="block";let ne=this.settings.border.cornerVisible;ne=typeof ne=="function"?ne(this.settings.layerLevel):ne;const J=this.wot.getSetting("onModifyGetCellCoords",s,u);let[re,ae]=[s,u];if(J&&Array.isArray(J)&&([,,re,ae]=J),Oc()||!ne||this.isPartRange(re,ae))this.cornerStyle.display="none";else{this.cornerStyle.top=`${z+Y+this.cornerCenterPointOffset-1}px`,this.cornerStyle[X]=`${F+j+this.cornerCenterPointOffset-1}px`,this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";let G=Pg(n.TABLE);const oe=G===i;oe&&(G=r.documentElement);const te=parseInt(this.cornerDefaultStyle.width,10)/2,C=parseInt(this.cornerDefaultStyle.height,10)/2;if(u===this.wot.getSetting("totalColumns")-1){const E=oe?R.getBoundingClientRect().left:R.offsetLeft;let I=!1,$=0;L?($=E-parseInt(this.cornerDefaultStyle.width,10)/2,I=$<0):($=E+Rr(R)+parseInt(this.cornerDefaultStyle.width,10)/2,I=$>=wB(G)),I&&(this.cornerStyle[X]=`${Math.floor(F+j+this.cornerCenterPointOffset-te)}px`,this.cornerStyle[L?"borderLeftWidth":"borderRightWidth"]=0)}s===this.wot.getSetting("totalRows")-1&&(oe?R.getBoundingClientRect().top:R.offsetTop)+li(R)+parseInt(this.cornerDefaultStyle.height,10)/2>=gg(G)&&(this.cornerStyle.top=`${Math.floor(z+Y+this.cornerCenterPointOffset-C)}px`,this.cornerStyle.borderBottomWidth=0),this.cornerStyle.display="block"}Oc()&&this.instance.getSetting("isDataViewInstance")&&this.updateMultipleSelectionHandlesPosition(s,u,z,F,j,Y)}isEntireColumnSelected(e,n){return e===this.wot.wtTable.getFirstRenderedRow()&&n===this.wot.wtTable.getLastRenderedRow()}isEntireRowSelected(e,n){return e===this.wot.wtTable.getFirstRenderedColumn()&&n===this.wot.wtTable.getLastRenderedColumn()}getDimensionsFromHeader(e,n,r,i,o){const{wtTable:s}=this.wot,a=s.wtRootElement.parentNode;let u=null,c=null,h=null,g=null,p=null,v=null,y=null,R=null;switch(e){case"rows":u=function(){return s.getRowHeader(...arguments)},c=function(){return li(...arguments)},h="ht__selection--rows",v="top";break;case"columns":u=function(){return s.getColumnHeader(...arguments)},c=function(){return Rr(...arguments)},h="ht__selection--columns",v="left";break}if(a.classList.contains(h)){const S=this.wot.getSetting("columnHeaders").length;if(y=u(n,S-i),R=u(r,S-i),!y||!R)return!1;const T=Hi(y),x=Hi(R);return y&&R&&(g=T[v]-o[v]-1,p=x[v]+c(R)-T[v]),[y,g,p]}return!1}changeBorderStyle(e,n){const r=this[e].style,i=n[e];!i||i.hide?Qe(this[e],"hidden"):(Ft(this[e],"hidden")&&Zt(this[e],"hidden"),r.backgroundColor=i.color,(e==="top"||e==="bottom")&&(r.height=`${i.width}px`),(e==="start"||e==="end")&&(r.width=`${i.width}px`))}changeBorderToDefaultStyle(e){const n={width:1,color:"#000"},r=this[e].style;r.backgroundColor=n.color,r.width=`${n.width}px`,r.height=`${n.width}px`}toggleHiddenClass(e,n){this.changeBorderToDefaultStyle(e),n?Qe(this[e],"hidden"):Zt(this[e],"hidden")}disappear(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",Oc()&&this.instance.getSetting("isDataViewInstance")&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}destroy(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}}function Ufe(t,e){cj(t,e),e.add(t)}function If(t,e,n){cj(t,e),e.set(t,n)}function cj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vn(t,e){return t.get(RO(t,e))}function j$(t,e,n){return t.set(RO(t,e),n),n}function RO(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var eo=new WeakMap,Bo=new WeakMap,$1=new WeakMap,jp=new WeakMap,L1=new WeakMap,Td=new WeakMap,z$=new WeakSet;class Gfe{constructor(e){Ufe(this,z$),If(this,eo,void 0),If(this,Bo,void 0),If(this,$1,new Yfe),If(this,jp,new WeakMap),If(this,L1,new WeakSet),If(this,Td,new Map),j$(Bo,this,e)}setActiveOverlay(e){return j$(eo,this,e),vn($1,this).setActiveOverlay(vn(eo,this)),vn(jp,this).has(vn(eo,this))||vn(jp,this).set(vn(eo,this),new Set),this}getFocusSelection(){return vn(Bo,this)!==null?vn(Bo,this).getFocus():null}getAreaSelection(){return vn(Bo,this)!==null?vn(Bo,this).createLayeredArea():null}getBorderInstance(e){if(!e.settings.border)return null;if(vn(Td,this).has(e)){const r=vn(Td,this).get(e);if(r.has(vn(eo,this)))return r.get(vn(eo,this));const i=new B$(vn(eo,this),e.settings);return r.set(vn(eo,this),i),i}const n=new B$(vn(eo,this),e.settings);return vn(Td,this).set(e,new Map([[vn(eo,this),n]])),n}getBorderInstances(e){var n,r;return Array.from((n=(r=vn(Td,this).get(e))===null||r===void 0?void 0:r.values())!==null&&n!==void 0?n:[])}destroyBorders(e){vn(Td,this).get(e).forEach(n=>n.destroy()),vn(Td,this).delete(e)}render(e){if(vn(Bo,this)===null)return;e&&RO(z$,this,Kfe).call(this);const n=Array.from(vn(Bo,this)),r=new Map,i=new Map;for(let o=0;o<n.length;o++){const s=n[o],{className:a,headerAttributes:u,createLayers:c,selectionType:h}=s.settings;vn(L1,this).has(s)||(vn(L1,this).add(s),s.addLocalHook("destroy",()=>this.destroyBorders(s)));const g=this.getBorderInstance(s);if(s.isEmpty()){g==null||g.disappear();continue}a&&vn($1,this).setActiveSelection(s).scan().forEach(y=>{if(r.has(y)){const R=r.get(y);R.has(a)&&c===!0?R.set(a,R.get(a)+1):R.set(a,1)}else r.set(y,new Map([[a,1]]));u&&(i.has(y)||i.set(y,[]),y.nodeName==="TH"&&i.get(y).push(...u))});const p=s.getCorners();vn(eo,this).getSetting("onBeforeDrawBorders",p,h),g==null||g.appear(p)}r.forEach((o,s)=>{var a;const u=Array.from(o).map(c=>{let[h,g]=c;return g===1?h:[h,...Array.from({length:g-1},(p,v)=>`${h}-${v+1}`)]}).flat();u.forEach(c=>vn(jp,this).get(vn(eo,this)).add(c)),Qe(s,u),s.nodeName==="TD"&&Array.isArray((a=vn(Bo,this).options)===null||a===void 0?void 0:a.cellAttributes)&&Lt(s,vn(Bo,this).options.cellAttributes)}),Array.from(i.keys()).forEach(o=>{Lt(o,[...i.get(o)])})}}function Kfe(){const t=vn(jp,this).get(vn(eo,this)),e=vn(eo,this).wtSettings.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(e))for(let n=0;n<e.length;n++)t.add(e[n]);t.forEach(n=>{var r,i;const o=vn(eo,this).wtTable.TABLE.querySelectorAll(`.${n}`);let s=[];Array.isArray((r=vn(Bo,this).options)===null||r===void 0?void 0:r.cellAttributes)&&(s=vn(Bo,this).options.cellAttributes.map(a=>a[0])),Array.isArray((i=vn(Bo,this).options)===null||i===void 0?void 0:i.headerAttributes)&&(s=[...s,...vn(Bo,this).options.headerAttributes.map(a=>a[0])]);for(let a=0,u=o.length;a<u;a++)Zt(o[a],n),Qg(o[a],s)}),t.clear()}class qfe extends dw{constructor(e,n,r,i){super(e,n,Th,r,i)}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new wO(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wtTable:e}=this.wot;if(!this.needFullRender||!this.shouldBeRendered()||!e.holder.parentNode)return!1;const{rootWindow:n}=this.domBindings,r=this.clone.wtTable.holder.parentNode,i=this.wtSettings.getSetting("preventOverflow");let o=0;this.trimmingContainer===n&&(!i||i!=="horizontal")?(o=this.getOverlayOffset()*(this.isRtl()?-1:1),eO(r,`${o}px`,"0px")):(o=this.getScrollPosition(),j0(r));const s=this.adjustHeaderBordersPosition(o);return this.adjustElementsSize(),s}setScrollPosition(e){const{rootWindow:n}=this.domBindings;let r=!1;return this.isRtl()&&(e=-e),this.mainTableScrollableElement===n&&n.scrollX!==e?(n.scrollTo(e,pB(n)),r=!0):this.mainTableScrollableElement.scrollLeft!==e&&(this.mainTableScrollableElement.scrollLeft=e,r=!0),r}onScroll(){this.wtSettings.getSetting("onScrollVertically")}sumCellSizes(e,n){const r=this.wtSettings.getSetting("defaultColumnWidth");let i=e,o=0;for(;i<n;)o+=this.wot.wtTable.getStretchedColumnWidth(i)||r,i+=1;return o}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e}=this.wot,{rootDocument:n,rootWindow:r}=this.domBindings,i=Di(n),s=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==r||a==="vertical"){let c=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(c-=i),c=Math.min(c,e.wtRootElement.scrollHeight),s.height=`${c}px`}else s.height="";this.clone.wtTable.holder.style.height=s.height;const u=Rr(this.clone.wtTable.TABLE);s.width=`${u}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,n=this.wot.selectionManager.getFocusSelection()?parseInt(SO.width,10)/2:0;this.clone.wtTable.hider.style.height=this.hider.style.height,e.style.height=e.parentNode.style.height,e.style.width=`${parseInt(e.parentNode.style.width,10)+n}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalColumns"),n=this.isRtl()?"right":"left";if(typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number")this.spreader.style[n]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style[n]="0";else throw new Error("Incorrect value of the columnsRenderCalculator");this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number"?this.clone.wtTable.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`:this.clone.wtTable.spreader.style.top=""}scrollTo(e,n){const{wtSettings:r}=this,i=r.getSetting("rowHeaders"),o=r.getSetting("fixedColumnsStart"),a=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,u=o===0&&i.length>0&&!Ft(a.parentNode,"innerBorderInlineStart")?1:0;let c=this.getTableParentOffset(),h=0;if(n){const g=this.wot.wtTable.getColumnWidth(e),p=this.wot.wtViewport.getViewportWidth();g>p&&(n=!1)}return n&&a.offsetWidth!==a.clientWidth&&(h=Di(this.domBindings.rootDocument)),n?(c+=this.sumCellSizes(0,e+1),c-=this.wot.wtViewport.getViewportWidth(),c+=u):c+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),e),c+=h,rue(this.mainTableScrollableElement)===c-u&&u>0&&this.wot.wtOverlays.expandHiderHorizontallyBy(u),this.setScrollPosition(c)}getTableParentOffset(){const e=this.wtSettings.getSetting("preventOverflow");let n=0;return!e&&this.trimmingContainer===this.domBindings.rootWindow&&(n=this.wot.wtTable.holderOffset.left),n}getScrollPosition(){return Math.abs(vB(this.mainTableScrollableElement,this.domBindings.rootWindow))}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0;if(this.trimmingContainer===e&&(!n||n!=="horizontal")){this.isRtl()?r=Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):r=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0);const i=this.wot.wtTable.getTotalWidth(),o=this.clone.wtTable.getTotalWidth(),s=i-o;r>s&&(r=0)}return r}adjustHeaderBordersPosition(e){const{wtSettings:n}=this,r=this.wot.wtTable.holder.parentNode,i=n.getSetting("rowHeaders"),o=n.getSetting("fixedColumnsStart"),s=n.getSetting("totalRows"),a=n.getSetting("preventOverflow")==="vertical";s?Zt(r,"emptyRows"):Qe(r,"emptyRows");let u=!1;if(!a){if(o&&!i.length)Qe(r,"innerBorderLeft innerBorderInlineStart");else if(!o&&i.length){const c=Ft(r,"innerBorderInlineStart");e?(Qe(r,"innerBorderLeft innerBorderInlineStart"),u=!c):(Zt(r,"innerBorderLeft innerBorderInlineStart"),u=c)}}return u}}const Xfe="stickyRowsTop",EO={getFirstRenderedRow(){return this.wtSettings.getSetting("totalRows")===0?-1:0},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.getRenderedRowsCount()-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){const t=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsTop"),t)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};Fu(EO,"MIXIN_NAME",Xfe,{writable:!1,enumerable:!1});class _O extends em{constructor(e,n,r,i){super(e,n,r,i,xh)}}lr(_O,EO);lr(_O,G0);function Y$(t,e,n){return(e=Zfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zfe(t){var e=Qfe(t,"string");return typeof e=="symbol"?e:e+""}function Qfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Jfe extends dw{constructor(e,n,r,i,o,s){super(e,n,xh,r,i),Y$(this,"topOverlay",void 0),Y$(this,"inlineStartOverlay",void 0),this.topOverlay=o,this.inlineStartOverlay=s}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new _O(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){const i=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),o=this.topOverlay.getOverlayOffset();eO(e,`${i}px`,`${o}px`)}else j0(e);let n=li(this.clone.wtTable.TABLE);const r=Rr(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(n=0),e.style.height=`${n}px`,e.style.width=`${r}px`,!1}}class MO extends em{constructor(e,n,r,i){super(e,n,r,i,Mh)}}lr(MO,EO);lr(MO,K0);function ege(t,e,n){return(e=tge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tge(t){var e=nge(t,"string");return typeof e=="symbol"?e:e+""}function nge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rge extends dw{constructor(e,n,r,i){super(e,n,Mh,r,i),ege(this,"cachedFixedRowsTop",-1),this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop")}createTable(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new MO(...n)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode,{rootWindow:n}=this.domBindings,r=this.wtSettings.getSetting("preventOverflow");let i=0,o=!1;if(this.trimmingContainer===n&&(!r||r!=="vertical")){const{wtTable:a}=this.wot,u=a.hider.getBoundingClientRect(),c=Math.ceil(u.bottom),h=e.offsetHeight;o=c===h,i=this.getOverlayOffset(),eO(e,"0px",`${i}px`)}else i=this.getScrollPosition(),j0(e);const s=this.adjustHeaderBordersPosition(i,o);return this.adjustElementsSize(),s}setScrollPosition(e){const n=this.domBindings.rootWindow;let r=!1;return this.mainTableScrollableElement===n&&n.scrollY!==e?(n.scrollTo(QI(n),e),r=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,r=!0),r}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,n){const r=this.wtSettings.getSetting("defaultRowHeight");let i=e,o=0;for(;i<n;){const s=this.wot.wtTable.getRowHeight(i);o+=s===void 0?r:s,i+=1}return o}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e}=this.wot,{rootDocument:n,rootWindow:r}=this.domBindings,i=Di(n),s=this.clone.wtTable.holder.parentNode.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==r||a==="horizontal"){let c=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(c-=i),c=Math.min(c,e.wtRootElement.scrollWidth),s.width=`${c}px`}else s.width="";this.clone.wtTable.holder.style.width=s.width;let u=li(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(u=0),s.height=`${u}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,n=this.wot.selectionManager.getFocusSelection()?parseInt(SO.height,10)/2:0;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=`${parseInt(e.parentNode.style.height,10)+n}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if(typeof this.wot.wtViewport.rowsRenderCalculator.startPosition=="number")this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else if(e===0)this.spreader.style.top="0";else throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:n}=this.clone.wtTable;typeof this.wot.wtViewport.columnsRenderCalculator.startPosition=="number"?n.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:n.style[e]=""}scrollTo(e,n){const{wot:r,wtSettings:i}=this,s=(r.cloneSource?r.cloneSource:r).wtTable.holder,a=i.getSetting("columnHeaders"),c=i.getSetting("fixedRowsTop")===0&&a.length>0&&!Ft(s.parentNode,"innerBorderTop")?1:0;let h=this.getTableParentOffset(),g=0;if(n){const p=this.wot.wtTable.getRowHeight(e),v=this.wot.wtViewport.getViewportHeight();p>v&&(n=!1)}if(n&&s.offsetHeight!==s.clientHeight&&(g=Di(this.domBindings.rootDocument)),n){const p=i.getSetting("fixedRowsBottom"),v=i.getSetting("totalRows");h+=this.sumCellSizes(0,e+1),h-=r.wtViewport.getViewportHeight()-this.sumCellSizes(v-p,v),h+=1,h+=c}else h+=this.sumCellSizes(i.getSetting("fixedRowsTop"),e);return h+=g,nue(this.mainTableScrollableElement)===h-c&&c>0&&this.wot.wtOverlays.expandHiderVerticallyBy(c),this.setScrollPosition(h)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return JI(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0;if(this.trimmingContainer===e&&(!n||n!=="vertical")){const i=this.wot.wtTable.getTotalHeight(),o=this.clone.wtTable.getTotalHeight(),s=i-o;r=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0),r>s&&(r=0)}return r}adjustHeaderBordersPosition(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{wtSettings:r}=this,i=this.wot.wtTable.holder.parentNode,o=r.getSetting("totalColumns"),s=r.getSetting("preventOverflow")==="horizontal";o?Zt(i,"emptyColumns"):Qe(i,"emptyColumns");let a=!1;if(!n&&!s){const u=r.getSetting("fixedRowsTop"),c=this.cachedFixedRowsTop!==u,h=r.getSetting("columnHeaders");if((c||u===0)&&h.length>0){const g=Ft(i,"innerBorderTop");this.cachedFixedRowsTop=r.getSetting("fixedRowsTop"),e||r.getSetting("totalRows")===0?(Qe(i,"innerBorderTop"),a=!g):(Zt(i,"innerBorderTop"),a=g)}}return a}}function ay(t,e,n){ige(t,e),e.set(t,n)}function ige(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ru(t,e,n){return(e=oge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oge(t){var e=sge(t,"string");return typeof e=="symbol"?e:e+""}function sge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xd(t,e,n){return t.set(dj(t,e),n),n}function iu(t,e){return t.get(dj(t,e))}function dj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Of=new WeakMap,ly=new WeakMap,Pf=new WeakMap,uy=new WeakMap;class age{constructor(e,n,r,i,o,s){ru(this,"wot",null),ay(this,Of,[]),ru(this,"topOverlay",null),ru(this,"bottomOverlay",null),ru(this,"inlineStartOverlay",null),ru(this,"topInlineStartCornerOverlay",null),ru(this,"bottomInlineStartCornerOverlay",null),ru(this,"browserLineHeight",void 0),ru(this,"wtSettings",null),ay(this,ly,!1),ay(this,Pf,0),ay(this,uy,null),ru(this,"resizeObserver",new ResizeObserver(h=>{iO(()=>{!Array.isArray(h)||!h.length||(xd(Pf,this,iu(Pf,this)+1),iu(Pf,this)===100&&(er("The ResizeObserver callback was fired too many times in direct succession.\nThis may be due to an infinite loop caused by setting a dynamic height/width (for example, with the `dvh` units) to a Handsontable container's parent. \nThe observer will be disconnected."),this.resizeObserver.disconnect()),iu(uy,this)!==null&&clearTimeout(iu(uy,this)),xd(uy,this,setTimeout(()=>{xd(Pf,this,0)},100)),this.wtSettings.getSetting("onContainerElementResize"))})})),this.wot=e,this.wtSettings=i,this.domBindings=r,this.facadeGetter=n,this.wtTable=s;const{rootDocument:a,rootWindow:u}=this.domBindings;this.instance=this.wot,this.eventManager=o,this.scrollbarSize=Di(a);const c=u.getComputedStyle(s.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden";this.scrollableElement=c?s.holder:mS(s.TABLE),this.initOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=u.scrollX,this.lastScrollY=u.scrollY}getOverlays(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=[...iu(Of,this)];return e&&n.push(this.wtTable),n}initBrowserLineHeight(){const{rootWindow:e,rootDocument:n}=this.domBindings,r=e.getComputedStyle(n.body),i=parseInt(r.lineHeight,10),o=parseInt(r.fontSize,10)*1.2;this.browserLineHeight=i||o}initOverlays(){const e=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=new rge(...e),this.bottomOverlay=new $fe(...e),this.inlineStartOverlay=new qfe(...e),this.topInlineStartCornerOverlay=new Jfe(...e,this.topOverlay,this.inlineStartOverlay),this.bottomInlineStartCornerOverlay=new Pfe(...e,this.bottomOverlay,this.inlineStartOverlay),xd(Of,this,[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay])}beforeDraw(){xd(ly,this,iu(Of,this).reduce((e,n)=>n.hasRenderingStateChanged()||e,!1)),iu(Of,this).forEach(e=>e.updateStateOfRendering("before"))}afterDraw(){this.syncScrollWithMaster(),iu(Of,this).forEach(e=>{const n=e.hasRenderingStateChanged();e.updateStateOfRendering("after"),n&&!e.needFullRender&&e.reset()})}refreshAll(){if(this.wot.drawn){if(!this.wtTable.holder.parentNode){this.destroy();return}this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1}}registerListeners(){const{rootDocument:e,rootWindow:n}=this.domBindings,{mainTableScrollableElement:r}=this.topOverlay,{mainTableScrollableElement:i}=this.inlineStartOverlay;this.eventManager.addEventListener(e.documentElement,"keydown",g=>this.onKeyDown(g)),this.eventManager.addEventListener(e.documentElement,"keyup",()=>this.onKeyUp()),this.eventManager.addEventListener(e,"visibilitychange",()=>this.onKeyUp()),this.eventManager.addEventListener(r,"scroll",g=>this.onTableScroll(g),{passive:!0}),r!==i&&this.eventManager.addEventListener(i,"scroll",g=>this.onTableScroll(g),{passive:!0});const o=n.devicePixelRatio&&n.devicePixelRatio>1,s=this.scrollableElement===n,a=this.wtSettings.getSetting("preventWheel"),u={passive:s};(a||o||!OB())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",g=>this.onCloneWheel(g,a),u),[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay].forEach(g=>{if(g&&g.needFullRender){const{holder:p}=g.clone.wtTable;this.eventManager.addEventListener(p,"wheel",v=>this.onCloneWheel(v,a),u)}});let h;this.eventManager.addEventListener(n,"resize",()=>{clearTimeout(h),h=setTimeout(()=>{this.wtSettings.getSetting("onWindowResize"),xd(Pf,this,0)},200)}),s||this.resizeObserver.observe(this.wtTable.wtRootElement.parentElement)}deregisterListeners(){this.eventManager.clearEvents(!0)}onTableScroll(e){const n=this.domBindings.rootWindow,r=this.inlineStartOverlay.mainTableScrollableElement,i=this.topOverlay.mainTableScrollableElement,o=e.target;this.keyPressed&&(i!==n&&o!==n&&!e.target.contains(i)||r!==n&&o!==n&&!e.target.contains(r))||this.syncScrollPositions(e)}onCloneWheel(e,n){const{rootWindow:r}=this.domBindings,i=this.inlineStartOverlay.mainTableScrollableElement,o=this.topOverlay.mainTableScrollableElement,s=e.target,a=o!==r&&s!==r&&!s.contains(o),u=i!==r&&s!==r&&!s.contains(i);if(this.keyPressed&&(a||u)||this.scrollableElement===r)return;const c=this.translateMouseWheelToScroll(e);(n||this.scrollableElement!==r&&c)&&e.preventDefault()}onKeyDown(e){this.keyPressed=lw(e.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}onKeyUp(){this.keyPressed=!1}translateMouseWheelToScroll(e){let n=isNaN(e.deltaY)?-1*e.wheelDeltaY:e.deltaY,r=isNaN(e.deltaX)?-1*e.wheelDeltaX:e.deltaX;e.deltaMode===1&&(r+=r*this.browserLineHeight,n+=n*this.browserLineHeight);const i=this.scrollVertically(n),o=this.scrollHorizontally(r);return i||o}scrollVertically(e){const n=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=e,n!==this.scrollableElement.scrollTop}scrollHorizontally(e){const n=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=e,n!==this.scrollableElement.scrollLeft}syncScrollPositions(){if(this.destroyed)return;const{rootWindow:e}=this.domBindings,n=this.topOverlay.clone.wtTable.holder,r=this.inlineStartOverlay.clone.wtTable.holder,[i,o]=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop];if(this.horizontalScrolling=n.scrollLeft!==i||this.lastScrollX!==e.scrollX,this.verticalScrolling=r.scrollTop!==o||this.lastScrollY!==e.scrollY,this.lastScrollX=e.scrollX,this.lastScrollY=e.scrollY,this.horizontalScrolling){n.scrollLeft=i;const s=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;s&&(s.scrollLeft=i)}this.verticalScrolling&&(r.scrollTop=o),this.refreshAll()}syncScrollWithMaster(){if(!iu(ly,this))return;const e=this.topOverlay.mainTableScrollableElement,{scrollLeft:n,scrollTop:r}=e;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=n),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=n),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=r),xd(ly,this,!1)}updateMainScrollableElements(){this.deregisterListeners(),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();const{wtTable:e}=this,{rootWindow:n}=this.domBindings;n.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")==="hidden"?this.scrollableElement=e.holder:this.scrollableElement=mS(e.TABLE),this.registerListeners()}destroy(){this.resizeObserver.disconnect(),this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.updateLastSpreaderSize()&&this.adjustElementsSize(),this.bottomOverlay.clone&&this.bottomOverlay.refresh(e),this.inlineStartOverlay.refresh(e),this.topOverlay.refresh(e),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(e),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(e)}updateLastSpreaderSize(){const e=this.wtTable.spreader,n=e.clientWidth,r=e.clientHeight,i=n!==this.spreaderLastSize.width||r!==this.spreaderLastSize.height;return i&&(this.spreaderLastSize.width=n,this.spreaderLastSize.height=r),i}adjustElementsSize(){const{wtViewport:e}=this.wot,{wtTable:n}=this,{rootWindow:r}=this.domBindings,i=this.scrollableElement===r,o=this.wtSettings.getSetting("totalColumns"),s=this.wtSettings.getSetting("totalRows"),a=e.getRowHeaderWidth(),c=e.getColumnHeaderHeight()+this.topOverlay.sumCellSizes(0,s)+1,h=a+this.inlineStartOverlay.sumCellSizes(0,o),p=n.hider.style,v=()=>i?!1:this.scrollableElement.scrollTop>Math.max(0,c-n.holder.clientHeight),y=()=>i?!1:this.scrollableElement.scrollLeft>Math.max(0,h-n.holder.clientWidth),R=v()?1:0,S=y()?1:0;if(p.width=`${h+S}px`,p.height=`${c+R}px`,this.scrollbarSize>0){const{scrollHeight:T,scrollWidth:x}=n.wtRootElement,{scrollHeight:O,scrollWidth:A}=n.holder;this.hasScrollbarRight=T<O,this.hasScrollbarBottom=x<A,this.hasScrollbarRight&&n.hider.scrollWidth+this.scrollbarSize>x?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&n.hider.scrollHeight+this.scrollbarSize>T&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(),this.inlineStartOverlay.adjustElementsSize(),this.bottomOverlay.adjustElementsSize()}expandHiderVerticallyBy(e){const{wtTable:n}=this;n.hider.style.height=`${parseInt(n.hider.style.height,10)+e}px`}expandHiderHorizontallyBy(e){const{wtTable:n}=this;n.hider.style.width=`${parseInt(n.hider.style.width,10)+e}px`}applyToDOM(){this.wtTable.isVisible()&&(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}getParentOverlay(e){if(!e)return null;const n=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];let r=null;return ye(n,i=>{i&&i.clone&&i.clone.wtTable.TABLE.contains(e)&&(r=i.clone)}),r}syncOverlayTableClassNames(){const e=this.wtTable.TABLE,n=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];ye(n,r=>{r&&(r.clone.wtTable.TABLE.className=e.className)})}}function U$(t,e,n){return(e=lge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lge(t){var e=uge(t,"string");return typeof e=="symbol"?e:e+""}function uge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cge{constructor(e){U$(this,"settings",{}),U$(this,"defaults",Object.freeze(this.getDefaults())),hn(this.defaults,(n,r)=>{if(e[r]!==void 0)this.settings[r]=e[r];else{if(n===void 0)throw new Error(`A required setting "${r}" was not provided`);this.settings[r]=n}})}getDefaults(){return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:()=>this.getSetting("fixedColumnsStart")>0||this.getSetting("rowHeaders").length>0,shouldRenderTopOverlay:()=>this.getSetting("fixedRowsTop")>0||this.getSetting("columnHeaders").length>0,shouldRenderBottomOverlay:()=>this.getSetting("fixedRowsBottom")>0,minSpareRows:0,rowHeaders(){return[]},columnHeaders(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:(e,n,r)=>{const i=this.getSetting("data",e,n);Rh(r,i??"")},columnWidth(){},rowHeight(){},rowHeightByOverlayName(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onBeforeViewportScrollHorizontally:e=>e,onBeforeViewportScrollVertically:e=>e,onScrollHorizontally:null,onScrollVertically:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:e=>e,onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:e=>e,onBeforeHighlightingColumnHeader:e=>e,onWindowResize:null,onContainerElementResize:null,renderAllColumns:!1,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1,ariaTags:!0}}update(e,n){return n===void 0?hn(e,(r,i)=>{this.settings[i]=r}):this.settings[e]=n,this}getSetting(e,n,r,i,o){return typeof this.settings[e]=="function"?this.settings[e](n,r,i,o):n!==void 0&&Array.isArray(this.settings[e])?this.settings[e][n]:this.settings[e]}getSettingPure(e){return this.settings[e]}has(e){return!!this.settings[e]}}class TO extends em{constructor(e,n,r,i){super(e,n,r,i,"master")}alignOverlaysWithTrimmingContainer(){const e=Pg(this.wtRootElement),{rootWindow:n}=this.domBindings;if(e===n)this.wtSettings.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible");else{const r=e.parentElement,i=_v(e,"height",n),o=_v(e,"overflow",n),s=this.holder.style,{scrollWidth:a,scrollHeight:u}=e;let c=e.offsetWidth,h=e.offsetHeight;if(r&&["auto","hidden","scroll"].includes(o)){const p=e.cloneNode(!1);p.style.overflow="auto",p.style.position="absolute",e.nextElementSibling?r.insertBefore(p,e.nextElementSibling):r.appendChild(p);const v=parseInt(Hu(p,n).height,10);r.removeChild(p),v===0&&(h=0)}h=Math.min(h,u),s.height=i==="auto"?"auto":`${h}px`,c=Math.min(c,a),s.width=`${c}px`,s.overflow="",this.hasTableHeight=s.height==="auto"?!0:h>0,this.hasTableWidth=c>0}this.isTableVisible=Og(this.TABLE)}markOversizedColumnHeaders(){const{wtSettings:e}=this,{wtViewport:n}=this.dataAccessObject,r="master",o=e.getSetting("columnHeaders").length;if(o&&!n.hasOversizedColumnHeadersMarked[r]){const a=e.getSetting("rowHeaders").length,u=this.getRenderedColumnsCount();for(let c=0;c<o;c++)for(let h=-1*a;h<u;h++)this.markIfOversizedColumnHeader(h);n.hasOversizedColumnHeadersMarked[r]=!0}}}lr(TO,vO);lr(TO,K0);class dge{constructor(e,n,r,i,o){this.dataAccessObject=e,this.wot=e.wot,this.instance=this.wot,this.domBindings=n,this.wtSettings=r,this.wtTable=o,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.rowsCalculatorTypes=new Map([["rendered",()=>this.wtSettings.getSetting("renderAllRows")?new Jde:new the],["fullyVisible",()=>new jde],["partiallyVisible",()=>new XB]]),this.columnsCalculatorTypes=new Map([["rendered",()=>this.wtSettings.getSetting("renderAllColumns")?new Xde:new ehe],["fullyVisible",()=>new Vde],["partiallyVisible",()=>new qB]]),this.eventManager=i,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",()=>{this.clientHeight=this.getWorkspaceHeight()})}getWorkspaceHeight(){const e=this.domBindings.rootDocument,n=this.dataAccessObject.topOverlayTrimmingContainer;let r=0;return n===this.domBindings.rootWindow?r=e.documentElement.clientHeight:r=li(n)>0&&n.clientHeight>0?n.clientHeight:1/0,r}getWorkspaceWidth(){const{wtSettings:e}=this,{rootDocument:n,rootWindow:r}=this.domBindings,i=this.dataAccessObject.inlineStartOverlayTrimmingContainer,o=n.documentElement.offsetWidth,s=e.getSetting("totalColumns"),a=e.getSetting("preventOverflow"),u=e.getSetting("rtlMode"),c=this.wtTable.TABLE.getBoundingClientRect(),h=u?c.right-o:c.left,g=o-h;let p,v;if(a)return Rr(this.wtTable.wtRootElement);if(e.getSetting("freezeOverlays")?p=Math.min(g,o):p=Math.min(this.getContainerFillWidth(),g,o),i===r&&s>0&&this.sumColumnWidths(0,s-1)>p)return n.documentElement.clientWidth;if(i!==r&&(v=_v(this.dataAccessObject.inlineStartOverlayTrimmingContainer,"overflow",r),v==="scroll"||v==="hidden"||v==="auto"))return Math.max(p,i.clientWidth);const y=e.getSetting("stretchH");return y==="none"||!y?Math.max(p,Rr(this.wtTable.TABLE)):p}hasVerticalScroll(){return this.wtTable.hider.offsetHeight>this.getWorkspaceHeight()}hasHorizontalScroll(){return this.wtTable.hider.offsetWidth>this.getWorkspaceWidth()}sumColumnWidths(e,n){let r=0,i=e;for(;i<n;)r+=this.wtTable.getColumnWidth(i),i+=1;return r}getContainerFillWidth(){if(this.containerWidth)return this.containerWidth;const e=this.wtTable.holder,n=this.domBindings.rootDocument.createElement("div");n.style.width="100%",n.style.height="1px",e.appendChild(n);const r=n.offsetWidth;return this.containerWidth=r,e.removeChild(n),r}getWorkspaceOffset(){return Hi(this.wtTable.TABLE)}getColumnHeaderHeight(){return this.wtSettings.getSetting("columnHeaders").length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=li(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}getViewportHeight(){let e=this.getWorkspaceHeight();if(e===1/0)return e;const n=this.getColumnHeaderHeight();return n>0&&(e-=n),e}getRowHeaderWidth(){const e=this.wtSettings.getSetting("rowHeaderWidth"),n=this.wtSettings.getSetting("rowHeaders");if(e){this.rowHeaderWidth=0;for(let r=0,i=n.length;r<i;r++)this.rowHeaderWidth+=e[r]||e}if(isNaN(this.rowHeaderWidth))if(n.length){let r=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(let i=0,o=n.length;i<o;i++)r?(this.rowHeaderWidth+=Rr(r),r=r.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}getViewportWidth(){const e=this.getWorkspaceWidth();if(e===1/0)return e;const n=this.getRowHeaderWidth();return n>0?e-n:e}createRowsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["rendered","fullyVisible","partiallyVisible"];const{wtSettings:n,wtTable:r}=this;let i=this.getViewportHeight(),o,s;this.rowHeaderWidth=NaN;let a=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset;const u=n.getSetting("fixedRowsTop"),c=n.getSetting("fixedRowsBottom"),h=n.getSetting("totalRows");return u&&a>=0&&(s=this.dataAccessObject.topOverlay.sumCellSizes(0,u),a+=s,i-=s),c&&this.dataAccessObject.bottomOverlay.clone&&(s=this.dataAccessObject.bottomOverlay.sumCellSizes(h-c,h),i-=s),r.holder.clientHeight===r.holder.offsetHeight?o=0:o=Di(this.domBindings.rootDocument),new uhe({calculationTypes:e.map(g=>[g,this.rowsCalculatorTypes.get(g)()]),viewportHeight:i,scrollOffset:a,totalRows:n.getSetting("totalRows"),rowHeightFn:g=>r.getRowHeight(g),overrideFn:n.getSettingPure("viewportRowCalculatorOverride"),horizontalScrollbarHeight:o})}createColumnsCalculator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["rendered","fullyVisible","partiallyVisible"];const{wtSettings:n,wtTable:r}=this;let i=this.getViewportWidth(),o=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN;const s=n.getSetting("fixedColumnsStart");if(s&&o>=0){const a=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,s);o+=a,i-=a}return r.holder.clientWidth!==r.holder.offsetWidth&&(i-=Di(this.domBindings.rootDocument)),new she({calculationTypes:e.map(a=>[a,this.columnsCalculatorTypes.get(a)()]),viewportWidth:i,scrollOffset:o,totalColumns:n.getSetting("totalColumns"),columnWidthFn:a=>r.getColumnWidth(a),overrideFn:n.getSettingPure("viewportColumnCalculatorOverride"),inlineStartOffset:this.dataAccessObject.inlineStartParentOffset})}createCalculators(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{wtSettings:n}=this,r=this.createRowsCalculator(),i=this.createColumnsCalculator();if(e&&!n.getSetting("renderAllRows")){const o=r.getResultsFor("fullyVisible");e=this.areAllProposedVisibleRowsAlreadyRendered(o)}if(e&&!n.getSetting("renderAllColumns")){const o=i.getResultsFor("fullyVisible");e=this.areAllProposedVisibleColumnsAlreadyRendered(o)}return e||(this.rowsRenderCalculator=r.getResultsFor("rendered"),this.columnsRenderCalculator=i.getResultsFor("rendered")),this.rowsVisibleCalculator=r.getResultsFor("fullyVisible"),this.columnsVisibleCalculator=i.getResultsFor("fullyVisible"),this.rowsPartiallyVisibleCalculator=r.getResultsFor("partiallyVisible"),this.columnsPartiallyVisibleCalculator=i.getResultsFor("partiallyVisible"),e}createVisibleCalculators(){const e=this.createRowsCalculator(["fullyVisible","partiallyVisible"]),n=this.createColumnsCalculator(["fullyVisible","partiallyVisible"]);this.rowsVisibleCalculator=e.getResultsFor("fullyVisible"),this.columnsVisibleCalculator=n.getResultsFor("fullyVisible"),this.rowsPartiallyVisibleCalculator=e.getResultsFor("partiallyVisible"),this.columnsPartiallyVisibleCalculator=n.getResultsFor("partiallyVisible")}areAllProposedVisibleRowsAlreadyRendered(e){if(!this.rowsVisibleCalculator)return!1;let{startRow:n,endRow:r}=e;if(n===null&&r===null){if(!e.isVisibleInTrimmingContainer)return!0;n=this.rowsPartiallyVisibleCalculator.startRow,r=this.rowsPartiallyVisibleCalculator.endRow}const{startRow:i,endRow:o}=this.rowsRenderCalculator;return n<i||n===i&&n>0?!1:!(r>o||r===o&&r<this.wtSettings.getSetting("totalRows")-1)}areAllProposedVisibleColumnsAlreadyRendered(e){if(!this.columnsVisibleCalculator)return!1;let{startColumn:n,endColumn:r}=e;if(n===null&&r===null){if(!e.isVisibleInTrimmingContainer)return!0;n=this.columnsPartiallyVisibleCalculator.startColumn,r=this.columnsPartiallyVisibleCalculator.endColumn}const{startColumn:i,endColumn:o}=this.columnsRenderCalculator;return n<i||n===i&&n>0?!1:!(r>o||r===o&&r<this.wtSettings.getSetting("totalColumns")-1)}resetHasOversizedColumnHeadersMarked(){hn(this.hasOversizedColumnHeadersMarked,(e,n,r)=>{r[n]=void 0})}}class hge extends mO{constructor(e,n){super(e,new cge(n));const r=this.wtSettings.getSetting("facade",this);this.wtTable=new TO(this.getTableDao(),r,this.domBindings,this.wtSettings),this.wtViewport=new dge(this.getViewportDao(),this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.selectionManager=new Gfe(this.wtSettings.getSetting("selections")),this.wtEvent=new nj(r,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager),this.wtOverlays=new age(this,r,this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.exportSettingsAsClassNames(),this.findOriginalHeaders()}exportSettingsAsClassNames(){const e={rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},n=[],r=[];hn(e,(i,o)=>{this.wtSettings.getSetting(o).length&&r.push(i),n.push(i)}),Zt(this.wtTable.wtRootElement.parentNode,n),Qe(this.wtTable.wtRootElement.parentNode,r)}getOverlayByName(e){var n;if(!sj.includes(e))return null;const r=e.replace(/_([a-z])/g,i=>i[1].toUpperCase());return(n=this.wtOverlays[`${r}Overlay`])!==null&&n!==void 0?n:null}getViewportDao(){const e=this;return{get wot(){return e},get topOverlayTrimmingContainer(){return e.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return e.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return e.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return e.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return e.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return e.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get bottomOverlay(){return e.wtOverlays.bottomOverlay}}}}class xO{constructor(e){e instanceof mO?this._wot=e:this._initFromSettings(e)}_initFromSettings(e){e.facade=n=>{const r=new xO(n);return()=>r},this._wot=new hge(e.table,e)}get guid(){return this._wot.guid}get rootDocument(){return this._wot.domBindings.rootDocument}get rootWindow(){return this._wot.domBindings.rootWindow}get wtSettings(){return this._wot.wtSettings}get cloneSource(){return this._wot.cloneSource}get cloneOverlay(){return this._wot.cloneOverlay}get selectionManager(){return this._wot.selectionManager}get wtViewport(){return this._wot.wtViewport}get wtOverlays(){return this._wot.wtOverlays}get wtTable(){return this._wot.wtTable}get wtEvent(){return this._wot.wtEvent}get wtScroll(){return this._wot.wtScroll}get drawn(){return this._wot.drawn}set drawn(e){this._wot.drawn=e}get drawInterrupted(){return this._wot.drawInterrupted}set drawInterrupted(e){this._wot.drawInterrupted=e}get lastMouseOver(){return this._wot.lastMouseOver}set lastMouseOver(e){this._wot.lastMouseOver=e}get momentumScrolling(){return this._wot.momentumScrolling}set momentumScrolling(e){this._wot.momentumScrolling=e}get touchApplied(){return this._wot.touchApplied}set touchApplied(e){this._wot.touchApplied=e}get domBindings(){return this._wot.domBindings}get eventListeners(){return this._wot.eventListeners}set eventListeners(e){this._wot.eventListeners=e}get eventManager(){return this._wot.eventManager}createCellCoords(e,n){return this._wot.createCellCoords(e,n)}createCellRange(e,n,r){return this._wot.createCellRange(e,n,r)}draw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._wot.draw(e),this}getCell(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._wot.getCell(e,n)}scrollViewport(e,n,r,i,o){return this._wot.scrollViewport(e,n,r,i,o)}scrollViewportHorizontally(e,n,r){return this._wot.scrollViewportHorizontally(e,n,r)}scrollViewportVertically(e,n,r){return this._wot.scrollViewportVertically(e,n,r)}getViewport(){return this._wot.getViewport()}getOverlayName(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}getOverlayByName(e){return this._wot.getOverlayByName(e)}exportSettingsAsClassNames(){return this._wot.exportSettingsAsClassNames()}update(e,n){return this._wot.wtSettings.update(e,n),this}getSetting(e,n,r,i,o){return this._wot.wtSettings.getSetting(e,n,r,i,o)}hasSetting(e){return this._wot.wtSettings.hasSetting(e)}destroy(){this._wot.destroy()}}function G$(t){let{isShiftKey:e,isLeftClick:n,isRightClick:r,coords:i,selection:o,controller:s,cellCoordsFactory:a}=t;const u=o.isSelected()?o.getSelectedRange().current():null,c=o.isSelectedByCorner(),h=o.isSelectedByRowHeader();if(o.markSource("mouse"),e&&u)i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(i):(c||h)&&i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(a(i.row,i.col)):c&&i.row<0&&!s.column?o.setRangeEnd(a(u.to.row,i.col)):h&&i.col<0&&!s.row?o.setRangeEnd(a(i.row,u.to.col)):(!c&&!h&&i.col<0||c&&i.col<0)&&!s.row?o.selectRows(Math.max(u.from.row,0),i.row,i.col):(!c&&!h&&i.row<0||h&&i.row<0)&&!s.column&&o.selectColumns(Math.max(u.from.col,0),i.col,i.row);else{const g=!o.inInSelection(i),p=n||r&&g;i.row<0&&i.col>=0&&!s.column?p&&o.selectColumns(i.col,i.col,i.row):i.col<0&&i.row>=0&&!s.row?p&&o.selectRows(i.row,i.row,i.col):i.col>=0&&i.row>=0&&!s.cell?p&&o.setRangeStart(i):i.col<0&&i.row<0&&o.selectAll(!0,!0,{disableHeadersHighlight:!0,focusPosition:{row:0,col:0}})}o.markEndSource()}function fge(t){let{isLeftClick:e,coords:n,selection:r,controller:i,cellCoordsFactory:o}=t;if(!e)return;const s=r.isSelectedByRowHeader(),a=r.isSelectedByColumnHeader(),u=r.tableProps.countCols(),c=r.tableProps.countRows();r.markSource("mouse"),a&&!i.column?r.setRangeEnd(o(c-1,n.col)):s&&!i.row?r.setRangeEnd(o(n.row,u-1)):i.cell||r.setRangeEnd(n),r.markEndSource()}const gge=new Map([["mousedown",G$],["mouseover",fge],["touchstart",G$]]);function K$(t,e){let{coords:n,selection:r,controller:i,cellCoordsFactory:o}=e;gge.get(t.type)({coords:n,selection:r,controller:i,cellCoordsFactory:o,isShiftKey:t.shiftKey,isLeftClick:oO(t)||t.type==="touchstart",isRightClick:Eh(t)})}const hj=new WeakMap,IO=Symbol("rootInstance");function mge(t){hj.set(t,!0)}function pge(t){return t===IO}function Ab(t){return hj.has(t)}function vge(t,e){fj(t,e),e.add(t)}function Id(t,e,n){fj(t,e),e.set(t,n)}function fj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ic(t,e,n){return(e=wge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wge(t){var e=Cge(t,"string");return typeof e=="symbol"?e:e+""}function Cge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xi(t,e){return t.get(Tv(t,e))}function Ps(t,e,n){return t.set(Tv(t,e),n),n}function Tv(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var k1=new WeakMap,cy=new WeakMap,dy=new WeakMap,ou=new WeakMap,ca=new WeakMap,F1=new WeakMap,V1=new WeakMap,Hb=new WeakSet;class yge{constructor(e){vge(this,Hb),ic(this,"hot",void 0),ic(this,"eventManager",void 0),ic(this,"settings",void 0),ic(this,"THEAD",void 0),ic(this,"TBODY",void 0),ic(this,"_wt",void 0),ic(this,"activeWt",void 0),Id(this,k1,0),Id(this,cy,0),ic(this,"postponedAdjustElementsSize",!1),Id(this,dy,!1),Id(this,ou,void 0),Id(this,ca,void 0),Id(this,F1,0),Id(this,V1,0),this.hot=e,this.eventManager=new Pa(this.hot),this.settings=this.hot.getSettings(),this.createElements(),this.registerEvents(),this.initializeWalkontable()}render(){this.hot.isRenderSuspended()||(this.hot.runHooks("beforeRender",this.hot.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this._wt.draw(!this.hot.forceFullRender),this.hot.runHooks("afterRender",this.hot.forceFullRender),this.hot.forceFullRender=!1,this.hot.renderCall=!1)}adjustElementsSize(){this.hot.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize()}getCellAtCoords(e,n){const r=this._wt.getCell(e,n);return r<0?null:r}scrollViewport(e,n,r,i,o){return this._wt.scrollViewport(e,n,r,i,o)}scrollViewportHorizontally(e,n,r){return this._wt.scrollViewportHorizontally(e,n,r)}scrollViewportVertically(e,n,r){return this._wt.scrollViewportVertically(e,n,r)}createElements(){const{rootElement:e,rootDocument:n}=this.hot,r=e.getAttribute("style");r&&e.setAttribute("data-originalstyle",r),Qe(e,"handsontable"),Ps(ca,this,n.createElement("TABLE")),Qe(xi(ca,this),"htCore"),this.hot.getSettings().tableClassName&&Qe(xi(ca,this),this.hot.getSettings().tableClassName),this.settings.ariaTags&&(Lt(xi(ca,this),[xl()]),Lt(e,[xle(),cB(-1),W0(this.hot.countCols()),Ble()])),this.THEAD=n.createElement("THEAD"),xi(ca,this).appendChild(this.THEAD),this.TBODY=n.createElement("TBODY"),xi(ca,this).appendChild(this.TBODY),this.hot.table=xi(ca,this),this.hot.container.insertBefore(xi(ca,this),this.hot.container.firstChild)}registerEvents(){const{rootElement:e,rootDocument:n,selection:r,rootWindow:i}=this.hot,o=n.documentElement;this.eventManager.addEventListener(e,"mousedown",a=>{Ps(dy,this,!0),this.isTextSelectionAllowed(a.target)||(n$(i),a.preventDefault(),i.focus())}),this.eventManager.addEventListener(e,"mouseup",()=>{Ps(dy,this,!1)}),this.eventManager.addEventListener(e,"mousemove",a=>{xi(dy,this)&&!this.isTextSelectionAllowed(a.target)&&(this.settings.fragmentSelection&&n$(i),a.preventDefault())}),this.eventManager.addEventListener(o,"keyup",a=>{r.isInProgress()&&!a.shiftKey&&r.finish()}),this.eventManager.addEventListener(o,"mouseup",a=>{r.isInProgress()&&oO(a)&&r.finish(),Ps(ou,this,!1);const u=yB(n.activeElement);Ob(n.activeElement)&&!u||(u||!r.isSelected()&&!r.isSelectedByAnyHeader()&&!e.contains(a.target)&&!Eh(a))&&this.hot.unlisten()}),this.eventManager.addEventListener(o,"contextmenu",a=>{r.isInProgress()&&Eh(a)&&(r.finish(),Ps(ou,this,!1))}),this.eventManager.addEventListener(o,"touchend",()=>{r.isInProgress()&&r.finish(),Ps(ou,this,!1)}),this.eventManager.addEventListener(o,"mousedown",a=>{const u=a.target,c=a.x||a.clientX,h=a.y||a.clientY;let g=a.target;if(xi(ou,this)||!e||!this.hot.view)return;const{holder:p}=this._wt.wtTable;if(g===p){const y=Di(n);if(n.elementFromPoint(c+y,h)!==p||n.elementFromPoint(c,h+y)!==p)return}else for(;g!==o;){if(g===null){if(a.isTargetWebComponent)break;return}if(g===e)return;g=g.parentNode}(typeof this.settings.outsideClickDeselects=="function"?this.settings.outsideClickDeselects(u):this.settings.outsideClickDeselects)?this.hot.deselectCell():this.hot.destroyEditor(!1,!1)});let s=Ig(i);for(;s!==null;)this.eventManager.addEventListener(s.document.documentElement,"click",()=>{this.hot.unlisten()}),s=Ig(s);this.eventManager.addEventListener(xi(ca,this),"selectstart",a=>{this.settings.fragmentSelection||Ob(a.target)||a.preventDefault()})}translateFromRenderableToVisualCoords(e){let{row:n,col:r}=e;return this.hot._createCellCoords(...this.translateFromRenderableToVisualIndex(n,r))}translateFromRenderableToVisualIndex(e,n){let r=e>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(e):e,i=n>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(n):n;return r===null&&(r=e),i===null&&(i=n),[r,i]}countRenderableIndexes(e,n){const r=Math.min(e.getNotTrimmedIndexesLength(),n),i=e.getNearestNotHiddenIndex(r-1,-1);return i===null?0:e.getRenderableFromVisualIndex(i)+1}countRenderableColumns(){return this.countRenderableIndexes(this.hot.columnIndexMapper,this.settings.maxCols)}countRenderableRows(){return this.countRenderableIndexes(this.hot.rowIndexMapper,this.settings.maxRows)}countNotHiddenRowIndexes(e,n){return this.countNotHiddenIndexes(e,n,this.hot.rowIndexMapper,this.countRenderableRows())}countNotHiddenColumnIndexes(e,n){return this.countNotHiddenIndexes(e,n,this.hot.columnIndexMapper,this.countRenderableColumns())}countNotHiddenIndexes(e,n,r,i){if(isNaN(e)||e<0)return 0;const o=r.getNearestNotHiddenIndex(e,n),s=r.getRenderableFromVisualIndex(o);if(!Number.isInteger(s))return 0;let a=0;return n<0?a=s+1:n>0&&(a=i-s),a}countNotHiddenFixedColumnsStart(){const e=this.hot.countCols(),n=Math.min(parseInt(this.settings.fixedColumnsStart,10),e)-1;return this.countNotHiddenColumnIndexes(n,-1)}countNotHiddenFixedRowsTop(){const e=this.hot.countRows(),n=Math.min(parseInt(this.settings.fixedRowsTop,10),e)-1;return this.countNotHiddenRowIndexes(n,-1)}countNotHiddenFixedRowsBottom(){const e=this.hot.countRows(),n=Math.max(e-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(n,1)}countRenderableColumnsInRange(e,n){let r=0;for(let i=e;i<=n;i++)this.hot.columnIndexMapper.getRenderableFromVisualIndex(i)!==null&&(r+=1);return r}countRenderableRowsInRange(e,n){let r=0;for(let i=e;i<=n;i++)this.hot.rowIndexMapper.getRenderableFromVisualIndex(i)!==null&&(r+=1);return r}isMainTableNotFullyCoveredByOverlays(){const e=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),n=this.countNotHiddenFixedColumnsStart();return this.hot.countRenderedRows()>e&&this.hot.countRenderedCols()>n}initializeWalkontable(){const e={ariaTags:this.settings.ariaTags,rtlMode:this.hot.isRtl(),externalRowCalculator:this.hot.getPlugin("autoRowSize")&&this.hot.getPlugin("autoRowSize").isEnabled(),table:xi(ca,this),isDataViewInstance:()=>Ab(this.hot),preventOverflow:()=>this.settings.preventOverflow,preventWheel:()=>this.settings.preventWheel,stretchH:()=>this.settings.stretchH,data:(o,s)=>this.hot.getDataAtCell(...this.translateFromRenderableToVisualIndex(o,s)),totalRows:()=>this.countRenderableRows(),totalColumns:()=>this.countRenderableColumns(),fixedColumnsStart:()=>this.countNotHiddenFixedColumnsStart(),fixedRowsTop:()=>this.countNotHiddenFixedRowsTop(),fixedRowsBottom:()=>this.countNotHiddenFixedRowsBottom(),shouldRenderInlineStartOverlay:()=>this.settings.fixedColumnsStart>0||e.rowHeaders().length>0,shouldRenderTopOverlay:()=>this.settings.fixedRowsTop>0||e.columnHeaders().length>0,shouldRenderBottomOverlay:()=>this.settings.fixedRowsBottom>0,minSpareRows:()=>this.settings.minSpareRows,renderAllRows:this.settings.renderAllRows,renderAllColumns:this.settings.renderAllColumns,rowHeaders:()=>{const o=[];return this.hot.hasRowHeaders()&&o.push((s,a)=>{const u=s>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(s):s;this.appendRowHeader(u,a)}),this.hot.runHooks("afterGetRowHeaderRenderers",o),Ps(cy,this,o.length),this.hot.getSettings().ariaTags&&Tv(Hb,this,gj).call(this)===this.hot.countCols()&&Tv(Hb,this,bge).call(this,xi(cy,this)),o},columnHeaders:()=>{const o=[];return this.hot.hasColHeaders()&&o.push((s,a)=>{const u=s>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(s):s;this.appendColHeader(u,a)}),this.hot.runHooks("afterGetColumnHeaderRenderers",o),Ps(k1,this,o.length),o},columnWidth:o=>{const s=this.hot.columnIndexMapper.getVisualFromRenderableIndex(o);return this.hot.getColWidth(s===null?o:s)},rowHeight:o=>{const s=this.hot.rowIndexMapper.getVisualFromRenderableIndex(o);return this.hot.getRowHeight(s===null?o:s)},rowHeightByOverlayName:(o,s)=>{const a=this.hot.rowIndexMapper.getVisualFromRenderableIndex(o),u=a===null?o:a;return this.hot.runHooks("modifyRowHeightByOverlayName",this.hot.getRowHeight(u),u,s)},cellRenderer:(o,s,a)=>{const[u,c]=this.translateFromRenderableToVisualIndex(o,s),h=this.hot.runHooks("modifyGetCellCoords",u,c);let g=u,p=c;Array.isArray(h)&&([g,p]=h);const v=this.hot.getCellMeta(g,p),y=this.hot.colToProp(p);let R=this.hot.getDataAtRowProp(g,y);this.hot.hasHook("beforeValueRender")&&(R=this.hot.runHooks("beforeValueRender",R,v)),this.hot.runHooks("beforeRenderer",a,u,c,y,R,v),this.hot.getCellRenderer(v)(this.hot,a,u,c,y,R,v),this.hot.runHooks("afterRenderer",a,u,c,y,R,v)},selections:this.hot.selection.highlight,hideBorderOnMouseDownOver:()=>this.settings.fragmentSelection,onWindowResize:()=>{this.hot&&!this.hot.isDestroyed&&this.hot.refreshDimensions()},onContainerElementResize:()=>{this.hot&&!this.hot.isDestroyed&&Og(this.hot.rootElement)&&this.hot.refreshDimensions()},onCellMouseDown:(o,s,a,u)=>{const c=this.translateFromRenderableToVisualCoords(s),h={row:!1,column:!1,cell:!1};this.hot.listen(),this.activeWt=u,Ps(ou,this,!0),this.hot.runHooks("beforeOnCellMouseDown",o,c,a,h),!uh(o)&&(K$(o,{coords:c,selection:this.hot.selection,controller:h,cellCoordsFactory:(g,p)=>this.hot._createCellCoords(g,p)}),this.hot.runHooks("afterOnCellMouseDown",o,c,a),this.activeWt=this._wt)},onCellContextMenu:(o,s,a,u)=>{const c=this.translateFromRenderableToVisualCoords(s);this.activeWt=u,Ps(ou,this,!1),this.hot.selection.isInProgress()&&this.hot.selection.finish(),this.hot.runHooks("beforeOnCellContextMenu",o,c,a),!uh(o)&&(this.hot.runHooks("afterOnCellContextMenu",o,c,a),this.activeWt=this._wt)},onCellMouseOut:(o,s,a,u)=>{const c=this.translateFromRenderableToVisualCoords(s);this.activeWt=u,this.hot.runHooks("beforeOnCellMouseOut",o,c,a),!uh(o)&&(this.hot.runHooks("afterOnCellMouseOut",o,c,a),this.activeWt=this._wt)},onCellMouseOver:(o,s,a,u)=>{const c=this.translateFromRenderableToVisualCoords(s),h={row:!1,column:!1,cell:!1};this.activeWt=u,this.hot.runHooks("beforeOnCellMouseOver",o,c,a,h),!uh(o)&&(xi(ou,this)&&K$(o,{coords:c,selection:this.hot.selection,controller:h,cellCoordsFactory:(g,p)=>this.hot._createCellCoords(g,p)}),this.hot.runHooks("afterOnCellMouseOver",o,c,a),this.activeWt=this._wt)},onCellMouseUp:(o,s,a,u)=>{const c=this.translateFromRenderableToVisualCoords(s);this.activeWt=u,this.hot.runHooks("beforeOnCellMouseUp",o,c,a),!(uh(o)||this.hot.isDestroyed)&&(this.hot.runHooks("afterOnCellMouseUp",o,c,a),this.activeWt=this._wt)},onCellCornerMouseDown:o=>{o.preventDefault(),this.hot.runHooks("afterOnCellCornerMouseDown",o)},onCellCornerDblClick:o=>{o.preventDefault(),this.hot.runHooks("afterOnCellCornerDblClick",o)},beforeDraw:(o,s)=>this.beforeRender(o,s),onDraw:o=>this.afterRender(o),onBeforeViewportScrollVertically:o=>{const s=this.hot.rowIndexMapper,a=o<0;let u=o;return!a&&(u=s.getVisualFromRenderableIndex(o),u===null)?o:(u=this.hot.runHooks("beforeViewportScrollVertically",u),this.hot.runHooks("beforeViewportScroll"),a?u:s.getRenderableFromVisualIndex(u))},onBeforeViewportScrollHorizontally:o=>{const s=this.hot.columnIndexMapper,a=o<0;let u=o;return!a&&(u=s.getVisualFromRenderableIndex(o),u===null)?o:(u=this.hot.runHooks("beforeViewportScrollHorizontally",u),this.hot.runHooks("beforeViewportScroll"),a?u:s.getRenderableFromVisualIndex(u))},onScrollVertically:()=>{this.hot.runHooks("afterScrollVertically"),this.hot.runHooks("afterScroll")},onScrollHorizontally:()=>{this.hot.runHooks("afterScrollHorizontally"),this.hot.runHooks("afterScroll")},onBeforeRemoveCellClassNames:()=>this.hot.runHooks("beforeRemoveCellClassNames"),onBeforeHighlightingRowHeader:(o,s,a)=>{const u=this.hot.rowIndexMapper,c=o<0;let h=o;c||(h=u.getVisualFromRenderableIndex(o));const g=this.hot.runHooks("beforeHighlightingRowHeader",h,s,a);return c?g:u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(g,1))},onBeforeHighlightingColumnHeader:(o,s,a)=>{const u=this.hot.columnIndexMapper,c=o<0;let h=o;c||(h=u.getVisualFromRenderableIndex(o));const g=this.hot.runHooks("beforeHighlightingColumnHeader",h,s,a);return c?g:u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(g,1))},onAfterDrawSelection:(o,s,a)=>{let u;const[c,h]=this.translateFromRenderableToVisualIndex(o,s),g=this.hot.selection.getSelectedRange();if(g.size()>0){const v=g.peekByIndex(a??0);u=[v.from.row,v.from.col,v.to.row,v.to.col]}return this.hot.runHooks("afterDrawSelection",c,h,u,a)},onBeforeDrawBorders:(o,s)=>{const[a,u,c,h]=o,g=[this.hot.rowIndexMapper.getVisualFromRenderableIndex(a),this.hot.columnIndexMapper.getVisualFromRenderableIndex(u),this.hot.rowIndexMapper.getVisualFromRenderableIndex(c),this.hot.columnIndexMapper.getVisualFromRenderableIndex(h)];return this.hot.runHooks("beforeDrawBorders",g,s)},onBeforeTouchScroll:()=>this.hot.runHooks("beforeTouchScroll"),onAfterMomentumScroll:()=>this.hot.runHooks("afterMomentumScroll"),onBeforeStretchingColumnWidth:(o,s)=>{const a=this.hot.columnIndexMapper.getVisualFromRenderableIndex(s);return this.hot.runHooks("beforeStretchingColumnWidth",o,a)},onModifyRowHeaderWidth:o=>this.hot.runHooks("modifyRowHeaderWidth",o),onModifyGetCellCoords:(o,s,a)=>{const u=this.hot.rowIndexMapper,c=this.hot.columnIndexMapper,h=s>=0?c.getVisualFromRenderableIndex(s):s,g=o>=0?u.getVisualFromRenderableIndex(o):o,p=this.hot.runHooks("modifyGetCellCoords",g,h,a);if(Array.isArray(p)){const[v,y,R,S]=p;return[v>=0?u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(v,1)):v,y>=0?c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(y,1)):y,R>=0?u.getRenderableFromVisualIndex(u.getNearestNotHiddenIndex(R,-1)):R,S>=0?c.getRenderableFromVisualIndex(c.getNearestNotHiddenIndex(S,-1)):S]}},viewportRowCalculatorOverride:o=>{let s=this.settings.viewportRowRenderingOffset;if(s==="auto"&&this.settings.fixedRowsTop&&(s=10),s>0||s==="auto"){const a=this.countRenderableRows(),u=o.startRow,c=o.endRow;if(typeof s=="number")o.startRow=Math.max(u-s,0),o.endRow=Math.min(c+s,a-1);else if(s==="auto"){const h=Math.ceil(c/a*12);o.startRow=Math.max(u-h,0),o.endRow=Math.min(c+h,a-1)}}this.hot.runHooks("afterViewportRowCalculatorOverride",o)},viewportColumnCalculatorOverride:o=>{let s=this.settings.viewportColumnRenderingOffset;if(s==="auto"&&this.settings.fixedColumnsStart&&(s=10),s>0||s==="auto"){const a=this.countRenderableColumns(),u=o.startColumn,c=o.endColumn;if(typeof s=="number"&&(o.startColumn=Math.max(u-s,0),o.endColumn=Math.min(c+s,a-1)),s==="auto"){const h=Math.ceil(c/a*6);o.startColumn=Math.max(u-h,0),o.endColumn=Math.min(c+h,a-1)}}this.hot.runHooks("afterViewportColumnCalculatorOverride",o)},rowHeaderWidth:()=>this.settings.rowHeaderWidth,columnHeaderHeight:()=>{const o=this.hot.runHooks("modifyColumnHeaderHeight");return this.settings.columnHeaderHeight||o}};this.hot.runHooks("beforeInitWalkontable",e),this._wt=new xO(e),this.activeWt=this._wt;const n=this._wt.wtTable.spreader,{width:r,height:i}=this.hot.rootElement.getBoundingClientRect();this.setLastSize(r,i),this.eventManager.addEventListener(n,"mousedown",o=>{o.target===n&&o.which===3&&o.stopPropagation()}),this.eventManager.addEventListener(n,"contextmenu",o=>{o.target===n&&o.which===3&&o.stopPropagation()}),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"click",()=>{this.settings.observeDOMVisibility&&this._wt.drawInterrupted&&(this.hot.forceFullRender=!0,this.render())})}isTextSelectionAllowed(e){if(Ob(e))return!0;const n=Ch(e,this._wt.wtTable.spreader);return!!(this.settings.fragmentSelection===!0&&n||this.settings.fragmentSelection==="cell"&&this.isSelectedOnlyCell()&&n||!this.settings.fragmentSelection&&this.isCellEdited()&&this.isSelectedOnlyCell())}isMouseDown(){return xi(ou,this)}isSelectedOnlyCell(){var e,n;return(e=(n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingleCell())!==null&&e!==void 0?e:!1}isCellEdited(){const e=this.hot.getActiveEditor();return e&&e.isOpened()}beforeRender(e,n){e&&this.hot.runHooks("beforeViewRender",this.hot.forceFullRender,n)}afterRender(e){e&&this.hot.runHooks("afterViewRender",this.hot.forceFullRender)}appendRowHeader(e,n){if(n.firstChild){const r=n.firstChild;if(!Ft(r,"relative")){Al(n),this.appendRowHeader(e,n);return}this.updateCellHeader(r.querySelector(".rowHeader"),e,this.hot.getRowHeader)}else{const{rootDocument:r,getRowHeader:i}=this.hot,o=r.createElement("div"),s=r.createElement("span");o.className="relative",s.className="rowHeader",this.updateCellHeader(s,e,i),o.appendChild(s),n.appendChild(o)}this.hot.runHooks("afterGetRowHeader",e,n)}appendColHeader(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hot.getColHeader,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const o=()=>{const s=e>=0?this.hot.getColumnMeta(e).headerClassName:null;return s?s.split(" "):[]};if(n.firstChild){const s=n.firstChild;Ft(s,"relative")?(this.updateCellHeader(s.querySelector(".colHeader"),e,r,i),s.className="",Qe(s,["relative",...o()])):(Al(n),this.appendColHeader(e,n,r,i))}else{const{rootDocument:s}=this.hot,a=s.createElement("div"),u=s.createElement("span"),c=o();a.classList.add("relative",...c),u.className="colHeader",this.settings.ariaTags&&(Lt(a,...xl()),Lt(u,...xl())),this.updateCellHeader(u,e,r,i),a.appendChild(u),n.appendChild(a)}this.hot.runHooks("afterGetColHeader",e,n,i)}updateCellHeader(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=n;const s=this._wt.wtOverlays.getParentOverlay(e)||this._wt;e.parentNode&&(Ft(e,"colHeader")?o=s.wtTable.columnFilter.sourceToRendered(n):Ft(e,"rowHeader")&&(o=s.wtTable.rowFilter.sourceToRendered(n))),o>-1?Jg(e,r(n,i)):(Rh(e," "),Qe(e,"cornerHeader"))}maximumVisibleElementWidth(e){const r=this._wt.wtViewport.getWorkspaceWidth()-e;return r>0?r:0}maximumVisibleElementHeight(e){const r=this._wt.wtViewport.getWorkspaceHeight()-e;return r>0?r:0}setLastSize(e,n){Ps(F1,this,e),Ps(V1,this,n)}getLastSize(){return{width:xi(F1,this),height:xi(V1,this)}}getFirstRenderedVisibleRow(){return this._wt.wtViewport.rowsRenderCalculator?this.hot.rowIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getFirstRenderedRow(),1):null}getLastRenderedVisibleRow(){return this._wt.wtViewport.rowsRenderCalculator?this.hot.rowIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getLastRenderedRow(),-1):null}getFirstRenderedVisibleColumn(){return this._wt.wtViewport.columnsRenderCalculator?this.hot.columnIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getFirstRenderedColumn(),1):null}getLastRenderedVisibleColumn(){return this._wt.wtViewport.columnsRenderCalculator?this.hot.columnIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getLastRenderedColumn(),-1):null}getFirstFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstVisibleRow())}getLastFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastVisibleRow())}getFirstFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstVisibleColumn())}getLastFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastVisibleColumn())}getFirstPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstPartiallyVisibleRow())}getLastPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastPartiallyVisibleRow())}getFirstPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstPartiallyVisibleColumn())}getLastPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastPartiallyVisibleColumn())}getColumnHeadersCount(){return xi(k1,this)}getRowHeadersCount(){return xi(cy,this)}getViewportWidth(){return this._wt.wtViewport.getViewportWidth()}getWorkspaceWidth(){return this._wt.wtViewport.getWorkspaceWidth()}getViewportHeight(){return this._wt.wtViewport.getViewportHeight()}getWorkspaceHeight(){return this._wt.wtViewport.getWorkspaceHeight()}getElementOverlayName(e){var n;return((n=this._wt.wtOverlays.getParentOverlay(e))!==null&&n!==void 0?n:this._wt).wtTable.name}getOverlayByName(e){return this._wt.getOverlayByName(e)}isVisible(){return this._wt.wtTable.isVisible()}destroy(){this._wt.destroy(),this.eventManager.destroy()}}function gj(){return parseInt(this.hot.rootElement.getAttribute(W0()[0]),10)}function bge(t){const e=Tv(Hb,this,gj).call(this)+t;Lt(this.hot.rootElement,...W0(e))}const Sge="ABCDEFGHIJKLMNOPQRSTUVWXYZ",q$=Sge.length;function Rge(t){let e=t+1,n="",r;for(;e>0;)r=(e-1)%q$,n=String.fromCharCode(65+r)+n,e=parseInt((e-r)/q$,10);return n}function mj(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t;const r=[];return(!Array.isArray(t)||!Array.isArray(t[0]))&&(n=[t]),n.forEach((i,o)=>{Array.isArray(i)?i.forEach((s,a)=>{r.push([o+e,a,s])}):Object.keys(i).forEach(s=>{r.push([o+e,s,i[s]])})}),r}function pj(t){let e=0;return Array.isArray(t)&&(t[0]&&Array.isArray(t[0])?e=t[0].length:t[0]&&dn(t[0])&&(e=rO(t[0]))),e}function Ege(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>Array.isArray(e)))}function _ge(t){return!!(Array.isArray(t)&&t.length&&t.every(e=>typeof e=="object"&&!Array.isArray(e)&&e!==null))}function rp(t,e,n){return(e=Mge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mge(t){var e=Tge(t,"string");return typeof e=="symbol"?e:e+""}function Tge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xge{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];rp(this,"hot",void 0),rp(this,"data",void 0),rp(this,"dataType","array"),rp(this,"colToProp",()=>{}),rp(this,"propToCol",()=>{}),this.hot=e,this.data=n}modifyRowData(e){let n;return this.hot.hasHook("modifyRowData")&&(n=this.hot.runHooks("modifyRowData",e)),n!==void 0&&!Number.isInteger(n)?n:this.data[e]}getData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return!this.data||this.data.length===0?this.data:this.getByRange(null,null,e)}setData(e){this.data=e}getAtColumn(e){const n=[];return ye(this.data,(r,i)=>{const o=this.getAtCell(i,e);n.push(o)}),n}getAtRow(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const o=n===void 0&&r===void 0,{dataDotNotation:s}=this.hot.getSettings();let a=null,u=null;if(a=this.modifyRowData(e),Array.isArray(a))u=[],o?a.forEach((c,h)=>{u[h]=this.getAtPhysicalCell(e,h,a)}):Mt(n,r,c=>{u[c-n]=this.getAtPhysicalCell(e,c,a)});else if(dn(a)||br(a))if(i?u=[]:u={},!o||i){const h=this.countFirstRowKeys()-1;Mt(0,h,g=>{const p=this.colToProp(g);if(g>=(n||0)&&g<=(r||h)&&!Number.isInteger(p)){const v=this.getAtPhysicalCell(e,p,a);i?u.push(v):s?C1(u,p,v):u[p]=v}})}else hn(a,(c,h)=>{const g=this.getAtPhysicalCell(e,h,a);s?C1(u,h,g):u[h]=g});return u}setAtCell(e,n,r){if(!(e>=this.countRows()||n>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){const i=_a(r);this.hot.runHooks("modifySourceData",e,n,i,"set"),i.isTouched()&&(r=i.value)}Number.isInteger(n)?this.data[e][n]=r:C1(this.data[e],n,r)}}getAtPhysicalCell(e,n,r){let i=null;if(r)if(typeof n=="string"){const{dataDotNotation:o}=this.hot.getSettings();i=o?Mue(r,n):r[n]}else typeof n=="function"?i=n(r):i=r[n];if(this.hot.hasHook("modifySourceData")){const o=_a(i);this.hot.runHooks("modifySourceData",e,n,o,"get"),o.isTouched()&&(i=o.value)}return i}getAtCell(e,n){const r=this.modifyRowData(e);return this.getAtPhysicalCell(e,this.colToProp(n),r)}getByRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,o=null,s=null,a=null,u=null;e===null||n===null?(i=!0,o=0,a=this.countRows()-1):(o=Math.min(e.row,n.row),s=Math.min(e.col,n.col),a=Math.max(e.row,n.row),u=Math.max(e.col,n.col));const c=[];return Mt(o,a,h=>{c.push(i?this.getAtRow(h,void 0,void 0,r):this.getAtRow(h,s,u,r))}),c}countRows(){if(this.hot.hasHook("modifySourceLength")){const e=this.hot.runHooks("modifySourceLength");if(Number.isInteger(e))return e}return this.data.length}countFirstRowKeys(){return pj(this.data)}destroy(){this.data=null,this.hot=null}}function X$(t,e,n){return(e=Ige(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ige(t){var e=Oge(t,"string");return typeof e=="symbol"?e:e+""}function Oge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zh{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;X$(this,"indexedValues",[]),X$(this,"initValueOrFn",void 0),this.initValueOrFn=e}getValues(){return this.indexedValues}getValueAtIndex(e){const n=this.indexedValues;if(e<n.length)return n[e]}setValues(e){this.indexedValues=e.slice(),this.runLocalHooks("change")}setValueAtIndex(e,n){return e<this.indexedValues.length?(this.indexedValues[e]=n,this.runLocalHooks("change"),!0):!1}clear(){this.setDefaultValues()}getLength(){return this.getValues().length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,br(this.initValueOrFn)?Mt(e-1,n=>this.indexedValues.push(this.initValueOrFn(n))):Mt(e-1,()=>this.indexedValues.push(this.initValueOrFn)),this.runLocalHooks("change")}init(e){return this.setDefaultValues(e),this.runLocalHooks("init"),this}insert(){this.runLocalHooks("change")}remove(){this.runLocalHooks("change")}destroy(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}}lr(zh,Ui);function OO(t,e,n,r){const i=n.length?n[0]:void 0;return[...t.slice(0,i),...n.map((o,s)=>br(r)?r(o,s):r),...i===void 0?[]:t.slice(i)]}function PO(t,e){return jc(t,(n,r)=>e.includes(r)===!1)}class Jc extends zh{insert(e,n){this.indexedValues=OO(this.indexedValues,e,n,this.initValueOrFn),super.insert(e,n)}remove(e){this.indexedValues=PO(this.indexedValues,e),super.remove(e)}}class q0 extends Jc{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getHiddenIndexes(){return Eo(this.getValues(),(e,n,r)=>(n&&e.push(r),e),[])}}function AO(t,e,n){return[...t.slice(0,e),...n,...t.slice(e)]}function xv(t,e){return jc(t,n=>e.includes(n)===!1)}function HO(t,e){return _n(t,n=>n-e.filter(r=>r<n).length)}function DO(t,e){const n=e[0],r=e.length;return _n(t,i=>i>=n?i+r:i)}function Pge(t,e,n){return(e=Age(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Age(t){var e=Hge(t,"string");return typeof e=="symbol"?e:e+""}function Hge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class X0 extends zh{constructor(){super(...arguments),Pge(this,"orderOfIndexes",[])}getValues(){return this.orderOfIndexes.map(e=>this.indexedValues[e])}setValues(e){this.orderOfIndexes=[...Array(e.length).keys()],super.setValues(e)}setValueAtIndex(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.orderOfIndexes.length;return e<this.indexedValues.length?(this.indexedValues[e]=n,this.orderOfIndexes.includes(e)===!1&&this.orderOfIndexes.splice(r,0,e),this.runLocalHooks("change"),!0):!1}clearValue(e){this.orderOfIndexes=xv(this.orderOfIndexes,[e]),br(this.initValueOrFn)?super.setValueAtIndex(e,this.initValueOrFn(e)):super.setValueAtIndex(e,this.initValueOrFn)}getLength(){return this.orderOfIndexes.length}setDefaultValues(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,super.setDefaultValues(e)}insert(e,n){this.indexedValues=OO(this.indexedValues,e,n,this.initValueOrFn),this.orderOfIndexes=DO(this.orderOfIndexes,n),super.insert(e,n)}remove(e){this.indexedValues=PO(this.indexedValues,e),this.orderOfIndexes=xv(this.orderOfIndexes,e),this.orderOfIndexes=HO(this.orderOfIndexes,e),super.remove(e)}getEntries(){return this.orderOfIndexes.map(e=>[e,this.getValueAtIndex(e)])}}class hw extends Jc{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;super(e)}getTrimmedIndexes(){return Eo(this.getValues(),(e,n,r)=>(n&&e.push(r),e),[])}}const Z$=new Map([["indexesSequence",{getListWithInsertedItems:AO,getListWithRemovedItems:xv}],["physicallyIndexed",{getListWithInsertedItems:OO,getListWithRemovedItems:PO}]]),vj=t=>{if(Z$.has(t)===!1)throw new Error(`Alter strategy with ID '${t}' does not exist.`);return Z$.get(t)};class wj extends zh{constructor(){super(e=>e)}insert(e,n){const r=DO(this.indexedValues,n);this.indexedValues=AO(r,e,n),super.insert(e,n)}remove(e){const n=xv(this.indexedValues,e);this.indexedValues=HO(n,e),super.remove(e)}}const Q$=new Map([["hiding",q0],["index",zh],["linkedPhysicalIndexToValue",X0],["physicalIndexToValue",Jc],["trimming",hw]]);function Dge(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Q$.has(t))throw new Error(`The provided map type ("${t}") does not exist.`);return new(Q$.get(t))(e)}function Nge(t,e,n){return(e=$ge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ge(t){var e=Lge(t,"string");return typeof e=="symbol"?e:e+""}function Lge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class NO{constructor(){Nge(this,"collection",new Map)}register(e,n){this.collection.has(e)===!1&&(this.collection.set(e,n),n.addLocalHook("change",()=>this.runLocalHooks("change",n)))}unregister(e){const n=this.collection.get(e);Ct(n)&&(n.destroy(),this.collection.delete(e),this.runLocalHooks("change",n))}unregisterAll(){this.collection.forEach((e,n)=>this.unregister(n)),this.collection.clear()}get(e){return Sr(e)?Array.from(this.collection.values()):this.collection.get(e)}getLength(){return this.collection.size}removeFromEvery(e){this.collection.forEach(n=>{n.remove(e)})}insertToEvery(e,n){this.collection.forEach(r=>{r.insert(e,n)})}initEvery(e){this.collection.forEach(n=>{n.init(e)})}}lr(NO,Ui);function W1(t,e,n){return(e=kge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kge(t){var e=Fge(t,"string");return typeof e=="symbol"?e:e+""}function Fge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class J$ extends NO{constructor(e,n){super(),W1(this,"mergedValuesCache",[]),W1(this,"aggregationFunction",void 0),W1(this,"fallbackValue",void 0),this.aggregationFunction=e,this.fallbackValue=n}getMergedValues(){if((arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0)return this.mergedValuesCache;if(this.getLength()===0)return[];const n=_n(this.get(),o=>o.getValues()),r=[],i=Ct(n[0])&&n[0].length||0;for(let o=0;o<i;o+=1){const s=[];for(let a=0;a<this.getLength();a+=1)s.push(n[a][o]);r.push(s)}return _n(r,this.aggregationFunction)}getMergedValueAtIndex(e,n){const r=this.getMergedValues(n)[e];return Ct(r)?r:this.fallbackValue}updateCache(){this.mergedValuesCache=this.getMergedValues(!1)}}function Vge(t,e,n){Wge(t,e),e.set(t,n)}function Wge(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Bge(t,e,n){return t.set(Cj(t,e),n),n}function jge(t,e){return t.get(Cj(t,e))}function Cj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var B1=new WeakMap;class yj{constructor(){Vge(this,B1,[])}subscribe(e){return this.addLocalHook("change",e),this._write(jge(B1,this)),this}unsubscribe(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}_write(e){return e.length>0&&this.runLocalHooks("change",e),this}_writeInitialChanges(e){Bge(B1,this,e)}}lr(yj,Ui);function eL(t,e){const n=[];let r=0,i=0;for(;r<t.length&&i<e.length;r++,i++)t[r]!==e[i]&&n.push({op:"replace",index:i,oldValue:t[r],newValue:e[i]});for(;r<e.length;r++)n.push({op:"insert",index:r,oldValue:void 0,newValue:e[r]});for(;i<t.length;i++)n.push({op:"remove",index:i,oldValue:t[i],newValue:void 0});return n}function ip(t,e,n){zge(t,e),e.set(t,n)}function zge(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function As(t,e){return t.get(bj(t,e))}function hy(t,e,n){return t.set(bj(t,e),n),n}function bj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var fy=new WeakMap,op=new WeakMap,gy=new WeakMap,my=new WeakMap,py=new WeakMap;class Yge{constructor(){let{initialIndexValue:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ip(this,fy,new Set),ip(this,op,[]),ip(this,gy,[]),ip(this,my,!1),ip(this,py,!1),hy(py,this,e??!1)}createObserver(){const e=new yj;return As(fy,this).add(e),e.addLocalHook("unsubscribe",()=>{As(fy,this).delete(e)}),e._writeInitialChanges(eL(As(op,this),As(gy,this))),e}emit(e){let n=As(gy,this);(!As(my,this)||As(op,this).length!==e.length)&&(e.length===0?e=new Array(n.length).fill(As(py,this)):hy(op,this,new Array(e.length).fill(As(py,this))),As(my,this)||(hy(my,this,!0),n=As(op,this)));const r=eL(n,e);As(fy,this).forEach(i=>i._write(r)),hy(gy,this,e)}}function fo(t,e,n){return(e=Uge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uge(t){var e=Gge(t,"string");return typeof e=="symbol"?e:e+""}function Gge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ox{constructor(){fo(this,"indexesSequence",new wj),fo(this,"trimmingMapsCollection",new J$(e=>e.some(n=>n===!0),!1)),fo(this,"hidingMapsCollection",new J$(e=>e.some(n=>n===!0),!1)),fo(this,"variousMapsCollection",new NO),fo(this,"hidingChangesObservable",new Yge({initialIndexValue:!1})),fo(this,"notTrimmedIndexesCache",[]),fo(this,"notHiddenIndexesCache",[]),fo(this,"isBatched",!1),fo(this,"indexesSequenceChanged",!1),fo(this,"indexesChangeSource",void 0),fo(this,"trimmedIndexesChanged",!1),fo(this,"hiddenIndexesChanged",!1),fo(this,"renderablePhysicalIndexesCache",[]),fo(this,"fromPhysicalToVisualIndexesCache",new Map),fo(this,"fromVisualToRenderableIndexesCache",new Map),this.indexesSequence.addLocalHook("change",()=>{this.indexesSequenceChanged=!0,this.updateCache(),this.runLocalHooks("indexesSequenceChange",this.indexesChangeSource),this.runLocalHooks("change",this.indexesSequence,null)}),this.trimmingMapsCollection.addLocalHook("change",e=>{this.trimmedIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.trimmingMapsCollection)}),this.hidingMapsCollection.addLocalHook("change",e=>{this.hiddenIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.hidingMapsCollection)}),this.variousMapsCollection.addLocalHook("change",e=>{this.runLocalHooks("change",e,this.variousMapsCollection)})}suspendOperations(){this.isBatched=!0}resumeOperations(){this.isBatched=!1,this.updateCache()}createChangesObserver(e){if(e!=="hiding")throw new Error(`Unsupported index map type "${e}".`);return this.hidingChangesObservable.createObserver()}createAndRegisterIndexMap(e,n,r){return this.registerMap(e,Dge(n,r))}registerMap(e,n){if(this.trimmingMapsCollection.get(e)||this.hidingMapsCollection.get(e)||this.variousMapsCollection.get(e))throw Error(`Map with name "${e}" has been already registered.`);n instanceof hw?this.trimmingMapsCollection.register(e,n):n instanceof q0?this.hidingMapsCollection.register(e,n):this.variousMapsCollection.register(e,n);const r=this.getNumberOfIndexes();return r>0&&n.init(r),n}unregisterMap(e){this.trimmingMapsCollection.unregister(e),this.hidingMapsCollection.unregister(e),this.variousMapsCollection.unregister(e)}unregisterAll(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}getPhysicalFromVisualIndex(e){const n=this.notTrimmedIndexesCache[e];return Ct(n)?n:null}getPhysicalFromRenderableIndex(e){const n=this.renderablePhysicalIndexesCache[e];return Ct(n)?n:null}getVisualFromPhysicalIndex(e){const n=this.fromPhysicalToVisualIndexesCache.get(e);return Ct(n)?n:null}getVisualFromRenderableIndex(e){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(e))}getRenderableFromVisualIndex(e){const n=this.fromVisualToRenderableIndexesCache.get(e);return Ct(n)?n:null}getNearestNotHiddenIndex(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.getPhysicalFromVisualIndex(e)===null)return null;if(this.fromVisualToRenderableIndexesCache.has(e))return e;const o=Array.from(this.fromVisualToRenderableIndexesCache.keys());let s=-1;return n>0?s=o.findIndex(a=>a>e):s=o.reverse().findIndex(a=>a<e),s===-1?r?this.getNearestNotHiddenIndex(e,-n,!1):null:o[s]}initToLength(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=[...new Array(e).keys()],this.notHiddenIndexesCache=[...new Array(e).keys()],this.suspendOperations(),this.indexesChangeSource="init",this.indexesSequence.init(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.initEvery(e),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(e),this.variousMapsCollection.initEvery(e),this.resumeOperations(),this.runLocalHooks("init")}fitToLength(e){const n=this.getNumberOfIndexes();if(e<n){const r=[...Array(this.getNumberOfIndexes()-e).keys()].map(i=>i+e);this.removeIndexes(r)}else this.insertIndexes(n,e-n)}getIndexesSequence(){return this.indexesSequence.getValues()}setIndexesSequence(e){this.indexesChangeSource===void 0&&(this.indexesChangeSource="update"),this.indexesSequence.setValues(e),this.indexesChangeSource==="update"&&(this.indexesChangeSource=void 0)}getNotTrimmedIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notTrimmedIndexesCache:this.getIndexesSequence().filter(r=>this.isTrimmed(r)===!1)}getNotTrimmedIndexesLength(){return this.getNotTrimmedIndexes().length}getNotHiddenIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.notHiddenIndexesCache:this.getIndexesSequence().filter(r=>this.isHidden(r)===!1)}getNotHiddenIndexesLength(){return this.getNotHiddenIndexes().length}getRenderableIndexes(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0?this.renderablePhysicalIndexesCache:this.getNotTrimmedIndexes().filter(r=>this.isHidden(r)===!1)}getRenderableIndexesLength(){return this.getRenderableIndexes().length}getNumberOfIndexes(){return this.getIndexesSequence().length}moveIndexes(e,n){typeof e=="number"&&(e=[e]);const r=_n(e,c=>this.getPhysicalFromVisualIndex(c)),i=this.getNotTrimmedIndexesLength(),o=e.length,s=xv(this.getIndexesSequence(),r),a=s.filter(c=>this.isTrimmed(c)===!1);let u=s.indexOf(a[a.length-1])+1;if(n+o<i){const c=a[n];u=s.indexOf(c)}this.indexesChangeSource="move",this.setIndexesSequence(AO(s,u,r)),this.indexesChangeSource=void 0}isTrimmed(e){return this.trimmingMapsCollection.getMergedValueAtIndex(e)}isHidden(e){return this.hidingMapsCollection.getMergedValueAtIndex(e)}insertIndexes(e,n){const r=this.getNotTrimmedIndexes()[e],i=Ct(r)?r:this.getNumberOfIndexes(),o=this.getIndexesSequence().includes(r)?this.getIndexesSequence().indexOf(r):this.getNumberOfIndexes(),s=_n(new Array(n).fill(i),(a,u)=>a+u);this.suspendOperations(),this.indexesChangeSource="insert",this.indexesSequence.insert(o,s),this.indexesChangeSource=void 0,this.trimmingMapsCollection.insertToEvery(o,s),this.hidingMapsCollection.insertToEvery(o,s),this.variousMapsCollection.insertToEvery(o,s),this.resumeOperations()}removeIndexes(e){this.suspendOperations(),this.indexesChangeSource="remove",this.indexesSequence.remove(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.removeFromEvery(e),this.hidingMapsCollection.removeFromEvery(e),this.variousMapsCollection.removeFromEvery(e),this.resumeOperations()}updateCache(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const n=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(e===!0||this.isBatched===!1&&n===!0)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}cacheFromPhysicalToVisualIndexes(){const e=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(let n=0;n<e;n+=1){const r=this.getPhysicalFromVisualIndex(n);this.fromPhysicalToVisualIndexesCache.set(r,n)}}cacheFromVisualToRenderableIndexes(){const e=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(let n=0;n<e;n+=1){const r=this.getPhysicalFromRenderableIndex(n),i=this.getVisualFromPhysicalIndex(r);this.fromVisualToRenderableIndexesCache.set(i,n)}}}lr(ox,Ui);function Kge(t,e){return hn(e,(n,r)=>{Sr(t[r])&&(t[r]=n)}),t}function Sj(t){const n=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(t);return n?`${n[1].toLowerCase()}-${n[2].toUpperCase()}`:t}function Rj(t){Ct(t)&&aO(tr`Language with code "${t}" was not found. You should register particular language\x20
    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.`)}function qge(t,e){return Array.isArray(t)&&Number.isInteger(e)?t[e]:t}const{register:Xge,getValues:Zge}=La("phraseFormatters");function Qge(t,e){Xge(t,e)}function Jge(){return Zge()}Qge("pluralize",qge);const Ej="ContextMenu:items",en=Ej,$O=`${en}.noItems`,LO=`${en}.insertRowAbove`,kO=`${en}.insertRowBelow`,FO=`${en}.insertColumnOnTheLeft`,VO=`${en}.insertColumnOnTheRight`,WO=`${en}.removeRow`,BO=`${en}.removeColumn`,jO=`${en}.undo`,zO=`${en}.redo`,CS=`${en}.readOnly`,YO=`${en}.clearColumn`,UO=`${en}.copy`,GO=`${en}.copyWithHeaders`,KO=`${en}.copyWithGroupHeaders`,qO=`${en}.copyHeadersOnly`,XO=`${en}.cut`,ZO=`${en}.freezeColumn`,QO=`${en}.unfreezeColumn`,JO=`${en}.mergeCells`,eP=`${en}.unmergeCells`,tP=`${en}.addComment`,nP=`${en}.editComment`,rP=`${en}.removeComment`,iP=`${en}.readOnlyComment`,oP=`${en}.align`,yS=`${en}.align.left`,bS=`${en}.align.center`,SS=`${en}.align.right`,RS=`${en}.align.justify`,ES=`${en}.align.top`,_S=`${en}.align.middle`,MS=`${en}.align.bottom`,sP=`${en}.borders`,aP=`${en}.borders.top`,lP=`${en}.borders.right`,uP=`${en}.borders.bottom`,cP=`${en}.borders.left`,dP=`${en}.borders.remove`,hP=`${en}.nestedHeaders.insertChildRow`,fP=`${en}.nestedHeaders.detachFromParent`,gP=`${en}.hideColumn`,mP=`${en}.showColumn`,pP=`${en}.hideRow`,vP=`${en}.showRow`,_o="Filters:",Ur=`${_o}conditions`,Z0=`${Ur}.none`,wP=`${Ur}.isEmpty`,CP=`${Ur}.isNotEmpty`,yP=`${Ur}.isEqualTo`,bP=`${Ur}.isNotEqualTo`,SP=`${Ur}.beginsWith`,RP=`${Ur}.endsWith`,EP=`${Ur}.contains`,_P=`${Ur}.doesNotContain`,eme=`${Ur}.byValue`,MP=`${Ur}.greaterThan`,TP=`${Ur}.greaterThanOrEqualTo`,xP=`${Ur}.lessThan`,IP=`${Ur}.lessThanOrEqualTo`,OP=`${Ur}.isBetween`,PP=`${Ur}.isNotBetween`,AP=`${Ur}.after`,HP=`${Ur}.before`,DP=`${Ur}.today`,NP=`${Ur}.tomorrow`,$P=`${Ur}.yesterday`,LP=`${_o}labels.filterByCondition`,kP=`${_o}labels.filterByValue`,FP=`${_o}labels.conjunction`,Q0=`${_o}labels.disjunction`,TS=`${_o}values.blankCells`,VP=`${_o}buttons.selectAll`,WP=`${_o}buttons.clear`,BP=`${_o}buttons.ok`,jP=`${_o}buttons.cancel`,zP=`${_o}buttons.placeholder.search`,YP=`${_o}buttons.placeholder.value`,UP=`${_o}buttons.placeholder.secondValue`,GP="CheckboxRenderer:",KP=`${GP}checked`,qP=`${GP}unchecked`,tme=Object.freeze(Object.defineProperty({__proto__:null,CHECKBOX_CHECKED:KP,CHECKBOX_RENDERER_NAMESPACE:GP,CHECKBOX_UNCHECKED:qP,CONTEXTMENU_ITEMS_ADD_COMMENT:tP,CONTEXTMENU_ITEMS_ALIGNMENT:oP,CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:MS,CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:bS,CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:RS,CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:yS,CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:_S,CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:SS,CONTEXTMENU_ITEMS_ALIGNMENT_TOP:ES,CONTEXTMENU_ITEMS_BORDERS:sP,CONTEXTMENU_ITEMS_BORDERS_BOTTOM:uP,CONTEXTMENU_ITEMS_BORDERS_LEFT:cP,CONTEXTMENU_ITEMS_BORDERS_RIGHT:lP,CONTEXTMENU_ITEMS_BORDERS_TOP:aP,CONTEXTMENU_ITEMS_CLEAR_COLUMN:YO,CONTEXTMENU_ITEMS_COPY:UO,CONTEXTMENU_ITEMS_COPY_COLUMN_HEADERS_ONLY:qO,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_GROUP_HEADERS:KO,CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_HEADERS:GO,CONTEXTMENU_ITEMS_CUT:XO,CONTEXTMENU_ITEMS_EDIT_COMMENT:nP,CONTEXTMENU_ITEMS_FREEZE_COLUMN:ZO,CONTEXTMENU_ITEMS_HIDE_COLUMN:gP,CONTEXTMENU_ITEMS_HIDE_ROW:pP,CONTEXTMENU_ITEMS_INSERT_LEFT:FO,CONTEXTMENU_ITEMS_INSERT_RIGHT:VO,CONTEXTMENU_ITEMS_MERGE_CELLS:JO,CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:fP,CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:hP,CONTEXTMENU_ITEMS_NO_ITEMS:$O,CONTEXTMENU_ITEMS_READ_ONLY:CS,CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:iP,CONTEXTMENU_ITEMS_REDO:zO,CONTEXTMENU_ITEMS_REMOVE_BORDERS:dP,CONTEXTMENU_ITEMS_REMOVE_COLUMN:BO,CONTEXTMENU_ITEMS_REMOVE_COMMENT:rP,CONTEXTMENU_ITEMS_REMOVE_ROW:WO,CONTEXTMENU_ITEMS_ROW_ABOVE:LO,CONTEXTMENU_ITEMS_ROW_BELOW:kO,CONTEXTMENU_ITEMS_SHOW_COLUMN:mP,CONTEXTMENU_ITEMS_SHOW_ROW:vP,CONTEXTMENU_ITEMS_UNDO:jO,CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:QO,CONTEXTMENU_ITEMS_UNMERGE_CELLS:eP,CONTEXT_MENU_ITEMS_NAMESPACE:Ej,FILTERS_BUTTONS_CANCEL:jP,FILTERS_BUTTONS_CLEAR:WP,FILTERS_BUTTONS_OK:BP,FILTERS_BUTTONS_PLACEHOLDER_SEARCH:zP,FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:UP,FILTERS_BUTTONS_PLACEHOLDER_VALUE:YP,FILTERS_BUTTONS_SELECT_ALL:VP,FILTERS_CONDITIONS_AFTER:AP,FILTERS_CONDITIONS_BEFORE:HP,FILTERS_CONDITIONS_BEGINS_WITH:SP,FILTERS_CONDITIONS_BETWEEN:OP,FILTERS_CONDITIONS_BY_VALUE:eme,FILTERS_CONDITIONS_CONTAINS:EP,FILTERS_CONDITIONS_EMPTY:wP,FILTERS_CONDITIONS_ENDS_WITH:RP,FILTERS_CONDITIONS_EQUAL:yP,FILTERS_CONDITIONS_GREATER_THAN:MP,FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:TP,FILTERS_CONDITIONS_LESS_THAN:xP,FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:IP,FILTERS_CONDITIONS_NAMESPACE:Ur,FILTERS_CONDITIONS_NONE:Z0,FILTERS_CONDITIONS_NOT_BETWEEN:PP,FILTERS_CONDITIONS_NOT_CONTAIN:_P,FILTERS_CONDITIONS_NOT_EMPTY:CP,FILTERS_CONDITIONS_NOT_EQUAL:bP,FILTERS_CONDITIONS_TODAY:DP,FILTERS_CONDITIONS_TOMORROW:NP,FILTERS_CONDITIONS_YESTERDAY:$P,FILTERS_DIVS_FILTER_BY_CONDITION:LP,FILTERS_DIVS_FILTER_BY_VALUE:kP,FILTERS_LABELS_CONJUNCTION:FP,FILTERS_LABELS_DISJUNCTION:Q0,FILTERS_NAMESPACE:_o,FILTERS_VALUES_BLANK_CELLS:TS},Symbol.toStringTag,{value:"Module"}));/**
 * @preserve
 * Authors: Handsoncode
 * Last updated: Nov 15, 2017
 *
 * Description: Definition file for English - United States language-country.
 */const _j={languageCode:"en-US",[$O]:"No available options",[LO]:"Insert row above",[kO]:"Insert row below",[FO]:"Insert column left",[VO]:"Insert column right",[WO]:["Remove row","Remove rows"],[BO]:["Remove column","Remove columns"],[jO]:"Undo",[zO]:"Redo",[CS]:"Read only",[YO]:"Clear column",[oP]:"Alignment",[yS]:"Left",[bS]:"Center",[SS]:"Right",[RS]:"Justify",[ES]:"Top",[_S]:"Middle",[MS]:"Bottom",[ZO]:"Freeze column",[QO]:"Unfreeze column",[sP]:"Borders",[aP]:"Top",[lP]:"Right",[uP]:"Bottom",[cP]:"Left",[dP]:"Remove border(s)",[tP]:"Add comment",[nP]:"Edit comment",[rP]:"Delete comment",[iP]:"Read-only comment",[JO]:"Merge cells",[eP]:"Unmerge cells",[UO]:"Copy",[GO]:["Copy with header","Copy with headers"],[KO]:["Copy with group header","Copy with group headers"],[qO]:["Copy header only","Copy headers only"],[XO]:"Cut",[hP]:"Insert child row",[fP]:"Detach from parent",[gP]:["Hide column","Hide columns"],[mP]:["Show column","Show columns"],[pP]:["Hide row","Hide rows"],[vP]:["Show row","Show rows"],[Z0]:"None",[wP]:"Is empty",[CP]:"Is not empty",[yP]:"Is equal to",[bP]:"Is not equal to",[SP]:"Begins with",[RP]:"Ends with",[EP]:"Contains",[_P]:"Does not contain",[MP]:"Greater than",[TP]:"Greater than or equal to",[xP]:"Less than",[IP]:"Less than or equal to",[OP]:"Is between",[PP]:"Is not between",[AP]:"After",[HP]:"Before",[DP]:"Today",[NP]:"Tomorrow",[$P]:"Yesterday",[TS]:"Blank cells",[LP]:"Filter by condition",[kP]:"Filter by value",[FP]:"And",[Q0]:"Or",[VP]:"Select all",[WP]:"Clear",[BP]:"OK",[jP]:"Cancel",[zP]:"Search",[YP]:"Value",[UP]:"Second value",[KP]:"Checked",[qP]:"Unchecked"},nme=tme,sx=_j.languageCode,{register:rme,getItem:Mj,hasItem:ime,getValues:ome}=La("languagesDictionaries");Tj(_j);function Tj(t,e){let n=t,r=e;return dn(t)&&(r=t,n=r.languageCode),sme(n,r),rme(n,Ro(r)),Ro(r)}function sme(t,e){t!==sx&&Kge(e,Mj(sx))}function xj(t){return XP(t)?Ro(Mj(t)):null}function XP(t){return ime(t)}function ame(){return ome()}function Ij(t,e,n){const r=xj(t);if(r===null)return null;const i=r[e];if(Sr(i))return null;const o=lme(i,n);return Array.isArray(o)?o[0]:o}function lme(t,e){let n=t;return ye(Jge(),r=>{n=r(t,e)}),n}function ume(t){let e=Sj(t);return XP(e)||(e=sx,Rj(t)),e}function cme(t,e,n){return(e=dme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dme(t){var e=hme(t,"string");return typeof e=="symbol"?e:e+""}function hme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Vu extends aj{constructor(e,n){super(e,null),cme(this,"visualCellRange",null),this.visualCellRange=n||null,this.commit()}add(e){return this.visualCellRange===null?this.visualCellRange=this.settings.createCellRange(e):this.visualCellRange.expand(e),this}clear(){return this.visualCellRange=null,super.clear()}trimToVisibleCellsRangeOnly(e){let{from:n,to:r}=e,i=this.getNearestNotHiddenCoords(n,1),o=this.getNearestNotHiddenCoords(r,-1);return i===null||o===null?null:((i.row>o.row||i.col>o.col)&&(i=n,o=r),this.settings.createCellRange(i,i,o))}getNearestNotHiddenCoords(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n;const i=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper,e.row,n);if(i===null)return null;const o=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper,e.col,r);return o===null?null:this.settings.createCellCoords(i,o)}getNearestNotHiddenIndex(e,n,r){return n<0?n:e.getNearestNotHiddenIndex(n,r)}commit(){if(this.visualCellRange===null)return this;const e=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return e===null?this.cellRange=null:this.cellRange=this.createRenderableCellRange(e.from,e.to),this}syncWith(e){const n=e.from.clone().normalize(),r=e.getVerticalDirection()==="N-S"?1:-1,i=e.getHorizontalDirection()==="W-E"?1:-1,o=this.settings.visualToRenderableCoords(this.visualCellRange.highlight);let s=null;if((o===null||o.col===null||o.row===null)&&(s=this.getNearestNotHiddenCoords(n,r,i)),s!==null&&e.overlaps(s)){const a=e.highlight.clone();if(a.row>=0&&(a.row=s.row),a.col>=0&&(a.col=s.col),this.cellRange===null){const u=this.settings.visualToRenderableCoords(a);this.cellRange=this.settings.createCellRange(u)}e.setHighlight(a)}return this.settings.selectionType==="focus"&&o!==null&&s===null&&e.setHighlight(this.visualCellRange.highlight),this}getCorners(){const{from:e,to:n}=this.cellRange;return[Math.min(e.row,n.row),Math.min(e.col,n.col),Math.max(e.row,n.row),Math.max(e.col,n.col)]}getVisualCorners(){const e=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),n=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[e.row,e.col,n.row,n.col]}createRenderableCellRange(e,n){const r=this.settings.visualToRenderableCoords(e),i=this.settings.visualToRenderableCoords(n);return r.row===null||r.col===null||i.row===null||i.col===null?null:this.settings.createCellRange(r,r,i)}}function j1(t){let{activeHeaderClassName:e,...n}=t;return new Vu({className:e,...n,selectionType:lj})}function fme(t){let{areaCornerVisible:e,...n}=t;return new Vu({className:"area",createLayers:!0,border:{width:1,color:"#4b89ff",cornerVisible:e},...n,selectionType:yO})}function gme(t){let{...e}=t;return new Vu({className:"highlight",...e,selectionType:yO})}function mme(t){let{columnClassName:e,...n}=t;return new Vu({className:e,...n,selectionType:Wfe})}function pme(t){let{cellCornerVisible:e,...n}=t;return new Vu({className:"current",headerAttributes:[ZI()],border:{width:2,color:"#4b89ff",cornerVisible:e},...n,selectionType:bO})}function vme(t){let{border:e,visualCellRange:n,...r}=t;return new Vu({...e,...r,selectionType:Bfe},n)}function wme(t){let{...e}=t;return new Vu({className:"fill",border:{width:1,color:"#ff0000"},...e,selectionType:Ffe})}function tL(t){let{headerClassName:e,...n}=t;return new Vu({className:e,...n,selectionType:CO})}function Cme(t){let{rowClassName:e,...n}=t;return new Vu({className:e,...n,selectionType:Vfe})}function yme(t,e){bme(t,e),e.add(t)}function bme(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function No(t,e,n){return(e=Sme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sme(t){var e=Rme(t,"string");return typeof e=="symbol"?e:e+""}function Rme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function su(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var nl=new WeakSet;class Eme{constructor(e){yme(this,nl),No(this,"options",void 0),No(this,"layerLevel",0),No(this,"focus",void 0),No(this,"fill",void 0),No(this,"layeredAreas",new Map),No(this,"areas",new Map),No(this,"rowHeaders",new Map),No(this,"columnHeaders",new Map),No(this,"activeRowHeaders",new Map),No(this,"activeColumnHeaders",new Map),No(this,"activeCornerHeaders",new Map),No(this,"rowHighlights",new Map),No(this,"columnHighlights",new Map),No(this,"customSelections",[]),this.options=e,this.focus=pme(e),this.fill=wme(e)}isEnabledFor(e,n){let r=e;e===bO&&(r="current");let i=this.options.disabledCellSelection(n.row,n.col);return typeof i=="string"&&(i=[i]),i===!1||Array.isArray(i)&&!i.includes(r)}useLayerLevel(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.layerLevel=e,this}getFocus(){return this.focus}getFill(){return this.fill}createLayeredArea(){return su(nl,this,au).call(this,this.layeredAreas,fme)}getLayeredAreas(){return[...this.layeredAreas.values()]}createArea(){return su(nl,this,au).call(this,this.areas,gme)}getAreas(){return[...this.areas.values()]}createRowHeader(){return su(nl,this,au).call(this,this.rowHeaders,tL)}getRowHeaders(){return[...this.rowHeaders.values()]}createColumnHeader(){return su(nl,this,au).call(this,this.columnHeaders,tL)}getColumnHeaders(){return[...this.columnHeaders.values()]}createActiveRowHeader(){return su(nl,this,au).call(this,this.activeRowHeaders,j1)}getActiveRowHeaders(){return[...this.activeRowHeaders.values()]}createActiveColumnHeader(){return su(nl,this,au).call(this,this.activeColumnHeaders,j1)}getActiveColumnHeaders(){return[...this.activeColumnHeaders.values()]}createActiveCornerHeader(){return su(nl,this,au).call(this,this.activeCornerHeaders,j1)}getActiveCornerHeaders(){return[...this.activeCornerHeaders.values()]}createRowHighlight(){return su(nl,this,au).call(this,this.rowHighlights,Cme)}getRowHighlights(){return[...this.rowHighlights.values()]}createColumnHighlight(){return su(nl,this,au).call(this,this.columnHighlights,mme)}getColumnHighlights(){return[...this.columnHighlights.values()]}getCustomSelections(){return[...this.customSelections.values()]}addCustomSelection(e){this.customSelections.push(vme({...this.options,...e}))}clear(){this.focus.clear(),this.fill.clear(),ye(this.areas.values(),e=>void e.clear()),ye(this.layeredAreas.values(),e=>void e.clear()),ye(this.rowHeaders.values(),e=>void e.clear()),ye(this.columnHeaders.values(),e=>void e.clear()),ye(this.activeRowHeaders.values(),e=>void e.clear()),ye(this.activeColumnHeaders.values(),e=>void e.clear()),ye(this.activeCornerHeaders.values(),e=>void e.clear()),ye(this.rowHighlights.values(),e=>void e.clear()),ye(this.columnHighlights.values(),e=>void e.clear())}[Symbol.iterator](){return[this.focus,this.fill,...this.areas.values(),...this.layeredAreas.values(),...this.rowHeaders.values(),...this.columnHeaders.values(),...this.activeRowHeaders.values(),...this.activeColumnHeaders.values(),...this.activeCornerHeaders.values(),...this.rowHighlights.values(),...this.columnHighlights.values(),...this.customSelections][Symbol.iterator]()}}function au(t,e){const n=this.layerLevel;if(t.has(n))return t.get(n);const r=e({layerLevel:n,...this.options});return t.set(n,r),r}function nL(t,e,n){return(e=_me(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _me(t){var e=Mme(t,"string");return typeof e=="symbol"?e:e+""}function Mme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Tme{constructor(e){nL(this,"ranges",[]),nL(this,"createCellRange",void 0),this.createCellRange=e}isEmpty(){return this.size()===0}set(e){return this.clear(),this.ranges.push(this.createCellRange(e)),this}add(e){return this.ranges.push(this.createCellRange(e)),this}pop(){return this.ranges.pop(),this}current(){return this.peekByIndex(this.size()-1)}previous(){return this.peekByIndex(this.size()-2)}includes(e){return this.ranges.some(n=>n.includes(e))}clear(){return this.ranges.length=0,this}size(){return this.ranges.length}peekByIndex(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n;return e>=0&&e<this.size()&&(n=this.ranges[e]),n}[Symbol.iterator](){return this.ranges[Symbol.iterator]()}}function xme(t,e){Oj(t,e),e.add(t)}function z1(t,e,n){Oj(t,e),e.set(t,n)}function Oj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Vn(t,e){return t.get(hi(t,e))}function vy(t,e,n){return t.set(hi(t,e),n),n}function hi(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var wy=new WeakMap,yr=new WeakMap,Ma=new WeakMap,Ci=new WeakSet;class ax{constructor(e,n){xme(this,Ci),z1(this,wy,void 0),z1(this,yr,void 0),z1(this,Ma,{x:0,y:0}),vy(wy,this,e),vy(yr,this,n)}transformStart(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=Vn(yr,this).createCellCoords(e,n);let o=Vn(wy,this).current().highlight;const s=Vn(yr,this).visualToRenderableCoords(o);let a=0,u=0;if(this.runLocalHooks("beforeTransformStart",i),s.row!==null&&s.col!==null){const{width:c,height:h}=hi(Ci,this,Pj).call(this),{row:g,col:p}=hi(Ci,this,iL).call(this,o),v=Vn(yr,this).fixedRowsBottom(),y=Vn(yr,this).minSpareRows(),R=Vn(yr,this).minSpareCols(),S=Vn(yr,this).autoWrapRow(),T=Vn(yr,this).autoWrapCol(),x=Vn(yr,this).createCellCoords(g+i.row,p+i.col);if(x.row>=h){const H=_a(r&&y>0&&v===0),L=x.col+1,F=Vn(yr,this).createCellCoords(x.row-h,L>=c?L-c:L);this.runLocalHooks("beforeColumnWrap",H,hi(Ci,this,Af).call(this,F),L>=c),H.value?this.runLocalHooks("insertRowRequire",Vn(yr,this).countRenderableRows()):T&&x.assign(F)}else if(x.row<0){const H=_a(T),L=x.col-1,F=Vn(yr,this).createCellCoords(h+x.row,L<0?c+L:L);this.runLocalHooks("beforeColumnWrap",H,hi(Ci,this,Af).call(this,F),L<0),T&&x.assign(F)}if(x.col>=c){const H=_a(r&&R>0),L=x.row+1,F=Vn(yr,this).createCellCoords(L>=h?L-h:L,x.col-c);this.runLocalHooks("beforeRowWrap",H,hi(Ci,this,Af).call(this,F),L>=h),H.value?this.runLocalHooks("insertColRequire",Vn(yr,this).countRenderableColumns()):S&&x.assign(F)}else if(x.col<0){const H=_a(S),L=x.row-1,F=Vn(yr,this).createCellCoords(L<0?h+L:L,c+x.col);this.runLocalHooks("beforeRowWrap",H,hi(Ci,this,Af).call(this,F),L<0),S&&x.assign(F)}const{rowDir:O,colDir:A}=hi(Ci,this,rL).call(this,x);a=O,u=A,o=hi(Ci,this,Af).call(this,x)}return this.runLocalHooks("afterTransformStart",o,a,u),o}transformEnd(e,n){const r=Vn(yr,this).createCellCoords(e,n),i=Vn(wy,this).current(),o=Vn(yr,this).visualToRenderableCoords(i.highlight),s=hi(Ci,this,Y1).call(this,i.to.row,i.from.row),a=hi(Ci,this,U1).call(this,i.to.col,i.from.col),u=i.to.clone();let c=0,h=0;if(this.runLocalHooks("beforeTransformEnd",r),o.row!==null&&o.col!==null&&s!==null&&a!==null){const{row:g,col:p}=hi(Ci,this,iL).call(this,i.highlight),v=Vn(yr,this).createCellCoords(s+r.row,a+r.col),y=i.getTopStartCorner(),R=i.getTopEndCorner(),S=i.getBottomEndCorner();if(r.col<0&&a>=p&&v.col<p){const A=v.col-p;v.col=hi(Ci,this,U1).call(this,y.col,R.col)+A}else if(r.col>0&&a<=p&&v.col>p){const A=hi(Ci,this,U1).call(this,R.col,y.col),H=Math.max(v.col-A,1);v.col=A+H}if(r.row<0&&s>=g&&v.row<g){const A=v.row-g;v.row=hi(Ci,this,Y1).call(this,y.row,S.row)+A}else if(r.row>0&&s<=g&&v.row>g){const A=hi(Ci,this,Y1).call(this,S.row,y.row),H=Math.max(v.row-A,1);v.row=A+H}const{rowDir:T,colDir:x}=hi(Ci,this,rL).call(this,v);c=T,h=x;const O=hi(Ci,this,Af).call(this,v);r.row===0&&r.col!==0?u.col=O.col:r.row!==0&&r.col===0?u.row=O.row:(u.row=O.row,u.col=O.col)}return this.runLocalHooks("afterTransformEnd",u,c,h),u}setOffsetSize(e){let{x:n,y:r}=e;vy(Ma,this,{x:n,y:r})}resetOffsetSize(){vy(Ma,this,{x:0,y:0})}}function rL(t){const{width:e,height:n}=hi(Ci,this,Pj).call(this);let r=0,i=0;return t.row<0?(r=-1,t.row=0):t.row>0&&t.row>=n&&(r=1,t.row=n-1),t.col<0?(i=-1,t.col=0):t.col>0&&t.col>=e&&(i=1,t.col=e-1),{rowDir:r,colDir:i}}function Pj(){return{width:Vn(Ma,this).x+Vn(yr,this).countRenderableColumns(),height:Vn(Ma,this).y+Vn(yr,this).countRenderableRows()}}function Y1(t,e){const n=Vn(yr,this).findFirstNonHiddenRenderableRow(t,e);return n===null?null:Vn(Ma,this).y+n}function U1(t,e){const n=Vn(yr,this).findFirstNonHiddenRenderableColumn(t,e);return n===null?null:Vn(Ma,this).x+n}function iL(t){const{row:e,col:n}=Vn(yr,this).visualToRenderableCoords(t);if(e===null||n===null)throw new Error("Renderable coords are not visible.");return Vn(yr,this).createCellCoords(Vn(Ma,this).y+e,Vn(Ma,this).x+n)}function Af(t){const e=t.clone();return e.col=t.col-Vn(Ma,this).x,e.row=t.row-Vn(Ma,this).y,Vn(yr,this).renderableToVisualCoords(e)}lr(ax,Ui);const J0=0,eR=1,Aj=2,ZP=3,Ime=[ZP,Aj],Ome=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],G1=Symbol("root"),oL=Symbol("child");function Ag(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G1;if(e!==G1&&e!==oL)throw new Error("The second argument is used internally only and cannot be overwritten.");const n=Array.isArray(t),r=e===G1;let i=J0;if(n){const o=t[0];t.length===0?i=eR:r&&o instanceof uw?i=ZP:r&&Array.isArray(o)?i=Ag(o,oL):t.length>=2&&t.length<=4&&!t.some((a,u)=>!Ome[u].includes(typeof a))&&(i=Aj)}return i}function Iv(t){let{createCellCoords:e,createCellRange:n,keepDirection:r=!1,propToCol:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ime.includes(t))throw new Error("Unsupported selection ranges schema type was provided.");return function(o){const s=t===ZP;let a=s?o.from.row:o[0],u=s?o.from.col:o[1],c=s?o.to.row:o[2],h=s?o.to.col:o[3];if(typeof i=="function"&&(typeof u=="string"&&(u=i(u)),typeof h=="string"&&(h=i(h))),Sr(c)&&(c=a),Sr(h)&&(h=u),!r){const v=a,y=u,R=c,S=h;a=Math.min(v,R),u=Math.min(y,S),c=Math.max(v,R),h=Math.max(y,S)}const g=e(a,u),p=e(c,h);return n(g,g,p)}}function Pme(t){const e=Ag(t.getSelected());if(e===J0||e===eR)return[];const n=Iv(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),r=new Set;ye(t.getSelected(),s=>{const{from:a,to:u}=n(s),c=Math.max(a.col,0),h=u.col-c+1;ye(Array.from(new Array(h),(g,p)=>c+p),g=>{r.has(g)||r.add(g)})});const i=Array.from(r).sort((s,a)=>s-a);return Eo(i,(s,a,u,c)=>(u!==0&&a===c[u-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s),[])}function Ame(t){const e=Ag(t.getSelected());if(e===J0||e===eR)return[];const n=Iv(e,{createCellCoords:t._createCellCoords.bind(t),createCellRange:t._createCellRange.bind(t)}),r=new Set;ye(t.getSelected(),s=>{const{from:a,to:u}=n(s),c=Math.max(a.row,0),h=u.row-c+1;ye(Array.from(new Array(h),(g,p)=>c+p),g=>{r.has(g)||r.add(g)})});const i=Array.from(r).sort((s,a)=>s-a);return Eo(i,(s,a,u,c)=>(u!==0&&a===c[u-1]+1?s[s.length-1][1]+=1:s.push([a,1]),s),[])}function Hf(t,e,n){Hme(t,e),e.set(t,n)}function Hme(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Od(t,e,n){return(e=Dme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dme(t){var e=Nme(t,"string");return typeof e=="symbol"?e:e+""}function Nme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tr(t,e){return t.get(Hj(t,e))}function rl(t,e,n){return t.set(Hj(t,e),n),n}function Hj(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Zi=new WeakMap,Pd=new WeakMap,Cy=new WeakMap,sp=new WeakMap,yy=new WeakMap,ap=new WeakMap;class Dj{constructor(e,n){var r=this;Od(this,"settings",void 0),Od(this,"tableProps",void 0),Od(this,"inProgress",!1),Od(this,"selectedRange",new Tme((i,o,s)=>this.tableProps.createCellRange(i,o,s))),Od(this,"highlight",void 0),Hf(this,Zi,void 0),Hf(this,Pd,void 0),Od(this,"selectedByRowHeader",new Set),Od(this,"selectedByColumnHeader",new Set),Hf(this,Cy,!1),Hf(this,sp,!1),Hf(this,yy,"unknown"),Hf(this,ap,-1),this.settings=e,this.tableProps=n,this.highlight=new Eme({headerClassName:e.currentHeaderClassName,activeHeaderClassName:e.activeHeaderClassName,rowClassName:e.currentRowClassName,columnClassName:e.currentColClassName,cellAttributes:[ZI()],rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,disabledCellSelection:(i,o)=>this.tableProps.isDisabledCellSelection(i,o),cellCornerVisible:function(){return r.isCellCornerVisible(...arguments)},areaCornerVisible:function(){return r.isAreaCornerVisible(...arguments)},visualToRenderableCoords:i=>this.tableProps.visualToRenderableCoords(i),renderableToVisualCoords:i=>this.tableProps.renderableToVisualCoords(i),createCellCoords:(i,o)=>this.tableProps.createCellCoords(i,o),createCellRange:(i,o,s)=>this.tableProps.createCellRange(i,o,s)}),rl(Zi,this,new ax(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>this.tableProps.countRenderableRows(),countRenderableColumns:()=>this.tableProps.countRenderableColumns(),visualToRenderableCoords:i=>this.tableProps.visualToRenderableCoords(i),renderableToVisualCoords:i=>this.tableProps.renderableToVisualCoords(i),findFirstNonHiddenRenderableRow:function(){return r.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return r.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(i,o)=>this.tableProps.createCellCoords(i,o),fixedRowsBottom:()=>e.fixedRowsBottom,minSpareRows:()=>e.minSpareRows,minSpareCols:()=>e.minSpareCols,autoWrapRow:()=>e.autoWrapRow,autoWrapCol:()=>e.autoWrapCol})),rl(Pd,this,new ax(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>{const i=this.selectedRange.current();return this.tableProps.countRenderableRowsInRange(0,i.getOuterBottomEndCorner().row)},countRenderableColumns:()=>{const i=this.selectedRange.current();return this.tableProps.countRenderableColumnsInRange(0,i.getOuterBottomEndCorner().col)},visualToRenderableCoords:i=>this.tableProps.visualToRenderableCoords(i),renderableToVisualCoords:i=>this.tableProps.renderableToVisualCoords(i),findFirstNonHiddenRenderableRow:function(){return r.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return r.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(i,o)=>this.tableProps.createCellCoords(i,o),fixedRowsBottom:()=>0,minSpareRows:()=>0,minSpareCols:()=>0,autoWrapRow:()=>!0,autoWrapCol:()=>!0})),Tr(Zi,this).addLocalHook("beforeTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("beforeModifyTransformStart",...o)}),Tr(Zi,this).addLocalHook("afterTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("afterModifyTransformStart",...o)}),Tr(Zi,this).addLocalHook("beforeTransformEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("beforeModifyTransformEnd",...o)}),Tr(Zi,this).addLocalHook("afterTransformEnd",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("afterModifyTransformEnd",...o)}),Tr(Zi,this).addLocalHook("insertRowRequire",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("insertRowRequire",...o)}),Tr(Zi,this).addLocalHook("insertColRequire",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("insertColRequire",...o)}),Tr(Zi,this).addLocalHook("beforeRowWrap",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("beforeRowWrap",...o)}),Tr(Zi,this).addLocalHook("beforeColumnWrap",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("beforeColumnWrap",...o)}),Tr(Pd,this).addLocalHook("beforeTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("beforeModifyTransformFocus",...o)}),Tr(Pd,this).addLocalHook("afterTransformStart",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("afterModifyTransformFocus",...o)})}getSelectedRange(){return this.selectedRange}markSource(e){rl(yy,this,e)}markEndSource(){rl(yy,this,"unknown")}getSelectionSource(){return Tr(yy,this)}setExpectedLayers(e){rl(ap,this,e)}begin(){this.inProgress=!0}finish(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1,rl(ap,this,-1)}isInProgress(){return this.inProgress}setRangeStart(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e;const o=this.settings.selectionMode==="multiple",s=Sr(n)?this.tableProps.getShortcutManager().isCtrlPressed():n,a=e.clone();rl(Cy,this,!1),this.runLocalHooks(`beforeSetRangeStart${r?"Only":""}`,a),(!o||o&&!s&&Sr(n))&&this.selectedRange.clear(),this.selectedRange.add(a).current().setHighlight(i.clone()),this.getLayerLevel()===0&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),r||this.setRangeEnd(e)}setRangeStartOnly(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e;this.setRangeStart(e,n,!0,r)}setRangeEnd(e){if(this.selectedRange.isEmpty())return;const n=e.clone(),r=this.tableProps.countRows(),i=this.tableProps.countCols(),o=this.selectedRange.current().clone().setTo(e).isSingleHeader();if((r>0||i>0)&&(r===0&&n.col<0&&!o||i===0&&n.row<0&&!o))return;this.runLocalHooks("beforeSetRangeEnd",n),this.begin();const s=this.selectedRange.current();if(this.settings.navigableHeaders||s.highlight.normalize(),this.settings.selectionMode==="single")s.setFrom(s.highlight),s.setTo(s.highlight);else{const u=s.getHorizontalDirection(),c=s.getVerticalDirection(),h=this.isMultiple();s.setTo(n),h&&(u!==s.getHorizontalDirection()||s.getWidth()===1&&!s.includes(s.highlight))&&s.from.assign({col:s.highlight.col}),h&&(c!==s.getVerticalDirection()||s.getHeight()===1&&!s.includes(s.highlight))&&s.from.assign({row:s.highlight.row})}r>0&&i>0&&(!this.settings.navigableHeaders||this.settings.navigableHeaders&&!s.isSingleHeader())&&s.to.normalize(),this.runLocalHooks("beforeHighlightSet"),this.setRangeFocus(this.selectedRange.current().highlight),this.applyAndCommit();const a=Tr(ap,this)===-1||this.selectedRange.size()===Tr(ap,this);this.runLocalHooks("afterSetRangeEnd",e,a)}applyAndCommit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectedRange.current(),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLayerLevel();const r=this.tableProps.countRows(),i=this.tableProps.countCols();n<this.highlight.layerLevel&&(ye(this.highlight.getAreas(),y=>void y.clear()),ye(this.highlight.getLayeredAreas(),y=>void y.clear()),ye(this.highlight.getRowHeaders(),y=>void y.clear()),ye(this.highlight.getColumnHeaders(),y=>void y.clear()),ye(this.highlight.getActiveRowHeaders(),y=>void y.clear()),ye(this.highlight.getActiveColumnHeaders(),y=>void y.clear()),ye(this.highlight.getActiveCornerHeaders(),y=>void y.clear()),ye(this.highlight.getRowHighlights(),y=>void y.clear()),ye(this.highlight.getColumnHighlights(),y=>void y.clear())),this.highlight.useLayerLevel(n);const o=this.highlight.createArea(),s=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),u=this.highlight.createColumnHeader(),c=this.highlight.createActiveRowHeader(),h=this.highlight.createActiveColumnHeader(),g=this.highlight.createActiveCornerHeader(),p=this.highlight.createRowHighlight(),v=this.highlight.createColumnHighlight();if(o.clear(),s.clear(),a.clear(),u.clear(),c.clear(),h.clear(),g.clear(),p.clear(),v.clear(),this.highlight.isEnabledFor(yO,e.highlight)&&(this.isMultiple()||n>=1)&&(o.add(e.from).add(e.to).commit(),s.add(e.from).add(e.to).commit(),n===1)){const y=this.selectedRange.previous();this.highlight.useLayerLevel(n-1),this.highlight.createArea().add(y.from).commit().syncWith(y),this.highlight.createLayeredArea().add(y.from).commit().syncWith(y),this.highlight.useLayerLevel(n)}if(this.highlight.isEnabledFor(CO,e.highlight)){if(!e.isSingleHeader()){const S=this.tableProps.createCellCoords(Math.max(e.from.row,0),-1),T=this.tableProps.createCellCoords(e.to.row,-1),x=this.tableProps.createCellCoords(-1,Math.max(e.from.col,0)),O=this.tableProps.createCellCoords(-1,e.to.col);this.settings.selectionMode==="single"?(a.add(S).commit(),u.add(x).commit(),p.add(S).commit(),v.add(x).commit()):(a.add(S).add(T).commit(),u.add(x).add(O).commit(),p.add(S).add(T).commit(),v.add(x).add(O).commit())}const y=!Tr(sp,this)&&this.isEntireRowSelected()&&(i>0&&i===e.getWidth()||i===0&&this.isSelectedByRowHeader()),R=!Tr(sp,this)&&this.isEntireColumnSelected()&&(r>0&&r===e.getHeight()||r===0&&this.isSelectedByColumnHeader());y&&c.add(this.tableProps.createCellCoords(Math.max(e.from.row,0),Math.min(-this.tableProps.countRowHeaders(),-1))).add(this.tableProps.createCellCoords(Math.max(e.to.row,0),-1)).commit(),R&&h.add(this.tableProps.createCellCoords(Math.min(-this.tableProps.countColHeaders(),-1),Math.max(e.from.col,0))).add(this.tableProps.createCellCoords(-1,Math.max(e.to.col,0))).commit(),y&&R&&g.add(this.tableProps.createCellCoords(-this.tableProps.countColHeaders(),-this.tableProps.countRowHeaders())).add(this.tableProps.createCellCoords(-1,-1)).commit()}}setRangeFocus(e){if(this.selectedRange.isEmpty())return;const n=this.selectedRange.current();this.inProgress||this.runLocalHooks("beforeSetFocus",e);const r=this.highlight.getFocus();r.clear(),n.setHighlight(e),this.inProgress||this.runLocalHooks("beforeHighlightSet"),this.highlight.isEnabledFor(bO,n.highlight)&&r.add(n.highlight).commit().syncWith(n),this.inProgress||(rl(Cy,this,!0),this.runLocalHooks("afterSetFocus",n.highlight))}transformStart(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.settings.navigableHeaders?Tr(Zi,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}):Tr(Zi,this).resetOffsetSize(),this.setRangeStart(Tr(Zi,this).transformStart(e,n,r))}transformEnd(e,n){this.settings.navigableHeaders?Tr(Zi,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}):Tr(Zi,this).resetOffsetSize(),this.setRangeEnd(Tr(Zi,this).transformEnd(e,n))}transformFocus(e,n){const r=this.selectedRange.current(),{row:i,col:o}=r.getOuterTopStartCorner(),s=this.tableProps.countRenderableColumnsInRange(0,o-1),a=this.tableProps.countRenderableRowsInRange(0,i-1);r.highlight.isHeader()?Tr(Pd,this).setOffsetSize({x:o<0?Math.abs(o):-s,y:i<0?Math.abs(i):-a}):Tr(Pd,this).setOffsetSize({x:o<0?0:-s,y:i<0?0:-a});const u=Tr(Pd,this).transformStart(e,n);this.setRangeFocus(u.normalize())}shiftRows(e,n){if(!this.isSelected())return;const r=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByColumnHeader()||r.getOuterTopStartCorner().row>=e){const{from:i,to:o,highlight:s}=r,a=this.tableProps.countRows(),u=this.isSelectedByRowHeader(),c=this.isSelectedByColumnHeader(),h=c?-1:0,g=c?0:n;this.getSelectedRange().pop();const p=this.tableProps.createCellCoords(or(i.row+g,h,a-1),i.col),v=this.tableProps.createCellCoords(or(o.row+n,h,a-1),o.col);this.markSource("shift"),s.row>=e?this.setRangeStartOnly(p,!0,this.tableProps.createCellCoords(or(s.row+n,0,a-1),s.col)):this.setRangeStartOnly(p,!0),u&&this.selectedByRowHeader.add(this.getLayerLevel()),c&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(v),this.markEndSource()}}shiftColumns(e,n){if(!this.isSelected())return;const r=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByRowHeader()||r.getOuterTopStartCorner().col>=e){const{from:i,to:o,highlight:s}=r,a=this.tableProps.countCols(),u=this.isSelectedByRowHeader(),c=this.isSelectedByColumnHeader(),h=u?-1:0,g=u?0:n;this.getSelectedRange().pop();const p=this.tableProps.createCellCoords(i.row,or(i.col+g,h,a-1)),v=this.tableProps.createCellCoords(o.row,or(o.col+n,h,a-1));this.markSource("shift"),s.col>=e?this.setRangeStartOnly(p,!0,this.tableProps.createCellCoords(s.row,or(s.col+n,0,a-1))):this.setRangeStartOnly(p,!0),u&&this.selectedByRowHeader.add(this.getLayerLevel()),c&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(v),this.markEndSource()}}getLayerLevel(){return this.selectedRange.size()-1}isSelected(){return!this.selectedRange.isEmpty()}isMultiple(){if(!this.isSelected())return!1;const e=_a(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",e),e.value}isFocusSelectionChanged(){return this.isSelected()&&Tr(Cy,this)}isSelectedByRowHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(e)&&(e===-1?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(e))}isEntireRowSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();const n=i=>{const{col:o}=i.getOuterTopStartCorner(),s=this.tableProps.countRowHeaders(),a=this.tableProps.countCols();return(s>0&&o<0||s===0)&&i.getWidth()===a};if(e===-1)return Array.from(this.selectedRange).some(i=>n(i));const r=this.selectedRange.peekByIndex(e);return r?n(r):!1}isSelectedByColumnHeader(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&(e===-1?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(e))}isEntireColumnSelected(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getLayerLevel();const n=i=>{const{row:o}=i.getOuterTopStartCorner(),s=this.tableProps.countColHeaders(),a=this.tableProps.countRows();return(s>0&&o<0||s===0)&&i.getHeight()===a};if(e===-1)return Array.from(this.selectedRange).some(i=>n(i));const r=this.selectedRange.peekByIndex(e);return r?n(r):!1}isSelectedByAnyHeader(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}isSelectedByCorner(){return this.selectedByColumnHeader.has(this.getLayerLevel())&&this.selectedByRowHeader.has(this.getLayerLevel())}inInSelection(e){return this.selectedRange.includes(e)}isCellCornerVisible(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}isCellVisible(e){const n=this.tableProps.visualToRenderableCoords(e);return n.row!==null&&n.col!==null}isAreaCornerVisible(e){return Number.isInteger(e)&&e!==this.getLayerLevel()?!1:this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple()}clear(){this.selectedRange.clear(),this.highlight.clear()}deselect(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}selectAll(){var e;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{focusPosition:!1,disableHeadersHighlight:!1};const o=this.tableProps.countRows(),s=this.tableProps.countCols(),a=this.tableProps.countRowHeaders(),u=this.tableProps.countColHeaders(),c=r?-u:0,h=n?-a:0;if(c===0&&h===0&&(o===0||s===0))return;let g=(e=this.getSelectedRange().current())===null||e===void 0?void 0:e.highlight;const{focusPosition:p,disableHeadersHighlight:v}=i;rl(sp,this,v),p&&Number.isInteger(p==null?void 0:p.row)&&Number.isInteger(p==null?void 0:p.col)&&(g=this.tableProps.createCellCoords(or(p.row,c,o-1),or(p.col,h,s-1)));const y=this.tableProps.createCellCoords(c,h),R=this.tableProps.createCellCoords(o-1,s-1);this.clear(),this.setRangeStartOnly(y,void 0,g),h<0&&this.selectedByRowHeader.add(this.getLayerLevel()),c<0&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(R),this.finish(),rl(sp,this,!1)}selectCells(e){var n=this;const r=Ag(e);if(r===eR)return!1;if(r===J0)throw new Error(tr`Unsupported format of the selection ranges was passed. To select cells pass\x20
        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\x20
        columnEnd/columnPropEnd]]) or as an array of CellRange objects.`);const i=Iv(r,{createCellCoords:function(){return n.tableProps.createCellCoords(...arguments)},createCellRange:function(){return n.tableProps.createCellRange(...arguments)},propToCol:u=>this.tableProps.propToCol(u),keepDirection:!0}),o=this.settings.navigableHeaders,s={countRows:this.tableProps.countRows(),countCols:this.tableProps.countCols(),countRowHeaders:o?this.tableProps.countRowHeaders():0,countColHeaders:o?this.tableProps.countColHeaders():0},a=!e.some(u=>{const c=i(u),h=c.isValid(s);return!(h&&!c.containsHeaders()||h&&c.containsHeaders()&&c.isSingleHeader())});return a&&(this.clear(),this.setExpectedLayers(e.length),ye(e,u=>{const{from:c,to:h}=i(u);this.setRangeStartOnly(c.clone(),!1),this.setRangeEnd(h.clone())}),this.finish()),a}selectColumns(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const i=typeof e=="string"?this.tableProps.propToCol(e):e,o=typeof n=="string"?this.tableProps.propToCol(n):n,s=this.tableProps.countRows(),a=this.tableProps.countCols(),u=this.tableProps.countColHeaders(),c=u===0?0:-u,h=this.tableProps.createCellCoords(c,i),g=this.tableProps.createCellCoords(s-1,o),p=this.tableProps.createCellRange(h,h,g).isValid({countRows:s,countCols:a,countRowHeaders:0,countColHeaders:u});if(p){let v=0,y=0;Number.isInteger(r==null?void 0:r.row)&&Number.isInteger(r==null?void 0:r.col)?(v=or(r.row,c,s-1),y=or(r.col,Math.min(i,o),Math.max(i,o))):(v=or(r,c,s-1),y=i);const R=this.tableProps.createCellCoords(v,y),S=u===0?0:or(R.row,c,-1),T=s-1,x=this.tableProps.createCellCoords(S,i),O=this.tableProps.createCellCoords(T,o);this.runLocalHooks("beforeSelectColumns",x,O,R),x.row=S,O.row=T,this.setRangeStartOnly(x,void 0,R),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(O),this.runLocalHooks("afterSelectColumns",x,O,R),this.finish()}return p}selectRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const i=this.tableProps.countRows(),o=this.tableProps.countCols(),s=this.tableProps.countRowHeaders(),a=s===0?0:-s,u=this.tableProps.createCellCoords(e,a),c=this.tableProps.createCellCoords(n,o-1),h=this.tableProps.createCellRange(u,u,c).isValid({countRows:i,countCols:o,countRowHeaders:s,countColHeaders:0});if(h){let g=0,p=0;Number.isInteger(r==null?void 0:r.row)&&Number.isInteger(r==null?void 0:r.col)?(g=or(r.row,Math.min(e,n),Math.max(e,n)),p=or(r.col,a,o-1)):(g=e,p=or(r,a,o-1));const v=this.tableProps.createCellCoords(g,p),y=s===0?0:or(v.col,a,-1),R=o-1,S=this.tableProps.createCellCoords(e,y),T=this.tableProps.createCellCoords(n,R);this.runLocalHooks("beforeSelectRows",S,T,v),S.col=y,T.col=R,this.setRangeStartOnly(S,void 0,v),this.selectedByRowHeader.add(this.getLayerLevel()),this.setRangeEnd(T),this.runLocalHooks("afterSelectRows",S,T,v),this.finish()}return h}refresh(){if(!this.isSelected())return;const e=this.tableProps.countRows(),n=this.tableProps.countCols();if(e===0||n===0){this.deselect();return}const r=this.selectedRange.peekByIndex(this.selectedRange.size()-1),{from:i,to:o,highlight:s}=r;this.clear(),s.assign({row:or(s.row,-1/0,e-1),col:or(s.col,-1/0,n-1)}),i.assign({row:or(i.row,-1/0,e-1),col:or(i.col,-1/0,n-1)}),o.assign({row:or(o.row,0,e-1),col:or(o.col,0,n-1)}),this.selectedRange.ranges.push(r),this.highlight.getFocus().add(s).commit().syncWith(r),this.applyAndCommit(r)}commit(){if(this.highlight.getCustomSelections().forEach(i=>{i.commit()}),!this.isSelected())return;const n=this.highlight.getFocus(),r=this.getLayerLevel();n.commit().syncWith(this.selectedRange.current());for(let i=0;i<this.selectedRange.size();i+=1){this.highlight.useLayerLevel(i);const o=this.highlight.createArea(),s=this.highlight.createLayeredArea(),a=this.highlight.createRowHeader(),u=this.highlight.createColumnHeader(),c=this.highlight.createActiveRowHeader(),h=this.highlight.createActiveColumnHeader(),g=this.highlight.createActiveCornerHeader(),p=this.highlight.createRowHighlight(),v=this.highlight.createColumnHighlight();o.commit(),s.commit(),a.commit(),u.commit(),c.commit(),h.commit(),g.commit(),p.commit(),v.commit()}this.highlight.useLayerLevel(r)}}lr(Dj,Ui);const sL=/^(\r\n|\n\r|\r|\n)/,$me=/^[^\t\r\n]+/,aL=/^\t/;function Lme(t){const e=[[""]];if(t.length===0)return e;let n=0,r=0,i;for(;t.length>0&&i!==t.length;)if(i=t.length,t.match(aL))t=t.replace(aL,""),n+=1,e[r][n]="";else if(t.match(sL))t=t.replace(sL,""),n=0,r+=1,e[r]=[""];else{let o="";if(t.startsWith('"')){let s=0,a=!0;for(;a;){const u=t.slice(0,1);u==='"'&&(s+=1),o+=u,t=t.slice(1),(t.length===0||t.match(/^[\t\r\n]/)&&s%2===0)&&(a=!1)}o=o.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,u=>new Array(Math.floor(u.length/2)).fill('"').join(""))}else{const s=t.match($me);o=s?s[0]:"",t=t.slice(o.length)}e[r][n]=o}return e}function Jp(t){let e,n,r,i,o="",s;for(e=0,n=t.length;e<n;e+=1){for(i=t[e].length,r=0;r<i;r+=1)r>0&&(o+="	"),s=t[e][r],typeof s=="string"?s.indexOf(`
`)>-1?o+=`"${s.replace(/"/g,'""')}"`:o+=s:s==null?o+="":o+=s;e!==n-1&&(o+=`
`)}return o}function Ad(t,e,n){return(e=kme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kme(t){var e=Fme(t,"string");return typeof e=="symbol"?e:e+""}function Fme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mg{static get DESTINATION_RENDERER(){return 1}static get DESTINATION_CLIPBOARD_GENERATOR(){return 2}constructor(e,n,r){Ad(this,"hot",void 0),Ad(this,"metaManager",void 0),Ad(this,"tableMeta",void 0),Ad(this,"dataSource",void 0),Ad(this,"duckSchema",void 0),Ad(this,"colToPropCache",void 0),Ad(this,"propToColCache",void 0),this.hot=e,this.metaManager=r,this.tableMeta=r.getTableMeta(),this.dataSource=n,this.duckSchema=this.createDuckSchema(),this.createMap()}createMap(){const e=this.getSchema();if(typeof e>"u")throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");const n=this.tableMeta.columns;let r;if(this.colToPropCache=[],this.propToColCache=new Map,n){let i=0,o=0,s=!1;if(typeof n=="function"){const a=rO(e);i=a>0?a:this.countFirstRowKeys(),s=!0}else{const a=this.tableMeta.maxCols;i=Math.min(a,n.length)}for(r=0;r<i;r++){const a=s?n(r):n[r];if(dn(a)){if(typeof a.data<"u"){const u=s?o:r;this.colToPropCache[u]=a.data,this.propToColCache.set(a.data,u)}o+=1}}}else this.recursiveDuckColumns(e)}countFirstRowKeys(){return pj(this.dataSource)}recursiveDuckColumns(e,n,r){let i=n,o=r,s;return typeof i>"u"&&(i=0,o=""),typeof e=="object"&&!Array.isArray(e)&&hn(e,(a,u)=>{a===null?(s=o+u,this.colToPropCache.push(s),this.propToColCache.set(s,i),i+=1):i=this.recursiveDuckColumns(a,i,`${u}.`)}),i}colToProp(e){if(Number.isInteger(e)===!1)return e;const n=this.hot.toPhysicalColumn(e);return n===null?e:this.colToPropCache&&Ct(this.colToPropCache[n])?this.colToPropCache[n]:n}propToCol(e){const n=this.propToColCache.get(e);if(Ct(n))return this.hot.toVisualColumn(n);const r=this.hot.toVisualColumn(e);return r===null?e:r}getSchema(){const e=this.tableMeta.dataSchema;return e?typeof e=="function"?e():e:this.duckSchema}createDuckSchema(){return this.dataSource&&this.dataSource[0]?Mv(this.dataSource[0]):{}}refreshDuckSchema(){this.duckSchema=this.createDuckSchema()}createRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:r,mode:i="above"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.hot.countSourceRows();let s=o,a=0,u=e;if((typeof u!="number"||u>=o)&&(u=o),u<this.hot.countRows()&&(s=this.hot.toPhysicalRow(u)),this.hot.runHooks("beforeCreateRow",u,n,r)===!1||s===null)return{delta:0};const h=this.tableMeta.maxRows,g=this.getSchema().length,p=[];for(;a<n&&o+a<h;){let y=null;this.hot.dataType==="array"?this.tableMeta.dataSchema?y=Ro(this.getSchema()):(y=[],Mt(g-1,()=>y.push(null))):this.hot.dataType==="function"?y=this.tableMeta.dataSchema(u+a):(y={},z0(y,this.getSchema())),p.push(y),a+=1}this.hot.rowIndexMapper.insertIndexes(u,a),i==="below"&&(s=Math.min(s+1,o)),this.spliceData(s,0,p);const v=this.hot.toVisualRow(s);return this.hot.countSourceRows()===p.length&&this.hot.columnIndexMapper.initToLength(this.hot.getInitialColumnCount()),a>0&&(e==null?this.metaManager.createRow(null,a):r!=="auto"&&this.metaManager.createRow(s,n)),this.hot.runHooks("afterCreateRow",v,a,r),this.hot.forceFullRender=!0,{delta:a,startPhysicalIndex:s}}createCol(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,{source:r,mode:i="start"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!this.hot.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");const o=this.dataSource,s=this.tableMeta.maxCols,a=this.hot.countSourceCols();let u=e;if((typeof u!="number"||u>=a)&&(u=a),this.hot.runHooks("beforeCreateCol",u,n,r)===!1)return{delta:0};let h=a;u<this.hot.countCols()&&(h=this.hot.toPhysicalColumn(u));const g=this.hot.countSourceRows();let p=this.hot.countCols(),v=0,y=h;i==="end"&&(y=Math.min(y+1,a));const R=y;for(;v<n&&p<s;){if(typeof u!="number"||u>=p)if(g>0)for(let T=0;T<g;T+=1)typeof o[T]>"u"&&(o[T]=[]),o[T].push(null);else o.push([null]);else for(let T=0;T<g;T++)o[T].splice(y,0,null);v+=1,y+=1,p+=1}this.hot.columnIndexMapper.insertIndexes(u,v),v>0&&(e==null?this.metaManager.createColumn(null,v):r!=="auto"&&this.metaManager.createColumn(R,n));const S=this.hot.toVisualColumn(R);return this.hot.runHooks("afterCreateCol",S,v,r),this.hot.forceFullRender=!0,this.refreshDuckSchema(),{delta:v,startPhysicalIndex:R}}removeRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,i=Number.isInteger(e)?e:-n;const o=this.visualRowsToPhysical(i,n),s=this.hot.countSourceRows();if(i=(s+i)%s,this.hot.runHooks("beforeRemoveRow",i,o.length,o,r)===!1)return!1;const u=o.length;if(this.filterData(i,u,o),i<this.hot.countRows()){this.hot.rowIndexMapper.removeIndexes(o);const h=Ct(this.tableMeta.columns)||Ct(this.tableMeta.dataSchema);this.hot.rowIndexMapper.getNotTrimmedIndexesLength()===0&&h===!1&&this.hot.columnIndexMapper.setIndexesSequence([])}return o.slice(0).sort((h,g)=>g-h).forEach(h=>{this.metaManager.removeRow(h,1)}),this.hot.runHooks("afterRemoveRow",i,u,o,r),this.hot.forceFullRender=!0,!0}removeCol(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;if(this.hot.dataType==="object"||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");let i=typeof e!="number"?-n:e;i=(this.hot.countCols()+i)%this.hot.countCols();const o=this.visualColumnsToPhysical(i,n),s=o.slice(0).sort((g,p)=>p-g);if(this.hot.runHooks("beforeRemoveCol",i,n,o,r)===!1)return!1;let u=!0;const c=s.length,h=this.dataSource;for(let g=0;g<c;g++)u&&o[0]!==o[g]-g&&(u=!1);if(u)for(let g=0,p=this.hot.countSourceRows();g<p;g++)h[g].splice(o[0],n),g===0&&this.metaManager.removeColumn(o[0],n);else for(let g=0,p=this.hot.countSourceRows();g<p;g++)for(let v=0;v<c;v++)h[g].splice(s[v],1),g===0&&this.metaManager.removeColumn(s[v],1);return i<this.hot.countCols()&&(this.hot.columnIndexMapper.removeIndexes(o),this.hot.columnIndexMapper.getNotTrimmedIndexesLength()===0&&this.hot.rowIndexMapper.setIndexesSequence([])),this.hot.runHooks("afterRemoveCol",i,n,o,r),this.hot.forceFullRender=!0,this.refreshDuckSchema(),!0}spliceCol(e,n,r){const i=this.hot.getDataAtCol(e),o=i.slice(n,n+r),s=i.slice(n+r);for(var a=arguments.length,u=new Array(a>3?a-3:0),c=3;c<a;c++)u[c-3]=arguments[c];UN(u,s);let h=0;for(;h<r;)u.push(null),h+=1;return Sle(u),this.hot.populateFromArray(n,e,u,null,null,"spliceCol"),o}spliceRow(e,n,r){const i=this.hot.getSourceDataAtRow(e),o=i.slice(n,n+r),s=i.slice(n+r);for(var a=arguments.length,u=new Array(a>3?a-3:0),c=3;c<a;c++)u[c-3]=arguments[c];UN(u,s);let h=0;for(;h<r;)u.push(null),h+=1;return this.hot.populateFromArray(e,n,[u],null,null,"spliceRow"),o}spliceData(e,n,r){if(this.hot.runHooks("beforeDataSplice",e,n,r)!==!1){const o=[...this.dataSource.slice(0,e),...r,...this.dataSource.slice(e)];this.dataSource.length=0,o.forEach(s=>this.dataSource.push(s))}}filterData(e,n,r){let i=this.hot.runHooks("filterData",e,n,r);Array.isArray(i)===!1&&(i=this.dataSource.filter((o,s)=>r.indexOf(s)===-1)),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,i)}get(e,n){const r=this.hot.toPhysicalRow(e);let i=this.dataSource[r];const o=this.hot.runHooks("modifyRowData",r);i=isNaN(o)?o:i;const{dataDotNotation:s}=this.hot.getSettings();let a=null;if(i&&i.hasOwnProperty&&Yr(i,n))a=i[n];else if(s&&typeof n=="string"&&n.indexOf(".")>-1){let u=i;if(!u)return null;const c=n.split(".");for(let h=0,g=c.length;h<g;h++)if(u=u[c[h]],typeof u>"u")return null;a=u}else typeof n=="function"&&(a=n(this.dataSource.slice(r,r+1)[0]));if(this.hot.hasHook("modifyData")){const u=_a(a);this.hot.runHooks("modifyData",r,this.propToCol(n),u,"get"),u.isTouched()&&(a=u.value)}return a}getCopyable(e,n){return this.hot.getCellMeta(e,this.propToCol(n)).copyable?this.get(e,n):""}set(e,n,r){const i=this.hot.toPhysicalRow(e);let o=r,s=this.dataSource[i];const a=this.hot.runHooks("modifyRowData",i);if(s=isNaN(a)?a:s,this.hot.hasHook("modifyData")){const c=_a(o);this.hot.runHooks("modifyData",i,this.propToCol(n),c,"set"),c.isTouched()&&(o=c.value)}const{dataDotNotation:u}=this.hot.getSettings();if(s&&s.hasOwnProperty&&Yr(s,n))s[n]=o;else if(u&&typeof n=="string"&&n.indexOf(".")>-1){let c=s,h=0,g;const p=n.split(".");for(h=0,g=p.length-1;h<g;h++)typeof c[p[h]]>"u"&&(c[p[h]]={}),c=c[p[h]];c[p[h]]=o}else typeof n=="function"?n(this.dataSource.slice(i,i+1)[0],o):s[n]=o}visualRowsToPhysical(e,n){const r=this.hot.countSourceRows(),i=[];let o=(r+e)%r,s=n,a;for(;o<r&&s;)a=this.hot.toPhysicalRow(o),i.push(a),s-=1,o+=1;return i}visualColumnsToPhysical(e,n){const r=this.hot.countCols(),i=[];let o=(r+e)%r,s=n;for(;o<r&&s;){const a=this.hot.toPhysicalColumn(o);i.push(a),s-=1,o+=1}return i}clear(){for(let e=0;e<this.hot.countSourceRows();e++)for(let n=0;n<this.hot.countCols();n++)this.set(e,this.colToProp(n),"")}getLength(){const e=this.tableMeta.maxRows;let n;e<0||e===0?n=0:n=e||1/0;const r=this.hot.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(r,n)}getAll(){const e={row:0,col:0},n={row:Math.max(this.hot.countRows()-1,0),col:Math.max(this.hot.countCols()-1,0)};return e.row-n.row===0&&!this.hot.countSourceRows()?[]:this.getRange(e,n,mg.DESTINATION_RENDERER)}countCachedColumns(){return this.colToPropCache.length}getRange(e,n,r){const i=[];let o,s,a;const u=this.tableMeta.maxRows,c=this.tableMeta.maxCols;if(u===0||c===0)return[];const h=r===mg.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,g=Math.min(Math.max(u-1,0),Math.max(e.row,n.row)),p=Math.min(Math.max(c-1,0),Math.max(e.col,n.col));for(o=Math.min(e.row,n.row);o<=g;o++){a=[];const v=o>=0?this.hot.toPhysicalRow(o):o;for(s=Math.min(e.col,n.col);s<=p&&v!==null;s++)a.push(h.call(this,o,this.colToProp(s)));v!==null&&i.push(a)}return i}getText(e,n){return Jp(this.getRange(e,n,mg.DESTINATION_RENDERER))}getCopyableText(e,n){return Jp(this.getRange(e,n,mg.DESTINATION_CLIPBOARD_GENERATOR))}destroy(){this.hot=null,this.metaManager=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}const{register:Vme,getItem:Wme,hasItem:Nj,getNames:qPe,getValues:XPe}=La("cellTypes");function Bme(t){if(!Nj(t))throw Error(`You declared cell type "${t}" as a string that is not mapped to a known object.
                 Cell type must be an object or a string mapped to an object registered by
                 "Handsontable.cellTypes.registerCellType" method`);return Wme(t)}function pa(t,e){typeof t!="string"&&(e=t,t=e.CELL_TYPE);const{editor:n,renderer:r,validator:i}=e;n&&ss(t,n),r&&Ds(t,r),i&&sg(t,i),Vme(t,e)}function jme(t,e){var n;return t==="CELL_TYPE"?!1:((n=e._automaticallyAssignedMetaProps)===null||n===void 0?void 0:n.has(t))||!Yr(e,t)}function tR(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;const r=typeof e.type=="string"?Bme(e.type):e.type;if(t._automaticallyAssignedMetaProps&&hn(e,(o,s)=>void t._automaticallyAssignedMetaProps.delete(s)),!dn(r))return;n===t&&!t._automaticallyAssignedMetaProps&&(t._automaticallyAssignedMetaProps=new Set);const i={};hn(r,(o,s)=>{if(jme(s,n)){var a;i[s]=o,(a=t._automaticallyAssignedMetaProps)===null||a===void 0||a.add(s)}}),fi(t,i)}function zme(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];function n(){}Vl(n,t);for(let r=0;r<e.length;r++)n.prototype[e[r]]=void 0;return n}function Db(t){return Number.isInteger(t)&&t>=0}function Nb(t,e){if(!t())throw new Error(`Assertion failed: ${e}`)}function by(t){return t==null}const $j=()=>({_automaticallyAssignedMetaProps:void 0,activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,ariaTags:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataDotNotation:!0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",timeFormat:"h:mm:ss a",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,headerClassName:void 0,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",imeFastEdit:!1,isEmptyCol(t){let e,n,r;for(e=0,n=this.countRows();e<n;e++)if(r=this.getDataAtCell(e,t),ei(r)===!1)return!1;return!0},isEmptyRow(t){let e,n,r,i;for(e=0,n=this.countCols();e<n;e++)if(r=this.getDataAtCell(t,e),ei(r)===!1)return typeof r=="object"?(i=this.getCellMeta(t,e),nO(this.getSchema()[i.prop],r)):!1;return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,navigableHeaders:!1,tabNavigation:!0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:!1,renderAllColumns:!1,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:void 0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",visibleRows:10,width:void 0,wordWrap:!0});function lL(t,e,n){return(e=Yme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yme(t){var e=Ume(t,"string");return typeof e=="symbol"?e:e+""}function Ume(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gme(){return class{}}class Kme{constructor(e){lL(this,"metaCtor",Gme()),lL(this,"meta",void 0),this.meta=this.metaCtor.prototype,fi(this.meta,$j()),this.meta.instance=e}getMetaConstructor(){return this.metaCtor}getMeta(){return this.meta}updateMeta(e){var n;fi(this.meta,e),tR(this.meta,{...e,type:(n=e.type)!==null&&n!==void 0?n:this.meta.type},e)}}function qme(t,e,n){return(e=Xme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xme(t){var e=Zme(t,"string");return typeof e=="symbol"?e:e+""}function Zme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Qme{constructor(e){qme(this,"meta",void 0);const n=e.getMetaConstructor();this.meta=new n}getMeta(){return this.meta}updateMeta(e){fi(this.meta,e),tR(this.meta,e,e)}}function Sy(t,e,n){return(e=Jme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jme(t){var e=epe(t,"string");return typeof e=="symbol"?e:e+""}function epe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xS{constructor(e){Sy(this,"valueFactory",void 0),Sy(this,"data",[]),Sy(this,"index",[]),Sy(this,"holes",new Set),this.valueFactory=e}obtain(e){Nb(()=>Db(e),"Expecting an unsigned number.");const n=this._getStorageIndexByKey(e);let r;if(n>=0)r=this.data[n],r===void 0&&(r=this.valueFactory(e),this.data[n]=r);else if(r=this.valueFactory(e),this.holes.size>0){const i=this.holes.values().next().value;this.holes.delete(i),this.data[i]=r,this.index[e]=i}else this.data.push(r),this.index[e]=this.data.length-1;return r}insert(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Nb(()=>Db(e)||by(e),"Expecting an unsigned number or null/undefined argument.");const r=[],i=this.data.length;for(let s=0;s<n;s++)r.push(i+s),this.data.push(void 0);const o=by(e)?this.index.length:e;this.index=[...this.index.slice(0,o),...r,...this.index.slice(o)]}remove(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Nb(()=>Db(e)||by(e),"Expecting an unsigned number or null/undefined argument.");const r=this.index.splice(by(e)?this.index.length-n:e,n);for(let i=0;i<r.length;i++){const o=r[i];typeof o=="number"&&this.holes.add(o)}}size(){return this.data.length-this.holes.size}values(){return jc(this.data,(e,n)=>!this.holes.has(n))[Symbol.iterator]()}entries(){const e=[];for(let r=0;r<this.data.length;r++){const i=this._getKeyByStorageIndex(r);i!==-1&&e.push([i,this.data[r]])}let n=0;return{next:()=>{if(n<e.length){const r=e[n];return n+=1,{value:r,done:!1}}return{done:!0}}}}clear(){this.data=[],this.index=[],this.holes.clear()}_getStorageIndexByKey(e){return this.index.length>e?this.index[e]:-1}_getKeyByStorageIndex(e){return this.index.indexOf(e)}[Symbol.iterator](){return this.entries()}}function uL(t,e,n){return(e=tpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tpe(t){var e=npe(t,"string");return typeof e=="symbol"?e:e+""}function npe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const rpe=["data","width"];class ipe{constructor(e){uL(this,"globalMeta",void 0),uL(this,"metas",new xS(()=>this._createMeta())),this.globalMeta=e,this.metas=new xS(()=>this._createMeta())}updateMeta(e,n){const r=this.getMeta(e);fi(r,n),tR(r,n)}createColumn(e,n){this.metas.insert(e,n)}removeColumn(e,n){this.metas.remove(e,n)}getMeta(e){return this.metas.obtain(e)}getMetaConstructor(e){return this.metas.obtain(e).constructor}clearCache(){this.metas.clear()}_createMeta(){return zme(this.globalMeta.getMetaConstructor(),rpe).prototype}}function cL(t,e,n){return(e=ope(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ope(t){var e=spe(t,"string");return typeof e=="symbol"?e:e+""}function spe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ape{constructor(e){cL(this,"columnMeta",void 0),cL(this,"metas",new xS(()=>this._createRow())),this.columnMeta=e}updateMeta(e,n,r){const i=this.getMeta(e,n);fi(i,r),tR(i,r)}createRow(e,n){this.metas.insert(e,n)}createColumn(e,n){for(let r=0;r<this.metas.size();r++)this.metas.obtain(r).insert(e,n)}removeRow(e,n){this.metas.remove(e,n)}removeColumn(e,n){for(let r=0;r<this.metas.size();r++)this.metas.obtain(r).remove(e,n)}getMeta(e,n,r){const i=this.metas.obtain(e).obtain(n);return r===void 0?i:i[r]}setMeta(e,n,r,i){var o;const s=this.metas.obtain(e).obtain(n);(o=s._automaticallyAssignedMetaProps)===null||o===void 0||o.delete(r),s[r]=i}removeMeta(e,n,r){const i=this.metas.obtain(e).obtain(n);delete i[r]}getMetas(){const e=[],n=Array.from(this.metas.values());for(let r=0;r<n.length;r++)Ct(n[r])&&e.push(...n[r].values());return e}getMetasAtRow(e){Nb(()=>Db(e),"Expecting an unsigned number.");const n=new Map(this.metas);return n.has(e)?Array.from(n.get(e).values()):[]}clearCache(){this.metas.clear()}_createRow(){return new xS(e=>this._createMeta(e))}_createMeta(e){const n=this.columnMeta.getMetaConstructor(e);return new n}}class Lj{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];this.hot=e,this.globalMeta=new Kme(e),this.tableMeta=new Qme(this.globalMeta),this.columnMeta=new ipe(this.globalMeta),this.cellMeta=new ape(this.columnMeta),r.forEach(i=>new i(this)),this.globalMeta.updateMeta(n)}getGlobalMeta(){return this.globalMeta.getMeta()}updateGlobalMeta(e){this.globalMeta.updateMeta(e)}getTableMeta(){return this.tableMeta.getMeta()}updateTableMeta(e){this.tableMeta.updateMeta(e)}getColumnMeta(e){return this.columnMeta.getMeta(e)}updateColumnMeta(e,n){this.columnMeta.updateMeta(e,n)}getCellMeta(e,n,r){let{visualRow:i,visualColumn:o}=r;const s=this.cellMeta.getMeta(e,n);return s.visualRow=i,s.visualCol=o,s.row=e,s.col=n,this.runLocalHooks("afterGetCellMeta",s),s}getCellMetaKeyValue(e,n,r){if(typeof r!="string")throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(e,n,r)}setCellMeta(e,n,r,i){this.cellMeta.setMeta(e,n,r,i)}updateCellMeta(e,n,r){this.cellMeta.updateMeta(e,n,r)}removeCellMeta(e,n,r){this.cellMeta.removeMeta(e,n,r)}getCellsMeta(){return this.cellMeta.getMetas()}getCellsMetaAtRow(e){return this.cellMeta.getMetasAtRow(e)}createRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createRow(e,n)}removeRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeRow(e,n)}createColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.createColumn(e,n),this.columnMeta.createColumn(e,n)}removeColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cellMeta.removeColumn(e,n),this.columnMeta.removeColumn(e,n)}clearCellsCache(){this.cellMeta.clearCache()}clearCache(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}}lr(Lj,Ui);function dL(t,e,n,r){const{hotInstance:i,dataMap:o,dataSource:s,internalSource:a,source:u,metaManager:c,firstRun:h}=r,g=Oa(a),p=i.getSettings();Array.isArray(p.dataSchema)?i.dataType="array":br(p.dataSchema)?i.dataType="function":i.dataType="object",o&&o.destroy(),t=i.runHooks(`before${g}`,t,h,u);const v=new mg(i,t,c);if(e(v),typeof t=="object"&&t!==null)t.push&&t.splice||(t=[t]);else if(t===null){const y=v.getSchema();t=[];let R,S=0,T=0;for(S=0,T=p.startRows;S<T;S++)if((i.dataType==="object"||i.dataType==="function")&&p.dataSchema)R=Ro(y),t.push(R);else if(i.dataType==="array")R=Ro(y[0]),t.push(R);else{R=[];for(let x=0,O=p.startCols;x<O;x++)R.push(null);t.push(R)}}else throw new Error(`${a} only accepts array of objects or array of arrays (${typeof t} given)`);Array.isArray(t[0])&&(i.dataType="array"),p.data=t,v.dataSource=t,s.data=t,s.dataType=i.dataType,s.colToProp=v.colToProp.bind(v),s.propToCol=v.propToCol.bind(v),s.countCachedColumns=v.countCachedColumns.bind(v),n(v),i.runHooks(`after${g}`,t,h,u),h||(i.runHooks("afterChange",null,a),i.render()),i.getSettings().ariaTags&&Lt(i.rootElement,[cB(-1),W0(i.countCols()+(i.view?i.countRowHeaders():0))])}function hL(t,e,n){return(e=lpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lpe(t){var e=upe(t,"string");return typeof e=="symbol"?e:e+""}function upe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cpe{constructor(e){hL(this,"metaManager",void 0),hL(this,"metaSyncMemo",new Map),this.metaManager=e,e.addLocalHook("afterGetCellMeta",n=>this.extendCellMeta(n)),mt.getSingleton().add("beforeRender",n=>{n&&this.metaSyncMemo.clear()},this.metaManager.hot)}extendCellMeta(e){var n;const{row:r,col:i}=e;if((n=this.metaSyncMemo.get(r))!==null&&n!==void 0&&n.has(i))return;const{visualRow:o,visualCol:s}=e,a=this.metaManager.hot,u=a.colToProp(s);e.prop=u,a.runHooks("beforeGetCellMeta",o,s,e);const c=Yr(e,"type")?e.type:null;let h=br(e.cells)?e.cells(r,i,u):null;if(c)if(h){var g;h.type=(g=h.type)!==null&&g!==void 0?g:c}else h={type:c};h&&this.metaManager.updateCellMeta(r,i,h),a.runHooks("afterGetCellMeta",o,s,e),this.metaSyncMemo.has(r)||this.metaSyncMemo.set(r,new Set),this.metaSyncMemo.get(r).add(i)}}function dpe(t,e,n){hpe(t,e),e.set(t,n)}function hpe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function K1(t,e,n){return(e=fpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fpe(t){var e=gpe(t,"string");return typeof e=="symbol"?e:e+""}function gpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mpe(t,e){return t.get(ppe(t,e))}function ppe(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var fL=new WeakMap;class vpe{constructor(e){K1(this,"metaManager",void 0),K1(this,"usageTracker",new Set),K1(this,"propDescriptors",new Map([["ariaTags",{initOnly:!0}],["fixedColumnsLeft",{target:"fixedColumnsStart",onChange(n){if(this.metaManager.hot.isRtl()&&n==="fixedColumnsLeft")throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{initOnly:!0}],["renderAllColumns",{initOnly:!0}],["renderAllRows",{initOnly:!0}]])),dpe(this,fL,(n,r,i)=>{if(!i)throw new Error(`The \`${n}\` option can not be updated after the Handsontable is initialized.`)}),this.metaManager=e,this.extendMetaProps()}extendMetaProps(){this.propDescriptors.forEach((e,n)=>{const{initOnly:r,target:i,onChange:o}=e,s=typeof i=="string",a=s?i:n,u=`_${a}`;this.metaManager.globalMeta.meta[u]=this.metaManager.globalMeta.meta[a],o?(this.installPropWatcher(n,u,o),s&&this.installPropWatcher(i,u,o)):r&&(this.installPropWatcher(n,u,mpe(fL,this)),this.metaManager.globalMeta.meta._initOnlySettings||(this.metaManager.globalMeta.meta._initOnlySettings=[]),this.metaManager.globalMeta.meta._initOnlySettings.push(n))})}installPropWatcher(e,n,r){const i=this;Object.defineProperty(this.metaManager.globalMeta.meta,e,{get(){return this[n]},set(o){const s=!i.usageTracker.has(e);i.usageTracker.add(e),r.call(i,e,o,s),this[n]=o},enumerable:!0,configurable:!0})}}const kj="gridDefault",ed="editorManager.handlingEditor",wpe={name:"editorCloseAndSave",callback(t){t._getEditorManager().closeEditorAndSaveChanges()}},Cpe="hooksRefRegisterer",Fj={_hooksStorage:Object.create(null),addHook(t,e){return this._hooksStorage[t]||(this._hooksStorage[t]=[]),this.hot.addHook(t,e),this._hooksStorage[t].push(e),this},removeHooksByKey(t){ye(this._hooksStorage[t]||[],e=>{this.hot.removeHook(t,e)})},clearHooks(){hn(this._hooksStorage,(t,e)=>this.removeHooksByKey(e)),this._hooksStorage={}}};Fu(Fj,"MIXIN_NAME",Cpe,{writable:!1,enumerable:!1});function da(t,e,n){return(e=ype(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ype(t){var e=bpe(t,"string");return typeof e=="symbol"?e:e+""}function bpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Spe="base",Zr=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"});class tm{static get EDITOR_TYPE(){return Spe}constructor(e){da(this,"hot",void 0),da(this,"state",Zr.VIRGIN),da(this,"_opened",!1),da(this,"_fullEditMode",!1),da(this,"_closeCallback",null),da(this,"TD",null),da(this,"row",null),da(this,"col",null),da(this,"prop",null),da(this,"originalValue",null),da(this,"cellProperties",null),this.hot=e,this.init()}_fireCallbacks(e){this._closeCallback&&(this._closeCallback(e),this._closeCallback=null)}init(){}getValue(){throw Error("Editor getValue() method unimplemented")}setValue(){throw Error("Editor setValue() method unimplemented")}open(){throw Error("Editor open() method unimplemented")}close(){throw Error("Editor close() method unimplemented")}prepare(e,n,r,i,o,s){this.TD=i,this.row=e,this.col=n,this.prop=r,this.originalValue=o,this.cellProperties=s,this.state=this.isOpened()?this.state:Zr.VIRGIN}extend(){return class extends this.constructor{}}saveValue(e,n){let r,i,o,s;if(n){const u=this.hot.getSelectedLast();r=Math.max(Math.min(u[0],u[2]),0),i=Math.max(Math.min(u[1],u[3]),0),o=Math.max(u[0],u[2]),s=Math.max(u[1],u[3])}else[r,i,o,s]=[this.row,this.col,null,null];const a=this.hot.runHooks("modifyGetCellCoords",r,i);Array.isArray(a)&&([r,i]=a),this.hot.populateFromArray(r,i,e,o,s,"edit")}beginEditing(e,n){if(this.state!==Zr.VIRGIN)return;const r=this.hot,i=r.rowIndexMapper.getRenderableFromVisualIndex(this.row),o=r.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(r.view.scrollViewport(r._createCellCoords(i,o)),this.state=Zr.EDITING,this.isInFullEditMode()){const s=typeof e=="string"?e:ai(this.originalValue);this.setValue(s)}this.open(n),this._opened=!0,this.focus(),r.view.render(),r.runHooks("afterBeginEditing",this.row,this.col)}finishEditing(e,n,r){let i;if(r){const o=this._closeCallback;this._closeCallback=s=>{o&&o(s),r(s),this.hot.view.render()}}if(!this.isWaiting()){if(this.state===Zr.VIRGIN){this.hot._registerTimeout(()=>{this._fireCallbacks(!0)});return}if(this.state===Zr.EDITING){if(e){this.cancelChanges(),this.hot.view.render();return}const o=this.getValue();this.cellProperties.trimWhitespace?i=[[typeof o=="string"?String.prototype.trim.call(o||""):o]]:i=[[o]],this.state=Zr.WAITING,this.saveValue(i,n),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",s=>{this.state=Zr.FINISHED,this.discardEditor(s)}):(this.state=Zr.FINISHED,this.discardEditor(!0))}}}cancelChanges(){this.state=Zr.FINISHED,this.discardEditor()}discardEditor(e){this.state===Zr.FINISHED&&(e===!1&&this.cellProperties.allowInvalid!==!0?(this.hot.selectCell(this.row,this.col),this.focus(),this.state=Zr.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=Zr.VIRGIN,this._fireCallbacks(!0),this.hot.getShortcutManager().setActiveContextName("grid")))}enableFullEditMode(){this._fullEditMode=!0}isInFullEditMode(){return this._fullEditMode}isOpened(){return this._opened}isWaiting(){return this.state===Zr.WAITING}getEditedCellRect(){var e;const n=this.getEditedCell();if(!n)return;const{wtOverlays:r,wtViewport:i}=this.hot.view._wt,o=this.hot.rootWindow,s=Hi(n),a=Rr(n),u=Hi(this.hot.rootElement),c=Rr(this.hot.rootElement),h=r.topOverlay.holder,g=r.inlineStartOverlay.holder,p=h!==o?h.scrollTop:0,v=g!==o?g.scrollLeft:0,y=o.innerWidth-u.left-c,{wtTable:R}=(e=r.getParentOverlay(n))!==null&&e!==void 0?e:this.hot.view._wt,S=R.name,T=["master","inline_start"].includes(S)?p:0,x=["master","top","bottom"].includes(S)?v:0,O=s.top===u.top?0:1;let A=s.top-u.top-O-T,H=0;this.hot.isRtl()?H=o.innerWidth-s.left-a-y-1+x:H=s.left-u.left-1-x,["top","top_inline_start_corner"].includes(S)&&(A+=r.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(S)&&(H+=Math.abs(r.inlineStartOverlay.getOverlayOffset()));const L=this.hot.hasColHeaders(),F=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),j=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),Y=this.hot.rowIndexMapper.getRenderableIndexesLength()-this.hot.view._wt.getSetting("fixedRowsBottom");(L&&F<=0||F===Y)&&(A+=1),j<=0&&(H+=1);const K=i.rowsRenderCalculator.startPosition,X=i.columnsRenderCalculator.startPosition,se=Math.abs(r.inlineStartOverlay.getScrollPosition()),ne=r.topOverlay.getScrollPosition(),J=Di(this.hot.rootDocument);let re=n.offsetTop;if(["inline_start","master"].includes(S)&&(re+=K-ne),["bottom","bottom_inline_start_corner"].includes(S)){const{wtViewport:me,wtTable:Me}=r.bottomOverlay.clone;re+=me.getWorkspaceHeight()-Me.getHeight()-J}let ae=n.offsetLeft;this.hot.isRtl()?(ae>=0?ae=R.getWidth()-n.offsetLeft:ae=Math.abs(ae),ae+=X-se-a):["top","master","bottom"].includes(S)&&(ae+=X-se);const G=Hu(this.TD,this.hot.rootWindow),oe=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",te=parseInt(G[oe],10)>0?0:1,C=parseInt(G.borderTopWidth,10)>0?0:1,E=Rr(n)+te,I=li(n)+C,$=sue(h)?J:0,N=aue(g)?J:0,Z=this.hot.view.maximumVisibleElementWidth(ae)-$+te,ue=Math.max(this.hot.view.maximumVisibleElementHeight(re)-N+C,23);return{top:A,start:H,height:I,maxHeight:ue,width:E,maxWidth:Z}}getEditedCellsLayerClass(){switch(this.checkEditorSection()){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}getEditedCell(){return this.hot.getCell(this.row,this.col,!0)}checkEditorSection(){const e=this.hot.countRows();let n="";return this.row<this.hot.getSettings().fixedRowsTop?this.col<this.hot.getSettings().fixedColumnsStart?n="top-inline-start-corner":n="top":this.hot.getSettings().fixedRowsBottom&&this.row>=e-this.hot.getSettings().fixedRowsBottom?this.col<this.hot.getSettings().fixedColumnsStart?n="bottom-inline-start-corner":n="bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(n="inline-start"),n}}lr(tm,Fj);const Rpe={name:"editorCloseAndSaveByArrowKeys",callback(t,e,n){const r=t._getEditorManager(),i=r.getActiveEditor();i.isInFullEditMode()&&i.state===Zr.EDITING||(r.closeEditorAndSaveChanges(),t.getSelected()&&(n.includes("arrowdown")?t.selection.transformStart(1,0):n.includes("arrowup")?t.selection.transformStart(-1,0):n.includes("arrowleft")?t.selection.transformStart(0,-1*t.getDirectionFactor()):n.includes("arrowright")&&t.selection.transformStart(0,t.getDirectionFactor())),e.preventDefault())}},Epe={name:"editorCloseAndSaveByEnter",callback(t,e){const n=t._getEditorManager();n.closeEditorAndSaveChanges(e.ctrlKey||e.metaKey),n.moveSelectionAfterEnter(e)}},_pe={name:"editorCloseWithoutSaving",callback(t){const e=t._getEditorManager();e.closeEditorAndRestoreOriginalValue(t.getShortcutManager().isCtrlPressed()),e.activeEditor.focus()}},Mpe={name:"editorFastOpen",callback(t,e){const{highlight:n}=t.getSelectedRangeLast();n.isHeader()||t._getEditorManager().openEditor(null,e,!0)}},Tpe={name:"editorOpen",callback(t,e,n){const r=t._getEditorManager(),i=t.getSelectedRangeLast(),{highlight:o}=i;if(t.selection.isMultiple()&&!i.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0){const s=t.getSettings(),a=typeof s.enterMoves=="function"?s.enterMoves(e):s.enterMoves;n.includes("shift")?t.selection.transformFocus(-a.row,-a.col):t.selection.transformFocus(a.row,a.col);return}o.isHeader()||(t.getSettings().enterBeginsEditing?r.cellProperties.readOnly?r.moveSelectionAfterEnter(e):r.openEditor(null,e,!0):r.moveSelectionAfterEnter(e),$a(e))}};function xpe(){return[wpe,Rpe,Epe,_pe,Mpe,Tpe]}const Ipe={name:"extendCellsSelectionDown",callback(t){const{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByColumnHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByRowHeader())&&t.selection.transformEnd(1,0)}},Ope={name:"extendCellsSelectionDownByViewportHeight",callback(t){const{to:e}=t.getSelectedRangeLast(),n=Math.min(e.row+t.countVisibleRows(),t.countRows()-1),r=t.rowIndexMapper.getNearestNotHiddenIndex(n,-1);if(r!==null){const i=t._createCellCoords(r,e.col),o=e.row-t.view.getFirstFullyVisibleRow(),s=Math.min(i.row-o,t.countRows()-1);t.selection.setRangeEnd(i),t.scrollViewportTo({row:s,verticalSnap:"top",horizontalSnap:"start"})}}},Ppe={name:"extendCellsSelectionLeft",callback(t){const{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByColumnHeader())&&t.selection.transformEnd(0,-1*t.getDirectionFactor())}},Ape={name:"extendCellsSelectionRight",callback(t){const{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByColumnHeader())&&t.selection.transformEnd(0,t.getDirectionFactor())}},Hpe={name:"extendCellsSelectionToColumns",callback(t){const{highlight:e,from:n,to:r}=t.getSelectedRangeLast();t.selection.isSelectedByRowHeader()?t.selection.selectAll(!0,!0):t.selectColumns(n.col,r.col,e)}},Dpe={name:"extendCellsSelectionToMostBottom",callback(t){const{selection:e,rowIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByRowHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(t.countRows()-1,-1),u=i.clone();u.row=r.row,e.setRangeStart(u,void 0,!1,r.clone()),s&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,o.col))}}},Npe={name:"extendCellsSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast();if(!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&r.isCell()){const s=n.getNearestNotHiddenIndex(t.countCols()-1,-1),a=i.clone();a.col=r.col,e.setRangeStart(a,void 0,!1,r.clone()),e.setRangeEnd(t._createCellCoords(o.row,s))}}},$pe={name:"extendCellsSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast();if(!t.selection.isSelectedByRowHeader()&&!t.selection.isSelectedByCorner()&&r.isCell()){const s=parseInt(t.getSettings().fixedColumnsStart,10),a=n.getNearestNotHiddenIndex(s,1),u=i.clone();u.col=r.col,e.setRangeStart(u,void 0,!1,r.clone()),e.setRangeEnd(t._createCellCoords(o.row,a))}}},Lpe={name:"extendCellsSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByColumnHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]),u=i.clone();u.col=r.col,e.setRangeStart(u,void 0,!1,r.clone()),s&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(o.row,a))}}},kpe={name:"extendCellsSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByColumnHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]),u=i.clone();u.col=r.col,e.setRangeStart(u,void 0,!1,r.clone()),s&&e.selectedByColumnHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(o.row,a))}}},Fpe={name:"extendCellsSelectionToMostTop",callback(t){const{selection:e,rowIndexMapper:n}=t,{highlight:r,from:i,to:o}=t.getSelectedRangeLast(),s=r.isHeader()&&t.selection.isSelectedByRowHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(0,1),u=i.clone();u.row=r.row,e.setRangeStart(u,void 0,!1,r.clone()),s&&e.selectedByRowHeader.add(e.getLayerLevel()),e.setRangeEnd(t._createCellCoords(a,o.col))}}},Vpe={name:"extendCellsSelectionToRows",callback(t){const{highlight:e,from:n,to:r}=t.getSelectedRangeLast();t.selection.isSelectedByColumnHeader()?t.selection.selectAll(!0,!0):t.selectRows(n.row,r.row,e)}},Wpe={name:"extendCellsSelectionUp",callback(t){const{highlight:e}=t.getSelectedRangeLast();!t.selection.isSelectedByColumnHeader()&&!t.selection.isSelectedByCorner()&&(e.isCell()||e.isHeader()&&t.selection.isSelectedByRowHeader())&&t.selection.transformEnd(-1,0)}},Bpe={name:"extendCellsSelectionUpByViewportHeight",callback(t){const{to:e}=t.getSelectedRangeLast(),n=Math.max(e.row-t.countVisibleRows(),0),r=t.rowIndexMapper.getNearestNotHiddenIndex(n,1);if(r!==null){const i=t._createCellCoords(r,e.col),o=e.row-t.view.getFirstFullyVisibleRow(),s=Math.max(i.row-o,0);t.selection.setRangeEnd(i),t.scrollViewportTo({row:s,verticalSnap:"top",horizontalSnap:"start"})}}};function jpe(){return[Ipe,Ope,Ppe,Ape,Hpe,Dpe,Npe,$pe,Lpe,kpe,Fpe,Vpe,Wpe,Bpe]}const zpe={name:"moveCellSelectionDown",callback(t){let{selection:e}=t;e.transformStart(1,0)}},Ype={name:"moveCellSelectionDownByViewportHeight",callback(t){const{navigableHeaders:e}=t.getSettings(),n=e?t.countColHeaders():0,{row:r}=t.getSelectedRangeLast().highlight;let i=t.countVisibleRows()+n;r===t.countRows()-1?i=1:r+i>t.countRows()&&(i=t.countRows()-r-1),t.selection.transformStart(i,0),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}},Upe={name:"moveCellSelectionInlineEnd",callback(t,e){const n=t.getSettings(),r=t.getSelectedRangeLast(),i=typeof n.tabMoves=="function"?n.tabMoves(e):n.tabMoves;t.selection.isMultiple()&&!r.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0?t.selection.transformFocus(-i.row,-i.col):t.selection.transformStart(-i.row,-i.col)}},Gpe={name:"moveCellSelectionInlineStart",callback(t,e){const n=t.getSettings(),r=t.getSelectedRangeLast(),i=typeof n.tabMoves=="function"?n.tabMoves(e):n.tabMoves;t.selection.isMultiple()&&!r.isHeader()&&t.countRenderedCols()>0&&t.countRenderedRows()>0?t.selection.transformFocus(i.row,i.col):t.selection.transformStart(i.row,i.col)}},Kpe={name:"moveCellSelectionLeft",callback(t){t.selection.transformStart(0,-1*t.getDirectionFactor())}},qpe={name:"moveCellSelectionRight",callback(t){t.selection.transformStart(0,t.getDirectionFactor())}},Xpe={name:"moveCellSelectionToMostBottom",callback(t){const{col:e}=t.getSelectedRangeLast().highlight;let n=t.rowIndexMapper.getNearestNotHiddenIndex(t.countRows()-1,-1);n===null&&(n=-1),t.selection.setRangeStart(t._createCellCoords(n,e))}},Zpe={name:"moveCellSelectionToMostBottomInlineEnd",callback(t){const{selection:e,rowIndexMapper:n,columnIndexMapper:r}=t,i=parseInt(t.getSettings().fixedRowsBottom,10),o=n.getNearestNotHiddenIndex(t.countRows()-i-1,-1),s=r.getNearestNotHiddenIndex(t.countCols()-1,-1);e.setRangeStart(t._createCellCoords(o,s))}},Qpe={name:"moveCellSelectionToMostInlineEnd",callback(t){const{selection:e,columnIndexMapper:n}=t;e.setRangeStart(t._createCellCoords(t.getSelectedRangeLast().highlight.row,n.getNearestNotHiddenIndex(t.countCols()-1,-1)))}},Jpe={name:"moveCellSelectionToMostInlineStart",callback(t){const{selection:e,columnIndexMapper:n}=t,r=parseInt(t.getSettings().fixedColumnsStart,10),i=t.getSelectedRangeLast().highlight.row,o=n.getNearestNotHiddenIndex(r,1);e.setRangeStart(t._createCellCoords(i,o))}},eve={name:"moveCellSelectionToMostLeft",callback(t){const{selection:e,columnIndexMapper:n}=t,r=t.getSelectedRangeLast().highlight.row;let i=n.getNearestNotHiddenIndex(...t.isRtl()?[t.countCols()-1,-1]:[0,1]);i===null&&(i=t.isRtl()?-1:-t.countRowHeaders()),e.setRangeStart(t._createCellCoords(r,i))}},tve={name:"moveCellSelectionToMostRight",callback(t){const{selection:e,columnIndexMapper:n}=t,{row:r}=t.getSelectedRangeLast().highlight;let i=n.getNearestNotHiddenIndex(...t.isRtl()?[0,1]:[t.countCols()-1,-1]);i===null&&(i=t.isRtl()?-t.countRowHeaders():-1),e.setRangeStart(t._createCellCoords(r,i))}},nve={name:"moveCellSelectionToMostTop",callback(t){const{col:e}=t.getSelectedRangeLast().highlight;let n=t.rowIndexMapper.getNearestNotHiddenIndex(0,1);n===null&&(n=-t.countColHeaders()),t.selection.setRangeStart(t._createCellCoords(n,e))}},rve={name:"moveCellSelectionToMostTopInlineStart",callback(t){const{selection:e,rowIndexMapper:n,columnIndexMapper:r}=t,i=parseInt(t.getSettings().fixedRowsTop,10),o=parseInt(t.getSettings().fixedColumnsStart,10),s=n.getNearestNotHiddenIndex(i,1),a=r.getNearestNotHiddenIndex(o,1);e.setRangeStart(t._createCellCoords(s,a))}},ive={name:"moveCellSelectionUp",callback(t){let{selection:e}=t;e.transformStart(-1,0)}},ove={name:"moveCellSelectionUpByViewportHight",callback(t){const{navigableHeaders:e}=t.getSettings(),n=e?t.countColHeaders():0,{row:r}=t.getSelectedRangeLast().highlight;let i=-(t.countVisibleRows()+n);r===-n?i=-1:r+i<n&&(i=-(r+n)),t.selection.transformStart(i,0),t.getSelectedRangeLast().highlight.row<0&&t.scrollViewportTo({row:0})}};function sve(){return[zpe,Ype,Upe,Gpe,Kpe,qpe,Xpe,Zpe,Qpe,Jpe,eve,tve,nve,rve,ive,ove]}const ave={name:"emptySelectedCells",callback(t){t.emptySelectedCells(),t._getEditorManager().prepareEditor()}},lve={name:"scrollToFocusedCell",callback(t){const{highlight:e}=t.getSelectedRangeLast(),n=t.view.getFirstFullyVisibleRow()-1,r=t.view.getFirstFullyVisibleColumn()-1,i=t.view.getLastFullyVisibleRow()+1,o=t.view.getLastFullyVisibleColumn()+1,s=t._createCellCoords(n,r),a=t._createCellCoords(i,o);if(!t._createCellRange(s,s,a).includes(e)&&(e.row>=0||e.col>=0)){const c={};if(e.col>=0){const h=Math.floor(t.countVisibleCols()/2);c.col=Math.max(e.col-h,0)}if(e.row>=0){const h=Math.floor(t.countVisibleRows()/2);c.row=Math.max(e.row-h,0)}t.scrollViewportTo({...c,verticalSnap:"top",horizontalSnap:"start"})}}},uve={name:"selectAllCells",callback(t){t.selection.selectAll(!0,!0,{disableHeadersHighlight:!0})}},cve={name:"selectAllCellsAndHeaders",callback(t){t.selection.selectAll(!0,!0,{disableHeadersHighlight:!1})}},dve={name:"populateSelectedCellsData",callback(t){const e=t.getSelectedRange(),{row:n,col:r}=e[e.length-1].highlight.normalize(),i=t.getDataAtCell(n,r),o=new Map;for(let s=0;s<e.length;s++)e[s].forAll((a,u)=>{if(a>=0&&u>=0&&(a!==n||u!==r)){const{readOnly:c}=t.getCellMeta(a,u);c||o.set(`${a}x${u}`,[a,u,i])}});t.setDataAtCell(Array.from(o.values()))}},hve=[...xpe(),...jpe(),...sve(),ave,lve,uve,cve,dve];function Vj(t){const e={};return hve.forEach(n=>{let{name:r,callback:i}=n;e[r]=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i(t,...s)}}),e}function fve(t){const e=t.getShortcutManager().addContext("editor"),n=Vj(t),r={group:ed};e.addShortcuts([{keys:[["Enter"],["Enter","Shift"]],callback:(i,o)=>n.editorCloseAndSaveByEnter(i,o)},{keys:[["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],captureCtrl:!0,callback:(i,o)=>n.editorCloseAndSaveByEnter(i,o)},{keys:[["Tab"],["Tab","Shift"],["PageDown"],["PageUp"]],forwardToContext:t.getShortcutManager().getContext("grid"),callback:(i,o)=>n.editorCloseAndSave(i,o)},{keys:[["ArrowDown"],["ArrowUp"],["ArrowLeft"],["ArrowRight"]],preventDefault:!1,callback:(i,o)=>n.editorCloseAndSaveByArrowKeys(i,o)},{keys:[["Escape"],["Escape","Control/Meta"]],callback:()=>n.editorCloseWithoutSaving()}],r)}function gve(t){const e=t.getShortcutManager().addContext("grid"),n=Vj(t),r={runOnlyIf:()=>{const{navigableHeaders:i}=t.getSettings();return Ct(t.getSelected())&&(i||!i&&t.countRenderedRows()>0&&t.countRenderedCols()>0)},group:kj};e.addShortcuts([{keys:[["F2"]],callback:i=>n.editorFastOpen(i)},{keys:[["Enter"],["Enter","Shift"]],callback:(i,o)=>n.editorOpen(i,o)},{keys:[["Backspace"],["Delete"]],callback:()=>n.emptySelectedCells()}],{group:ed,runOnlyIf:()=>Ct(t.getSelected())}),e.addShortcuts([{keys:[["Control/Meta","A"]],callback:()=>n.selectAllCells(),runOnlyIf:()=>{var i;return!((i=t.getSelectedRangeLast())!==null&&i!==void 0&&i.highlight.isHeader())}},{keys:[["Control/Meta","A"]],callback:()=>{},runOnlyIf:()=>{var i;return(i=t.getSelectedRangeLast())===null||i===void 0?void 0:i.highlight.isHeader()},preventDefault:!0},{keys:[["Control/Meta","Shift","Space"]],callback:()=>n.selectAllCellsAndHeaders()},{keys:[["Control/Meta","Enter"]],callback:()=>n.populateSelectedCellsData(),runOnlyIf:()=>{var i,o;return!((i=t.getSelectedRangeLast())!==null&&i!==void 0&&i.highlight.isHeader())&&((o=t.getSelectedRangeLast())===null||o===void 0?void 0:o.getCellsCount())>1}},{keys:[["Control","Space"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToColumns()},{keys:[["Shift","Space"]],stopPropagation:!0,callback:()=>n.extendCellsSelectionToRows()},{keys:[["ArrowUp"]],callback:()=>n.moveCellSelectionUp()},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTop()},{keys:[["ArrowUp","Shift"]],callback:()=>n.extendCellsSelectionUp()},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostTop(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowDown"]],callback:()=>n.moveCellSelectionDown()},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottom()},{keys:[["ArrowDown","Shift"]],callback:()=>n.extendCellsSelectionDown()},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostBottom(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByColumnHeader())},{keys:[["ArrowLeft"]],callback:()=>n.moveCellSelectionLeft()},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostLeft()},{keys:[["ArrowLeft","Shift"]],callback:()=>n.extendCellsSelectionLeft()},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostLeft(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["ArrowRight"]],callback:()=>n.moveCellSelectionRight()},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostRight()},{keys:[["ArrowRight","Shift"]],callback:()=>n.extendCellsSelectionRight()},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostRight(),runOnlyIf:()=>!(t.selection.isSelectedByCorner()||t.selection.isSelectedByRowHeader())},{keys:[["Home"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["Home","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineStart()},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTopInlineStart(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineEnd()},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottomInlineEnd(),runOnlyIf:()=>t.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["PageUp"]],callback:()=>n.moveCellSelectionUpByViewportHight()},{keys:[["PageUp","Shift"]],callback:()=>n.extendCellsSelectionUpByViewportHeight()},{keys:[["PageDown"]],callback:()=>n.moveCellSelectionDownByViewportHeight()},{keys:[["PageDown","Shift"]],callback:()=>n.extendCellsSelectionDownByViewportHeight()},{keys:[["Tab"]],preventDefault:!1,callback:i=>n.moveCellSelectionInlineStart(i)},{keys:[["Shift","Tab"]],preventDefault:!1,callback:i=>n.moveCellSelectionInlineEnd(i)},{keys:[["Control/Meta","Backspace"]],callback:()=>n.scrollToFocusedCell()}],r)}function mve(t){[gve,fve].forEach(e=>e(t))}function pve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.rootElement,r=gL(t),i=gL(t);return r.addEventListener("focus",()=>e==null?void 0:e.onFocusFromTop()),i.addEventListener("focus",()=>e==null?void 0:e.onFocusFromBottom()),n.firstChild.before(r),n.lastChild.after(i),{activate(){t._registerTimeout(()=>{r.tabIndex=0,i.tabIndex=0},10)},deactivate(){t._registerTimeout(()=>{r.tabIndex=-1,i.tabIndex=-1},10)}}}function gL(t){const n=t.rootDocument.createElement("input");return n.type="text",n.classList.add("htFocusCatcher"),t.getSettings().ariaTags&&Lt(n,[xl(),jh()]),n}function vve(t){const e=wve(t);let n;const{activate:r,deactivate:i}=pve(t,{onFocusFromTop(){var g;const p=(g=e(n))!==null&&g!==void 0?g:lx(t);p&&(t.runHooks("modifyFocusOnTabNavigation","from_above",p),t.selectCell(p.row,p.col)),t.listen()},onFocusFromBottom(){var g;const p=(g=e(n))!==null&&g!==void 0?g:ux(t);p&&(t.runHooks("modifyFocusOnTabNavigation","from_below",p),t.selectCell(p.row,p.col)),t.listen()}}),o={wrapped:!1,flipped:!1};let s=!0,a=!1,u=!1;t.addHook("afterListen",()=>i()),t.addHook("afterUnlisten",()=>r()),t.addHook("afterSelection",(g,p,v,y,R)=>{if(a&&(o.wrapped&&o.flipped||u)&&(u=!1,R.value=!0),s){var S;n=(S=t.getSelectedRangeLast())===null||S===void 0?void 0:S.highlight}}),t.addHook("beforeRowWrap",(g,p,v)=>{o.wrapped=!0,o.flipped=v});function c(){o.wrapped=!1,o.flipped=!1,t.deselectCell(),t.unlisten()}const h={keys:[["Tab"],["Shift","Tab"]],preventDefault:!1,stopPropagation:!1,relativeToGroup:kj,group:"focusCatcher"};t.getShortcutManager().getContext("grid").addShortcuts([{...h,callback:()=>{const{tabNavigation:g}=t.getSettings();a=!0,t.getSelectedRangeLast()&&!g&&(s=!1),g||(u=!0)},position:"before"},{...h,callback:g=>{const{tabNavigation:p,autoWrapRow:v}=t.getSettings();if(a=!1,s=!0,!p||!t.selection.isSelected()||v&&o.wrapped&&o.flipped||!v&&o.wrapped)return v&&o.wrapped&&o.flipped&&(n=g.shiftKey?lx(t):ux(t)),c(),!1;g.preventDefault()},position:"after"}])}function lx(t){const{rowIndexMapper:e,columnIndexMapper:n}=t,{navigableHeaders:r}=t.getSettings();let i=r&&t.countColHeaders()>0?-t.countColHeaders():0,o=r&&t.countRowHeaders()>0?-t.countRowHeaders():0;return i===0&&(i=e.getVisualFromRenderableIndex(i)),o===0&&(o=n.getVisualFromRenderableIndex(o)),i===null||o===null?null:t._createCellCoords(i,o)}function ux(t){var e,n;const{rowIndexMapper:r,columnIndexMapper:i}=t,{navigableHeaders:o}=t.getSettings();let s=r.getRenderableIndexesLength()-1,a=i.getRenderableIndexesLength()-1;if(s<0){if(!o||t.countColHeaders()===0)return null;s=-1}if(a<0){if(!o||t.countColHeaders()===0)return null;a=-1}return t._createCellCoords((e=r.getVisualFromRenderableIndex(s))!==null&&e!==void 0?e:s,(n=i.getVisualFromRenderableIndex(a))!==null&&n!==void 0?n:a)}function wve(t){return e=>{if(!e)return null;const n=lx(t),r=ux(t);return e.col<n.col&&(e.col=n.col),e.col>r.col&&(e.col=r.col),e.row<n.row&&(e.row=n.row),e.row>r.row&&(e.row=r.row),e}}function Cve(t){return e=>{let{col:n}=e;t.scrollViewportTo({col:n})}}function yve(){return()=>{}}function bve(t){return e=>{t.scrollViewportTo(e.toObject())}}function Sve(t){return e=>{t.scrollViewportTo(e.toObject())}}function Rve(t){return e=>{t.scrollViewportTo(e.toObject())}}function Eve(t){return e=>{let{row:n}=e;t.scrollViewportTo({row:n})}}function _ve(t){return e=>{const n=t.selection.getSelectionSource(),{row:r,col:i}=e;if(r<0&&i>=0)t.scrollViewportTo({col:i});else if(i<0&&r>=0)t.scrollViewportTo({row:r});else{if(n==="mouse"&&(i===t.view.getLastPartiallyVisibleColumn()||r===t.view.getLastPartiallyVisibleRow()))return;t.scrollViewportTo({row:r,col:i})}}}function Mve(t){const{selection:e}=t;let n=!1,r=!1;return{resume(){r=!1},suspend(){r=!0},skipNextScrollCycle(){n=!0},scrollTo(i){var o;if(n||r){n=!1;return}let s;e.isFocusSelectionChanged()?s=bve(t):e.isSelectedByCorner()?s=yve():e.isSelectedByRowHeader()?s=Eve(t):e.isSelectedByColumnHeader()?s=Cve(t):e.getSelectedRange().size()===1&&e.isMultiple()?s=Sve(t):e.getSelectedRange().size()===1&&!e.isMultiple()?s=_ve(t):e.getSelectedRange().size()>1&&(s=Rve(t)),(o=s)===null||o===void 0||o(i)}}}const mL=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),Ry=t=>t.map(e=>{const n=e.toLowerCase();return mL.has(n)?mL.get(n):n}).sort().join("+"),Tve=t=>t.split("+"),pL=new Map([[96,"numpad0"],[97,"numpad1"],[98,"numpad2"],[99,"numpad3"],[100,"numpad4"],[101,"numpad5"],[102,"numpad6"],[103,"numpad7"],[104,"numpad8"],[105,"numpad9"],[106,"multiply"],[107,"add"],[108,"decimal"],[109,"subtract"],[110,"decimal"],[111,"divide"],[112,"f1"],[113,"f2"],[114,"f3"],[115,"f4"],[116,"f5"],[117,"f6"],[118,"f7"],[119,"f8"],[120,"f9"],[121,"f10"],[122,"f11"],[123,"f12"],[186,"semicolon"],[187,"equal"],[188,"comma"],[189,"minus"],[190,"period"],[191,"slash"],[192,"backquote"],[219,"bracketleft"],[220,"backslash"],[221,"bracketright"],[222,"quote"]]),q1=t=>{let{which:e,key:n}=t;if(pL.has(e))return pL.get(e);const r=String.fromCharCode(e).toLowerCase();return/^[a-z0-9]$/.test(r)?r:n.toLowerCase()},Wj=Symbol("shortcut-context");function Bj(t){return dn(t)&&t.__kindOf===Wj}const xve=t=>{const e=Y0({errorIdExists:u=>`The "${u}" shortcut is already registered in the "${t}" context.`}),n=function(){let{keys:u,callback:c,group:h,runOnlyIf:g=()=>!0,captureCtrl:p=!1,preventDefault:v=!0,stopPropagation:y=!1,relativeToGroup:R,position:S,forwardToContext:T}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Sr(h))throw new Error("You need to define the shortcut's group.");if(br(c)===!1)throw new Error("The shortcut's callback needs to be a function.");if(Array.isArray(u)===!1)throw new Error(tr`Pass the shortcut\'s keys as an array of arrays,\x20
      using the KeyboardEvent.key properties:\x20
      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values.`);const x={callback:c,group:h,runOnlyIf:g,captureCtrl:p,preventDefault:v,stopPropagation:y};Ct(R)&&(x.relativeToGroup=R,x.position=S),Bj(T)&&(x.forwardToContext=T),u.forEach(O=>{const A=Ry(O);if(e.hasItem(A)){const L=e.getItem(A);let F=L.findIndex(j=>j.group===R);F!==-1?S==="before"?F-=1:F+=1:F=L.length,L.splice(F,0,x)}else e.addItem(A,[x])})},r=function(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u.forEach(h=>{hn(c,(g,p)=>{Object.prototype.hasOwnProperty.call(h,p)===!1&&(h[p]=c[p])}),n(h)})},i=u=>{const c=Ry(u);e.removeItem(c)};return{__kindOf:Wj,addShortcut:n,addShortcuts:r,getShortcuts:u=>{const c=Ry(u),h=e.getItem(c);return Ct(h)?h.slice():[]},hasShortcut:u=>{const c=Ry(u);return e.hasItem(c)},removeShortcutsByKeys:i,removeShortcutsByGroup:u=>{e.getItems().forEach(h=>{let[g,p]=h;const v=p.filter(y=>y.group!==u);v.length===0?i(Tve(g)):(p.length=0,p.push(...v))})}}};function Ive(){const t=new Set;return{press(e){t.add(e)},release(e){t.delete(e)},releaseAll(){t.clear()},isPressed(e){return t.has(e)}}}const Ove=["meta","alt","shift","control"],lp=Ive(),up=[];let Ey=0;function Pve(t,e,n,r,i){const o=v=>Ove.includes(v),s=function(v){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const R=[];return v.altKey&&R.push("alt"),y&&(v.ctrlKey||v.metaKey)?R.push("control/meta"):(v.ctrlKey&&R.push("control"),v.metaKey&&R.push("meta")),v.shiftKey&&R.push("shift"),R},a=v=>{if(e(v)===!1)return;const y=n(v);if(v.keyCode===229||y===!1||uh(v))return;const R=q1(v);let S=[];o(R)||(S=s(v));const T=[R].concat(S);!i(v,T)&&(KT()&&S.includes("meta")||!KT()&&S.includes("control"))&&i(v,[R].concat(s(v,!0))),r(v)},u=v=>{if(v.key){const y=q1(v);o(y)&&lp.press(y)}},c=v=>{if(v.key){const y=q1(v);o(y)&&lp.release(y)}},h=()=>{lp.releaseAll()};return{mount:()=>{let v=t;for(Ey+=1;v;)Ey===1&&(v.document.documentElement.addEventListener("keydown",u),up.push({event:"keydown",listener:u}),v.document.documentElement.addEventListener("keyup",c),up.push({event:"keyup",listener:c})),v.document.documentElement.addEventListener("keydown",a),v.document.documentElement.addEventListener("blur",h),v=Ig(v)},unmount:()=>{let v=t;for(Ey-=1;v;){if(Ey===0){for(let y=0;y<up.length;y++){const{event:R,listener:S}=up[y];v.document.documentElement.removeEventListener(R,S)}up.length=0}v.document.documentElement.removeEventListener("keydown",a),v.document.documentElement.removeEventListener("blur",h),v=Ig(v)}},isPressed:v=>lp.isPressed(v),releasePressedKeys:()=>lp.releaseAll()}}const Ave=t=>{let{ownerWindow:e,handleEvent:n,beforeKeyDown:r,afterKeyDown:i}=t;const o=Y0({errorIdExists:y=>`The "${y}" context name is already registered.`});let s="grid";const a=y=>{const R=xve(y);return o.addItem(y,R),R},u=()=>s,c=y=>o.getItem(y),h=y=>{if(!o.hasItem(y))throw new Error(tr`You've tried to activate the "${y}" shortcut context\x20
        that does not exist. Before activation, register the context using the "addContext" method.`);s=y};let g=!1;const p=function(y,R){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u();const T=Bj(S)?S:c(S);let x=!1;if(!T.hasShortcut(R))return x;const O=T.getShortcuts(R);for(let A=0;A<O.length;A++){const{callback:H,runOnlyIf:L,preventDefault:F,stopPropagation:j,captureCtrl:z,forwardToContext:Y}=O[A];if(L(y)===!0){if(g=z,x=H(y,R)===!1,g=!1,F&&y.preventDefault(),j&&($a(y),y.stopPropagation()),x)break;Y&&p(y,R,Y)}}return x},v=Pve(e,n,r,i,p);return v.mount(),{addContext:a,getActiveContextName:u,getContext:c,setActiveContextName:h,isCtrlPressed:()=>!g&&(v.isPressed("control")||v.isPressed("meta")),releasePressedKeys:()=>v.releasePressedKeys(),destroy:()=>v.unmount()}};let X1=null;const Z1=new Map;function jj(t,e){var n,r=this;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=this;const s=new Pa(o);let a,u,c,h,g,p,v=!0;pge(i)&&mge(this),this.rootElement=t,this.rootDocument=t.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;const y=(n=e==null?void 0:e.layoutDirection)!==null&&n!==void 0?n:"inherit",R=["rtl","ltr"].includes(y)?y:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",R),this.isRtl=function(){return R==="rtl"},this.isLtr=function(){return!o.isRtl()},this.getDirectionFactor=function(){return o.isLtr()?1:-1},e.language=ume(e.language);const S=new Lj(o,e,[cpe,vpe]),T=S.getTableMeta(),x=S.getGlobalMeta(),O=Y0();this.container=this.rootDocument.createElement("div"),this.renderCall=!1,t.insertBefore(this.container,t.firstChild),Ab(this)&&Mle(e.licenseKey,t),this.guid=`ht_${iB()}`,Z1.set(this.guid,this),this.columnIndexMapper=new ox,this.rowIndexMapper=new ox,this.columnIndexMapper.addLocalHook("indexesSequenceChange",C=>{o.runHooks("afterColumnSequenceChange",C)}),this.rowIndexMapper.addLocalHook("indexesSequenceChange",C=>{o.runHooks("afterRowSequenceChange",C)}),u=new xge(o),(!this.rootElement.id||this.rootElement.id.substring(0,3)==="ht_")&&(this.rootElement.id=this.guid);const A=C=>{const{row:E,col:I}=C;return o._createCellCoords(E>=0?o.rowIndexMapper.getRenderableFromVisualIndex(E):E,I>=0?o.columnIndexMapper.getRenderableFromVisualIndex(I):I)},H=C=>{const{row:E,col:I}=C;return o._createCellCoords(E>=0?o.rowIndexMapper.getVisualFromRenderableIndex(E):E,I>=0?o.columnIndexMapper.getVisualFromRenderableIndex(I):I)},L=(C,E)=>{const I=E>C?1:-1,$=Math.min(C,E),N=Math.max(C,E),Z=o.rowIndexMapper.getNearestNotHiddenIndex(C,I);return Z===null||I===1&&Z>N||I===-1&&Z<$?null:Z>=0?o.rowIndexMapper.getRenderableFromVisualIndex(Z):Z},F=(C,E)=>{const I=E>C?1:-1,$=Math.min(C,E),N=Math.max(C,E),Z=o.columnIndexMapper.getNearestNotHiddenIndex(C,I);return Z===null||I===1&&Z>N||I===-1&&Z<$?null:Z>=0?o.columnIndexMapper.getRenderableFromVisualIndex(Z):Z};let j=new Dj(T,{rowIndexMapper:o.rowIndexMapper,columnIndexMapper:o.columnIndexMapper,countCols:()=>o.countCols(),countRows:()=>o.countRows(),propToCol:C=>a.propToCol(C),isEditorOpened:()=>o.getActiveEditor()?o.getActiveEditor().isOpened():!1,countRenderableColumns:()=>this.view.countRenderableColumns(),countRenderableRows:()=>this.view.countRenderableRows(),countRowHeaders:()=>this.countRowHeaders(),countColHeaders:()=>this.countColHeaders(),countRenderableRowsInRange:function(){return r.view.countRenderableRowsInRange(...arguments)},countRenderableColumnsInRange:function(){return r.view.countRenderableColumnsInRange(...arguments)},getShortcutManager:()=>o.getShortcutManager(),createCellCoords:(C,E)=>o._createCellCoords(C,E),createCellRange:(C,E,I)=>o._createCellRange(C,E,I),visualToRenderableCoords:A,renderableToVisualCoords:H,findFirstNonHiddenRenderableRow:L,findFirstNonHiddenRenderableColumn:F,isDisabledCellSelection:(C,E)=>C<0||E<0?o.getSettings().disableVisualSelection:o.getCellMeta(C,E).disableVisualSelection});this.selection=j;const z=C=>{let{hiddenIndexesChanged:E}=C;E&&this.selection.commit()};this.columnIndexMapper.addLocalHook("cacheUpdated",z),this.rowIndexMapper.addLocalHook("cacheUpdated",z),this.selection.addLocalHook("afterSetRangeEnd",(C,E)=>{const I=_a(!1),$=this.selection.getSelectedRange(),{from:N,to:Z}=$.current(),ue=$.size()-1;this.runHooks("afterSelection",N.row,N.col,Z.row,Z.col,I,ue),this.runHooks("afterSelectionByProp",N.row,o.colToProp(N.col),Z.row,o.colToProp(Z.col),I,ue),E&&(!I.isTouched()||I.isTouched()&&!I.value)&&p.scrollTo(C);const me=j.isSelectedByRowHeader(),Me=j.isSelectedByColumnHeader();me&&Me?Qe(this.rootElement,["ht__selection--rows","ht__selection--columns"]):me?(Zt(this.rootElement,"ht__selection--columns"),Qe(this.rootElement,"ht__selection--rows")):Me?(Zt(this.rootElement,"ht__selection--rows"),Qe(this.rootElement,"ht__selection--columns")):Zt(this.rootElement,["ht__selection--rows","ht__selection--columns"]),j.getSelectionSource()!=="shift"&&h.closeEditor(null),o.view.render(),h.prepareEditor()}),this.selection.addLocalHook("beforeSetFocus",C=>{this.runHooks("beforeSelectionFocusSet",C.row,C.col)}),this.selection.addLocalHook("afterSetFocus",C=>{const E=_a(!1);this.runHooks("afterSelectionFocusSet",C.row,C.col,E),(!E.isTouched()||E.isTouched()&&!E.value)&&p.scrollTo(C),h.closeEditor(),o.view.render(),h.prepareEditor()}),this.selection.addLocalHook("afterSelectionFinished",C=>{const E=C.length-1,{from:I,to:$}=C[E];this.runHooks("afterSelectionEnd",I.row,I.col,$.row,$.col,E),this.runHooks("afterSelectionEndByProp",I.row,o.colToProp(I.col),$.row,o.colToProp($.col),E)}),this.selection.addLocalHook("afterIsMultipleSelection",C=>{const E=this.runHooks("afterIsMultipleSelection",C.value);C.value&&(C.value=E)}),this.selection.addLocalHook("afterDeselect",()=>{h.closeEditor(),o.view.render(),Zt(this.rootElement,["ht__selection--rows","ht__selection--columns"]),this.runHooks("afterDeselect")}),this.selection.addLocalHook("beforeHighlightSet",()=>this.runHooks("beforeSelectionHighlightSet")).addLocalHook("beforeSetRangeStart",function(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return r.runHooks("beforeSetRangeStart",...E)}).addLocalHook("beforeSetRangeStartOnly",function(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return r.runHooks("beforeSetRangeStartOnly",...E)}).addLocalHook("beforeSetRangeEnd",function(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return r.runHooks("beforeSetRangeEnd",...E)}).addLocalHook("beforeSelectColumns",function(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return r.runHooks("beforeSelectColumns",...E)}).addLocalHook("afterSelectColumns",function(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return r.runHooks("afterSelectColumns",...E)}).addLocalHook("beforeSelectRows",function(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return r.runHooks("beforeSelectRows",...E)}).addLocalHook("afterSelectRows",function(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return r.runHooks("afterSelectRows",...E)}).addLocalHook("beforeModifyTransformStart",function(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return r.runHooks("modifyTransformStart",...E)}).addLocalHook("afterModifyTransformStart",function(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return r.runHooks("afterModifyTransformStart",...E)}).addLocalHook("beforeModifyTransformFocus",function(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return r.runHooks("modifyTransformFocus",...E)}).addLocalHook("afterModifyTransformFocus",function(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return r.runHooks("afterModifyTransformFocus",...E)}).addLocalHook("beforeModifyTransformEnd",function(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return r.runHooks("modifyTransformEnd",...E)}).addLocalHook("afterModifyTransformEnd",function(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return r.runHooks("afterModifyTransformEnd",...E)}).addLocalHook("beforeRowWrap",function(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return r.runHooks("beforeRowWrap",...E)}).addLocalHook("beforeColumnWrap",function(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return r.runHooks("beforeColumnWrap",...E)}).addLocalHook("insertRowRequire",C=>this.alter("insert_row_above",C,1,"auto")).addLocalHook("insertColRequire",C=>this.alter("insert_col_start",C,1,"auto")),c={alter(C,E){var I,$;let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,Z=arguments.length>3?arguments[3]:void 0,ue=arguments.length>4?arguments[4]:void 0;const me=Me=>{if(Me.length===0)return[];const be=[...Me];return be.sort((Ee,_e)=>{let[ee]=Ee,[De]=_e;return ee===De?0:ee>De?1:-1}),Eo(be,(Ee,_e)=>{let[ee,De]=_e;const Ae=Ee[Ee.length-1],[Pe,Be]=Ae,je=Pe+Be;if(ee<=je){const k=Math.max(De-(je-ee),0);Ae[1]+=k}else Ee.push([ee,De]);return Ee},[be[0]])};switch(C){case"insert_row_below":case"insert_row_above":const Me=o.countSourceRows();if(T.maxRows===Me)return;const be=C==="insert_row_below"?"below":"above";E=(I=E)!==null&&I!==void 0?I:be==="below"?Me:0;const{delta:le,startPhysicalIndex:Ee}=a.createRow(E,N,{source:Z,mode:be});j.shiftRows(o.toVisualRow(Ee),le);break;case"insert_col_start":case"insert_col_end":const _e=C==="insert_col_end"?"end":"start";E=($=E)!==null&&$!==void 0?$:_e==="end"?o.countSourceCols():0;const{delta:ee,startPhysicalIndex:De}=a.createCol(E,N,{source:Z,mode:_e});if(ee){if(Array.isArray(T.colHeaders)){const Be=[o.toVisualColumn(De),0];Be.length+=ee,Array.prototype.splice.apply(T.colHeaders,Be)}j.shiftColumns(o.toVisualColumn(De),ee)}break;case"remove_row":const Ae=Be=>{let je=0;ye(Be,k=>{let[V,q]=k;const fe=ei(V)?o.countRows()-1:Math.max(V-je,0);if(Number.isInteger(V)&&(V=Math.max(V-je,0)),!a.removeRow(V,q,Z))return;if(j.isSelected()){const{row:ve}=o.getSelectedRangeLast().highlight;ve>=V&&ve<=V+q-1&&h.closeEditor(!0)}const we=o.countRows();we===0?j.deselect():Z==="ContextMenu.removeRow"?j.refresh():j.shiftRows(V,-q);const ce=T.fixedRowsTop;ce>=fe+1&&(T.fixedRowsTop-=Math.min(q,ce-fe));const ie=T.fixedRowsBottom;ie&&fe>=we-ie&&(T.fixedRowsBottom-=Math.min(q,ie)),je+=q})};Array.isArray(E)?Ae(me(E)):Ae([[E,N]]);break;case"remove_col":const Pe=Be=>{let je=0;ye(Be,k=>{let[V,q]=k;const fe=ei(V)?o.countCols()-1:Math.max(V-je,0);let Q=o.toPhysicalColumn(fe);if(Number.isInteger(V)&&(V=Math.max(V-je,0)),!a.removeCol(V,q,Z))return;if(j.isSelected()){const{col:ve}=o.getSelectedRangeLast().highlight;ve>=V&&ve<=V+q-1&&h.closeEditor(!0)}o.countCols()===0?j.deselect():Z==="ContextMenu.removeColumn"?j.refresh():j.shiftColumns(V,-q);const ie=T.fixedColumnsStart;ie>=fe+1&&(T.fixedColumnsStart-=Math.min(q,ie-fe)),Array.isArray(T.colHeaders)&&(typeof Q>"u"&&(Q=-1),T.colHeaders.splice(Q,q)),je+=q})};Array.isArray(E)?Pe(me(E)):Pe([[E,N]]);break;default:throw new Error(`There is no such action "${C}"`)}o.view.render(),ue||c.adjustRowsAndCols()},adjustRowsAndCols(){const C=T.minRows,E=T.minSpareRows,I=T.minCols,$=T.minSpareCols;if(C){const N=o.countRows();N<C&&a.createRow(N,C-N,{source:"auto"})}if(E){const N=o.countEmptyRows(!0);if(N<E){const Z=E-N,ue=Math.min(Z,T.maxRows-o.countSourceRows());a.createRow(o.countRows(),ue,{source:"auto"})}}{let N;(I||$)&&(N=o.countEmptyCols(!0));let Z=o.countCols();if(I&&!T.columns&&Z<I){const ue=I-Z;N+=ue,a.createCol(Z,ue,{source:"auto"})}if($&&!T.columns&&o.dataType==="array"&&N<$){Z=o.countCols();const ue=$-N,me=Math.min(ue,T.maxCols-Z);a.createCol(Z,me,{source:"auto"})}}o.view&&o.view.adjustElementsSize()},populateFromArray(C,E,I,$,N){let Z,ue,me,Me;const be=[],le={},Ee=[],_e=C.row,ee=C.col;if(ue=E.length,ue===0)return!1;let De=0,Ae=0;switch(dn(I)&&(De=I.col-ee+1,Ae=I.row-_e+1),N){case"shift_down":const Pe=Ib(E),Be=Pe.length,je=Math.max(Be,De),k=o.getData().slice(_e),V=Ib(k).slice(ee,ee+je);for(me=0;me<je;me+=1)if(me<Be){for(Z=0,ue=Pe[me].length;Z<Ae-ue;Z+=1)Pe[me].push(Pe[me][Z%ue]);me<V.length?Ee.push(Pe[me].concat(V[me])):Ee.push(Pe[me].concat(new Array(k.length).fill(null)))}else Ee.push(Pe[me%Be].concat(V[me]));o.populateFromArray(_e,ee,Ib(Ee));break;case"shift_right":const q=E.length,fe=Math.max(q,Ae),Q=o.getData().slice(_e).map(Fe=>Fe.slice(ee));for(Z=0;Z<fe;Z+=1)if(Z<q){for(me=0,Me=E[Z].length;me<De-Me;me+=1)E[Z].push(E[Z][me%Me]);if(Z<Q.length)for(let Fe=0;Fe<Q[Z].length;Fe+=1)E[Z].push(Q[Z][Fe]);else E[Z].push(...new Array(Q[0].length).fill(null))}else E.push(E[Z%ue].slice(0,fe).concat(Q[Z]));o.populateFromArray(_e,ee,E);break;case"overwrite":default:le.row=C.row,le.col=C.col;let we=0,ce=0,ie=!0,ve;const pe=function(Ie){let xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const ze=E[Ie%E.length];return xe!==null?ze[xe%ze.length]:ze},ge=E.length,$e=I?I.row-C.row+1:0;for(I?ue=$e:ue=Math.max(ge,$e),Z=0;Z<ue&&!(I&&le.row>I.row&&$e>ge||!T.allowInsertRow&&le.row>o.countRows()-1||le.row>=T.maxRows);Z++){const Fe=Z-we,Ie=pe(Fe).length,xe=I?I.col-C.col+1:0;if(I?Me=xe:Me=Math.max(Ie,xe),le.col=C.col,ve=o.getCellMeta(le.row,le.col),($==="CopyPaste.paste"||$==="Autofill.fill")&&ve.skipRowOnPaste){we+=1,le.row+=1,ue+=1;continue}for(ce=0,me=0;me<Me&&!(I&&le.col>I.col&&xe>Ie||!T.allowInsertColumn&&le.col>o.countCols()-1||le.col>=T.maxCols);me++){if(ve=o.getCellMeta(le.row,le.col),($==="CopyPaste.paste"||$==="Autofill.fill")&&ve.skipColumnOnPaste){ce+=1,le.col+=1,Me+=1;continue}if(ve.readOnly&&$!=="UndoRedo.undo"){le.col+=1;continue}const ze=me-ce;let Ge=pe(Fe,ze),Oe=o.getDataAtCell(le.row,le.col);if(Ge!==null&&typeof Ge=="object")if(Array.isArray(Ge)&&Oe===null&&(Oe=[]),Oe===null||typeof Oe!="object")ie=!1;else{const Ye=Mv(Array.isArray(Oe)?Oe:Oe[0]||Oe),wt=Mv(Array.isArray(Ge)?Ge:Ge[0]||Ge);nO(Ye,wt)||Array.isArray(Ye)&&Array.isArray(wt)?Ge=Ro(Ge):ie=!1}else Oe!==null&&typeof Oe=="object"&&(ie=!1);ie&&be.push([le.row,le.col,Ge]),ie=!0,le.col+=1}le.row+=1}o.setDataAtCell(be,null,null,$||"populateFromArray");break}}};function Y(C){const E=Sj(C);XP(E)?(o.runHooks("beforeLanguageChange",E),x.language=E,o.runHooks("afterLanguageChange",E)):Rj(C)}function K(C,E){const I=C==="className"?o.rootElement:o.table;if(v)Qe(I,E);else{let $=[],N=[];x[C]&&($=Array.isArray(x[C])?x[C]:KN(x[C])),E&&(N=Array.isArray(E)?E:KN(E));const Z=GN($,N),ue=GN(N,$);Z.length&&Zt(I,Z),ue.length&&Qe(I,ue)}x[C]=E}this.init=function(){u.setData(T.data),o.runHooks("beforeInit"),(Oc()||HB())&&Qe(o.rootElement,"mobile"),this.updateSettings(T,!0),this.view=new yge(this),h=tx.getInstance(o,T,j),p=Mve(o),g=new _ce(o),Ab(this)&&vve(o),o.runHooks("init"),this.forceFullRender=!0,this.view.render(),v&&o.rootElement.offsetParent===null&&lue(o.rootElement,()=>{o.view._wt.wtOverlays.updateLastSpreaderSize(),o.render(),o.view.adjustElementsSize()}),typeof v=="object"&&(o.runHooks("afterChange",v[0],v[1]),v=!1),o.runHooks("afterInit")};function X(){let C=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue(){this.validatorsInQueue+=1,C=!1},removeValidatorFormQueue(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty(){},checkIfQueueIsEmpty(){this.validatorsInQueue===0&&C===!1&&(C=!0,this.onQueueEmpty(this.valid))}}}function se(C){const E=C.replace(",",".");return isNaN(parseFloat(E))===!1?parseFloat(E):C}function ne(C,E,I){if(!C.length){I();return}const $=o.getActiveEditor(),N=new X;let Z=!0;N.onQueueEmpty=()=>{$&&Z&&$.cancelChanges(),I()};for(let ue=C.length-1;ue>=0;ue--){const[me,Me,,be]=C[ue],le=a.propToCol(Me);let Ee;Number.isInteger(le)?Ee=o.getCellMeta(me,le):Ee={...Object.getPrototypeOf(T),...T},Ee.type==="numeric"&&typeof be=="string"&&ade(be)&&(C[ue][3]=se(be)),o.getCellValidator(Ee)&&(N.addValidatorToQueue(),o.validateCell(C[ue][3],Ee,function(_e,ee){return function(De){if(typeof De!="boolean")throw new Error("Validation error: result is not boolean");De===!1&&ee.allowInvalid===!1&&(Z=!1,C.splice(_e,1),ee.valid=!0),N.removeValidatorFormQueue()}}(ue,Ee),E))}N.checkIfQueueIsEmpty()}function J(C,E){for(let $=C.length-1;$>=0;$--){let N=!1;if(C[$]===null){C.splice($,1);continue}if(!((C[$][2]===null||C[$][2]===void 0)&&(C[$][3]===null||C[$][3]===void 0))){if(T.allowInsertRow)for(;C[$][0]>o.countRows()-1;){const{delta:Z}=a.createRow(void 0,void 0,{source:E});if(Z===0){N=!0;break}}if(o.dataType==="array"&&(!T.columns||T.columns.length===0)&&T.allowInsertColumn)for(;a.propToCol(C[$][1])>o.countCols()-1;){const{delta:Z}=a.createCol(void 0,void 0,{source:E});if(Z===0){N=!0;break}}N||a.set(C[$][0],C[$][1],C[$][3])}}const I=C.length>0;if(o.forceFullRender=!0,I){c.adjustRowsAndCols(),o.runHooks("beforeChangeRender",C,E),h.closeEditor(),o.view.render(),h.prepareEditor(),o.view.adjustElementsSize(),o.runHooks("afterChange",C,E||"edit");const $=o.getActiveEditor();$&&Ct($.refreshValue)&&$.refreshValue()}else o.view.render()}this._createCellCoords=function(C,E){return o.view._wt.createCellCoords(C,E)},this._createCellRange=function(C,E,I){return o.view._wt.createCellRange(C,E,I)},this.validateCell=function(C,E,I,$){let N=o.getCellValidator(E);function Z(ue){if(!(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)||E.hidden===!0){I(ue);return}const Me=E.visualCol,be=E.visualRow,le=o.getCell(be,Me,!0);if(le&&le.nodeName!=="TH"){const Ee=o.rowIndexMapper.getRenderableFromVisualIndex(be),_e=o.columnIndexMapper.getRenderableFromVisualIndex(Me);o.view._wt.getSetting("cellRenderer",Ee,_e,le)}I(ue)}Rle(N)&&(N=function(ue){return function(me,Me){Me(ue.test(me))}}(N)),br(N)?(C=o.runHooks("beforeValidate",C,E.visualRow,E.prop,$),o._registerImmediate(()=>{N.call(E,C,ue=>{o&&(ue=o.runHooks("afterValidate",ue,C,E.visualRow,E.prop,$),E.valid=ue,Z(ue),o.runHooks("postAfterValidate",ue,C,E.visualRow,E.prop,$))})})):o._registerImmediate(()=>{E.valid=!0,Z(E.valid,!1)})};function re(C,E,I){return Array.isArray(C)?C:[[C,E,I]]}function ae(C,E){const I=o.getActiveEditor(),$=o.runHooks("beforeChange",C,E||"edit"),N=C.filter(Z=>Z!==null);return $===!1||N.length===0?(I&&I.cancelChanges(),[]):N}this.setDataAtCell=function(C,E,I,$){const N=re(C,E,I),Z=[];let ue=$,me,Me,be;for(me=0,Me=N.length;me<Me;me++){if(typeof N[me]!="object")throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if(typeof N[me][1]!="number")throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");N[me][1]>=this.countCols()?be=N[me][1]:be=a.colToProp(N[me][1]),Z.push([N[me][0],be,u.getAtCell(this.toPhysicalRow(N[me][0]),N[me][1]),N[me][2]])}!ue&&typeof C=="object"&&(ue=E);const le=ae(Z,$);o.runHooks("afterSetDataAtCell",le,ue),ne(le,ue,()=>{J(le,ue)})},this.setDataAtRowProp=function(C,E,I,$){const N=re(C,E,I),Z=[];let ue=$,me,Me;for(me=0,Me=N.length;me<Me;me++)Z.push([N[me][0],N[me][1],u.getAtCell(this.toPhysicalRow(N[me][0]),N[me][1]),N[me][2]]);!ue&&typeof C=="object"&&(ue=E);const be=ae(Z,$);o.runHooks("afterSetDataAtRowProp",be,ue),ne(be,ue,()=>{J(be,ue)})},this.listen=function(){o&&!o.isListening()&&(Z1.forEach(C=>{o!==C&&C.unlisten()}),X1=o.guid,o.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(X1=null,o.runHooks("afterUnlisten"))},this.isListening=function(){return X1===o.guid},this.destroyEditor=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;h.closeEditor(C),o.view.render(),E&&j.isSelected()&&h.prepareEditor()},this.populateFromArray=function(C,E,I,$,N,Z,ue){if(!(typeof I=="object"&&typeof I[0]=="object"))throw new Error("populateFromArray parameter `input` must be an array of arrays");const me=typeof $=="number"?o._createCellCoords($,N):null;return c.populateFromArray(o._createCellCoords(C,E),I,me,Z,ue)},this.spliceCol=function(C,E,I){for(var $=arguments.length,N=new Array($>3?$-3:0),Z=3;Z<$;Z++)N[Z-3]=arguments[Z];return a.spliceCol(C,E,I,...N)},this.spliceRow=function(C,E,I){for(var $=arguments.length,N=new Array($>3?$-3:0),Z=3;Z<$;Z++)N[Z-3]=arguments[Z];return a.spliceRow(C,E,I,...N)},this.getSelected=function(){if(j.isSelected())return _n(j.getSelectedRange(),C=>{let{from:E,to:I}=C;return[E.row,E.col,I.row,I.col]})},this.getSelectedLast=function(){const C=this.getSelected();let E;return C&&C.length>0&&(E=C[C.length-1]),E},this.getSelectedRange=function(){if(j.isSelected())return Array.from(j.getSelectedRange())},this.getSelectedRangeLast=function(){const C=this.getSelectedRange();let E;return C&&C.length>0&&(E=C[C.length-1]),E},this.emptySelectedCells=function(C){if(!j.isSelected()||this.countRows()===0||this.countCols()===0)return;const E=[];ye(j.getSelectedRange(),I=>{if(I.isSingleHeader())return;const $=I.getTopStartCorner(),N=I.getBottomEndCorner();Mt($.row,N.row,Z=>{Mt($.col,N.col,ue=>{this.getCellMeta(Z,ue).readOnly||E.push([Z,ue,null])})})}),E.length>0&&this.setDataAtCell(E,C)},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){const C=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(C,0),!this.isRenderSuspended()&&C===this.renderSuspendedCounter&&(this.renderCall?this.render():o.view.render())},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||o.view.render())},this.batchRender=function(C){this.suspendRender();const E=C();return this.resumeRender(),E},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const E=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(E,0),(!this.isExecutionSuspended()&&E===this.executionSuspendedCounter||C)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(C){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.suspendExecution();const I=C();return this.resumeExecution(E),I},this.batch=function(C){this.suspendRender(),this.suspendExecution();const E=C();return this.resumeExecution(),this.resumeRender(),E},this.refreshDimensions=function(){if(!o.view)return;const{width:C,height:E}=o.view.getLastSize(),{width:I,height:$}=o.rootElement.getBoundingClientRect(),N=I!==C||$!==E;o.runHooks("beforeRefreshDimensions",{width:C,height:E},{width:I,height:$},N)!==!1&&((N||o.view._wt.wtOverlays.scrollableElement===o.rootWindow)&&(o.view.setLastSize(I,$),o.render()),o.runHooks("afterRefreshDimensions",{width:C,height:E},{width:I,height:$},N))},this.updateData=function(C,E){dL(C,I=>{a=I},I=>{a=I,o.columnIndexMapper.fitToLength(this.getInitialColumnCount()),o.rowIndexMapper.fitToLength(this.countSourceRows()),c.adjustRowsAndCols(),j.refresh()},{hotInstance:o,dataMap:a,dataSource:u,internalSource:"updateData",source:E,metaManager:S,firstRun:v})},this.loadData=function(C,E){dL(C,I=>{a=I},()=>{S.clearCellsCache(),o.initIndexMappers(),c.adjustRowsAndCols(),j.refresh(),v&&(v=[null,"loadData"])},{hotInstance:o,dataMap:a,dataSource:u,internalSource:"loadData",source:E,metaManager:S,firstRun:v})},this.getInitialColumnCount=function(){const C=T.columns;let E=0;if(Array.isArray(C))E=C.length;else if(br(C))if(o.dataType==="array"){const I=this.countSourceCols();for(let $=0;$<I;$+=1)C($)&&(E+=1)}else(o.dataType==="object"||o.dataType==="function")&&(E=a.colToPropCache.length);else if(Ct(T.dataSchema)){const I=a.getSchema();E=Array.isArray(I)?I.length:rO(I)}else E=this.countSourceCols();return E},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(C,E,I,$){return Sr(C)?a.getAll():a.getRange(o._createCellCoords(C,E),o._createCellCoords(I,$),a.DESTINATION_RENDERER)},this.getCopyableText=function(C,E,I,$){return a.getCopyableText(o._createCellCoords(C,E),o._createCellCoords(I,$))},this.getCopyableData=function(C,E){return a.getCopyable(C,a.colToProp(E))},this.getSchema=function(){return a.getSchema()},this.updateSettings=function(C){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const I=(v?o.loadData:o.updateData).bind(this);let $=!1,N,Z;if(Ct(C.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(Ct(C.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(Ct(C.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for(N in C)N==="data"||(N==="language"?Y(C.language):N==="className"?K("className",C.className):N==="tableClassName"&&o.table?(K("tableClassName",C.tableClassName),o.view._wt.wtOverlays.syncOverlayTableClassNames()):mt.getSingleton().isRegistered(N)||mt.getSingleton().isDeprecated(N)?(br(C[N])||Array.isArray(C[N]))&&(C[N].initialHook=!0,o.addHook(N,C[N])):!E&&Yr(C,N)&&(x[N]=C[N]));C.data===void 0&&T.data===void 0?I(null,"updateSettings"):C.data!==void 0?I(C.data,"updateSettings"):C.columns!==void 0&&(a.createMap(),o.initIndexMappers());const ue=o.countCols(),me=T.columns;if(me&&br(me)&&($=!0),(C.cell!==void 0||C.cells!==void 0||C.columns!==void 0)&&S.clearCache(),ue>0)for(N=0,Z=0;N<ue;N++){if(me){const le=$?me(N):me[Z];le&&S.updateColumnMeta(Z,le)}Z+=1}Ct(C.cell)&&hn(C.cell,le=>{o.setCellMetaObject(le.row,le.col,le)}),o.runHooks("afterCellMetaReset");let Me=o.rootElement.style.height;Me!==""&&(Me=parseInt(o.rootElement.style.height,10));let be=C.height;if(br(be)&&(be=be()),E&&o.rootElement.getAttribute("style")&&o.rootElement.setAttribute("data-initialstyle",o.rootElement.getAttribute("style")),be===null){const le=o.rootElement.getAttribute("data-initialstyle");le&&(le.indexOf("height")>-1||le.indexOf("overflow")>-1)?o.rootElement.setAttribute("style",le):(o.rootElement.style.height="",o.rootElement.style.overflow="")}else be!==void 0&&(o.rootElement.style.height=isNaN(be)?`${be}`:`${be}px`,o.rootElement.style.overflow="hidden");if(typeof C.width<"u"){let le=C.width;br(le)&&(le=le()),o.rootElement.style.width=isNaN(le)?`${le}`:`${le}px`}E||(o.view&&(o.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),o.view._wt.exportSettingsAsClassNames()),o.runHooks("afterUpdateSettings",C)),c.adjustRowsAndCols(),o.view&&!v&&(o.forceFullRender=!0,o.view.render(),o.view._wt.wtOverlays.adjustElementsSize()),!E&&o.view&&(Me===""||be===""||be===void 0)&&Me!==be&&o.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){const C=o.getSelectedLast();if(T.getValue){if(br(T.getValue))return T.getValue.call(o);if(C)return o.getData()[C[0][0]][T.getValue]}else if(C)return o.getDataAtCell(C[0],C[1])},this.getSettings=function(){return T},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(C,E,I,$,N){c.alter(C,E,I,$,N)},this.getCell=function(C,E){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,$=E,N=C;if(E>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(E)))return null;$=this.columnIndexMapper.getRenderableFromVisualIndex(E)}if(C>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(C)))return null;N=this.rowIndexMapper.getRenderableFromVisualIndex(C)}return N===null||$===null||N===void 0||$===void 0?null:o.view.getCellAtCoords(o._createCellCoords(N,$),I)},this.getCoords=function(C){const E=this.view._wt.wtTable.getCoords(C);if(E===null)return null;const{row:I,col:$}=E;let N=I,Z=$;return I>=0&&(N=this.rowIndexMapper.getVisualFromRenderableIndex(I)),$>=0&&(Z=this.columnIndexMapper.getVisualFromRenderableIndex($)),o._createCellCoords(N,Z)},this.colToProp=function(C){return a.colToProp(C)},this.propToCol=function(C){return a.propToCol(C)},this.toVisualRow=C=>this.rowIndexMapper.getVisualFromPhysicalIndex(C),this.toVisualColumn=C=>this.columnIndexMapper.getVisualFromPhysicalIndex(C),this.toPhysicalRow=C=>this.rowIndexMapper.getPhysicalFromVisualIndex(C),this.toPhysicalColumn=C=>this.columnIndexMapper.getPhysicalFromVisualIndex(C),this.getDataAtCell=function(C,E){return a.get(C,a.colToProp(E))},this.getDataAtRowProp=function(C,E){return a.get(C,E)},this.getDataAtCol=function(C){const E=[],I=a.getRange(o._createCellCoords(0,C),o._createCellCoords(T.data.length-1,C),a.DESTINATION_RENDERER);for(let $=0;$<I.length;$+=1)for(let N=0;N<I[$].length;N+=1)E.push(I[$][N]);return E},this.getDataAtProp=function(C){const E=[],I=a.getRange(o._createCellCoords(0,a.propToCol(C)),o._createCellCoords(T.data.length-1,a.propToCol(C)),a.DESTINATION_RENDERER);for(let $=0;$<I.length;$+=1)for(let N=0;N<I[$].length;N+=1)E.push(I[$][N]);return E},this.getSourceData=function(C,E,I,$){let N;return C===void 0?N=u.getData():N=u.getByRange(o._createCellCoords(C,E),o._createCellCoords(I,$)),N},this.getSourceDataArray=function(C,E,I,$){let N;return C===void 0?N=u.getData(!0):N=u.getByRange(o._createCellCoords(C,E),o._createCellCoords(I,$),!0),N},this.getSourceDataAtCol=function(C){return u.getAtColumn(C)},this.setSourceDataAtCell=function(C,E,I,$){const N=re(C,E,I),Z=this.hasHook("afterSetSourceDataAtCell"),ue=[];Z&&ye(N,Me=>{let[be,le,Ee]=Me;ue.push([be,le,u.getAtCell(be,le),Ee])}),ye(N,Me=>{let[be,le,Ee]=Me;u.setAtCell(be,le,Ee)}),Z&&this.runHooks("afterSetSourceDataAtCell",ue,$),this.render();const me=o.getActiveEditor();me&&Ct(me.refreshValue)&&me.refreshValue()},this.getSourceDataAtRow=function(C){return u.getAtRow(C)},this.getSourceDataAtCell=function(C,E){return u.getAtCell(C,E)},this.getDataAtRow=function(C){return a.getRange(o._createCellCoords(C,0),o._createCellCoords(C,this.countCols()-1),a.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(C,E,I,$){const N=C===void 0?[0,0,this.countRows(),this.countCols()]:[C,E,I,$],[Z,ue]=N;let[,,me,Me]=N,be=null,le=null;me===void 0&&(me=Z),Me===void 0&&(Me=ue);let Ee="mixed";return Mt(Math.max(Math.min(Z,me),0),Math.max(Z,me),_e=>{let ee=!0;return Mt(Math.max(Math.min(ue,Me),0),Math.max(ue,Me),De=>(le=this.getCellMeta(_e,De).type,be?ee=be===le:be=le,ee)),Ee=ee?le:"mixed",ee}),Ee},this.removeCellMeta=function(C,E,I){const[$,N]=[this.toPhysicalRow(C),this.toPhysicalColumn(E)];let Z=S.getCellMetaKeyValue($,N,I);o.runHooks("beforeRemoveCellMeta",C,E,I,Z)!==!1&&(S.removeCellMeta($,N,I),o.runHooks("afterRemoveCellMeta",C,E,I,Z)),Z=null},this.spliceCellsMeta=function(C){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(var I=arguments.length,$=new Array(I>2?I-2:0),N=2;N<I;N++)$[N-2]=arguments[N];if($.length>0&&!Array.isArray($[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");E>0&&S.removeRow(this.toPhysicalRow(C),E),$.length>0&&ye($.reverse(),Z=>{S.createRow(this.toPhysicalRow(C)),ye(Z,(ue,me)=>this.setCellMetaObject(C,me,ue))}),o.render()},this.setCellMetaObject=function(C,E,I){typeof I=="object"&&hn(I,($,N)=>{this.setCellMeta(C,E,N,$)})},this.setCellMeta=function(C,E,I,$){if(o.runHooks("beforeSetCellMeta",C,E,I,$)===!1)return;let Z=C,ue=E;C<this.countRows()&&(Z=this.toPhysicalRow(C)),E<this.countCols()&&(ue=this.toPhysicalColumn(E)),S.setCellMeta(Z,ue,I,$),o.runHooks("afterSetCellMeta",C,E,I,$)},this.getCellsMeta=function(){return S.getCellsMeta()},this.getCellMeta=function(C,E){let I=this.toPhysicalRow(C),$=this.toPhysicalColumn(E);return I===null&&(I=C),$===null&&($=E),S.getCellMeta(I,$,{visualRow:C,visualColumn:E})},this.getColumnMeta=function(C){return S.getColumnMeta(this.toPhysicalColumn(C))},this.getCellMetaAtRow=function(C){return S.getCellsMetaAtRow(C)},this.isColumnModificationAllowed=function(){return!(o.dataType==="object"||T.columns)},this.getCellRenderer=function(C,E){const I=typeof C=="number"?o.getCellMeta(C,E).renderer:C.renderer;return typeof I=="string"?ix(I):Sr(I)?ix("text"):I},this.getCellEditor=function(C,E){const I=typeof C=="number"?o.getCellMeta(C,E).editor:C.editor;return typeof I=="string"?ex(I):Sr(I)?ex("text"):I},this.getCellValidator=function(C,E){const I=typeof C=="number"?o.getCellMeta(C,E).validator:C.validator;return typeof I=="string"?Ede(I):I},this.validateCells=function(C){this._validateCells(C)},this.validateRows=function(C,E){if(!Array.isArray(C))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(E,C)},this.validateColumns=function(C,E){if(!Array.isArray(C))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(E,void 0,C)},this._validateCells=function(C,E,I){const $=new X;C&&($.onQueueEmpty=C);let N=o.countRows()-1;for(;N>=0;){if(E!==void 0&&E.indexOf(N)===-1){N-=1;continue}let Z=o.countCols()-1;for(;Z>=0;){if(I!==void 0&&I.indexOf(Z)===-1){Z-=1;continue}$.addValidatorToQueue(),o.validateCell(o.getDataAtCell(N,Z),o.getCellMeta(N,Z),ue=>{if(typeof ue!="boolean")throw new Error("Validation error: result is not boolean");ue===!1&&($.valid=!1),$.removeValidatorFormQueue()},"validateCells"),Z-=1}N-=1}$.checkIfQueueIsEmpty()},this.getRowHeader=function(C){let E=T.rowHeaders,I=C;return I!==void 0&&(I=o.runHooks("modifyRowHeader",I)),I===void 0?(E=[],Mt(o.countRows()-1,$=>{E.push(o.getRowHeader($))})):Array.isArray(E)&&E[I]!==void 0?E=E[I]:br(E)?E=E(I):E&&typeof E!="string"&&typeof E!="number"&&(E=I+1),E},this.hasRowHeaders=function(){return!!T.rowHeaders},this.hasColHeaders=function(){if(T.colHeaders!==void 0&&T.colHeaders!==null)return!!T.colHeaders;for(let C=0,E=o.countCols();C<E;C++)if(o.getColHeader(C))return!0;return!1},this.getColHeader=function(C){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;const I=o.runHooks("modifyColHeader",C);if(I===void 0){const me=[],Me=o.countCols();for(let be=0;be<Me;be++)me.push(o.getColHeader(be));return me}let $=T.colHeaders;const N=function(me){const Me=[],be=o.countCols();let le=0;for(;le<be;le++)br(T.columns)&&T.columns(le)&&Me.push(le);return Me[me]},Z=o.toPhysicalColumn(I),ue=N(Z);return T.colHeaders===!1?$=null:T.columns&&br(T.columns)&&T.columns(ue)&&T.columns(ue).title?$=T.columns(ue).title:T.columns&&T.columns[Z]&&T.columns[Z].title?$=T.columns[Z].title:Array.isArray(T.colHeaders)&&T.colHeaders[Z]!==void 0?$=T.colHeaders[Z]:br(T.colHeaders)?$=T.colHeaders(Z):T.colHeaders&&typeof T.colHeaders!="string"&&typeof T.colHeaders!="number"&&($=Rge(I)),$=o.runHooks("modifyColumnHeaderValue",$,C,E),$},this._getColWidthFromSettings=function(C){let E;if(C>=0&&(E=o.getCellMeta(0,C).width),(E===void 0||E===T.width)&&(E=T.colWidths),E!=null){switch(typeof E){case"object":E=E[C];break;case"function":E=E(C);break}typeof E=="string"&&(E=parseInt(E,10))}return E},this.getColWidth=function(C){let E=o._getColWidthFromSettings(C);return E=o.runHooks("modifyColWidth",E,C),E===void 0&&(E=U0),E},this._getRowHeightFromSettings=function(C){let E=T.rowHeights;if(E!=null){switch(typeof E){case"object":E=E[C];break;case"function":E=E(C);break}typeof E=="string"&&(E=parseInt(E,10))}return E},this.getRowHeight=function(C){let E=o._getRowHeightFromSettings(C);return E=o.runHooks("modifyRowHeight",E,C),E},this.countSourceRows=function(){return u.countRows()},this.countSourceCols=function(){return u.countFirstRowKeys()},this.countRows=function(){return a.getLength()},this.countCols=function(){const C=T.maxCols,E=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(C,E)},this.countRenderedRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleColumnsCount():-1},this.countRowHeaders=function(){return this.view.getRowHeadersCount()},this.countColHeaders=function(){return this.view.getColumnHeadersCount()},this.countEmptyRows=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,E=0;return M$(o.countRows()-1,I=>{if(o.isEmptyRow(I))E+=1;else if(C===!0)return!1}),E},this.countEmptyCols=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,E=0;return M$(o.countCols()-1,I=>{if(o.isEmptyCol(I))E+=1;else if(C===!0)return!1}),E},this.isEmptyRow=function(C){return T.isEmptyRow.call(o,C)},this.isEmptyCol=function(C){return T.isEmptyCol.call(o,C)},this.selectCell=function(C,E,I,$){let N=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,Z=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;return Sr(C)||Sr(E)?!1:this.selectCells([[C,E,I,$]],N,Z)},this.selectCells=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[[]],E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;E===!1&&p.suspend();const $=j.selectCells(C);return $&&I&&o.listen(),p.resume(),$},this.selectColumns=function(C){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C,I=arguments.length>2?arguments[2]:void 0;return j.selectColumns(C,E,I)},this.selectRows=function(C){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C,I=arguments.length>2?arguments[2]:void 0;return j.selectRows(C,E,I)},this.deselectCell=function(){j.deselect()},this.selectAll=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C,I=arguments.length>2?arguments[2]:void 0;p.skipNextScrollCycle(),j.selectAll(C,E,I)};const G=(C,E)=>C.getNearestNotHiddenIndex(E,1,!0);this.scrollViewportTo=function(C){var E;if(typeof C=="number"){var I;C={row:arguments[0],col:arguments[1],verticalSnap:arguments[2]?"bottom":"top",horizontalSnap:arguments[3]?"end":"start",considerHiddenIndexes:(I=arguments[4])!==null&&I!==void 0?I:!0}}const{row:$,col:N,verticalSnap:Z,horizontalSnap:ue,considerHiddenIndexes:me}=(E=C)!==null&&E!==void 0?E:{};let Me,be,le,Ee;Z!==void 0&&(Me=Z==="top",be=!Me),ue!==void 0&&(le=ue==="start",Ee=!le);let _e=$,ee=N;if(me===void 0||me){const Pe=Number.isInteger($)&&$>=0,Be=Number.isInteger(N)&&N>=0,je=Pe?G(this.rowIndexMapper,$):void 0,k=Be?G(this.columnIndexMapper,N):void 0;if(je===null||k===null)return!1;_e=Pe?o.rowIndexMapper.getRenderableFromVisualIndex(je):$,ee=Be?o.columnIndexMapper.getRenderableFromVisualIndex(k):N}const De=Number.isInteger(_e),Ae=Number.isInteger(ee);return De&&_e>=0&&Ae&&ee>=0?o.view.scrollViewport(o._createCellCoords(_e,ee),Me,Ee,be,le):De&&_e>=0&&(Ae&&ee<0||!Ae)?o.view.scrollViewportVertically(_e,Me,be):Ae&&ee>=0&&(De&&_e<0||!De)?o.view.scrollViewportHorizontally(ee,Ee,le):!1},this.scrollToFocusedCell=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};if(!this.selection.isSelected())return;this.addHookOnce("afterScroll",C);const{highlight:E}=this.getSelectedRangeLast();this.scrollViewportTo(E.toObject())?this.view.render():(this.removeHook("afterScroll",C),this._registerImmediate(()=>C()))},this.destroy=function(){if(o._clearTimeouts(),o._clearImmediates(),o.view&&o.view.destroy(),u&&u.destroy(),u=null,this.getShortcutManager().destroy(),S.clearCache(),Z1.delete(this.guid),Ab(o)){const C=this.rootDocument.querySelector(".hot-display-license-info");C&&C.parentNode.removeChild(C)}Al(o.rootElement),s.destroy(),h&&h.destroy(),o.batchExecution(()=>{o.rowIndexMapper.unregisterAll(),o.columnIndexMapper.unregisterAll(),O.getItems().forEach(C=>{let[,E]=C;E.destroy()}),O.clear(),o.runHooks("afterDestroy")},!0),mt.getSingleton().destroy(o),hn(o,(C,E,I)=>{br(C)?I[E]=oe(E):E!=="guid"&&(I[E]=null)}),o.isDestroyed=!0,a&&a.destroy(),a=null,c=null,j=null,h=null,o=null};function oe(C){return()=>{throw new Error(`The "${C}" method cannot be called because this Handsontable instance has been destroyed`)}}this.getActiveEditor=function(){return h.getActiveEditor()},this.getFirstRenderedVisibleRow=function(){return o.view.getFirstRenderedVisibleRow()},this.getLastRenderedVisibleRow=function(){return o.view.getLastRenderedVisibleRow()},this.getFirstRenderedVisibleColumn=function(){return o.view.getFirstRenderedVisibleColumn()},this.getLastRenderedVisibleColumn=function(){return o.view.getLastRenderedVisibleColumn()},this.getFirstFullyVisibleRow=function(){return o.view.getFirstFullyVisibleRow()},this.getLastFullyVisibleRow=function(){return o.view.getLastFullyVisibleRow()},this.getFirstFullyVisibleColumn=function(){return o.view.getFirstFullyVisibleColumn()},this.getLastFullyVisibleColumn=function(){return o.view.getLastFullyVisibleColumn()},this.getFirstPartiallyVisibleRow=function(){return o.view.getFirstPartiallyVisibleRow()},this.getLastPartiallyVisibleRow=function(){return o.view.getLastPartiallyVisibleRow()},this.getFirstPartiallyVisibleColumn=function(){return o.view.getFirstPartiallyVisibleColumn()},this.getLastPartiallyVisibleColumn=function(){return o.view.getLastPartiallyVisibleColumn()},this.getPlugin=function(C){const E=Oa(C);return E==="UndoRedo"?this.undoRedo:O.getItem(E)},this.getPluginName=function(C){return C===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:O.getId(C)},this.getInstance=function(){return o},this.addHook=function(C,E,I){mt.getSingleton().add(C,E,o,I)},this.hasHook=function(C){return mt.getSingleton().has(C,o)||mt.getSingleton().has(C)},this.addHookOnce=function(C,E,I){mt.getSingleton().once(C,E,o,I)},this.removeHook=function(C,E){mt.getSingleton().remove(C,E,o)},this.runHooks=function(C,E,I,$,N,Z,ue){return mt.getSingleton().run(o,C,E,I,$,N,Z,ue)},this.getTranslatedPhrase=function(C,E){return Ij(T.language,C,E)},this.toHTML=()=>E$(this),this.toTableElement=()=>{const C=this.rootDocument.createElement("div");return C.insertAdjacentHTML("afterbegin",E$(this)),C.firstElementChild},this.timeouts=[],this._registerTimeout=function(C){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=C;typeof I=="function"&&(I=setTimeout(I,E)),this.timeouts.push(I)},this._clearTimeouts=function(){ye(this.timeouts,C=>{clearTimeout(C)})},this.immediates=[],this._registerImmediate=function(C){this.immediates.push(setImmediate(C))},this._clearImmediates=function(){ye(this.immediates,C=>{clearImmediate(C)})},this._getEditorManager=function(){return h},this.isRtl=function(){return o.rootWindow.getComputedStyle(o.rootElement).direction==="rtl"},this.isLtr=function(){return!o.isRtl()},this.getDirectionFactor=function(){return o.isLtr()?1:-1};const te=Ave({handleEvent(){return o.isListening()},beforeKeyDown:C=>this.runHooks("beforeKeyDown",C),afterKeyDown:C=>{this.isDestroyed||o.runHooks("afterDocumentKeyDown",C)},ownerWindow:this.rootWindow});this.addHook("beforeOnCellMouseDown",C=>{C.ctrlKey===!1&&C.metaKey===!1&&te.releasePressedKeys()}),this.getShortcutManager=function(){return te},this.getFocusManager=function(){return g},UB().forEach(C=>{const E=hO(C);O.addItem(C,new E(this))}),mve(o),te.setActiveContextName("grid"),mt.getSingleton().run(o,"construct")}function vL(t,e,n){t.addEventListener(e,n,!1)}function wL(t,e,n){t.removeEventListener(e,n,!1)}function CL(t){return t.ownerDocument.defaultView.getComputedStyle(t)}function Hve(t){const e={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},n=t.body,r=t.createTextNode(""),i=t.createElement("span");let o;function s(){r.textContent=o.value,i.style.position="absolute",i.style.fontSize=CL(o).fontSize,i.style.fontFamily=CL(o).fontFamily,i.style.whiteSpace="pre",n.appendChild(i);const h=i.clientWidth+2;n.removeChild(i);const g=o.style;g.height=`${e.minHeight}px`,e.minWidth>h?g.width=`${e.minWidth}px`:h>e.maxWidth?g.width=`${e.maxWidth}px`:g.width=`${h}px`;const p=o.scrollHeight?o.scrollHeight-1:0;e.minHeight>p?g.height=`${e.minHeight}px`:e.maxHeight<p?(g.height=`${e.maxHeight}px`,g.overflowY="visible"):g.height=`${p}px`}function a(){t.defaultView.setTimeout(s,0)}function u(h){if(h&&h.minHeight)if(h.minHeight==="inherit")e.minHeight=o.clientHeight;else{const g=parseInt(h.minHeight,10);isNaN(g)||(e.minHeight=g)}if(h&&h.maxHeight)if(h.maxHeight==="inherit")e.maxHeight=o.clientHeight;else{const g=parseInt(h.maxHeight,10);isNaN(g)||(e.maxHeight=g)}if(h&&h.minWidth)if(h.minWidth==="inherit")e.minWidth=o.clientWidth;else{const g=parseInt(h.minWidth,10);isNaN(g)||(e.minWidth=g)}if(h&&h.maxWidth)if(h.maxWidth==="inherit")e.maxWidth=o.clientWidth;else{const g=parseInt(h.maxWidth,10);isNaN(g)||(e.maxWidth=g)}i.firstChild||(i.className="autoResize",i.style.display="inline-block",i.appendChild(r))}function c(h,g){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;o=h,u(g),o.nodeName==="TEXTAREA"&&(o.style.resize="none",o.style.height=`${e.minHeight}px`,o.style.minWidth=`${e.minWidth}px`,o.style.maxWidth=`${e.maxWidth}px`,o.style.overflowY="hidden"),p&&(vL(o,"input",s),vL(o,"keydown",a)),s()}return{init:c,resize:s,unObserve(){wL(o,"input",s),wL(o,"keydown",a)}}}function yL(t,e){const n=CB(e),r=e.value.split(`
`);let i=n,o=0;for(let s=0;s<r.length;s++){const a=r[s];s!==0&&(o+=r[s-1].length+1);const u=o+a.length;if(t==="home"?i=o:t==="end"&&(i=u),n<=u)break}B0(e,i)}function Hd(t,e,n){return(e=Dve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dve(t){var e=Nve(t,"string");return typeof e=="symbol"?e:e+""}function Nve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const $ve="ht_editor_visible",_y="ht_editor_hidden",bL="textEditor",Lve="text";class Yh extends tm{static get EDITOR_TYPE(){return Lve}constructor(e){super(e),Hd(this,"eventManager",new Pa(this)),Hd(this,"autoResize",Hve(this.hot.rootDocument)),Hd(this,"TEXTAREA",void 0),Hd(this,"textareaStyle",void 0),Hd(this,"TEXTAREA_PARENT",void 0),Hd(this,"textareaParentStyle",void 0),Hd(this,"layerClass",void 0),this.eventManager=new Pa(this),this.createElements(),this.bindEvents(),this.hot.addHookOnce("afterDestroy",()=>this.destroy())}getValue(){return this.TEXTAREA.value}setValue(e){this.TEXTAREA.value=e}open(){this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this.autoResize.unObserve(),Qle(this.hot.rootDocument.activeElement,this.hot.rootElement)&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts()}prepare(e,n,r,i,o,s){const a=this.state;if(super.prepare(e,n,r,i,o,s),!s.readOnly){this.refreshDimensions(!0);const{allowInvalid:u}=s;u&&!this.isOpened()&&(this.TEXTAREA.value=""),a!==Zr.FINISHED&&!this.isOpened()&&this.hideEditableElement()}}beginEditing(e,n){this.state===Zr.VIRGIN&&(this.TEXTAREA.value="",super.beginEditing(e,n))}focus(){this.TEXTAREA.select(),B0(this.TEXTAREA,this.TEXTAREA.value.length)}createElements(){const{rootDocument:e}=this.hot;this.TEXTAREA=e.createElement("TEXTAREA"),Lt(this.TEXTAREA,[["data-hot-input",""],Zg(-1)]),Qe(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=e.createElement("DIV"),Qe(this.TEXTAREA_PARENT,"handsontableInputHolder"),Ft(this.TEXTAREA_PARENT,this.layerClass)&&Zt(this.TEXTAREA_PARENT,this.layerClass),Qe(this.TEXTAREA_PARENT,_y),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}hideEditableElement(){Hue()&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",Zt(this.TEXTAREA_PARENT,this.layerClass),Qe(this.TEXTAREA_PARENT,_y)}showEditableElement(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="";const e=this.TEXTAREA_PARENT.childNodes;let n=!1;Mt(e.length-1,r=>{const i=e[r];if(Ft(i,"handsontableEditor"))return n=!0,!1}),Ft(this.TEXTAREA_PARENT,_y)&&Zt(this.TEXTAREA_PARENT,_y),n?(this.layerClass=$ve,Qe(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),Qe(this.TEXTAREA_PARENT,this.layerClass))}refreshValue(){const e=this.hot.toPhysicalRow(this.row),n=this.hot.getSourceDataAtCell(e,this.col);this.originalValue=n,this.setValue(n),this.refreshDimensions()}refreshDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.state!==Zr.EDITING&&!e)return;if(this.TD=this.getEditedCell(),!this.TD){e||this.close();return}const{top:n,start:r,width:i,maxWidth:o,height:s,maxHeight:a}=this.getEditedCellRect();this.textareaParentStyle.top=`${n}px`,this.textareaParentStyle[this.hot.isRtl()?"right":"left"]=`${r}px`,this.showEditableElement();const u=Hu(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=u.fontSize,this.TEXTAREA.style.fontFamily=u.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor;const c=Hu(this.TEXTAREA),h=parseInt(c.paddingLeft,10)+parseInt(c.paddingRight,10),g=parseInt(c.paddingTop,10)+parseInt(c.paddingBottom,10),p=i-h,v=s-g,y=o-h,R=a-g;this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(p,y),minHeight:Math.min(v,R),maxWidth:y,maxHeight:R},!0)}bindEvents(){AB()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",()=>this.finishEditing(!1)),this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>{this.refreshDimensions(),this.state===Zr.EDITING&&this.focus()}),this.addHook("afterRowResize",()=>{this.refreshDimensions(),this.state===Zr.EDITING&&this.focus()})}allowKeyEventPropagation(){}destroy(){this.eventManager.destroy(),this.clearHooks()}registerShortcuts(){const n=this.hot.getShortcutManager().getContext("editor"),r={runOnlyIf:()=>Ct(this.hot.getSelected()),group:bL},i=()=>{this.hot.rootDocument.execCommand("insertText",!1,`
`)};n.addShortcuts([{keys:[["Control","Enter"]],callback:()=>(i(),!1),runOnlyIf:o=>!this.hot.selection.isMultiple()&&!o.altKey},{keys:[["Meta","Enter"]],callback:()=>(i(),!1),runOnlyIf:()=>!this.hot.selection.isMultiple()},{keys:[["Alt","Enter"]],callback:()=>(i(),!1)},{keys:[["Home"]],callback:(o,s)=>{let[a]=s;yL(a,this.TEXTAREA)}},{keys:[["End"]],callback:(o,s)=>{let[a]=s;yL(a,this.TEXTAREA)}}],r)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(bL)}}const kve="base";function fw(t,e,n,r,i,o,s){const a=s.ariaTags,u=[],c=[],h=[],g=[];s.className&&Qe(e,s.className),s.readOnly?(u.push(s.readOnlyCellClassName),a&&g.push(e$())):a&&h.push(e$()[0]),s.valid===!1&&s.invalidCellClassName?(u.push(s.invalidCellClassName),a&&g.push(t$())):(c.push(s.invalidCellClassName),a&&h.push(t$()[0])),s.wordWrap===!1&&s.noWordWrapClassName&&u.push(s.noWordWrapClassName),!o&&s.placeholder&&u.push(s.placeholderCellClassName),Zt(e,c),Qe(e,u),Qg(e,h),Lt(e,g)}fw.RENDERER_TYPE=kve;const Fve="text";function Wu(t,e,n,r,i,o,s){fw.apply(this,[t,e,n,r,i,o,s]);let a=o;if(!a&&s.placeholder&&(a=s.placeholder),a=ai(a),s.trimWhitespace&&(a=a.trim()),s.rendererTemplate){Al(e);const u=t.rootDocument.createElement("TEMPLATE");u.setAttribute("bind","{{}}"),u.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(u),u.model=t.getSourceDataAtRow(n),e.appendChild(u)}else Rh(e,a)}Wu.RENDERER_TYPE=Fve;const Vve="text",zj={CELL_TYPE:Vve,editor:Yh,renderer:Wu};pa(zj);En.editors={BaseEditor:tm};function En(t,e){const n=new jj(t,e||{},IO);return n.init(),n}En.Core=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new jj(t,e,IO)};En.DefaultSettings=$j();En.hooks=mt.getSingleton();En.CellCoords=_h;En.CellRange=uw;En.packageName="handsontable";En.buildDate="17/10/2024 09:16:16";En.version="14.6.1";En.languages={dictionaryKeys:nme,getLanguageDictionary:xj,getLanguagesDictionaries:ame,registerLanguageDictionary:Tj,getTranslatedPhrase:Ij};function cx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Wve(t){if(Array.isArray(t))return cx(t)}function Bve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ov(t,e,n){return e=IS(e),qve(t,Yj()?Reflect.construct(e,n||[],IS(t).constructor):e.apply(t,n))}function Hg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uj(r.key),r)}}function Dg(t,e,n){return e&&SL(t.prototype,e),n&&SL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jve(t,e,n){return(e=Uj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IS(t){return IS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},IS(t)}function Pv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dx(t,e)}function Yj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yj=function(){return!!t})()}function zve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(n),!0).forEach(function(r){jve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gve(t,e){if(t==null)return{};var n,r,i=Kve(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function qve(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bve(t)}function dx(t,e){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},dx(t,e)}function Xve(t){return Wve(t)||zve(t)||Qve(t)||Yve()}function Zve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Uj(t){var e=Zve(t,"string");return typeof e=="symbol"?e:e+""}function Qve(t,e){if(t){if(typeof t=="string")return cx(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cx(t,e):void 0}}var Q1=null,Jve="Your `HotTable` configuration includes `autoRowSize`/`autoColumnSize` options, which are not compatible with  the component-based renderers`. Disable `autoRowSize` and `autoColumnSize` to prevent row and column misalignment.",ewe="The Handsontable instance bound to this component was destroyed and cannot be used properly.",OS="global",twe="hot-wrapper-editor-container";function nwe(){if(typeof console<"u"){var t;(t=console).warn.apply(t,arguments)}}function hx(t,e){var n=ot.Children.toArray(t),r=ot.Children.count(t),i=null;return r!==0&&(r===1&&n[0].props[e]?i=n[0]:i=n.find(function(o){return o.props[e]!==void 0})),i||null}function Gj(t){return t?t.type.WrappedComponent?t.type.WrappedComponent:t.type:null}function Kj(t,e){if(typeof t>"u"||e===null)return null;var n=Xj(e.props,!1);return n.className="".concat(twe," ").concat(n.className),NF.createPortal(ot.createElement("div",Object.assign({},n),e),t.body)}function qj(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:OS,r=hx(t,"hot-editor"),i=Gj(r);return r?ot.cloneElement(r,{emitEditorInstance:function(s,a){e.get(i)||e.set(i,new Map);var u=e.get(i);u.set(a??OS,s)},editorColumnScope:n,isEditor:!0}):null}function rwe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;n||(n=document),Q1||(Q1=n.createDocumentFragment());var o=i??n.createElement("DIV");Q1.appendChild(o);var s=ot.cloneElement(t,Uve({key:"".concat(e.row,"-").concat(e.col)},e));return{portal:NF.createPortal(s,o,r),portalContainer:o}}function Xj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{id:t.id||(e?"hot-"+Math.random().toString(36).substring(5):void 0),className:t.className||"",style:t.style||{}}}function iwe(){return typeof window<"u"}var Zj=function(){function t(){Hg(this,t)}return Dg(t,null,[{key:"getSettings",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.prevProps,o=i===void 0?{}:i,s=r.isInit,a=s===void 0?!1:s,u=r.initOnlySettingKeys,c=u===void 0?[]:u,h=function(S){return!a&&c.includes(S)?o[S]===n[S]:!1},g={};if(n.settings){var p=n.settings;for(var v in p)p.hasOwnProperty(v)&&!h(v)&&(g[v]=p[v])}for(var y in n)y!=="settings"&&y!=="children"&&!h(y)&&n.hasOwnProperty(y)&&(g[y]=n[y]);return g}}])}(),owe=function(t){function e(){return Hg(this,e),Ov(this,e,arguments)}return Pv(e,t),Dg(e,[{key:"getSettingsProps",value:function(){var r=this;return this.internalProps=["_componentRendererColumns","_emitColumnSettings","_columnIndex","_getChildElementByType","_getRendererWrapper","_getEditorClass","_getEditorCache","_getOwnerDocument","hot-renderer","hot-editor","children"],Object.keys(this.props).filter(function(i){return!r.internalProps.includes(i)}).reduce(function(i,o){return i[o]=r.props[o],i},{})}},{key:"getLocalEditorElement",value:function(){return qj(this.props.children,this.props._getEditorCache(),this.props._columnIndex)}},{key:"createColumnSettings",value:function(){var r=this.props._getChildElementByType(this.props.children,"hot-renderer"),i=this.getLocalEditorElement();this.columnSettings=Zj.getSettings(this.getSettingsProps()),r!==null&&(this.columnSettings.renderer=this.props._getRendererWrapper(r),this.props._componentRendererColumns.set(this.props._columnIndex,!0)),i!==null&&(this.columnSettings.editor=this.props._getEditorClass(i,this.props._columnIndex))}},{key:"emitColumnSettings",value:function(){this.props._emitColumnSettings(this.columnSettings,this.props._columnIndex)}},{key:"componentDidMount",value:function(){this.createColumnSettings(),this.emitColumnSettings()}},{key:"componentDidUpdate",value:function(){this.createColumnSettings(),this.emitColumnSettings()}},{key:"render",value:function(){var r=this.props._getOwnerDocument(),i=Kj(r,this.getLocalEditorElement());return ot.createElement(ot.Fragment,null,i)}}])}(ot.Component),swe=function(t){function e(){var n;return Hg(this,e),n=Ov(this,e,arguments),n.state={portals:[]},n}return Pv(e,t),Dg(e,[{key:"render",value:function(){return ot.createElement(ot.Fragment,null,this.state.portals)}}])}(ot.Component),awe="14.6.1";function lwe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qj={exports:{}},J1,EL;function uwe(){if(EL)return J1;EL=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return J1=t,J1}var eM,_L;function cwe(){if(_L)return eM;_L=1;var t=uwe();function e(){}function n(){}return n.resetWarningCache=e,eM=function(){function i(a,u,c,h,g,p){if(p!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}i.isRequired=i;function o(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},eM}Qj.exports=cwe()();var dwe=Qj.exports,tM=lwe(dwe),QP=function(t){function e(){var n;return Hg(this,e),n=Ov(this,e,arguments),n.id=null,n.__hotInstance=null,n.hotElementRef=null,n.columnSettings=[],n.renderersPortalManager=null,n.portalCache=new Map,n.portalContainerCache=new Map,n.renderedCellCache=new Map,n.editorCache=new Map,n.componentRendererColumns=new Map,n}return Pv(e,t),Dg(e,[{key:"hotInstance",get:function(){return!this.__hotInstance||this.__hotInstance&&!this.__hotInstance.isDestroyed?this.__hotInstance:(console.warn(ewe),null)},set:function(r){this.__hotInstance=r}},{key:"_isHotInstanceDestroyed",value:function(){return this.__hotInstance&&this.__hotInstance.isDestroyed}},{key:"getPortalContainerCache",value:function(){return this.portalContainerCache}},{key:"getRenderedCellCache",value:function(){return this.renderedCellCache}},{key:"getEditorCache",value:function(){return this.editorCache}},{key:"clearCache",value:function(){this.getRenderedCellCache().clear(),this.componentRendererColumns.clear()}},{key:"getOwnerDocument",value:function(){return iwe()?this.hotElementRef?this.hotElementRef.ownerDocument:document:null}},{key:"setHotElementRef",value:function(r){this.hotElementRef=r}},{key:"getRendererWrapper",value:function(r){var i=this;return function(s,a,u,c,h,g,p){var v=i.getRenderedCellCache(),y=i.getPortalContainerCache(),R="".concat(u,"-").concat(c),S=s.guid,T="".concat(S,"-").concat(R),x="".concat(R,"-").concat(S);if(v.has(R)&&(a.innerHTML=v.get(R).innerHTML),a&&!a.getAttribute("ghost-table")){for(var O=i.portalCache.get(x),A=y.get(T);a.firstChild;)a.removeChild(a.firstChild);if(O&&A)a.appendChild(A);else{var H=rwe(r,{TD:a,row:u,col:c,prop:h,value:g,cellProperties:p,isRenderer:!0},a.ownerDocument,x,A),L=H.portal,F=H.portalContainer;y.set(T,F),a.appendChild(F),i.portalCache.set(x,L)}}return v.set(R,a),a}}},{key:"getEditorClass",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:OS,s=Gj(r),a=(i=this.getEditorCache().get(s))===null||i===void 0?void 0:i.get(o);return this.makeEditorClass(a)}},{key:"makeEditorClass",value:function(r){var i=function(o){function s(a){var u;return Hg(this,s),u=Ov(this,s,[a]),r.hotCustomEditorInstance=u,u.editorComponent=r,u}return Pv(s,o),Dg(s,[{key:"focus",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}}])}(En.editors.BaseEditor);return Object.getOwnPropertyNames(En.editors.BaseEditor.prototype).forEach(function(o){o!=="constructor"&&(i.prototype[o]=function(){for(var s,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return(s=r[o]).call.apply(s,[r].concat(u))})}),i}},{key:"getGlobalRendererElement",value:function(){return hx(this.props.children,"hot-renderer")}},{key:"getGlobalEditorElement",value:function(){return qj(this.props.children,this.getEditorCache())}},{key:"createNewGlobalSettings",value:function(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this._isHotInstanceDestroyed()?[]:((r=this.hotInstance)===null||r===void 0||(r=r.getSettings())===null||r===void 0?void 0:r._initOnlySettings)||[],a=Zj.getSettings(this.props,{prevProps:o,isInit:i,initOnlySettingKeys:s}),u=this.getGlobalRendererElement(),c=this.getGlobalEditorElement();if(a.columns=this.columnSettings.length?this.columnSettings:a.columns,c)a.editor=this.getEditorClass(c,OS);else{var h;this.props.editor||(h=this.props.settings)!==null&&h!==void 0&&h.editor?a.editor=this.props.editor||this.props.settings.editor:a.editor=ex("text")}if(u)a.renderer=this.getRendererWrapper(u),this.componentRendererColumns.set("global",!0);else{var g;this.props.renderer||(g=this.props.settings)!==null&&g!==void 0&&g.renderer?a.renderer=this.props.renderer||this.props.settings.renderer:a.renderer=ix("text")}return a}},{key:"displayAutoSizeWarning",value:function(r){var i,o;this.hotInstance&&((i=this.hotInstance.getPlugin("autoRowSize"))!==null&&i!==void 0&&i.enabled||(o=this.hotInstance.getPlugin("autoColumnSize"))!==null&&o!==void 0&&o.enabled)&&this.componentRendererColumns.size>0&&nwe(Jve)}},{key:"setHotColumnSettings",value:function(r,i){this.columnSettings[i]=r}},{key:"handsontableBeforeViewRender",value:function(){this.portalCache.clear(),this.getRenderedCellCache().clear()}},{key:"handsontableAfterViewRender",value:function(){this.renderersPortalManager.setState({portals:Xve(this.portalCache.values())})}},{key:"updateHot",value:function(r){this.hotInstance&&this.hotInstance.updateSettings(r,!1)}},{key:"setRenderersPortalManagerRef",value:function(r){this.renderersPortalManager=r}},{key:"componentDidMount",value:function(){var r=this,i=this.createNewGlobalSettings(!0);this.hotInstance=new En.Core(this.hotElementRef,i),this.hotInstance.addHook("beforeViewRender",function(){return r.handsontableBeforeViewRender()}),this.hotInstance.addHook("afterViewRender",function(){return r.handsontableAfterViewRender()}),this.hotInstance.init(),this.displayAutoSizeWarning(i)}},{key:"componentDidUpdate",value:function(r){this.clearCache();var i=this.createNewGlobalSettings(!1,r);this.updateHot(i),this.displayAutoSizeWarning(i)}},{key:"componentWillUnmount",value:function(){this.clearCache(),this.hotInstance&&this.hotInstance.destroy()}},{key:"render",value:function(){var r=this,i=function(h){return h.type===owe},o=ot.Children.toArray(this.props.children),s=o.filter(function(c){return i(c)}).map(function(c,h){return ot.cloneElement(c,{_componentRendererColumns:r.componentRendererColumns,_emitColumnSettings:r.setHotColumnSettings.bind(r),_columnIndex:h,_getChildElementByType:hx.bind(r),_getRendererWrapper:r.getRendererWrapper.bind(r),_getEditorClass:r.getEditorClass.bind(r),_getOwnerDocument:r.getOwnerDocument.bind(r),_getEditorCache:r.getEditorCache.bind(r),children:c.props.children})}),a=Xj(this.props),u=Kj(this.getOwnerDocument(),this.getGlobalEditorElement());return ot.createElement(ot.Fragment,null,ot.createElement("div",Object.assign({ref:this.setHotElementRef.bind(this)},a),s),ot.createElement(swe,{ref:this.setRenderersPortalManagerRef.bind(this)}),u)}}],[{key:"version",get:function(){return awe}}])}(ot.Component);QP.propTypes={style:tM.object,id:tM.string,className:tM.string};var hwe=["children"],Jj=ot.forwardRef(function(t,e){var n,r=t.children,i=Gve(t,hwe),o=typeof ot.useId=="function"?ot.useId():void 0,s=(n=i.id)!==null&&n!==void 0?n:o;return ot.createElement(QP,Object.assign({id:s},i,{ref:e}),r)});Jj.version=QP.version;ot.Component;const ML="handsontableEditor",fwe="handsontable";class JP extends Yh{static get EDITOR_TYPE(){return fwe}open(){super.open(),this.htEditor&&this.htEditor.destroy(),this.htContainer.style.display==="none"&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),B0(this.TEXTAREA,0,this.TEXTAREA.value.length),this.refreshDimensions()}close(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),super.close()}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s);const a=this,u={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,ariaTags:!1,afterOnCellMouseDown(c,h){const g=this.getSourceData(h.row,h.col);g!==void 0&&a.setValue(g),a.hot.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&fi(u,s.handsontable),this.htOptions=u}beginEditing(e,n){const r=this.hot.getSettings().onBeginEditing;r&&r()===!1||super.beginEditing(e,n)}createElements(){super.createElements();const e=this.hot.rootDocument.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.htContainer=e,this.assignHooks()}finishEditing(e,n,r){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){const i=this.htEditor.getValue();i!==void 0&&this.setValue(i)}super.finishEditing(e,n,r)}assignHooks(){this.hot.addHook("afterDestroy",()=>{this.htEditor&&this.htEditor.destroy()})}registerShortcuts(){const n=this.hot.getShortcutManager().getContext("editor");super.registerShortcuts();const r={group:ML,relativeToGroup:ed,position:"before"},i=(o,s)=>{const a=this.htEditor;if(o!==void 0&&(o<0||a.flipped&&o>a.countRows()-1?a.deselectCell():a.selectCell(o,0),a.getData().length))return s.preventDefault(),$a(s),this.hot.listen(),this.TEXTAREA.focus(),!1};n.addShortcuts([{keys:[["ArrowUp"]],callback:o=>{const s=this.htEditor;let a,u;return!s.getSelectedLast()&&s.flipped?a=s.countRows()-1:s.getSelectedLast()&&(s.flipped?(u=s.getSelectedLast()[0],a=Math.max(0,u-1)):(u=s.getSelectedLast()[0],a=u-1)),i(a,o)},preventDefault:!1},{keys:[["ArrowDown"]],callback:o=>{const s=this.htEditor;let a,u;if(!s.getSelectedLast()&&!s.flipped)a=0;else if(s.getSelectedLast()){if(s.flipped)a=s.getSelectedLast()[0]+1;else if(!s.flipped){const c=s.countRows()-1;u=s.getSelectedLast()[0],a=Math.min(c,u+1)}}return i(a,o)},preventDefault:!1}],r)}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(ML)}}function gwe(t,e,n){mwe(t,e),e.set(t,n)}function mwe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function My(t,e,n){return(e=pwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pwe(t){var e=vwe(t,"string");return typeof e=="symbol"?e:e+""}function vwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TL(t,e){return t.get(wwe(t,e))}function wwe(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Cwe="autocomplete";var nM=new WeakMap;class eA extends JP{constructor(){super(...arguments),My(this,"query",null),My(this,"strippedChoices",[]),My(this,"rawChoices",[]),gwe(this,nM,this.hot.guid.slice(0,9)),My(this,"sortByRelevance",function(e,n,r){const i=[],o=[],s=e.length;let a=n.length,u,c,h,g;if(s===0){for(h=0;h<a;h++)o.push(h);return o}for(h=0;h<a;h++){if(c=JN(ai(n[h])),r)g=c.indexOf(e);else{const p=this.cellProperties.locale;g=c.toLocaleLowerCase(p).indexOf(e.toLocaleLowerCase(p))}g!==-1&&(u=c.length-g-s,i.push({baseIndex:h,index:g,charsLeft:u,value:c}))}for(i.sort((p,v)=>{if(v.index===-1)return-1;if(p.index===-1)return 1;if(p.index<v.index)return-1;if(v.index<p.index)return 1;if(p.index===v.index){if(p.charsLeft<v.charsLeft)return-1;if(p.charsLeft>v.charsLeft)return 1}return 0}),h=0,a=i.length;h<a;h++)o.push(i[h].baseIndex);return o})}static get EDITOR_TYPE(){return Cwe}getValue(){const e=this.rawChoices.find(n=>this.stripValueIfNeeded(n)===this.TEXTAREA.value);return Ct(e)?e:this.TEXTAREA.value}createElements(){super.createElements(),Qe(this.htContainer,"autocompleteEditor"),Qe(this.htContainer,this.hot.rootWindow.navigator.platform.indexOf("Mac")===-1?"":"htMacScroll"),this.hot.getSettings().ariaTags&&Lt(this.TEXTAREA,[Vle(),Nle(),uB("listbox"),zle()])}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s),this.hot.getSettings().ariaTags&&Lt(this.TEXTAREA,[zs("false"),Yle(`${TL(nM,this)}-listbox-${e}-${n}`)])}open(){super.open();const e=this.cellProperties.trimDropdown===void 0?!0:this.cellProperties.trimDropdown,n=this.hot.getSettings().ariaTags,r=Array.isArray(this.cellProperties.source)?this.cellProperties.source:null,i=r==null?void 0:r.length,{row:o,col:s}=this;this.showEditableElement(),this.focus();let a=Di();a===0&&KT()&&(a+=15),this.addHook("beforeKeyDown",u=>this.onBeforeKeyDown(u)),this.htEditor.updateSettings({colWidths:e?[Rr(this.TEXTAREA)-2]:void 0,width:e?Rr(this.TEXTAREA)+a:void 0,autoColumnSize:!0,renderer:(u,c,h,g,p,v,y)=>{Wu(u,c,h,g,p,v,y);const{filteringCaseSensitive:R,allowHtml:S,locale:T}=this.cellProperties,x=this.query;let O=ai(v),A,H;O&&!S&&(A=R===!0?O.indexOf(x):O.toLocaleLowerCase(T).indexOf(x.toLocaleLowerCase(T)),A!==-1&&(H=O.substr(A,x.length),O=O.replace(H,`<strong>${H}</strong>`))),n&&Lt(c,[$le(),...r?[qle(i)]:[],...r?[Xle(r.indexOf(v)+1)]:[],["id",`${this.htEditor.rootElement.id}_${h}-${g}`]]),c.innerHTML=O},afterSelectionEnd:(u,c)=>{if(n){const h=this.htEditor.getCell(u,c,!0);Lt(h,[ZI()]),Lt(this.TEXTAREA,...Ule(h.id))}}}),n&&(Lt(this.htEditor.view._wt.wtOverlays.wtTable.TABLE,...xl()),Lt(this.htEditor.rootElement,[lB(),Gle("polite"),Kle("text"),["id",`${TL(nM,this)}-listbox-${o}-${s}`]]),Lt(this.TEXTAREA,...zs("true"))),this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)})}close(){this.removeHooksByKey("beforeKeyDown"),super.close(),this.hot.getSettings().ariaTags&&Lt(this.TEXTAREA,[zs("false")])}discardEditor(e){super.discardEditor(e),this.hot.view.render()}queryChoices(e){const n=this.cellProperties.source;this.query=e,typeof n=="function"?n.call(this.cellProperties,e,r=>{this.rawChoices=r,this.updateChoicesList(this.stripValuesIfNeeded(r))}):Array.isArray(n)?(this.rawChoices=n,this.updateChoicesList(this.stripValuesIfNeeded(n))):this.updateChoicesList([])}updateChoicesList(e){const n=CB(this.TEXTAREA),r=iue(this.TEXTAREA),i=this.cellProperties.sortByRelevance,o=this.cellProperties.filter;let s=null,a=null,u=e;i&&(s=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),u,this.cellProperties.filteringCaseSensitive));const c=Array.isArray(s)?s.length:0;if(o===!1)c&&(a=s[0]);else{const h=[];for(let g=0,p=u.length;g<p&&!(i&&c<=g);g++)c?h.push(u[s[g]]):h.push(u[g]);a=0,u=h}this.strippedChoices=u,u.length===0?this.htEditor.rootElement.style.display="none":this.htEditor.rootElement.style.display="",this.htEditor.loadData(Ib([u])),u.length>0&&(this.updateDropdownDimensions(),this.flipDropdownIfNeeded(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(a)),this.hot.listen(),B0(this.TEXTAREA,n,n===r?void 0:r)}flipDropdownIfNeeded(){const e=Pg(this.hot.view._wt.wtTable.TABLE),n=e===this.hot.rootWindow,r=this.cellProperties.preventOverflow;if(n||!n&&(r||r==="horizontal"))return!1;const i=Hi(this.TEXTAREA),o=li(this.TEXTAREA),s=this.getDropdownHeight(),a=e.scrollTop,u=li(this.hot.view._wt.wtTable.THEAD),c=Hi(e),h=i.top-c.top-u+a,g=e.scrollHeight-h-u-o,p=s>g&&h>g;return p?this.flipDropdown(s):this.unflipDropdown(),this.limitDropdownIfNeeded(p?h:g,s),p}limitDropdownIfNeeded(e,n){if(n>e){let r=0,i=0,o=0,s=null;do o=this.htEditor.getRowHeight(i)||this.htEditor.view._wt.getSetting("defaultRowHeight"),r+=o,i+=1;while(r<e);s=r-o,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=`${parseInt(this.htEditor.rootElement.style.top,10)+n-s}px`),this.setDropdownHeight(r-o)}}flipDropdown(e){const n=this.htEditor.rootElement.style;n.position="absolute",n.top=`${-e}px`,this.htEditor.flipped=!0}unflipDropdown(){const e=this.htEditor.rootElement.style;e.position="absolute",e.top="",this.htEditor.flipped=void 0}updateDropdownDimensions(){const e=this.htEditor.getColWidth(0)+Di(this.hot.rootDocument)+2,n=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:n?void 0:e}),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}setDropdownHeight(e){this.htEditor.updateSettings({height:e})}highlightBestMatchingChoice(e){typeof e=="number"?this.htEditor.selectCell(e,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}getDropdownHeight(){const e=this.htEditor.getRowHeight(0)||23,n=this.cellProperties.visibleRows;return this.strippedChoices.length>=n?n*e:this.strippedChoices.length*e+8}stripValueIfNeeded(e){return this.stripValuesIfNeeded([e])[0]}stripValuesIfNeeded(e){const{allowHtml:n}=this.cellProperties,r=_n(e,o=>ai(o));return _n(r,o=>n?o:JN(o))}allowKeyEventPropagation(e){const n=this.htEditor.getSelectedRangeLast(),r={row:n?n.from.row:-1};let i=!1;return e===Pt.ARROW_DOWN&&r.row>0&&r.row<this.htEditor.countRows()-1&&(i=!0),e===Pt.ARROW_UP&&r.row>-1&&(i=!0),i}onBeforeKeyDown(e){if(Nue(e.keyCode)||e.keyCode===Pt.BACKSPACE||e.keyCode===Pt.DELETE||e.keyCode===Pt.INSERT){let n=10;if(e.keyCode===Pt.C&&(e.ctrlKey||e.metaKey))return;this.isOpened()||(n+=10),this.htEditor&&this.hot._registerTimeout(()=>{this.queryChoices(this.TEXTAREA.value)},n)}}}const ywe="checkbox";class ez extends tm{static get EDITOR_TYPE(){return ywe}beginEditing(e,n){if(n&&n.type==="mouseup"&&n.target.nodeName==="TD"){const r=this.TD.querySelector('input[type="checkbox"]');Ft(r,"htBadValue")||r.click()}}finishEditing(){}init(){}open(){}close(){}getValue(){}setValue(){}focus(){}}/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */const Pc=()=>window,Fs=()=>window.document,fx=(t,e)=>window.setTimeout(t,e),pl=function(t,e,n,r){t.addEventListener(e,n,!!r)},lu=function(t,e,n,r){t.removeEventListener(e,n,!!r)},bwe=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},os=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")!==-1},rM=function(t,e){os(t,e)||(t.className=t.className===""?e:t.className+" "+e)},iM=function(t,e){t.className=bwe((" "+t.className+" ").replace(" "+e+" "," "))},tA=function(t){return/Array/.test(Object.prototype.toString.call(t))},us=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},Swe=function(t){let e=t.getDay();return e===0||e===6},Rwe=function(t){return t%4===0&&t%100!==0||t%400===0},xL=function(t,e){return[31,Rwe(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},Ty=function(t){us(t)&&t.setHours(0,0,0,0)},xy=function(t,e){return t.getTime()===e.getTime()},PS=function(t,e,n){let r,i;for(r in e)i=t[r]!==void 0,i&&typeof e[r]=="object"&&e[r]!==null&&e[r].nodeName===void 0?us(e[r])?n&&(t[r]=new Date(e[r].getTime())):tA(e[r])?n&&(t[r]=e[r].slice(0)):t[r]=PS({},e[r],n):(n||!i)&&(t[r]=e[r]);return t},IL=function(t,e,n){let r=Fs().createEvent("HTMLEvents");r.initEvent(e,!0,!1),r=PS(r,n),t.dispatchEvent(r)},OL=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},il={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},PL=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},Ewe=function(t){let e=[],n="false";if(t.isEmpty)if(t.showDaysInNextAndPreviousMonths)e.push("is-outside-current-month"),t.enableSelectionDaysInNextAndPreviousMonths||e.push("is-selection-disabled");else return'<td class="is-empty"></td>';return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},_we=function(t,e){t.setHours(0,0,0,0);let n=t.getDate(),r=t.getDay(),i=e,o=i-1,s=7,a=function(p){return(p+s-1)%s};t.setDate(n+o-a(r));let u=new Date(t.getFullYear(),0,i),c=24*60*60*1e3,h=(t.getTime()-u.getTime())/c;return 1+Math.round((h-o+a(u.getDay()))/s)},Mwe=function(t,e,n,r,i){let o=new Date(r,n,e);return'<td class="pika-week">'+(t.hasMoment?t.moment(o).isoWeek():_we(o,i))+"</td>"},Twe=function(t,e,n,r){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(r?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"},xwe=function(t){return"<tbody>"+t.join("")+"</tbody>"},Iwe=function(t){let e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+PL(t,e)+'">'+PL(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"},Owe=function(t,e,n,r,i,o){let s,a,u,c=t._o,h=n===c.minYear,g=n===c.maxYear,p='<div id="'+o+'" class="pika-title" role="heading" aria-live="polite">',v,y,R=!0,S=!0;for(u=[],s=0;s<12;s++)u.push('<option value="'+(n===i?s-e:12+s-e)+'"'+(s===r?' selected="selected"':"")+(h&&s<c.minMonth||g&&s>c.maxMonth?' disabled="disabled"':"")+">"+c.i18n.months[s]+"</option>");for(v='<div class="pika-label">'+c.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+u.join("")+"</select></div>",tA(c.yearRange)?(s=c.yearRange[0],a=c.yearRange[1]+1):(s=n-c.yearRange,a=1+n+c.yearRange),u=[];s<a&&s<=c.maxYear;s++)s>=c.minYear&&u.push('<option value="'+s+'"'+(s===n?' selected="selected"':"")+">"+s+"</option>");return y='<div class="pika-label">'+n+c.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+u.join("")+"</select></div>",c.showMonthAfterYear?p+=y+v:p+=v+y,h&&(r===0||c.minMonth>=r)&&(R=!1),g&&(r===11||c.maxMonth<=r)&&(S=!1),e===0&&(p+='<button class="pika-prev'+(R?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(p+='<button class="pika-next'+(S?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),p+="</div>"},Pwe=function(t,e,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+Iwe(t)+xwe(e)+"</table>"};function gx(t){let e=this,n=e.config(t);e._onMouseDown=function(i){if(!e._v)return;i=i||Pc().event;let o=i.target||i.srcElement;if(o)if(os(o,"is-disabled")||(os(o,"pika-button")&&!os(o,"is-empty")&&!os(o.parentNode,"is-disabled")?(e.setDate(new Date(o.getAttribute("data-pika-year"),o.getAttribute("data-pika-month"),o.getAttribute("data-pika-day"))),n.bound&&fx(function(){e.hide(),n.blurFieldOnSelect&&n.field&&n.field.blur()},100)):os(o,"pika-prev")?e.prevMonth():os(o,"pika-next")&&e.nextMonth()),os(o,"pika-select"))e._c=!0;else if(i.preventDefault)i.preventDefault();else return i.returnValue=!1,!1},e._onChange=function(i){i=i||Pc().event;let o=i.target||i.srcElement;o&&(os(o,"pika-select-month")?e.gotoMonth(o.value):os(o,"pika-select-year")&&e.gotoYear(o.value))},e._onKeyChange=function(i){if(i=i||Pc().event,e.isVisible())switch(i.keyCode){case 13:case 27:n.field&&n.field.blur();break;case 37:e.adjustDate("subtract",1);break;case 38:e.adjustDate("subtract",7);break;case 39:e.adjustDate("add",1);break;case 40:e.adjustDate("add",7);break;case 8:case 46:e.setDate(null);break}},e._parseFieldValue=function(){if(n.parse)return n.parse(n.field.value,n.format);if(this.hasMoment){let i=this.moment(n.field.value,n.format,n.formatStrict);return i&&i.isValid()?i.toDate():null}else return new Date(Date.parse(n.field.value))},e._onInputChange=function(i){let o;i.firedBy!==e&&(o=e._parseFieldValue(),us(o)&&e.setDate(o),e._v||e.show())},e._onInputFocus=function(){e.show()},e._onInputClick=function(){e.show()},e._onInputBlur=function(){let i=Fs().activeElement;do if(os(i,"pika-single"))return;while(i=i.parentNode);e._c||(e._b=fx(function(){e.hide()},50)),e._c=!1},e._onClick=function(i){i=i||Pc().event;let o=i.target||i.srcElement,s=o;if(o){!hasEventListeners&&os(o,"pika-select")&&(o.onchange||(o.setAttribute("onchange","return;"),pl(o,"change",e._onChange)));do if(os(s,"pika-single")||s===n.trigger)return;while(s=s.parentNode);e._v&&o!==n.trigger&&s!==n.trigger&&e.hide()}},e.el=Fs().createElement("div"),e.el.className="pika-single"+(n.isRTL?" is-rtl":"")+(n.theme?" "+n.theme:""),pl(e.el,"mousedown",e._onMouseDown,!0),pl(e.el,"touchend",e._onMouseDown,!0),pl(e.el,"change",e._onChange),n.keyboardInput&&pl(Fs(),"keydown",e._onKeyChange),n.field&&(n.container?n.container.appendChild(e.el):n.bound?Fs().body.appendChild(e.el):n.field.parentNode.insertBefore(e.el,n.field.nextSibling),pl(n.field,"change",e._onInputChange),n.defaultDate||(n.defaultDate=e._parseFieldValue(),n.setDefaultDate=!0));let r=n.defaultDate;us(r)?n.setDefaultDate?e.setDate(r,!0):e.gotoDate(r):e.gotoDate(new Date),n.bound?(this.hide(),e.el.className+=" is-bound",pl(n.trigger,"click",e._onInputClick),pl(n.trigger,"focus",e._onInputFocus),pl(n.trigger,"blur",e._onInputBlur)):this.show()}gx.prototype={config:function(t){this._o||(this._o=PS({},il,!0));let e=PS(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme=typeof e.theme=="string"&&e.theme?e.theme:null,e.bound=!!(e.bound!==void 0?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn=typeof e.disableDayFn=="function"?e.disableDayFn:null;let n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,us(e.minDate)||(e.minDate=!1),us(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),tA(e.yearRange)){let r=new Date().getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||r,e.yearRange[1]=parseInt(e.yearRange[1],10)||r}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||il.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(t){return t=t||this._o.format,us(this._d)?this._o.toString?this._o.toString(this._d,t):this.hasMoment?this.moment(this._d).format(t):this._d.toDateString():""},getMoment:function(){return this.hasMoment?this.moment(this._d):null},setMoment:function(t,e){this.hasMoment&&this.moment.isMoment(t)&&this.setDate(t.toDate(),e)},useMoment:function(t){this.hasMoment=!0,this.moment=t},getDate:function(){return us(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",IL(this._o.field,"change",{firedBy:this})),this.draw();if(typeof t=="string"&&(t=new Date(Date.parse(t))),!us(t))return;let n=this._o.minDate,r=this._o.maxDate;us(n)&&t<n?t=n:us(r)&&t>r&&(t=r),this._d=new Date(t.getTime()),Ty(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),IL(this._o.field,"change",{firedBy:this})),!e&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())},clear:function(){this.setDate(null)},gotoDate:function(t){let e=!0;if(us(t)){if(this.calendars){let n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=i<n.getTime()||r.getTime()<i}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(t,e){let n=this.getDate()||new Date,r=parseInt(e)*24*60*60*1e3,i;t==="add"?i=new Date(n.valueOf()+r):t==="subtract"&&(i=new Date(n.valueOf()-r)),this.setDate(i)},adjustCalendars:function(){this.calendars[0]=OL(this.calendars[0]);for(let t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=OL({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){t instanceof Date?(Ty(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()):(this._o.minDate=il.minDate,this._o.minYear=il.minYear,this._o.minMonth=il.minMonth,this._o.startRange=il.startRange),this.draw()},setMaxDate:function(t){t instanceof Date?(Ty(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth()):(this._o.maxDate=il.maxDate,this._o.maxYear=il.maxYear,this._o.maxMonth=il.maxMonth,this._o.endRange=il.endRange),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(!this._v&&!t)return;let e=this._o,n=e.minYear,r=e.maxYear,i=e.minMonth,o=e.maxMonth,s="",a;this._y<=n&&(this._y=n,!isNaN(i)&&this._m<i&&(this._m=i)),this._y>=r&&(this._y=r,!isNaN(o)&&this._m>o&&(this._m=o));for(let u=0;u<e.numberOfMonths;u++)a="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),s+='<div class="pika-lendar">'+Owe(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year,a)+this.render(this.calendars[u].year,this.calendars[u].month,a)+"</div>";this.el.innerHTML=s,e.bound&&e.field.type!=="hidden"&&fx(function(){e.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),e.bound&&e.field.setAttribute("aria-label",e.ariaLabel)},adjustPosition:function(){let t,e,n,r,i,o,s,a,u,c,h;this._o.container||(this.el.style.position="absolute",t=this._o.trigger,e=this.el.offsetWidth,n=this.el.offsetHeight,r=Pc().innerWidth||Fs().documentElement.clientWidth,i=Pc().innerHeight||Fs().documentElement.clientHeight,o=Fs().body.scrollTop||Fs().documentElement.scrollTop,c=!0,h=!0,u=t.getBoundingClientRect(),s=u.left+Pc().pageXOffset,a=u.bottom+Pc().pageYOffset,(this._o.reposition&&s+e>r||this._o.position.indexOf("right")>-1&&s-e+t.offsetWidth>0)&&(s=s-e+t.offsetWidth,c=!1),(this._o.reposition&&a+n>i+o||this._o.position.indexOf("top")>-1&&a-n-t.offsetHeight>0)&&(a=a-n-t.offsetHeight,h=!1),s<0&&(s=0),a<0&&(a=0),this.el.style.left=s+"px",this.el.style.top=a+"px",rM(this.el,c?"left-aligned":"right-aligned"),rM(this.el,h?"bottom-aligned":"top-aligned"),iM(this.el,c?"right-aligned":"left-aligned"),iM(this.el,h?"top-aligned":"bottom-aligned"))},render:function(t,e,n){let r=this._o,i=new Date,o=xL(t,e),s=new Date(t,e,1).getDay(),a=[],u=[];Ty(i),r.firstDay>0&&(s-=r.firstDay,s<0&&(s+=7));let c=e===0?11:e-1,h=e===11?0:e+1,g=e===0?t-1:t,p=e===11?t+1:t,v=xL(g,c),y=o+s,R=y;for(;R>7;)R-=7;y+=7-R;let S=!1;for(let T=0,x=0;T<y;T++){let O=new Date(t,e,1+(T-s)),A=us(this._d)?xy(O,this._d):!1,H=xy(O,i),L=r.events.indexOf(O.toDateString())!==-1,F=T<s||T>=o+s,j=1+(T-s),z=e,Y=t,K=r.startRange&&xy(r.startRange,O),X=r.endRange&&xy(r.endRange,O),se=r.startRange&&r.endRange&&r.startRange<O&&O<r.endRange,ne=r.minDate&&O<r.minDate||r.maxDate&&O>r.maxDate||r.disableWeekends&&Swe(O)||r.disableDayFn&&r.disableDayFn(O);F&&(T<s?(j=v+j,z=c,Y=g):(j=j-o,z=h,Y=p));let J={day:j,month:z,year:Y,hasEvent:L,isSelected:A,isToday:H,isDisabled:ne,isEmpty:F,isStartRange:K,isEndRange:X,isInRange:se,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:r.enableSelectionDaysInNextAndPreviousMonths};r.pickWholeWeek&&A&&(S=!0),u.push(Ewe(J)),++x===7&&(r.showWeekNumber&&u.unshift(Mwe(this,T-s,e,t,r.firstWeekOfYearMinDays)),a.push(Twe(u,r.isRTL,r.pickWholeWeek,S)),u=[],x=0,S=!1)}return Pwe(r,a,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),iM(this.el,"is-hidden"),this._o.bound&&(pl(Fs(),"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){let t=this._v;t!==!1&&(this._o.bound&&lu(Fs(),"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),rM(this.el,"is-hidden"),this._v=!1,t!==void 0&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){let t=this._o;this.hide(),lu(this.el,"mousedown",this._onMouseDown,!0),lu(this.el,"touchend",this._onMouseDown,!0),lu(this.el,"change",this._onChange),t.keyboardInput&&lu(Fs(),"keydown",this._onKeyChange),t.field&&(lu(t.field,"change",this._onInputChange),t.bound&&(lu(t.trigger,"click",this._onInputClick),lu(t.trigger,"focus",this._onInputFocus),lu(t.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};function oM(t,e,n){return(e=Awe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Awe(t){var e=Hwe(t,"string");return typeof e=="symbol"?e:e+""}function Hwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const tz="date",AL="dateEditor";class nz extends Yh{constructor(){super(...arguments),oM(this,"defaultDateFormat","DD/MM/YYYY"),oM(this,"parentDestroyed",!1),oM(this,"$datePicker",null)}static get EDITOR_TYPE(){return tz}init(){if(typeof Ze!="function")throw new Error("You need to include moment.js to your project.");if(typeof gx!="function")throw new Error("You need to include Pikaday to your project.");super.init(),this.hot.addHook("afterDestroy",()=>{this.parentDestroyed=!0,this.destroyElements()})}createElements(){super.createElements(),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),Qe(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),this.eventManager.addEventListener(this.datePicker,"mousedown",e=>{Ft(e.target,"pika-day")&&this.hideDatepicker(),e.stopPropagation()})}destroyElements(){const e=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),e&&e.removeChild(this.datePicker)}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s)}open(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const r=this.hot.getShortcutManager().getContext("editor");this.showDatepicker(e),super.open(),r.addShortcuts([{keys:[["ArrowLeft"]],callback:()=>{this.$datePicker.adjustDate("subtract",1)}},{keys:[["ArrowRight"]],callback:()=>{this.$datePicker.adjustDate("add",1)}},{keys:[["ArrowUp"]],callback:()=>{this.$datePicker.adjustDate("subtract",7)}},{keys:[["ArrowDown"]],callback:()=>{this.$datePicker.adjustDate("add",7)}}],{group:AL})}close(){var e;this._opened=!1,(e=this.$datePicker)!==null&&e!==void 0&&e.destroy&&this.$datePicker.destroy(),this.hot._registerTimeout(()=>{const i=this.hot._getEditorManager();i.closeEditor(),this.hot.view.render(),i.prepareEditor()}),this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(AL),super.close()}finishEditing(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.finishEditing(e,n)}showDatepicker(e){const n=this.cellProperties.dateFormat||this.defaultDateFormat,r=this.hot.view.isMouseDown(),i=e?DB(e.keyCode):!1;let o;this.datePicker.style.display="block",this.$datePicker=new gx(this.getDatePickerConfig()),typeof this.$datePicker.useMoment=="function"&&this.$datePicker.useMoment(Ze),this.$datePicker._onInputFocus=function(){},this.originalValue?(o=this.originalValue,Ze(o,n,!0).isValid()&&this.$datePicker.setMoment(Ze(o,n),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),!i&&!r&&this.setValue("")):this.cellProperties.defaultDate?(o=this.cellProperties.defaultDate,Ze(o,n,!0).isValid()&&this.$datePicker.setMoment(Ze(o,n),!0),!i&&!r&&this.setValue("")):this.$datePicker.gotoToday()}hideDatepicker(){this.datePickerStyle.display="none",this.$datePicker.hide()}getDatePickerConfig(){const e=this.TEXTAREA,n={};this.cellProperties&&this.cellProperties.datePickerConfig&&z0(n,this.cellProperties.datePickerConfig);const r=n.onSelect,i=n.onClose;return n.field=e,n.trigger=e,n.container=this.datePicker,n.bound=!1,n.keyboardInput=!1,n.format=n.format||this.defaultDateFormat,n.reposition=n.reposition||!1,n.isRTL=!1,n.onSelect=o=>{let s=o;isNaN(s.getTime())||(s=Ze(s).format(this.cellProperties.dateFormat||this.defaultDateFormat)),this.setValue(s),r&&r()},n.onClose=()=>{this.parentDestroyed||this.finishEditing(!1),i&&i()},n}refreshDimensions(e){var n;if(super.refreshDimensions(e),this.state!==Zr.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.hideDatepicker();return}const{rowIndexMapper:r,columnIndexMapper:i}=this.hot,{wtOverlays:o}=this.hot.view._wt,{wtTable:s}=(n=o.getParentOverlay(this.TD))!==null&&n!==void 0?n:this.hot.view._wt,a=r.getVisualFromRenderableIndex(s.getFirstPartiallyVisibleRow()),u=r.getVisualFromRenderableIndex(s.getLastPartiallyVisibleRow()),c=i.getVisualFromRenderableIndex(s.getFirstPartiallyVisibleColumn()),h=i.getVisualFromRenderableIndex(s.getLastPartiallyVisibleColumn());if(this.row>=a&&this.row<=u&&this.col>=c&&this.col<=h){const g=this.TD.getBoundingClientRect();this.datePickerStyle.top=`${this.hot.rootWindow.pageYOffset+g.top+li(this.TD)}px`;let p=this.hot.rootWindow.pageXOffset;this.hot.isRtl()?p+=g.right-Rr(this.datePicker):p+=g.left,this.datePickerStyle.left=`${p}px`}else this.hideDatepicker()}}const Dwe="dropdown";class nA extends eA{static get EDITOR_TYPE(){return Dwe}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}mt.getSingleton().add("beforeValidate",function(t,e,n){const r=this.propToCol(n);if(Number.isInteger(r)){const i=this.getCellMeta(e,r);i.editor===nA&&i.strict===void 0&&(i.filter=!1,i.strict=!0)}});const Nwe="numeric";class rz extends Yh{static get EDITOR_TYPE(){return Nwe}}const $we="password";class iz extends Yh{static get EDITOR_TYPE(){return $we}createElements(){super.createElements(),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,Al(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}const sM="ht_editor_visible",HL="selectEditor",Lwe="select";class oz extends tm{static get EDITOR_TYPE(){return Lwe}init(){this.select=this.hot.rootDocument.createElement("select"),this.select.setAttribute("data-hot-input","true"),this.select.style.display="none",Qe(this.select,"htSelectEditor"),this.hot.rootElement.appendChild(this.select),this.registerHooks()}getValue(){return this.select.value}setValue(e){this.select.value=e}open(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this._opened=!1,this.select.style.display="none",Ft(this.select,sM)&&Zt(this.select,sM),this.unregisterShortcuts(),this.clearHooks()}focus(){this.select.focus()}registerHooks(){this.addHook("afterScrollHorizontally",()=>this.refreshDimensions()),this.addHook("afterScrollVertically",()=>this.refreshDimensions()),this.addHook("afterColumnResize",()=>this.refreshDimensions()),this.addHook("afterRowResize",()=>this.refreshDimensions())}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s);const a=this.cellProperties.selectOptions;let u;typeof a=="function"?u=this.prepareOptions(a(this.row,this.col,this.prop)):u=this.prepareOptions(a),Al(this.select),hn(u,(c,h)=>{const g=this.hot.rootDocument.createElement("OPTION");g.value=h,Jg(g,c),this.select.appendChild(g)})}prepareOptions(e){let n={};if(Array.isArray(e))for(let r=0,i=e.length;r<i;r++)n[e[r]]=e[r];else typeof e=="object"&&(n=e);return n}refreshValue(){const e=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=e,this.setValue(e),this.refreshDimensions()}refreshDimensions(){if(this.state!==Zr.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD){this.close();return}const{top:e,start:n,width:r,height:i}=this.getEditedCellRect(),o=this.select.style;o.height=`${i}px`,o.width=`${r}px`,o.top=`${e}px`,o[this.hot.isRtl()?"right":"left"]=`${n}px`,o.margin="0px",Qe(this.select,sM)}registerShortcuts(){const n=this.hot.getShortcutManager().getContext("editor"),r={group:HL};this.isInFullEditMode()&&n.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{const i=this.select.selectedIndex-1;i>=0&&(this.select[i].selected=!0)}},{keys:[["ArrowDown"]],callback:()=>{const i=this.select.selectedIndex+1;i<=this.select.length-1&&(this.select[i].selected=!0)}}],r)}unregisterShortcuts(){this.hot.getShortcutManager().getContext("editor").removeShortcutsByGroup(HL)}}const kwe="time";class sz extends Yh{static get EDITOR_TYPE(){return kwe}prepare(e,n,r,i,o,s){super.prepare(e,n,r,i,o,s),this.TEXTAREA.dir="ltr"}}function Fwe(){ss(tm),ss(eA),ss(ez),ss(nz),ss(nA),ss(JP),ss(rz),ss(iz),ss(oz),ss(Yh),ss(sz)}const Vwe="html";function rA(t,e,n,r,i,o,s){fw.apply(this,[t,e,n,r,i,o,s]),Jg(e,o??"",!1)}rA.RENDERER_TYPE=Vwe;const Wwe="autocomplete";function nm(t,e,n,r,i,o,s){const{rootDocument:a}=t,u=s.allowHtml?rA:Wu,c=a.createElement("DIV"),h=t.getSettings().ariaTags;if(c.className="htAutocompleteArrow",h&&c.setAttribute(...jh()),c.appendChild(a.createTextNode("▼")),u.apply(this,[t,e,n,r,i,o,s]),e.firstChild||e.appendChild(a.createTextNode(" ")),e.insertBefore(c,e.firstChild),Qe(e,"htAutocomplete"),!t.acArrowListener){const g=new Pa(t);t.acArrowListener=function(p){Ft(p.target,"htAutocompleteArrow")&&t.view._wt.getSetting("onCellDblClick",null,t._createCellCoords(n,r),e)},g.addEventListener(t.rootElement,"mousedown",t.acArrowListener),t.addHookOnce("afterDestroy",()=>{g.destroy()})}}nm.RENDERER_TYPE=Wwe;const Bwe="dropdown";function iA(t,e,n,r,i,o,s){nm.apply(this,[t,e,n,r,i,o,s])}iA.RENDERER_TYPE=Bwe;const DL=new WeakMap,NL=new WeakMap,jwe="htBadValue",Ng="data-row",$g="data-col",zwe="checkboxRenderer",az="checkbox";mt.getSingleton().add("modifyAutoColumnSizeSeed",function(t,e,n){const{label:r,type:i,row:o,column:s,prop:a}=e;if(i===az){if(r){const{value:u,property:c}=r;let h=n;if(u)h=typeof u=="function"?u(o,s,a,n):u;else if(c){const g=this.getDataAtRowProp(o,c);h=g!==null?g:n}t=h}return t}});function oA(t,e,n,r,i,o,s){const{rootDocument:a}=t,u=t.getSettings().ariaTags;fw.apply(this,[t,e,n,r,i,o,s]),Ywe(t);let c=Uwe(a);const h=s.label;let g=!1;if(typeof s.checkedTemplate>"u"&&(s.checkedTemplate=!0),typeof s.uncheckedTemplate>"u"&&(s.uncheckedTemplate=!1),Al(e),o===s.checkedTemplate||ai(o).toLocaleLowerCase(s.locale)===ai(s.checkedTemplate).toLocaleLowerCase(s.locale)?c.checked=!0:o===s.uncheckedTemplate||ai(o).toLocaleLowerCase(s.locale)===ai(s.uncheckedTemplate).toLocaleLowerCase(s.locale)?c.checked=!1:ei(o)?Qe(c,"noValue"):(c.style.display="none",Qe(c,jwe),g=!0),Lt(c,[[Ng,n],[$g,r]]),u&&Lt(c,[gS(c.checked?t.getTranslatedPhrase(KP):t.getTranslatedPhrase(qP)),hB(c.checked),Lle()]),!g&&h){let R="";if(h.value)R=typeof h.value=="function"?h.value.call(this,n,r,i,o):h.value;else if(h.property){const T=t.getDataAtRowProp(n,h.property);R=T!==null?T:""}const S=Gwe(a,R,h.separated!==!0);h.position==="before"?h.separated?(e.appendChild(S),e.appendChild(c)):(S.appendChild(c),c=S):(!h.position||h.position==="after")&&(h.separated?(e.appendChild(c),e.appendChild(S)):(S.insertBefore(c,S.firstChild),c=S))}(!h||h&&!h.separated)&&e.appendChild(c),g&&e.appendChild(a.createTextNode("#bad-value#")),DL.has(t)||(DL.set(t,!0),p());function p(){const S=t.getShortcutManager().getContext("grid"),T={group:zwe,relativeToGroup:ed,position:"before"};S.addShortcuts([{keys:[["space"]],callback:()=>(v(),!y()),runOnlyIf:()=>{var x;return(x=t.getSelectedRangeLast())===null||x===void 0?void 0:x.highlight.isCell()}},{keys:[["enter"]],callback:()=>(v(),!y()),runOnlyIf:()=>{const x=t.getSelectedRangeLast();return t.getSettings().enterBeginsEditing&&(x==null?void 0:x.isSingle())&&x.highlight.isCell()}},{keys:[["delete"],["backspace"]],callback:()=>(v(!0),!y()),runOnlyIf:()=>{var x;return(x=t.getSelectedRangeLast())===null||x===void 0?void 0:x.highlight.isCell()}}],T)}function v(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const S=t.getSelectedRange(),T=[],x=new Map;let O=[],A=0;if(S){for(let H=0;H<S.length;H++){const{row:L,col:F}=S[H].getTopStartCorner(),{row:j,col:z}=S[H].getBottomEndCorner();for(let Y=L;Y<=j;Y+=1)for(let K=F;K<=z;K+=1){const X=t.getCellMeta(Y,K),se={checkedTemplate:X.checkedTemplate,uncheckedTemplate:X.uncheckedTemplate};if(X.type!=="checkbox"){R===!0&&!X.readOnly&&(x.has(T.length)?x.set(T.length,[...x.get(T.length),[Y,K,null]]):x.set(T.length,[[Y,K,null]]));continue}if(X.readOnly===!0)continue;typeof X.checkedTemplate>"u"&&(X.checkedTemplate=!0),typeof X.uncheckedTemplate>"u"&&(X.uncheckedTemplate=!1);const ne=t.getDataAtCell(Y,K);R===!1?[X.checkedTemplate,X.checkedTemplate.toString()].includes(ne)?O.push([Y,K,X.uncheckedTemplate,se]):[X.uncheckedTemplate,X.uncheckedTemplate.toString(),null,void 0].includes(ne)&&O.push([Y,K,X.checkedTemplate,se]):O.push([Y,K,X.uncheckedTemplate,se]),A+=1}T.push(A),A=0}O.every(H=>{let[,,L]=H;return L===O[0][2]})?O=O.map(H=>{let[L,F,j]=H;return[L,F,j]}):O=O.map(H=>{let[L,F,,j]=H;return[L,F,j.checkedTemplate]}),O.length>0&&T.forEach((H,L)=>{let F=O.splice(0,H);x.size&&x.has(L)&&(F=[...F,...x.get(L)]),t.setDataAtCell(F)})}}function y(){const R=t.getSelectedRange();if(R){for(let S=0;S<R.length;S++){const T=R[S].getTopStartCorner(),x=R[S].getBottomEndCorner();for(let O=T.row;O<=x.row;O++)for(let A=T.col;A<=x.col;A++){const H=t.getCellMeta(O,A),L=t.getCell(O,A);if(L==null)return!0;if(L.querySelectorAll("input[type=checkbox]").length>0&&!H.readOnly)return!0}}return!1}}}oA.RENDERER_TYPE=az;function Ywe(t){let e=NL.get(t);if(!e){const{rootElement:n}=t;e=new Pa(t),e.addEventListener(n,"click",r=>qwe(r,t)),e.addEventListener(n,"mouseup",r=>Kwe(r,t)),e.addEventListener(n,"change",r=>Xwe(r,t)),NL.set(t,e)}return e}function Uwe(t){const e=t.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("tabindex","-1"),e.cloneNode(!1)}function Gwe(t,e,n){const r=t.createElement("label");return r.className=`htCheckboxRendererLabel ${n?"fullWidth":""}`,r.appendChild(t.createTextNode(e)),r.cloneNode(!0)}function Kwe(t,e){const{target:n}=t;sA(n)&&(!n.hasAttribute(Ng)||!n.hasAttribute($g)||setTimeout(e.listen,10))}function qwe(t,e){const{target:n}=t;if(!sA(n)||!n.hasAttribute(Ng)||!n.hasAttribute($g))return;const r=parseInt(n.getAttribute(Ng),10),i=parseInt(n.getAttribute($g),10);e.getCellMeta(r,i).readOnly&&t.preventDefault()}function Xwe(t,e){const{target:n}=t;if(!sA(n)||!n.hasAttribute(Ng)||!n.hasAttribute($g))return;const r=parseInt(n.getAttribute(Ng),10),i=parseInt(n.getAttribute($g),10),o=e.getCellMeta(r,i);if(!o.readOnly){let s=null;t.target.checked?s=o.uncheckedTemplate===void 0?!0:o.checkedTemplate:s=o.uncheckedTemplate===void 0?!1:o.uncheckedTemplate,e.setDataAtCell(r,i,s)}}function sA(t){return t.tagName==="INPUT"&&t.getAttribute("type")==="checkbox"}const Zwe="handsontable";function aA(t,e,n,r,i,o,s){nm.apply(this,[t,e,n,r,i,o,s])}aA.RENDERER_TYPE=Zwe;var lz={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,o){function s(c,h){if(!i[c]){if(!r[c]){var g=typeof dg=="function"&&dg;if(!h&&g)return g(c,!0);if(a)return a(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var v=i[c]={exports:{}};r[c][0].call(v.exports,function(y){return s(r[c][1][y]||y)},v,v.exports,n,r,i,o)}return i[c].exports}for(var a=typeof dg=="function"&&dg,u=0;u<o.length;u++)s(o[u]);return s}({1:[function(n,r,i){(function(o){var s,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,u=Math.ceil,c=Math.floor,h="[BigNumber Error] ",g=h+"Number primitive has more than 15 significant digits: ",p=1e14,v=14,y=9007199254740991,R=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],S=1e7,T=1e9;function x(z){var Y=0|z;return 0<z||z===Y?Y:Y-1}function O(z){for(var Y,K,X=1,se=z.length,ne=z[0]+"";X<se;){for(Y=z[X++]+"",K=v-Y.length;K--;Y="0"+Y);ne+=Y}for(se=ne.length;ne.charCodeAt(--se)===48;);return ne.slice(0,se+1||1)}function A(z,Y){var K,X,se=z.c,ne=Y.c,J=z.s,re=Y.s,ae=z.e,G=Y.e;if(!J||!re)return null;if(K=se&&!se[0],X=ne&&!ne[0],K||X)return K?X?0:-re:J;if(J!=re)return J;if(K=J<0,X=ae==G,!se||!ne)return X?0:!se^K?1:-1;if(!X)return G<ae^K?1:-1;for(re=(ae=se.length)<(G=ne.length)?ae:G,J=0;J<re;J++)if(se[J]!=ne[J])return se[J]>ne[J]^K?1:-1;return ae==G?0:G<ae^K?1:-1}function H(z,Y,K,X){if(z<Y||K<z||z!==(z<0?u(z):c(z)))throw Error(h+(X||"Argument")+(typeof z=="number"?z<Y||K<z?" out of range: ":" not an integer: ":" not a primitive number: ")+String(z))}function L(z){var Y=z.c.length-1;return x(z.e/v)==Y&&z.c[Y]%2!=0}function F(z,Y){return(1<z.length?z.charAt(0)+"."+z.slice(1):z)+(Y<0?"e":"e+")+Y}function j(z,Y,K){var X,se;if(Y<0){for(se=K+".";++Y;se+=K);z=se+z}else if(++Y>(X=z.length)){for(se=K,Y-=X;--Y;se+=K);z+=se}else Y<X&&(z=z.slice(0,Y)+"."+z.slice(Y));return z}(s=function z(Y){var K,X,se,ne,J,re,ae,G,oe,te,C=ee.prototype={constructor:ee,toString:null,valueOf:null},E=new ee(1),I=20,$=4,N=-7,Z=21,ue=-1e7,me=1e7,Me=!1,be=1,le=0,Ee={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},_e="0123456789abcdefghijklmnopqrstuvwxyz";function ee(k,V){var q,fe,Q,we,ce,ie,ve,pe,ge=this;if(!(ge instanceof ee))return new ee(k,V);if(V==null){if(k instanceof ee)return ge.s=k.s,ge.e=k.e,void(ge.c=(k=k.c)?k.slice():k);if((ie=typeof k=="number")&&0*k==0){if(ge.s=1/k<0?(k=-k,-1):1,k===~~k){for(we=0,ce=k;10<=ce;ce/=10,we++);return ge.e=we,void(ge.c=[k])}pe=String(k)}else{if(pe=String(k),!a.test(pe))return se(ge,pe,ie);ge.s=pe.charCodeAt(0)==45?(pe=pe.slice(1),-1):1}-1<(we=pe.indexOf("."))&&(pe=pe.replace(".","")),0<(ce=pe.search(/e/i))?(we<0&&(we=ce),we+=+pe.slice(ce+1),pe=pe.substring(0,ce)):we<0&&(we=pe.length)}else{if(H(V,2,_e.length,"Base"),pe=String(k),V==10)return Be(ge=new ee(k instanceof ee?k:pe),I+ge.e+1,$);if(ie=typeof k=="number"){if(0*k!=0)return se(ge,pe,ie,V);if(ge.s=1/k<0?(pe=pe.slice(1),-1):1,ee.DEBUG&&15<pe.replace(/^0\.0*|\./,"").length)throw Error(g+k);ie=!1}else ge.s=pe.charCodeAt(0)===45?(pe=pe.slice(1),-1):1;for(q=_e.slice(0,V),we=ce=0,ve=pe.length;ce<ve;ce++)if(q.indexOf(fe=pe.charAt(ce))<0){if(fe=="."){if(we<ce){we=ve;continue}}else if(!Q&&(pe==pe.toUpperCase()&&(pe=pe.toLowerCase())||pe==pe.toLowerCase()&&(pe=pe.toUpperCase()))){Q=!0,ce=-1,we=0;continue}return se(ge,String(k),ie,V)}-1<(we=(pe=X(pe,V,10,ge.s)).indexOf("."))?pe=pe.replace(".",""):we=pe.length}for(ce=0;pe.charCodeAt(ce)===48;ce++);for(ve=pe.length;pe.charCodeAt(--ve)===48;);if(pe=pe.slice(ce,++ve)){if(ve-=ce,ie&&ee.DEBUG&&15<ve&&(y<k||k!==c(k)))throw Error(g+ge.s*k);if(me<(we=we-ce-1))ge.c=ge.e=null;else if(we<ue)ge.c=[ge.e=0];else{if(ge.e=we,ge.c=[],ce=(we+1)%v,we<0&&(ce+=v),ce<ve){for(ce&&ge.c.push(+pe.slice(0,ce)),ve-=v;ce<ve;)ge.c.push(+pe.slice(ce,ce+=v));pe=pe.slice(ce),ce=v-pe.length}else ce-=ve;for(;ce--;pe+="0");ge.c.push(+pe)}}else ge.c=[ge.e=0]}function De(k,V,q,fe){var Q,we,ce,ie,ve;if(q==null?q=$:H(q,0,8),!k.c)return k.toString();if(Q=k.c[0],ce=k.e,V==null)ve=O(k.c),ve=fe==1||fe==2&&(ce<=N||Z<=ce)?F(ve,ce):j(ve,ce,"0");else if(we=(k=Be(new ee(k),V,q)).e,ie=(ve=O(k.c)).length,fe==1||fe==2&&(V<=we||we<=N)){for(;ie<V;ve+="0",ie++);ve=F(ve,we)}else if(V-=ce,ve=j(ve,we,"0"),ie<we+1){if(0<--V)for(ve+=".";V--;ve+="0");}else if(0<(V+=we-ie))for(we+1==ie&&(ve+=".");V--;ve+="0");return k.s<0&&Q?"-"+ve:ve}function Ae(k,V){for(var q,fe=1,Q=new ee(k[0]);fe<k.length;fe++){if(!(q=new ee(k[fe])).s){Q=q;break}V.call(Q,q)&&(Q=q)}return Q}function Pe(k,V,q){for(var fe=1,Q=V.length;!V[--Q];V.pop());for(Q=V[0];10<=Q;Q/=10,fe++);return(q=fe+q*v-1)>me?k.c=k.e=null:k.c=q<ue?[k.e=0]:(k.e=q,V),k}function Be(k,V,q,fe){var Q,we,ce,ie,ve,pe,ge,$e=k.c,Fe=R;if($e){e:{for(Q=1,ie=$e[0];10<=ie;ie/=10,Q++);if((we=V-Q)<0)we+=v,ce=V,ge=(ve=$e[pe=0])/Fe[Q-ce-1]%10|0;else if((pe=u((we+1)/v))>=$e.length){if(!fe)break e;for(;$e.length<=pe;$e.push(0));ve=ge=0,ce=(we%=v)-v+(Q=1)}else{for(ve=ie=$e[pe],Q=1;10<=ie;ie/=10,Q++);ge=(ce=(we%=v)-v+Q)<0?0:ve/Fe[Q-ce-1]%10|0}if(fe=fe||V<0||$e[pe+1]!=null||(ce<0?ve:ve%Fe[Q-ce-1]),fe=q<4?(ge||fe)&&(q==0||q==(k.s<0?3:2)):5<ge||ge==5&&(q==4||fe||q==6&&(0<we?0<ce?ve/Fe[Q-ce]:0:$e[pe-1])%10&1||q==(k.s<0?8:7)),V<1||!$e[0])return $e.length=0,fe?(V-=k.e+1,$e[0]=Fe[(v-V%v)%v],k.e=-V||0):$e[0]=k.e=0,k;if(we==0?($e.length=pe,ie=1,pe--):($e.length=pe+1,ie=Fe[v-we],$e[pe]=0<ce?c(ve/Fe[Q-ce]%Fe[ce])*ie:0),fe)for(;;){if(pe==0){for(we=1,ce=$e[0];10<=ce;ce/=10,we++);for(ce=$e[0]+=ie,ie=1;10<=ce;ce/=10,ie++);we!=ie&&(k.e++,$e[0]==p&&($e[0]=1));break}if($e[pe]+=ie,$e[pe]!=p)break;$e[pe--]=0,ie=1}for(we=$e.length;$e[--we]===0;$e.pop());}k.e>me?k.c=k.e=null:k.e<ue&&(k.c=[k.e=0])}return k}function je(k){var V,q=k.e;return q===null?k.toString():(V=O(k.c),V=q<=N||Z<=q?F(V,q):j(V,q,"0"),k.s<0?"-"+V:V)}return ee.clone=z,ee.ROUND_UP=0,ee.ROUND_DOWN=1,ee.ROUND_CEIL=2,ee.ROUND_FLOOR=3,ee.ROUND_HALF_UP=4,ee.ROUND_HALF_DOWN=5,ee.ROUND_HALF_EVEN=6,ee.ROUND_HALF_CEIL=7,ee.ROUND_HALF_FLOOR=8,ee.EUCLID=9,ee.config=ee.set=function(k){var V,q;if(k!=null){if(typeof k!="object")throw Error(h+"Object expected: "+k);if(k.hasOwnProperty(V="DECIMAL_PLACES")&&(H(q=k[V],0,T,V),I=q),k.hasOwnProperty(V="ROUNDING_MODE")&&(H(q=k[V],0,8,V),$=q),k.hasOwnProperty(V="EXPONENTIAL_AT")&&((q=k[V])&&q.pop?(H(q[0],-T,0,V),H(q[1],0,T,V),N=q[0],Z=q[1]):(H(q,-T,T,V),N=-(Z=q<0?-q:q))),k.hasOwnProperty(V="RANGE"))if((q=k[V])&&q.pop)H(q[0],-T,-1,V),H(q[1],1,T,V),ue=q[0],me=q[1];else{if(H(q,-T,T,V),!q)throw Error(h+V+" cannot be zero: "+q);ue=-(me=q<0?-q:q)}if(k.hasOwnProperty(V="CRYPTO")){if((q=k[V])!==!!q)throw Error(h+V+" not true or false: "+q);if(q){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Me=!q,Error(h+"crypto unavailable");Me=q}else Me=q}if(k.hasOwnProperty(V="MODULO_MODE")&&(H(q=k[V],0,9,V),be=q),k.hasOwnProperty(V="POW_PRECISION")&&(H(q=k[V],0,T,V),le=q),k.hasOwnProperty(V="FORMAT")){if(typeof(q=k[V])!="object")throw Error(h+V+" not an object: "+q);Ee=q}if(k.hasOwnProperty(V="ALPHABET")){if(typeof(q=k[V])!="string"||/^.$|[+-.\s]|(.).*\1/.test(q))throw Error(h+V+" invalid: "+q);_e=q}}return{DECIMAL_PLACES:I,ROUNDING_MODE:$,EXPONENTIAL_AT:[N,Z],RANGE:[ue,me],CRYPTO:Me,MODULO_MODE:be,POW_PRECISION:le,FORMAT:Ee,ALPHABET:_e}},ee.isBigNumber=function(k){return k instanceof ee||k&&k._isBigNumber===!0||!1},ee.maximum=ee.max=function(){return Ae(arguments,C.lt)},ee.minimum=ee.min=function(){return Ae(arguments,C.gt)},ee.random=(ne=9007199254740992,J=Math.random()*ne&2097151?function(){return c(Math.random()*ne)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(k){var V,q,fe,Q,we,ce=0,ie=[],ve=new ee(E);if(k==null?k=I:H(k,0,T),Q=u(k/v),Me)if(crypto.getRandomValues){for(V=crypto.getRandomValues(new Uint32Array(Q*=2));ce<Q;)9e15<=(we=131072*V[ce]+(V[ce+1]>>>11))?(q=crypto.getRandomValues(new Uint32Array(2)),V[ce]=q[0],V[ce+1]=q[1]):(ie.push(we%1e14),ce+=2);ce=Q/2}else{if(!crypto.randomBytes)throw Me=!1,Error(h+"crypto unavailable");for(V=crypto.randomBytes(Q*=7);ce<Q;)9e15<=(we=281474976710656*(31&V[ce])+1099511627776*V[ce+1]+4294967296*V[ce+2]+16777216*V[ce+3]+(V[ce+4]<<16)+(V[ce+5]<<8)+V[ce+6])?crypto.randomBytes(7).copy(V,ce):(ie.push(we%1e14),ce+=7);ce=Q/7}if(!Me)for(;ce<Q;)(we=J())<9e15&&(ie[ce++]=we%1e14);for(Q=ie[--ce],k%=v,Q&&k&&(we=R[v-k],ie[ce]=c(Q/we)*we);ie[ce]===0;ie.pop(),ce--);if(ce<0)ie=[fe=0];else{for(fe=-1;ie[0]===0;ie.splice(0,1),fe-=v);for(ce=1,we=ie[0];10<=we;we/=10,ce++);ce<v&&(fe-=v-ce)}return ve.e=fe,ve.c=ie,ve}),ee.sum=function(){for(var k=1,V=arguments,q=new ee(V[0]);k<V.length;)q=q.plus(V[k++]);return q},X=function(){var k="0123456789";function V(q,fe,Q,we){for(var ce,ie,ve=[0],pe=0,ge=q.length;pe<ge;){for(ie=ve.length;ie--;ve[ie]*=fe);for(ve[0]+=we.indexOf(q.charAt(pe++)),ce=0;ce<ve.length;ce++)ve[ce]>Q-1&&(ve[ce+1]==null&&(ve[ce+1]=0),ve[ce+1]+=ve[ce]/Q|0,ve[ce]%=Q)}return ve.reverse()}return function(q,fe,Q,we,ce){var ie,ve,pe,ge,$e,Fe,Ie,xe,ze=q.indexOf("."),Ge=I,Oe=$;for(0<=ze&&(ge=le,le=0,q=q.replace(".",""),Fe=(xe=new ee(fe)).pow(q.length-ze),le=ge,xe.c=V(j(O(Fe.c),Fe.e,"0"),10,Q,k),xe.e=xe.c.length),pe=ge=(Ie=V(q,fe,Q,ce?(ie=_e,k):(ie=k,_e))).length;Ie[--ge]==0;Ie.pop());if(!Ie[0])return ie.charAt(0);if(ze<0?--pe:(Fe.c=Ie,Fe.e=pe,Fe.s=we,Ie=(Fe=K(Fe,xe,Ge,Oe,Q)).c,$e=Fe.r,pe=Fe.e),ze=Ie[ve=pe+Ge+1],ge=Q/2,$e=$e||ve<0||Ie[ve+1]!=null,$e=Oe<4?(ze!=null||$e)&&(Oe==0||Oe==(Fe.s<0?3:2)):ge<ze||ze==ge&&(Oe==4||$e||Oe==6&&1&Ie[ve-1]||Oe==(Fe.s<0?8:7)),ve<1||!Ie[0])q=$e?j(ie.charAt(1),-Ge,ie.charAt(0)):ie.charAt(0);else{if(Ie.length=ve,$e)for(--Q;++Ie[--ve]>Q;)Ie[ve]=0,ve||(++pe,Ie=[1].concat(Ie));for(ge=Ie.length;!Ie[--ge];);for(ze=0,q="";ze<=ge;q+=ie.charAt(Ie[ze++]));q=j(q,pe,ie.charAt(0))}return q}}(),K=function(){function k(fe,Q,we){var ce,ie,ve,pe,ge=0,$e=fe.length,Fe=Q%S,Ie=Q/S|0;for(fe=fe.slice();$e--;)ge=((ie=Fe*(ve=fe[$e]%S)+(ce=Ie*ve+(pe=fe[$e]/S|0)*Fe)%S*S+ge)/we|0)+(ce/S|0)+Ie*pe,fe[$e]=ie%we;return ge&&(fe=[ge].concat(fe)),fe}function V(fe,Q,we,ce){var ie,ve;if(we!=ce)ve=ce<we?1:-1;else for(ie=ve=0;ie<we;ie++)if(fe[ie]!=Q[ie]){ve=fe[ie]>Q[ie]?1:-1;break}return ve}function q(fe,Q,we,ce){for(var ie=0;we--;)fe[we]-=ie,ie=fe[we]<Q[we]?1:0,fe[we]=ie*ce+fe[we]-Q[we];for(;!fe[0]&&1<fe.length;fe.splice(0,1));}return function(fe,Q,we,ce,ie){var ve,pe,ge,$e,Fe,Ie,xe,ze,Ge,Oe,Ye,wt,sn,Nt,In,wn,At,qe=fe.s==Q.s?1:-1,Ut=fe.c,Yt=Q.c;if(!(Ut&&Ut[0]&&Yt&&Yt[0]))return new ee(fe.s&&Q.s&&(Ut?!Yt||Ut[0]!=Yt[0]:Yt)?Ut&&Ut[0]==0||!Yt?0*qe:qe/0:NaN);for(Ge=(ze=new ee(qe)).c=[],qe=we+(pe=fe.e-Q.e)+1,ie||(ie=p,pe=x(fe.e/v)-x(Q.e/v),qe=qe/v|0),ge=0;Yt[ge]==(Ut[ge]||0);ge++);if(Yt[ge]>(Ut[ge]||0)&&pe--,qe<0)Ge.push(1),$e=!0;else{for(Nt=Ut.length,wn=Yt.length,qe+=2,1<(Fe=c(ie/(Yt[ge=0]+1)))&&(Yt=k(Yt,Fe,ie),Ut=k(Ut,Fe,ie),wn=Yt.length,Nt=Ut.length),sn=wn,Ye=(Oe=Ut.slice(0,wn)).length;Ye<wn;Oe[Ye++]=0);At=Yt.slice(),At=[0].concat(At),In=Yt[0],Yt[1]>=ie/2&&In++;do{if(Fe=0,(ve=V(Yt,Oe,wn,Ye))<0){if(wt=Oe[0],wn!=Ye&&(wt=wt*ie+(Oe[1]||0)),1<(Fe=c(wt/In)))for(ie<=Fe&&(Fe=ie-1),xe=(Ie=k(Yt,Fe,ie)).length,Ye=Oe.length;V(Ie,Oe,xe,Ye)==1;)Fe--,q(Ie,wn<xe?At:Yt,xe,ie),xe=Ie.length,ve=1;else Fe==0&&(ve=Fe=1),xe=(Ie=Yt.slice()).length;if(xe<Ye&&(Ie=[0].concat(Ie)),q(Oe,Ie,Ye,ie),Ye=Oe.length,ve==-1)for(;V(Yt,Oe,wn,Ye)<1;)Fe++,q(Oe,wn<Ye?At:Yt,Ye,ie),Ye=Oe.length}else ve===0&&(Fe++,Oe=[0]);Ge[ge++]=Fe,Oe[0]?Oe[Ye++]=Ut[sn]||0:(Oe=[Ut[sn]],Ye=1)}while((sn++<Nt||Oe[0]!=null)&&qe--);$e=Oe[0]!=null,Ge[0]||Ge.splice(0,1)}if(ie==p){for(ge=1,qe=Ge[0];10<=qe;qe/=10,ge++);Be(ze,we+(ze.e=ge+pe*v-1)+1,ce,$e)}else ze.e=pe,ze.r=+$e;return ze}}(),re=/^(-?)0([xbo])(?=\w[\w.]*$)/i,ae=/^([^.]+)\.$/,G=/^\.([^.]+)$/,oe=/^-?(Infinity|NaN)$/,te=/^\s*\+(?=[\w.])|^\s+|\s+$/g,se=function(k,V,q,fe){var Q,we=q?V:V.replace(te,"");if(oe.test(we))k.s=isNaN(we)?null:we<0?-1:1,k.c=k.e=null;else{if(!q&&(we=we.replace(re,function(ce,ie,ve){return Q=(ve=ve.toLowerCase())=="x"?16:ve=="b"?2:8,fe&&fe!=Q?ce:ie}),fe&&(Q=fe,we=we.replace(ae,"$1").replace(G,"0.$1")),V!=we))return new ee(we,Q);if(ee.DEBUG)throw Error(h+"Not a"+(fe?" base "+fe:"")+" number: "+V);k.c=k.e=k.s=null}},C.absoluteValue=C.abs=function(){var k=new ee(this);return k.s<0&&(k.s=1),k},C.comparedTo=function(k,V){return A(this,new ee(k,V))},C.decimalPlaces=C.dp=function(k,V){var q,fe,Q;if(k!=null)return H(k,0,T),V==null?V=$:H(V,0,8),Be(new ee(this),k+this.e+1,V);if(!(q=this.c))return null;if(fe=((Q=q.length-1)-x(this.e/v))*v,Q=q[Q])for(;Q%10==0;Q/=10,fe--);return fe<0&&(fe=0),fe},C.dividedBy=C.div=function(k,V){return K(this,new ee(k,V),I,$)},C.dividedToIntegerBy=C.idiv=function(k,V){return K(this,new ee(k,V),0,1)},C.exponentiatedBy=C.pow=function(k,V){var q,fe,Q,we,ce,ie,ve,pe,ge=this;if((k=new ee(k)).c&&!k.isInteger())throw Error(h+"Exponent not an integer: "+je(k));if(V!=null&&(V=new ee(V)),ce=14<k.e,!ge.c||!ge.c[0]||ge.c[0]==1&&!ge.e&&ge.c.length==1||!k.c||!k.c[0])return pe=new ee(Math.pow(+je(ge),ce?2-L(k):+je(k))),V?pe.mod(V):pe;if(ie=k.s<0,V){if(V.c?!V.c[0]:!V.s)return new ee(NaN);(fe=!ie&&ge.isInteger()&&V.isInteger())&&(ge=ge.mod(V))}else{if(9<k.e&&(0<ge.e||ge.e<-1||(ge.e==0?1<ge.c[0]||ce&&24e7<=ge.c[1]:ge.c[0]<8e13||ce&&ge.c[0]<=9999975e7)))return we=ge.s<0&&L(k)?-0:0,-1<ge.e&&(we=1/we),new ee(ie?1/we:we);le&&(we=u(le/v+2))}for(ve=ce?(q=new ee(.5),ie&&(k.s=1),L(k)):(Q=Math.abs(+je(k)))%2,pe=new ee(E);;){if(ve){if(!(pe=pe.times(ge)).c)break;we?pe.c.length>we&&(pe.c.length=we):fe&&(pe=pe.mod(V))}if(Q){if((Q=c(Q/2))===0)break;ve=Q%2}else if(Be(k=k.times(q),k.e+1,1),14<k.e)ve=L(k);else{if((Q=+je(k))==0)break;ve=Q%2}ge=ge.times(ge),we?ge.c&&ge.c.length>we&&(ge.c.length=we):fe&&(ge=ge.mod(V))}return fe?pe:(ie&&(pe=E.div(pe)),V?pe.mod(V):we?Be(pe,le,$,void 0):pe)},C.integerValue=function(k){var V=new ee(this);return k==null?k=$:H(k,0,8),Be(V,V.e+1,k)},C.isEqualTo=C.eq=function(k,V){return A(this,new ee(k,V))===0},C.isFinite=function(){return!!this.c},C.isGreaterThan=C.gt=function(k,V){return 0<A(this,new ee(k,V))},C.isGreaterThanOrEqualTo=C.gte=function(k,V){return(V=A(this,new ee(k,V)))===1||V===0},C.isInteger=function(){return!!this.c&&x(this.e/v)>this.c.length-2},C.isLessThan=C.lt=function(k,V){return A(this,new ee(k,V))<0},C.isLessThanOrEqualTo=C.lte=function(k,V){return(V=A(this,new ee(k,V)))===-1||V===0},C.isNaN=function(){return!this.s},C.isNegative=function(){return this.s<0},C.isPositive=function(){return 0<this.s},C.isZero=function(){return!!this.c&&this.c[0]==0},C.minus=function(k,V){var q,fe,Q,we,ce=this,ie=ce.s;if(V=(k=new ee(k,V)).s,!ie||!V)return new ee(NaN);if(ie!=V)return k.s=-V,ce.plus(k);var ve=ce.e/v,pe=k.e/v,ge=ce.c,$e=k.c;if(!ve||!pe){if(!ge||!$e)return ge?(k.s=-V,k):new ee($e?ce:NaN);if(!ge[0]||!$e[0])return $e[0]?(k.s=-V,k):new ee(ge[0]?ce:$==3?-0:0)}if(ve=x(ve),pe=x(pe),ge=ge.slice(),ie=ve-pe){for((Q=(we=ie<0)?(ie=-ie,ge):(pe=ve,$e)).reverse(),V=ie;V--;Q.push(0));Q.reverse()}else for(fe=(we=(ie=ge.length)<(V=$e.length))?ie:V,ie=V=0;V<fe;V++)if(ge[V]!=$e[V]){we=ge[V]<$e[V];break}if(we&&(Q=ge,ge=$e,$e=Q,k.s=-k.s),0<(V=(fe=$e.length)-(q=ge.length)))for(;V--;ge[q++]=0);for(V=p-1;ie<fe;){if(ge[--fe]<$e[fe]){for(q=fe;q&&!ge[--q];ge[q]=V);--ge[q],ge[fe]+=p}ge[fe]-=$e[fe]}for(;ge[0]==0;ge.splice(0,1),--pe);return ge[0]?Pe(k,ge,pe):(k.s=$==3?-1:1,k.c=[k.e=0],k)},C.modulo=C.mod=function(k,V){var q,fe,Q=this;return k=new ee(k,V),!Q.c||!k.s||k.c&&!k.c[0]?new ee(NaN):!k.c||Q.c&&!Q.c[0]?new ee(Q):(be==9?(fe=k.s,k.s=1,q=K(Q,k,0,3),k.s=fe,q.s*=fe):q=K(Q,k,0,be),(k=Q.minus(q.times(k))).c[0]||be!=1||(k.s=Q.s),k)},C.multipliedBy=C.times=function(k,V){var q,fe,Q,we,ce,ie,ve,pe,ge,$e,Fe,Ie,xe,ze,Ge,Oe=this,Ye=Oe.c,wt=(k=new ee(k,V)).c;if(!(Ye&&wt&&Ye[0]&&wt[0]))return!Oe.s||!k.s||Ye&&!Ye[0]&&!wt||wt&&!wt[0]&&!Ye?k.c=k.e=k.s=null:(k.s*=Oe.s,Ye&&wt?(k.c=[0],k.e=0):k.c=k.e=null),k;for(fe=x(Oe.e/v)+x(k.e/v),k.s*=Oe.s,(ve=Ye.length)<($e=wt.length)&&(xe=Ye,Ye=wt,wt=xe,Q=ve,ve=$e,$e=Q),Q=ve+$e,xe=[];Q--;xe.push(0));for(ze=p,Ge=S,Q=$e;0<=--Q;){for(q=0,Fe=wt[Q]%Ge,Ie=wt[Q]/Ge|0,we=Q+(ce=ve);Q<we;)q=((pe=Fe*(pe=Ye[--ce]%Ge)+(ie=Ie*pe+(ge=Ye[ce]/Ge|0)*Fe)%Ge*Ge+xe[we]+q)/ze|0)+(ie/Ge|0)+Ie*ge,xe[we--]=pe%ze;xe[we]=q}return q?++fe:xe.splice(0,1),Pe(k,xe,fe)},C.negated=function(){var k=new ee(this);return k.s=-k.s||null,k},C.plus=function(k,V){var q,fe=this,Q=fe.s;if(V=(k=new ee(k,V)).s,!Q||!V)return new ee(NaN);if(Q!=V)return k.s=-V,fe.minus(k);var we=fe.e/v,ce=k.e/v,ie=fe.c,ve=k.c;if(!we||!ce){if(!ie||!ve)return new ee(Q/0);if(!ie[0]||!ve[0])return ve[0]?k:new ee(ie[0]?fe:0*Q)}if(we=x(we),ce=x(ce),ie=ie.slice(),Q=we-ce){for((q=0<Q?(ce=we,ve):(Q=-Q,ie)).reverse();Q--;q.push(0));q.reverse()}for((Q=ie.length)-(V=ve.length)<0&&(q=ve,ve=ie,ie=q,V=Q),Q=0;V;)Q=(ie[--V]=ie[V]+ve[V]+Q)/p|0,ie[V]=p===ie[V]?0:ie[V]%p;return Q&&(ie=[Q].concat(ie),++ce),Pe(k,ie,ce)},C.precision=C.sd=function(k,V){var q,fe,Q;if(k!=null&&k!==!!k)return H(k,1,T),V==null?V=$:H(V,0,8),Be(new ee(this),k,V);if(!(q=this.c))return null;if(fe=(Q=q.length-1)*v+1,Q=q[Q]){for(;Q%10==0;Q/=10,fe--);for(Q=q[0];10<=Q;Q/=10,fe++);}return k&&this.e+1>fe&&(fe=this.e+1),fe},C.shiftedBy=function(k){return H(k,-y,y),this.times("1e"+k)},C.squareRoot=C.sqrt=function(){var k,V,q,fe,Q,we=this,ce=we.c,ie=we.s,ve=we.e,pe=I+4,ge=new ee("0.5");if(ie!==1||!ce||!ce[0])return new ee(!ie||ie<0&&(!ce||ce[0])?NaN:ce?we:1/0);if((q=(ie=Math.sqrt(+je(we)))==0||ie==1/0?(((V=O(ce)).length+ve)%2==0&&(V+="0"),ie=Math.sqrt(+V),ve=x((ve+1)/2)-(ve<0||ve%2),new ee(V=ie==1/0?"1e"+ve:(V=ie.toExponential()).slice(0,V.indexOf("e")+1)+ve)):new ee(ie+"")).c[0]){for((ie=(ve=q.e)+pe)<3&&(ie=0);;)if(Q=q,q=ge.times(Q.plus(K(we,Q,pe,1))),O(Q.c).slice(0,ie)===(V=O(q.c)).slice(0,ie)){if(q.e<ve&&--ie,(V=V.slice(ie-3,ie+1))!="9999"&&(fe||V!="4999")){+V&&(+V.slice(1)||V.charAt(0)!="5")||(Be(q,q.e+I+2,1),k=!q.times(q).eq(we));break}if(!fe&&(Be(Q,Q.e+I+2,0),Q.times(Q).eq(we))){q=Q;break}pe+=4,ie+=4,fe=1}}return Be(q,q.e+I+1,$,k)},C.toExponential=function(k,V){return k!=null&&(H(k,0,T),k++),De(this,k,V,1)},C.toFixed=function(k,V){return k!=null&&(H(k,0,T),k=k+this.e+1),De(this,k,V)},C.toFormat=function(k,V,q){var fe;if(q==null)k!=null&&V&&typeof V=="object"?(q=V,V=null):k&&typeof k=="object"?(q=k,k=V=null):q=Ee;else if(typeof q!="object")throw Error(h+"Argument not an object: "+q);if(fe=this.toFixed(k,V),this.c){var Q,we=fe.split("."),ce=+q.groupSize,ie=+q.secondaryGroupSize,ve=q.groupSeparator||"",pe=we[0],ge=we[1],$e=this.s<0,Fe=$e?pe.slice(1):pe,Ie=Fe.length;if(ie&&(Q=ce,ce=ie,Ie-=ie=Q),0<ce&&0<Ie){for(Q=Ie%ce||ce,pe=Fe.substr(0,Q);Q<Ie;Q+=ce)pe+=ve+Fe.substr(Q,ce);0<ie&&(pe+=ve+Fe.slice(Q)),$e&&(pe="-"+pe)}fe=ge?pe+(q.decimalSeparator||"")+((ie=+q.fractionGroupSize)?ge.replace(new RegExp("\\d{"+ie+"}\\B","g"),"$&"+(q.fractionGroupSeparator||"")):ge):pe}return(q.prefix||"")+fe+(q.suffix||"")},C.toFraction=function(k){var V,q,fe,Q,we,ce,ie,ve,pe,ge,$e,Fe,Ie=this,xe=Ie.c;if(k!=null&&(!(ie=new ee(k)).isInteger()&&(ie.c||ie.s!==1)||ie.lt(E)))throw Error(h+"Argument "+(ie.isInteger()?"out of range: ":"not an integer: ")+je(ie));if(!xe)return new ee(Ie);for(V=new ee(E),pe=q=new ee(E),fe=ve=new ee(E),Fe=O(xe),we=V.e=Fe.length-Ie.e-1,V.c[0]=R[(ce=we%v)<0?v+ce:ce],k=!k||0<ie.comparedTo(V)?0<we?V:pe:ie,ce=me,me=1/0,ie=new ee(Fe),ve.c[0]=0;ge=K(ie,V,0,1),(Q=q.plus(ge.times(fe))).comparedTo(k)!=1;)q=fe,fe=Q,pe=ve.plus(ge.times(Q=pe)),ve=Q,V=ie.minus(ge.times(Q=V)),ie=Q;return Q=K(k.minus(q),fe,0,1),ve=ve.plus(Q.times(pe)),q=q.plus(Q.times(fe)),ve.s=pe.s=Ie.s,$e=K(pe,fe,we*=2,$).minus(Ie).abs().comparedTo(K(ve,q,we,$).minus(Ie).abs())<1?[pe,fe]:[ve,q],me=ce,$e},C.toNumber=function(){return+je(this)},C.toPrecision=function(k,V){return k!=null&&H(k,1,T),De(this,k,V,2)},C.toString=function(k){var V,q=this,fe=q.s,Q=q.e;return Q===null?fe?(V="Infinity",fe<0&&(V="-"+V)):V="NaN":(V=k==null?Q<=N||Z<=Q?F(O(q.c),Q):j(O(q.c),Q,"0"):k===10?j(O((q=Be(new ee(q),I+Q+1,$)).c),q.e,"0"):(H(k,2,_e.length,"Base"),X(j(O(q.c),Q,"0"),10,k,fe,!0)),fe<0&&q.c[0]&&(V="-"+V)),V},C.valueOf=C.toJSON=function(){return je(this)},C._isBigNumber=!0,typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(C[Symbol.toStringTag]="BigNumber",C[Symbol.for("nodejs.util.inspect.custom")]=C.valueOf),Y!=null&&ee.set(Y),ee}()).default=s.BigNumber=s,r!==void 0&&r.exports?r.exports=s:(o||(o=typeof self<"u"&&self?self:window),o.BigNumber=s)})(this)},{}],2:[function(n,r,i){r.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(o){var s=o%10;return~~(o%100/10)==1?"th":s===1?"st":s===2?"nd":s===3?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(n,r,i){function o(x,O){return function(A){if(Array.isArray(A))return A}(x)||function(A,H){var L=[],F=!0,j=!1,z=void 0;try{for(var Y,K=A[Symbol.iterator]();!(F=(Y=K.next()).done)&&(L.push(Y.value),!H||L.length!==H);F=!0);}catch(X){j=!0,z=X}finally{try{F||K.return==null||K.return()}finally{if(j)throw z}}return L}(x,O)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s=n("./globalState"),a=n("./validating"),u=n("./parsing"),c=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],h={general:{scale:1024,suffixes:c,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:c,marker:"d"}},g={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function p(x){var O=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},A=2<arguments.length?arguments[2]:void 0;if(typeof O=="string"&&(O=u.parseFormat(O)),!a.validateFormat(O))return"ERROR: invalid format";var H=O.prefix||"",L=O.postfix||"",F=function(j,z,Y){switch(z.output){case"currency":return z=T(z,s.currentCurrencyDefaultFormat()),function(_e,ee,De){var Ae=De.currentCurrency(),Pe=Object.assign({},g,ee),Be=void 0,je="",k=!!Pe.totalLength||!!Pe.forceAverage||Pe.average,V=ee.currencyPosition||Ae.position,q=ee.currencySymbol||Ae.symbol;Pe.spaceSeparated&&(je=" "),V==="infix"&&(Be=je+q+je);var fe=S({instance:_e,providedFormat:ee,state:De,decimalSeparator:Be});return V==="prefix"&&(fe=_e._value<0&&Pe.negative==="sign"?"-".concat(je).concat(q).concat(fe.slice(1)):q+je+fe),V&&V!=="postfix"||(fe=fe+(je=k?"":je)+q),fe}(j,z,s);case"percent":return z=T(z,s.currentPercentageDefaultFormat()),function(_e,ee,De,Ae){var Pe=ee.prefixSymbol,Be=S({instance:Ae(100*_e._value),providedFormat:ee,state:De}),je=Object.assign({},g,ee);return Pe?"%".concat(je.spaceSeparated?" ":"").concat(Be):"".concat(Be).concat(je.spaceSeparated?" ":"","%")}(j,z,s,Y);case"byte":return z=T(z,s.currentByteDefaultFormat()),E=j,$=s,N=Y,Z=(I=z).base||"binary",ue=h[Z],me=v(E._value,ue.suffixes,ue.scale),Me=me.value,be=me.suffix,le=S({instance:N(Me),providedFormat:I,state:$,defaults:$.currentByteDefaultFormat()}),Ee=$.currentAbbreviations(),"".concat(le).concat(Ee.spaced?" ":"").concat(be);case"time":return z=T(z,s.currentTimeDefaultFormat()),G=j,oe=Math.floor(G._value/60/60),te=Math.floor((G._value-60*oe*60)/60),C=Math.round(G._value-60*oe*60-60*te),"".concat(oe,":").concat(te<10?"0":"").concat(te,":").concat(C<10?"0":"").concat(C);case"ordinal":return z=T(z,s.currentOrdinalDefaultFormat()),K=j,X=z,ne=(se=s).currentOrdinal(),J=Object.assign({},g,X),re=S({instance:K,providedFormat:X,state:se}),ae=ne(K._value),"".concat(re).concat(J.spaceSeparated?" ":"").concat(ae);case"number":default:return S({instance:j,providedFormat:z,numbro:Y})}var K,X,se,ne,J,re,ae,G,oe,te,C,E,I,$,N,Z,ue,me,Me,be,le,Ee}(x,O,A);return F=(F=H+F)+L}function v(x,O,A){var H=O[0],L=Math.abs(x);if(A<=L){for(var F=1;F<O.length;++F){var j=Math.pow(A,F),z=Math.pow(A,F+1);if(j<=L&&L<z){H=O[F],x/=j;break}}H===O[0]&&(x/=Math.pow(A,O.length-1),H=O[O.length-1])}return{value:x,suffix:H}}function y(x){for(var O="",A=0;A<x;A++)O+="0";return O}function R(x,O){return x.toString().indexOf("e")!==-1?function(A,H){var L=A.toString(),F=o(L.split("e"),2),j=F[0],z=F[1],Y=o(j.split("."),2),K=Y[0],X=Y[1],se=X===void 0?"":X;if(0<+z)L=K+se+y(z-se.length);else{var ne=".";ne=+K<0?"-0".concat(ne):"0".concat(ne);var J=(y(-z-1)+Math.abs(K)+se).substr(0,H);J.length<H&&(J+=y(H-J.length)),L=ne+J}return 0<+z&&0<H&&(L+=".".concat(y(H))),L}(x,O):(Math.round(+"".concat(x,"e+").concat(O))/Math.pow(10,O)).toFixed(O)}function S(x){var O=x.instance,A=x.providedFormat,H=x.state,L=H===void 0?s:H,F=x.decimalSeparator,j=x.defaults,z=j===void 0?L.currentDefaults():j,Y=O._value;if(Y===0&&L.hasZeroFormat())return L.getZeroFormat();if(!isFinite(Y))return Y.toString();var K,X,se,ne,J,re,ae,G,oe=Object.assign({},g,z,A),te=oe.totalLength,C=te?0:oe.characteristic,E=oe.optionalCharacteristic,I=oe.forceAverage,$=!!te||!!I||oe.average,N=te?-1:$&&A.mantissa===void 0?0:oe.mantissa,Z=!te&&(A.optionalMantissa===void 0?N===-1:oe.optionalMantissa),ue=oe.trimMantissa,me=oe.thousandSeparated,Me=oe.spaceSeparated,be=oe.negative,le=oe.forceSign,Ee=oe.exponential,_e="";if($){var ee=function(k){var V=k.value,q=k.forceAverage,fe=k.abbreviations,Q=k.spaceSeparated,we=Q!==void 0&&Q,ce=k.totalLength,ie=ce===void 0?0:ce,ve="",pe=Math.abs(V),ge=-1;if(pe>=Math.pow(10,12)&&!q||q==="trillion"?(ve=fe.trillion,V/=Math.pow(10,12)):pe<Math.pow(10,12)&&pe>=Math.pow(10,9)&&!q||q==="billion"?(ve=fe.billion,V/=Math.pow(10,9)):pe<Math.pow(10,9)&&pe>=Math.pow(10,6)&&!q||q==="million"?(ve=fe.million,V/=Math.pow(10,6)):(pe<Math.pow(10,6)&&pe>=Math.pow(10,3)&&!q||q==="thousand")&&(ve=fe.thousand,V/=Math.pow(10,3)),ve&&(ve=(we?" ":"")+ve),ie){var $e=V.toString().split(".")[0];ge=Math.max(ie-$e.length,0)}return{value:V,abbreviation:ve,mantissaPrecision:ge}}({value:Y,forceAverage:I,abbreviations:L.currentAbbreviations(),spaceSeparated:Me,totalLength:te});Y=ee.value,_e+=ee.abbreviation,te&&(N=ee.mantissaPrecision)}if(Ee){var De=(X=(K={value:Y,characteristicPrecision:C}).value,se=K.characteristicPrecision,ne=se===void 0?0:se,J=o(X.toExponential().split("e"),2),re=J[0],ae=J[1],G=+re,ne&&1<ne&&(G*=Math.pow(10,ne-1),ae=0<=(ae=+ae-(ne-1))?"+".concat(ae):ae),{value:G,abbreviation:"e".concat(ae)});Y=De.value,_e=De.abbreviation+_e}var Ae,Pe,Be,je=function(k,V,q,fe,Q){if(fe===-1)return k;var we=R(V,fe),ce=o(we.toString().split("."),2),ie=ce[0],ve=ce[1],pe=ve===void 0?"":ve;if(pe.match(/^0+$/)&&(q||Q))return ie;var ge=pe.match(/0+$/);return Q&&ge?"".concat(ie,".").concat(pe.toString().slice(0,ge.index)):we.toString()}(Y.toString(),Y,Z,N,ue);return je=function(k,V,q,fe,Q){var we=fe.currentDelimiters(),ce=we.thousands;Q=Q||we.decimal;var ie=we.thousandsSize||3,ve=k.toString(),pe=ve.split(".")[0],ge=ve.split(".")[1];return q&&(V<0&&(pe=pe.slice(1)),function($e,Fe){for(var Ie=[],xe=0,ze=$e;0<ze;ze--)xe===Fe&&(Ie.unshift(ze),xe=0),xe++;return Ie}(pe.length,ie).forEach(function($e,Fe){pe=pe.slice(0,$e+Fe)+ce+pe.slice($e+Fe)}),V<0&&(pe="-".concat(pe))),ve=ge?pe+Q+ge:pe}(je=function(k,V,q,fe){var Q=k,we=o(Q.toString().split("."),2),ce=we[0],ie=we[1];if(ce.match(/^-?0$/)&&q)return ie?"".concat(ce.replace("0",""),".").concat(ie):ce.replace("0","");if(ce.length<fe)for(var ve=fe-ce.length,pe=0;pe<ve;pe++)Q="0".concat(Q);return Q.toString()}(je,0,E,C),Y,me,L,F),($||Ee)&&(je=je+_e),(le||Y<0)&&(Ae=je,Be=be,je=(Pe=Y)===0?Ae:+Ae==0?Ae.replace("-",""):0<Pe?"+".concat(Ae):Be==="sign"?Ae:"(".concat(Ae.replace("-",""),")")),je}function T(x,O){if(!x)return O;var A=Object.keys(x);return A.length===1&&A[0]==="output"?O:x}r.exports=function(x){return{format:function(){for(var O=arguments.length,A=new Array(O),H=0;H<O;H++)A[H]=arguments[H];return p.apply(void 0,A.concat([x]))},getByteUnit:function(){for(var O=arguments.length,A=new Array(O),H=0;H<O;H++)A[H]=arguments[H];return(function(L){var F=h.general;return v(L._value,F.suffixes,F.scale).suffix}).apply(void 0,A.concat([x]))},getBinaryByteUnit:function(){for(var O=arguments.length,A=new Array(O),H=0;H<O;H++)A[H]=arguments[H];return(function(L){var F=h.binary;return v(L._value,F.suffixes,F.scale).suffix}).apply(void 0,A.concat([x]))},getDecimalByteUnit:function(){for(var O=arguments.length,A=new Array(O),H=0;H<O;H++)A[H]=arguments[H];return(function(L){var F=h.decimal;return v(L._value,F.suffixes,F.scale).suffix}).apply(void 0,A.concat([x]))},formatOrDefault:T}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(n,r,i){var o=n("./en-US"),s=n("./validating"),a=n("./parsing"),u={},c=void 0,h={},g=null,p={};function v(R){c=R}function y(){return h[c]}u.languages=function(){return Object.assign({},h)},u.currentLanguage=function(){return c},u.currentCurrency=function(){return y().currency},u.currentAbbreviations=function(){return y().abbreviations},u.currentDelimiters=function(){return y().delimiters},u.currentOrdinal=function(){return y().ordinal},u.currentDefaults=function(){return Object.assign({},y().defaults,p)},u.currentOrdinalDefaultFormat=function(){return Object.assign({},u.currentDefaults(),y().ordinalFormat)},u.currentByteDefaultFormat=function(){return Object.assign({},u.currentDefaults(),y().byteFormat)},u.currentPercentageDefaultFormat=function(){return Object.assign({},u.currentDefaults(),y().percentageFormat)},u.currentCurrencyDefaultFormat=function(){return Object.assign({},u.currentDefaults(),y().currencyFormat)},u.currentTimeDefaultFormat=function(){return Object.assign({},u.currentDefaults(),y().timeFormat)},u.setDefaults=function(R){R=a.parseFormat(R),s.validateFormat(R)&&(p=R)},u.getZeroFormat=function(){return g},u.setZeroFormat=function(R){return g=typeof R=="string"?R:null},u.hasZeroFormat=function(){return g!==null},u.languageData=function(R){if(R){if(h[R])return h[R];throw new Error('Unknown tag "'.concat(R,'"'))}return y()},u.registerLanguage=function(R){var S=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(!s.validateLanguage(R))throw new Error("Invalid language data");h[R.languageTag]=R,S&&v(R.languageTag)},u.setLanguage=function(R){var S=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o.languageTag;if(!h[R]){var T=R.split("-")[0],x=Object.keys(h).find(function(O){return O.split("-")[0]===T});return h[x]?void v(x):void v(S)}v(R)},u.registerLanguage(o),c=o.languageTag,r.exports=u},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(n,r,i){r.exports=function(o){return{loadLanguagesInNode:function(s){return a=o,void s.forEach(function(u){var c=void 0;try{c=n("../languages/".concat(u))}catch{console.error('Unable to load "'.concat(u,'". No matching language file found.'))}c&&a.registerLanguage(c)});var a}}}},{}],6:[function(n,r,i){var o=n("bignumber.js");function s(a,u,c){var h=new o(a._value),g=u;return c.isNumbro(u)&&(g=u._value),g=new o(g),a._value=h.minus(g).toNumber(),a}r.exports=function(a){return{add:function(u,c){return g=c,p=a,v=new o((h=u)._value),y=g,p.isNumbro(g)&&(y=g._value),y=new o(y),h._value=v.plus(y).toNumber(),h;var h,g,p,v,y},subtract:function(u,c){return s(u,c,a)},multiply:function(u,c){return g=c,p=a,v=new o((h=u)._value),y=g,p.isNumbro(g)&&(y=g._value),y=new o(y),h._value=v.times(y).toNumber(),h;var h,g,p,v,y},divide:function(u,c){return g=c,p=a,v=new o((h=u)._value),y=g,p.isNumbro(g)&&(y=g._value),y=new o(y),h._value=v.dividedBy(y).toNumber(),h;var h,g,p,v,y},set:function(u,c){return h=u,p=g=c,a.isNumbro(g)&&(p=g._value),h._value=p,h;var h,g,p},difference:function(u,c){return h=c,s(p=(g=a)(u._value),h,g),Math.abs(p._value);var h,g,p}}}},{"bignumber.js":1}],7:[function(n,r,i){function o(S,T){for(var x=0;x<T.length;x++){var O=T[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}var s=n("./globalState"),a=n("./validating"),u=n("./loading")(R),c=n("./unformatting"),h=n("./formatting")(R),g=n("./manipulating")(R),p=n("./parsing"),v=function(){function S(O){(function(A,H){if(!(A instanceof H))throw new TypeError("Cannot call a class as a function")})(this,S),this._value=O}var T,x;return T=S,(x=[{key:"clone",value:function(){return R(this._value)}},{key:"format",value:function(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return h.format(this,O)}},{key:"formatCurrency",value:function(O){return typeof O=="string"&&(O=p.parseFormat(O)),(O=h.formatOrDefault(O,s.currentCurrencyDefaultFormat())).output="currency",h.format(this,O)}},{key:"formatTime",value:function(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return O.output="time",h.format(this,O)}},{key:"binaryByteUnits",value:function(){return h.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return h.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return h.getByteUnit(this)}},{key:"difference",value:function(O){return g.difference(this,O)}},{key:"add",value:function(O){return g.add(this,O)}},{key:"subtract",value:function(O){return g.subtract(this,O)}},{key:"multiply",value:function(O){return g.multiply(this,O)}},{key:"divide",value:function(O){return g.divide(this,O)}},{key:"set",value:function(O){return g.set(this,y(O))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&o(T.prototype,x),S}();function y(S){var T=S;return R.isNumbro(S)?T=S._value:typeof S=="string"?T=R.unformat(S):isNaN(S)&&(T=NaN),T}function R(S){return new v(y(S))}R.version="2.1.2",R.isNumbro=function(S){return S instanceof v},R.language=s.currentLanguage,R.registerLanguage=s.registerLanguage,R.setLanguage=s.setLanguage,R.languages=s.languages,R.languageData=s.languageData,R.zeroFormat=s.setZeroFormat,R.defaultFormat=s.currentDefaults,R.setDefaults=s.setDefaults,R.defaultCurrencyFormat=s.currentCurrencyDefaultFormat,R.validate=a.validate,R.loadLanguagesInNode=u.loadLanguagesInNode,R.unformat=c.unformat,r.exports=R},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(n,r,i){r.exports={parseFormat:function(o){var s,a,u,c,h,g,p,v,y,R,S,T,x,O,A,H,L,F,j,z,Y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return typeof o!="string"?o:(a=Y,o=(u=(s=o).match(/^{([^}]*)}/))?(a.prefix=u[1],s.slice(u[0].length)):s,h=Y,function(K,X){if(K.indexOf("$")===-1){if(K.indexOf("%")===-1)return K.indexOf("bd")!==-1?(X.output="byte",X.base="general"):K.indexOf("b")!==-1?(X.output="byte",X.base="binary"):K.indexOf("d")!==-1?(X.output="byte",X.base="decimal"):K.indexOf(":")===-1?K.indexOf("o")!==-1&&(X.output="ordinal"):X.output="time";X.output="percent"}else X.output="currency"}(o=(g=(c=o).match(/{([^}]*)}$/))?(h.postfix=g[1],c.slice(0,-g[0].length)):c,Y),p=Y,(v=o.match(/[1-9]+[0-9]*/))&&(p.totalLength=+v[0]),y=Y,(R=o.split(".")[0].match(/0+/))&&(y.characteristic=R[0].length),function(K,X){if(K.indexOf(".")!==-1){var se=K.split(".")[0];X.optionalCharacteristic=se.indexOf("0")===-1}}(o,Y),S=Y,o.indexOf("a")!==-1&&(S.average=!0),x=Y,(T=o).indexOf("K")!==-1?x.forceAverage="thousand":T.indexOf("M")!==-1?x.forceAverage="million":T.indexOf("B")!==-1?x.forceAverage="billion":T.indexOf("T")!==-1&&(x.forceAverage="trillion"),function(K,X){var se=K.split(".")[1];if(se){var ne=se.match(/0+/);ne&&(X.mantissa=ne[0].length)}}(o,Y),A=Y,(O=o).match(/\[\.]/)?A.optionalMantissa=!0:O.match(/\./)&&(A.optionalMantissa=!1),H=Y,o.indexOf(",")!==-1&&(H.thousandSeparated=!0),L=Y,o.indexOf(" ")!==-1&&(L.spaceSeparated=!0),j=Y,(F=o).match(/^\+?\([^)]*\)$/)&&(j.negative="parenthesis"),F.match(/^\+?-/)&&(j.negative="sign"),z=Y,o.match(/^\+/)&&(z.forceSign=!0),Y)}}},{}],9:[function(n,r,i){var o=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function s(u){return u.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function a(u,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",g=3<arguments.length?arguments[3]:void 0,p=4<arguments.length?arguments[4]:void 0,v=5<arguments.length?arguments[5]:void 0,y=6<arguments.length?arguments[6]:void 0;if(u!=="")return u===p?0:function R(S,T){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",O=3<arguments.length?arguments[3]:void 0,A=4<arguments.length?arguments[4]:void 0,H=5<arguments.length?arguments[5]:void 0,L=6<arguments.length?arguments[6]:void 0;if(!isNaN(+S))return+S;var F="",j=S.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(j!==S)return-1*R(j,T,x,O,A,H,L);for(var z=0;z<o.length;z++){var Y=o[z];if((F=S.replace(Y.key,""))!==S)return R(F,T,x,O,A,H,L)*Y.factor}if((F=S.replace("%",""))!==S)return R(F,T,x,O,A,H,L)/100;var K=parseFloat(S);if(!isNaN(K)){var X=O(K);if(X&&X!=="."&&(F=S.replace(new RegExp("".concat(s(X),"$")),""))!==S)return R(F,T,x,O,A,H,L);var se={};Object.keys(H).forEach(function(te){se[H[te]]=te});for(var ne=Object.keys(se).sort().reverse(),J=ne.length,re=0;re<J;re++){var ae=ne[re],G=se[ae];if((F=S.replace(ae,""))!==S){var oe=void 0;switch(G){case"thousand":oe=Math.pow(10,3);break;case"million":oe=Math.pow(10,6);break;case"billion":oe=Math.pow(10,9);break;case"trillion":oe=Math.pow(10,12)}return R(F,T,x,O,A,H,L)*oe}}}}(function(R,S){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"",x=R.replace(T,"");return x=(x=x.replace(new RegExp("([0-9])".concat(s(S.thousands),"([0-9])"),"g"),"$1$2")).replace(S.decimal,".")}(u,c,h),c,h,g,p,v,y)}r.exports={unformat:function(u,c){var h,g,p,v=n("./globalState"),y=v.currentDelimiters(),R=v.currentCurrency().symbol,S=v.currentOrdinal(),T=v.getZeroFormat(),x=v.currentAbbreviations(),O=void 0;if(typeof u=="string")O=function(A,H){if(!A.indexOf(":")||H.thousands===":")return!1;var L=A.split(":");if(L.length!==3)return!1;var F=+L[0],j=+L[1],z=+L[2];return!isNaN(F)&&!isNaN(j)&&!isNaN(z)}(u,y)?(h=u.split(":"),g=+h[0],p=+h[1],+h[2]+60*p+3600*g):a(u,y,R,S,T,x,c);else{if(typeof u!="number")return;O=u}if(O!==void 0)return O}}},{"./globalState":4}],10:[function(n,r,i){function o(y){return function(R){if(Array.isArray(R)){for(var S=0,T=new Array(R.length);S<R.length;S++)T[S]=R[S];return T}}(y)||function(R){if(Symbol.iterator in Object(R)||Object.prototype.toString.call(R)==="[object Arguments]")return Array.from(R)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(y){return(s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(y)}var a=n("./unformatting"),u=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,c={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(y,R){return R.output==="byte"},message:"`base` must be provided only when the output is `byte`",mandatory:function(y){return y.output==="byte"}},characteristic:{type:"number",restriction:function(y){return 0<=y},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(y){return 0<=y},message:"value must be positive"},{restriction:function(y,R){return!R.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(y){return 0<=y},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(y,R){return R.output==="percent"},message:"`prefixSymbol` can be provided only when the output is `percent`"}},h={languageTag:{type:"string",mandatory:!0,restriction:function(y){return y.match(u)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function g(y){return!!a.unformat(y)}function p(y,R,S){var T=3<arguments.length&&arguments[3]!==void 0&&arguments[3],x=Object.keys(y).map(function(O){if(!R[O])return console.error("".concat(S," Invalid key: ").concat(O)),!1;var A=y[O],H=R[O];if(typeof H=="string"&&(H={type:H}),H.type==="format"){if(!p(A,c,"[Validate ".concat(O,"]"),!0))return!1}else if(s(A)!==H.type)return console.error("".concat(S," ").concat(O,' type mismatched: "').concat(H.type,'" expected, "').concat(s(A),'" provided')),!1;if(H.restrictions&&H.restrictions.length)for(var L=H.restrictions.length,F=0;F<L;F++){var j=H.restrictions[F],z=j.restriction,Y=j.message;if(!z(A,y))return console.error("".concat(S," ").concat(O," invalid value: ").concat(Y)),!1}return H.restriction&&!H.restriction(A,y)?(console.error("".concat(S," ").concat(O," invalid value: ").concat(H.message)),!1):H.validValues&&H.validValues.indexOf(A)===-1?(console.error("".concat(S," ").concat(O," invalid value: must be among ").concat(JSON.stringify(H.validValues),', "').concat(A,'" provided')),!1):!(H.children&&!p(A,H.children,"[Validate ".concat(O,"]")))});return T||x.push.apply(x,o(Object.keys(R).map(function(O){var A=R[O];if(typeof A=="string"&&(A={type:A}),A.mandatory){var H=A.mandatory;if(typeof H=="function"&&(H=H(y)),H&&y[O]===void 0)return console.error("".concat(S,' Missing mandatory key "').concat(O,'"')),!1}return!0}))),x.reduce(function(O,A){return O&&A},!0)}function v(y){return p(y,c,"[Validate format]")}r.exports={validate:function(y,R){var S=g(y),T=v(R);return S&&T},validateFormat:v,validateInput:g,validateLanguage:function(y){return p(y,h,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)})})(lz);var Qwe=lz.exports;const Dd=Gc(Qwe),Jwe="numeric";function uz(t,e){if(bo(t)){const n=e.numericFormat,r=n&&n.culture||"-",i=n&&n.pattern;if(typeof r<"u"&&!Dd.languages()[r]){const o=r.replace("-",""),s=Dd.allLanguages?Dd.allLanguages[r]:Dd[o];s&&Dd.registerLanguage(s)}Dd.setLanguage(r),t=Dd(t).format(i||"0")}return t}function lA(t,e,n,r,i,o,s){let a=o;if(bo(a)){const u=s.className||"",c=u.length?u.split(" "):[];a=uz(a,s),c.indexOf("htLeft")<0&&c.indexOf("htCenter")<0&&c.indexOf("htRight")<0&&c.indexOf("htJustify")<0&&c.push("htRight"),c.indexOf("htNumeric")<0&&c.push("htNumeric"),s.className=c.join(" "),e.dir="ltr"}Wu(t,e,n,r,i,a,s)}lA.RENDERER_TYPE=Jwe;const eCe="password";function uA(t,e,n,r,i,o,s){Wu.apply(this,[t,e,n,r,i,o,s]);const a=s.hashLength||e.innerHTML.length,u=s.hashSymbol||"*";let c="";Mt(a-1,()=>{c+=u}),Jg(e,c)}uA.RENDERER_TYPE=eCe;const tCe="select";function cA(t,e,n,r,i,o,s){Wu.apply(this,[t,e,n,r,i,o,s])}cA.RENDERER_TYPE=tCe;const nCe="time";function dA(t,e,n,r,i,o,s){Wu.apply(this,[t,e,n,r,i,o,s]),e.dir="ltr"}dA.RENDERER_TYPE=nCe;function rCe(){Ds(nm),Ds(fw),Ds(oA),Ds(iA),Ds(aA),Ds(rA),Ds(lA),Ds(uA),Ds(cA),Ds(Wu),Ds(dA)}const iCe="autocomplete";function nR(t,e){let n=t;if(n==null&&(n=""),this.allowEmpty&&n===""){e(!0);return}this.strict&&this.source?typeof this.source=="function"?this.source(n,$L(n,e)):$L(n,e)(this.source):e(!0)}nR.VALIDATOR_TYPE=iCe;function $L(t,e){const n=t;return function(r){let i=!1;for(let o=0,s=r.length;o<s;o++)if(n===r[o]){i=!0;break}e(i)}}function oCe(t){const e=new Date(t);return isNaN(new Date(`${t}T00:00`).getDate())?e:new Date(e.getTime()+e.getTimezoneOffset()*6e4)}const sCe="date";function hA(t,e){const n=VB(tz,this.instance);let r=t,i=!0;r==null&&(r="");let o=Ze(r,this.dateFormat||n.defaultDateFormat,!0).isValid(),s=Ze(new Date(r)).isValid()||o;if(this.allowEmpty&&r===""&&(s=!0,o=!0),s||(i=!1),!s&&o&&(i=!0),s&&!o)if(this.correctFormat===!0){const a=aCe(r,this.dateFormat);this.instance.setDataAtCell(this.visualRow,this.visualCol,a,"dateValidator"),i=!0}else i=!1;e(i)}hA.VALIDATOR_TYPE=sCe;function aCe(t,e){const n=Ze(oCe(t)),r=Ze(t,e),i=t.search(/[A-z]/g)>-1;let o;return n.isValid()&&n.format("x")===r.format("x")||!r.isValid()||i?o=n:o=r,o.format(e)}const lCe="dropdown";function fA(t,e){nR.apply(this,[t,e])}fA.VALIDATOR_TYPE=lCe;const uCe="numeric";function gA(t,e){let n=t;n==null&&(n=""),this.allowEmpty&&n===""?e(!0):e(n===""?!1:bo(t))}gA.VALIDATOR_TYPE=uCe;const cCe=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"],dCe="time";function mA(t,e){const n=this.timeFormat||"h:mm:ss a";let r=!0,i=t;i===null&&(i=""),i=/^\d{3,}$/.test(i)?parseInt(i,10):i;const o=/^\d{1,2}$/.test(i);o&&(i+=":00");const s=Ze(i,cCe,!0).isValid()?Ze(i):Ze(i,n);let a=s.isValid(),u=Ze(i,n,!0).isValid()&&!o;if(this.allowEmpty&&i===""&&(a=!0,u=!0),a||(r=!1),!a&&u&&(r=!0),a&&!u)if(this.correctFormat===!0){const c=s.format(n);this.instance.setDataAtCell(this.visualRow,this.visualCol,c,"timeValidator"),r=!0}else r=!1;e(r)}mA.VALIDATOR_TYPE=dCe;function hCe(){sg(nR),sg(fA),sg(hA),sg(gA),sg(mA)}const fCe="autocomplete",gCe={CELL_TYPE:fCe,editor:eA,renderer:nm,validator:nR},mCe="checkbox",pCe={CELL_TYPE:mCe,editor:ez,renderer:oA},vCe="date";function cz(t,e,n,r,i,o,s){nm.apply(this,[t,e,n,r,i,o,s])}cz.RENDERER_TYPE=vCe;const wCe="date",CCe={CELL_TYPE:wCe,editor:nz,renderer:cz,validator:hA},yCe="dropdown",bCe={CELL_TYPE:yCe,editor:nA,renderer:iA,validator:fA},SCe="handsontable",RCe={CELL_TYPE:SCe,editor:JP,renderer:aA},ECe="numeric",_Ce={CELL_TYPE:ECe,editor:rz,renderer:lA,validator:gA,dataType:"number"},MCe="password",TCe={CELL_TYPE:MCe,editor:iz,renderer:uA,copyable:!1},xCe="select",ICe={CELL_TYPE:xCe,editor:oz,renderer:cA},OCe="time",PCe={CELL_TYPE:OCe,editor:sz,renderer:dA,validator:mA};function ACe(){pa(gCe),pa(pCe),pa(CCe),pa(bCe),pa(RCe),pa(_Ce),pa(TCe),pa(ICe),pa(zj),pa(PCe)}function HCe(t,e){dz(t,e),e.add(t)}function DCe(t,e,n){dz(t,e),e.set(t,n)}function dz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Df(t,e,n){return(e=NCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NCe(t){var e=$Ce(t,"string");return typeof e=="symbol"?e:e+""}function $Ce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nf(t,e){return t.get(hz(t,e))}function hz(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const LL=new Map([["plugin",vde],["cell-type",Nj],["editor",FB],["renderer",GB],["validator",KB]]),LCe="base",aM=[];let ol=null;var Nd=new WeakMap,kL=new WeakSet;class qn{static get PLUGIN_KEY(){return LCe}static get SETTING_KEYS(){return[this.PLUGIN_KEY]}constructor(e){HCe(this,kL),Df(this,"eventManager",new Pa(this)),Df(this,"pluginName",null),Df(this,"pluginsInitializedCallbacks",[]),Df(this,"isPluginsReady",!1),Df(this,"enabled",!1),Df(this,"initialized",!1),DCe(this,Nd,{}),Fu(this,"hot",e,{writable:!1}),ol=null,this.hot.addHook("afterPluginsInitialized",()=>this.onAfterPluginsInitialized()),this.hot.addHook("afterUpdateSettings",n=>this.onUpdateSettings(n)),this.hot.addHook("beforeInit",()=>this.init())}init(){this.pluginName=this.hot.getPluginName(this);const e=this.constructor.PLUGIN_DEPS,n=Array.isArray(e)?e:[];if(n.length>0){const i=[];if(n.forEach(o=>{const[s,a]=o.split(":");if(!LL.has(s))throw new Error(`Unknown plugin dependency type "${s}" was found.`);LL.get(s)(a)||i.push(` - ${a} (${s})`)}),i.length>0){const o=[`The ${this.pluginName} plugin requires the following modules:
`,`${i.join(`
`)}
`].join("");aM.push(o)}}if(ol||(ol=UB()),ol.indexOf("UndoRedo")>=0&&ol.splice(ol.indexOf("UndoRedo"),1),ol.indexOf(this.pluginName)>=0&&ol.splice(ol.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",()=>{this.isEnabled&&this.isEnabled()&&this.enablePlugin()}),ol.length===0){if(aM.length>0){const i=[`${aM.join(`
`)}
`,"You have to import and register them manually."].join("");throw new Error(i)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}enablePlugin(){this.enabled=!0}disablePlugin(){var e;(e=this.eventManager)===null||e===void 0||e.clear(),this.clearHooks(),this.enabled=!1}addHook(e,n,r){Nf(Nd,this)[e]=Nf(Nd,this)[e]||[];const i=Nf(Nd,this)[e];this.hot.addHook(e,n,r),i.push(n),Nf(Nd,this)[e]=i}removeHooks(e){ye(Nf(Nd,this)[e]||[],n=>{this.hot.removeHook(e,n)})}clearHooks(){const e=Nf(Nd,this);hn(e,(n,r)=>this.removeHooks(r)),e.length=0}callOnPluginsReady(e){this.isPluginsReady?e():this.pluginsInitializedCallbacks.push(e)}onAfterPluginsInitialized(){ye(this.pluginsInitializedCallbacks,e=>e()),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}onUpdateSettings(e){const n=hz(kL,this,kCe).call(this,e);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&n&&this.updatePlugin(e))}updatePlugin(){}destroy(){var e;(e=this.eventManager)===null||e===void 0||e.destroy(),this.clearHooks(),hn(this,(n,r)=>{r!=="hot"&&(this[r]=null)}),delete this.t,delete this.hot}}function kCe(t){if(!t)return!1;const e=this.constructor.SETTING_KEYS;if(typeof e=="boolean")return e;for(let n=0;n<e.length;n++)if(t[e[n]]!==void 0)return!0;return!1}function $d(t,e,n){return(e=FCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FCe(t){var e=VCe(t,"string");return typeof e=="symbol"?e:e+""}function VCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let fz=class{constructor(e){$d(this,"hot",null),$d(this,"container",null),$d(this,"injected",!1),$d(this,"rows",[]),$d(this,"columns",[]),$d(this,"samples",null),$d(this,"settings",{useHeaders:!0}),this.hot=e}addRow(e,n){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));const r={row:e};this.rows.push(r),this.samples=n,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol(e)),this.table.tr.appendChild(this.createRow(e)),this.container.container.appendChild(this.table.fragment),r.table=this.table.table}addColumnHeadersRow(e){const n=this.hot.getColHeader(0);if(n!=null){const r={row:-1};this.rows.push(r),this.container=this.createContainer(this.hot.rootElement.className),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),r.table=this.table.table}}addColumn(e,n){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));const r={col:e};this.columns.push(r),this.samples=n,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&this.hot.getColHeader(e)!==null&&this.hot.view.appendColHeader(e,this.table.th),this.table.tBody.appendChild(this.createCol(e)),this.container.container.appendChild(this.table.fragment),r.table=this.table.table}getHeights(e){this.injected||this.injectTable(),ye(this.rows,n=>{const{height:r}=n.table.getBoundingClientRect();e(n.row,Math.ceil(r)-1)})}getWidths(e){this.injected||this.injectTable(),ye(this.columns,n=>{const{width:r}=n.table.getBoundingClientRect();e(n.col,Math.ceil(r))})}setSettings(e){this.settings=e}setSetting(e,n){this.settings||(this.settings={}),this.settings[e]=n}getSettings(){return this.settings}getSetting(e){return this.settings?this.settings[e]:null}createColGroupsCol(e){const n=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&n.appendChild(this.createColElement(-1,-1)),this.samples.forEach(r=>{ye(r.strings,i=>{n.appendChild(this.createColElement(i.col,e))})}),n}createRow(e){const{rootDocument:n}=this.hot,r=n.createDocumentFragment(),i=n.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(e,i),r.appendChild(i)),this.samples.forEach(o=>{ye(o.strings,s=>{const a=s.col,u=this.hot.getCellMeta(e,a),c=this.hot.getCellRenderer(u),h=n.createElement("td");h.setAttribute("ghost-table",1),c(this.hot,h,e,a,this.hot.colToProp(a),s.value,u),r.appendChild(h)})}),r}appendColumnHeadersRow(){const{rootDocument:e}=this.hot,n=e.createDocumentFragment(),r=[];if(this.hot.hasRowHeaders()){const i=e.createElement("th");r.push([-1,i]),n.appendChild(i)}this.samples.forEach(i=>{ye(i.strings,o=>{const s=o.col,a=e.createElement("th");r.push([s,a]),n.appendChild(a)})}),this.table.tHead.appendChild(n),ye(r,i=>{const[o,s]=i;this.hot.view.appendColHeader(o,s)})}createCol(e){const{rootDocument:n}=this.hot,r=n.createDocumentFragment();return this.samples.forEach(i=>{ye(i.strings,o=>{const s=o.row,a=this.hot.getCellMeta(s,e),u=this.hot.getCellRenderer(a),c=n.createElement("td"),h=n.createElement("tr");c.setAttribute("ghost-table",1),u(this.hot,c,s,e,this.hot.colToProp(e),o.value,a),h.appendChild(c),r.appendChild(h)})}),r}clean(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}injectTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.injected||((e||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}removeTable(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}createColElement(e,n){const r=this.hot.rootDocument.createElement("col");let i=0;n>=0&&e>=0&&(i=this.hot.getCellMeta(n,e).colspan);let o=this.hot.getColWidth(e);if(i>1)for(let s=e+1;s<e+i;s++)o+=this.hot.getColWidth(s);return r.style.width=`${o}px`,r}createTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{rootDocument:n}=this.hot,r=n.createDocumentFragment(),i=n.createElement("table"),o=n.createElement("thead"),s=n.createElement("tbody"),a=n.createElement("colgroup"),u=n.createElement("tr"),c=n.createElement("th");return this.isVertical()&&i.appendChild(a),this.isHorizontal()&&(u.appendChild(c),o.appendChild(u),i.style.tableLayout="auto",i.style.width="auto"),i.appendChild(o),this.isVertical()&&s.appendChild(u),i.appendChild(s),Qe(i,e),r.appendChild(i),{fragment:r,table:i,tHead:o,tBody:s,colGroup:a,tr:u,th:c}}createContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{rootDocument:n}=this.hot,r=n.createDocumentFragment(),i=n.createElement("div"),o=`htGhostTable htAutoSize ${e.trim()}`;return Qe(i,o),r.appendChild(i),{fragment:r,container:i}}isVertical(){return!!(this.rows.length&&!this.columns.length)}isHorizontal(){return!!(this.columns.length&&!this.rows.length)}};function Iy(t,e,n){return(e=WCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WCe(t){var e=BCe(t,"string");return typeof e=="symbol"?e:e+""}function BCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rR{static get SAMPLE_COUNT(){return 3}constructor(e){Iy(this,"samples",null),Iy(this,"dataFactory",null),Iy(this,"customSampleCount",null),Iy(this,"allowDuplicates",!1),this.dataFactory=e}getSampleCount(){return this.customSampleCount?this.customSampleCount:rR.SAMPLE_COUNT}setSampleCount(e){this.customSampleCount=e}setAllowDuplicates(e){this.allowDuplicates=e}generateRowSamples(e,n){return this.generateSamples("row",n,e)}generateColumnSamples(e,n){return this.generateSamples("col",n,e)}generateSamples(e,n,r){const i=new Map,{from:o,to:s}=typeof r=="number"?{from:r,to:r}:r;return Mt(o,s,a=>{const u=this.generateSample(e,n,a);i.set(a,u)}),i}generateSample(e,n,r){if(e!=="row"&&e!=="col")throw new Error("Unsupported sample type");const i=new Map,o=e==="row"?"col":"row",s=[];return Mt(n.from,n.to,a=>{const u=e==="row"?this.dataFactory(r,a):this.dataFactory(a,r);if(u===!1)return;const{value:c,bundleSeed:h}=u,g=typeof h=="string"&&h.length>0;let p;g?p=h:dn(c)?p=`${Object.keys(c).length}`:Array.isArray(c)?p=`${c.length}`:p=`${ai(c).length}`,i.has(p)||i.set(p,{needed:this.getSampleCount(),strings:[]});const v=i.get(p);v.needed&&(!(s.indexOf(c)>-1)||this.allowDuplicates||g)&&(v.strings.push({value:c,[o]:a}),s.push(c),v.needed-=1)}),i}}function jCe(t,e){gz(t,e),e.add(t)}function FL(t,e,n){gz(t,e),e.set(t,n)}function gz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cp(t,e,n){return(e=zCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zCe(t){var e=YCe(t,"string");return typeof e=="symbol"?e:e+""}function YCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dh(t,e){return t.get(bl(t,e))}function pA(t,e,n){return t.set(bl(t,e),n),n}function bl(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}mt.getSingleton().register("modifyAutoColumnSizeSeed");const dp="autoColumnSize",UCe=10,GCe="autoColumnSize";var ag=new WeakMap,Lg=new WeakMap,gu=new WeakSet;class ev extends qn{static get PLUGIN_KEY(){return dp}static get PLUGIN_PRIORITY(){return UCe}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 50}constructor(e){super(e),jCe(this,gu),cp(this,"ghostTable",new fz(this.hot)),cp(this,"samplesGenerator",new rR((n,r)=>{const i=this.hot.toPhysicalRow(n),o=this.hot.toPhysicalColumn(r);if(this.hot.rowIndexMapper.isHidden(i)||this.hot.columnIndexMapper.isHidden(o))return!1;const s=this.hot.getCellMeta(n,r);let a="";s.spanned||(a=this.hot.getDataAtCell(n,r));let u="";return this.hot.hasHook("modifyAutoColumnSizeSeed")&&(u=this.hot.runHooks("modifyAutoColumnSizeSeed",u,s,a)),{value:a,bundleSeed:u}})),cp(this,"inProgress",!1),cp(this,"measuredColumns",0),cp(this,"columnWidthsMap",new Jc),FL(this,ag,[]),FL(this,Lg,[]),this.hot.columnIndexMapper.registerMap(GCe,this.columnWidthsMap),this.addHook("beforeColumnResize",(n,r,i)=>bl(gu,this,VL).call(this,n,r,i))}isEnabled(){return this.hot.getSettings()[dp]!==!1&&!this.hot.getSettings().colWidths}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[dp];n&&n.useHeaders!==null&&n.useHeaders!==void 0&&this.ghostTable.setSetting("useHeaders",n.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return bl(gu,e,XCe).call(e,...i)}),this.addHook("beforeChangeRender",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return bl(gu,e,ZCe).call(e,...i)}),this.addHook("afterFormulasValuesUpdate",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return bl(gu,e,JCe).call(e,...i)}),this.addHook("beforeRender",()=>bl(gu,this,qCe).call(this)),this.addHook("modifyColWidth",(r,i)=>this.getColumnWidth(i,r)),this.addHook("init",()=>bl(gu,this,QCe).call(this)),super.enablePlugin()}updatePlugin(){pA(Lg,this,this.findColumnsWhereHeaderWasChanged()),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.addHook("beforeColumnResize",(e,n,r)=>bl(gu,this,VL).call(this,e,n,r))}calculateVisibleColumnsWidth(){if(!this.hot.countRows())return;const e=this.getFirstVisibleColumn(),n=this.getLastVisibleColumn();if(e===-1||n===-1)return;const r=this.hot.renderCall;this.calculateColumnsWidth({from:e,to:n},void 0,r)}calculateColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countRows()-1},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=typeof e=="number"?{from:e,to:e}:e,o=typeof n=="number"?{from:n,to:n}:n;Mt(i.from,i.to,s=>{let a=this.hot.toPhysicalColumn(s);a===null&&(a=s),(r||this.columnWidthsMap.getValueAtIndex(a)===null&&!this.hot._getColWidthFromSettings(a))&&this.samplesGenerator.generateColumnSamples(s,o).forEach((c,h)=>this.ghostTable.addColumn(h,c))}),this.ghostTable.columns.length&&(this.hot.batchExecution(()=>{this.ghostTable.getWidths((s,a)=>{const u=this.hot.toPhysicalColumn(s);this.columnWidthsMap.setValueAtIndex(u,a)})},!0),this.measuredColumns=i.to+1,this.ghostTable.clean())}calculateAllColumnsWidth(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0;const i=this.hot.countCols()-1;let o=null;this.inProgress=!0;const s=()=>{if(!this.hot){pS(o),this.inProgress=!1;return}this.calculateColumnsWidth({from:r,to:Math.min(r+ev.CALCULATION_STEP,i)},e,n),r=r+ev.CALCULATION_STEP+1,r<i?o=iO(s):(pS(o),this.inProgress=!1,this.hot.view.adjustElementsSize())},a=this.getSyncCalculationLimit();a>=0&&(this.calculateColumnsWidth({from:0,to:a},e,n),r=a+1),r<i?s():this.inProgress=!1}setSamplingOptions(){const e=this.hot.getSettings()[dp],n=e&&Yr(e,"samplingRatio")?e.samplingRatio:void 0,r=e&&Yr(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;n&&!isNaN(n)&&this.samplesGenerator.setSampleCount(parseInt(n,10)),r&&this.samplesGenerator.setAllowDuplicates(r)}recalculateAllColumnsWidth(){this.hot.view.isVisible()&&this.calculateAllColumnsWidth({from:0,to:this.hot.countRows()-1},!0)}getSyncCalculationLimit(){const e=this.hot.getSettings()[dp];let n=ev.SYNC_CALCULATION_LIMIT;const r=this.hot.countCols()-1;return dn(e)&&(n=e.syncLimit,oB(n)?n=jB(r,n):n>>=0),Math.min(n,r)}getColumnWidth(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=n;return i===void 0&&(i=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e)),r&&typeof i=="number"&&(i=Math.max(i,U0))),i}getFirstVisibleColumn(){var e;return(e=this.hot.view.getFirstRenderedVisibleColumn())!==null&&e!==void 0?e:-1}getLastVisibleColumn(){var e;return(e=this.hot.view.getLastRenderedVisibleColumn())!==null&&e!==void 0?e:-1}findColumnsWhereHeaderWasChanged(){return this.hot.getColHeader().reduce((r,i,o)=>{const s=dh(ag,this).length;return(s-1<o||dh(ag,this)[o]!==i)&&r.push(this.hot.toVisualColumn(o)),s-1<o?dh(ag,this).push(i):dh(ag,this)[o]=i,r},[])}clearCache(e){Array.isArray(e)?this.hot.batchExecution(()=>{e.forEach(n=>{this.columnWidthsMap.setValueAtIndex(n,null)})},!0):this.columnWidthsMap.clear()}isNeedRecalculate(){return!!this.columnWidthsMap.getValues().slice(0,this.measuredColumns).filter(e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}}function KCe(t){const e={from:0,to:this.hot.countRows()-1};t.forEach(n=>{const r=this.hot.toPhysicalColumn(n);r!==null&&(this.hot._getColWidthFromSettings(r)||this.samplesGenerator.generateColumnSamples(n,e).forEach((o,s)=>this.ghostTable.addColumn(s,o)))}),this.ghostTable.columns.length&&(this.hot.batchExecution(()=>{this.ghostTable.getWidths((n,r)=>{const i=this.hot.toPhysicalColumn(n);this.columnWidthsMap.setValueAtIndex(i,r)})},!0),this.ghostTable.clean())}function qCe(){this.calculateVisibleColumnsWidth(),this.inProgress||(bl(gu,this,KCe).call(this,dh(Lg,this)),pA(Lg,this,[]))}function XCe(t,e){e||this.recalculateAllColumnsWidth()}function ZCe(t){const e=t.reduce((n,r)=>{let[,i]=r;const o=this.hot.propToCol(i);return Number.isInteger(o)&&n.indexOf(o)===-1&&n.push(o),n},[]);dh(Lg,this).push(...e)}function VL(t,e,n){let r=t;return n&&(this.calculateColumnsWidth(e,void 0,!0),r=this.getColumnWidth(e,void 0,!1)),r}function QCe(){pA(ag,this,this.hot.getColHeader()),this.recalculateAllColumnsWidth()}function JCe(t){const e=t.reduce((n,r)=>{var i;const o=(i=r.address)===null||i===void 0?void 0:i.col;if(Number.isInteger(o)){const s=this.hot.toVisualColumn(o);n.indexOf(s)===-1&&n.push(s)}return n},[]);dh(Lg,this).push(...e)}const hh={horizontal:"horizontal",vertical:"vertical"};function eye(t,e,n){let r,i,o;return e[0]===t[0]&&e[1]<t[1]?(o="left",r=n(e[0],e[1]),i=n(e[2],t[1]-1)):e[2]===t[2]&&e[0]===t[0]&&e[3]>t[3]?(o="right",r=n(e[0],t[3]+1),i=n(e[2],e[3])):e[0]<t[0]&&e[1]===t[1]?(o="up",r=n(e[0],e[1]),i=n(t[0]-1,e[3])):e[2]>t[2]&&e[1]===t[1]&&(o="down",r=n(t[2]+1,e[1]),i=n(e[2],e[3])),r&&r.normalize(),i&&i.normalize(),{directionOfDrag:o,startOfDragCoords:r,endOfDragCoords:i}}function tye(t){const e={};return t===!0?(e.directions=Object.keys(hh),e.autoInsertRow=!0):dn(t)?(Ct(t.autoInsertRow)?t.direction===hh.horizontal?e.autoInsertRow=!1:e.autoInsertRow=t.autoInsertRow:e.autoInsertRow=!1,Ct(t.direction)?e.directions=[t.direction]:e.directions=Object.keys(hh)):typeof t=="string"?(e.directions=[t],e.autoInsertRow=!0):(e.directions=[],e.autoInsertRow=!1),e}function nye(t,e){rye(t,e),e.add(t)}function rye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $f(t,e,n){return(e=iye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iye(t){var e=oye(t,"string");return typeof e=="symbol"?e:e+""}function oye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hp(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}mt.getSingleton().register("modifyAutofillRange");mt.getSingleton().register("beforeAutofill");mt.getSingleton().register("afterAutofill");const WL="autofill",sye=20,aye=["fillHandle"],lye="insert_row_below",uye=200;var Lf=new WeakSet;class cye extends qn{constructor(){super(...arguments),nye(this,Lf),$f(this,"addingStarted",!1),$f(this,"mouseDownOnCellCorner",!1),$f(this,"mouseDragOutside",!1),$f(this,"handleDraggedCells",0),$f(this,"directions",[]),$f(this,"autoInsertRow",!1)}static get PLUGIN_KEY(){return WL}static get PLUGIN_PRIORITY(){return sye}static get SETTING_KEYS(){return[WL,...aye]}isEnabled(){return this.hot.getSettings().fillHandle}enablePlugin(){this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",e=>hp(Lf,this,hye).call(this,e)),this.addHook("afterOnCellCornerDblClick",e=>hp(Lf,this,dye).call(this,e)),this.addHook("beforeOnCellMouseOver",(e,n)=>hp(Lf,this,fye).call(this,n)),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.clearMappedSettings(),super.disablePlugin()}getSelectionData(){const e=this.hot.getSelectedRangeLast(),{row:n,col:r}=e.getTopStartCorner(),{row:i,col:o}=e.getBottomEndCorner(),s=this.hot.runHooks("modifyCopyableRange",[{startRow:n,startCol:r,endRow:i,endCol:o}]),a=[],u=[],c=[];return ye(s,h=>{for(let g=h.startRow;g<=h.endRow;g+=1)a.indexOf(g)===-1&&a.push(g);for(let g=h.startCol;g<=h.endCol;g+=1)u.indexOf(g)===-1&&u.push(g)}),ye(a,h=>{const g=[];ye(u,p=>{g.push(this.hot.getCopyableData(h,p))}),c.push(g)}),c}fillIn(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;const[e,n,r,i]=this.hot.selection.highlight.getFill().getVisualCorners(),o=this.hot.getSelectedRangeLast(),s=o.getTopStartCorner(),a=o.getBottomEndCorner();this.resetSelectionOfDraggedArea();const u=[s.row,s.col,a.row,a.col],c=this.hot.runHooks("modifyAutofillRange",[Math.min(s.row,e),Math.min(s.col,n),Math.max(a.row,r),Math.max(a.col,i)],u),{directionOfDrag:h,startOfDragCoords:g,endOfDragCoords:p}=eye(u,c,(v,y)=>this.hot._createCellCoords(v,y));if(g&&g.row>-1&&g.col>-1){const v=this.getSelectionData(),y=o.clone(),R=this.hot._createCellRange(g,g,p),S=this.hot.runHooks("beforeAutofill",v,y,R,h);if(S===!1)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;let T=S;const x=S;if(["up","left"].indexOf(h)>-1&&!(x.length===1&&x[0].length===0))if(T=[],h==="up"){const O=p.row-g.row+1,A=O%x.length;for(let H=0;H<O;H++)T.push(x[(H+(x.length-A))%x.length])}else{const O=p.col-g.col+1,A=O%x[0].length;for(let H=0;H<x.length;H++){T.push([]);for(let L=0;L<O;L++)T[H].push(x[H][(L+(x[H].length-A))%x[H].length])}}this.hot.populateFromArray(g.row,g.col,T,p.row,p.col,`${this.pluginName}.fill`,null),this.setSelection(c),this.hot.runHooks("afterAutofill",T,y,R,h),this.hot.render()}else this.hot.view.render();return!0}reduceSelectionAreaIfNeeded(e){return e.row<0&&(e.row=0),e.col<0&&(e.col=0),e}getCoordsOfDragAndDropBorders(e){const n=this.hot.getSelectedRangeLast(),r=n.getBottomEndCorner();let i=e;if(this.directions.includes(hh.vertical)&&this.directions.includes(hh.horizontal)){const o=n.getTopStartCorner();(r.col<=e.col||o.col>=e.col)&&(i=this.hot._createCellCoords(r.row,e.col)),(r.row<e.row||o.row>e.row)&&(i=this.hot._createCellCoords(e.row,r.col))}else if(this.directions.includes(hh.vertical))i=this.hot._createCellCoords(e.row,r.col);else if(this.directions.includes(hh.horizontal))i=this.hot._createCellCoords(r.row,e.col);else return;return this.reduceSelectionAreaIfNeeded(i)}showBorder(e){const n=this.getCoordsOfDragAndDropBorders(e);n&&this.redrawBorders(n)}addRow(){this.hot._registerTimeout(()=>{this.hot.alter(lye,void 0,1,`${this.pluginName}.fill`),this.addingStarted=!1},uye)}addNewRowIfNeeded(){if(!this.hot.selection.highlight.getFill().isEmpty()&&this.addingStarted===!1&&this.autoInsertRow){const e=this.hot.getSelectedLast(),n=this.hot.selection.highlight.getFill().getVisualCorners(),r=this.hot.countRows();e[2]<r-1&&n[2]===r-1&&(this.addingStarted=!0,this.addRow())}}getIndexOfLastAdjacentFilledInRow(e){const n=this.hot.getData(),r=this.hot.countRows();let i;for(let o=e[2]+1;o<r;o++){for(let u=e[1];u<=e[3];u++){const c=n[o][u];if(!ei(c))return-1}const s=n[o][e[1]-1],a=n[o][e[3]+1];(!ei(s)||!ei(a))&&(i=o)}return i}addSelectionFromStartAreaToSpecificRowIndex(e,n){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(e[0],e[1])).add(this.hot._createCellCoords(n,e[3])).commit()}setSelection(e){this.hot.selectCell(..._n(e,n=>Math.max(n,0)),!1,!1)}selectAdjacent(){const e=this.hot.getSelectedLast(),n=this.getIndexOfLastAdjacentFilledInRow(e);return n===-1||n===void 0?!1:(this.addSelectionFromStartAreaToSpecificRowIndex(e,n),!0)}resetSelectionOfDraggedArea(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}redrawBorders(e){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(e).commit(),this.hot.view.render()}getIfMouseWasDraggedOutside(e){const{documentElement:n}=this.hot.rootDocument,r=Hi(this.hot.table).top-(this.hot.rootWindow.pageYOffset||n.scrollTop)+li(this.hot.table),i=Hi(this.hot.table).left-(this.hot.rootWindow.pageXOffset||n.scrollLeft)+Rr(this.hot.table);return e.clientY>r&&e.clientX<=i}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mouseup",()=>hp(Lf,this,gye).call(this)),this.eventManager.addEventListener(e,"mousemove",n=>hp(Lf,this,mye).call(this,n))}clearMappedSettings(){this.directions.length=0,this.autoInsertRow=!1}mapSettings(){const e=tye(this.hot.getSettings().fillHandle);this.directions=e.directions,this.autoInsertRow=e.autoInsertRow}destroy(){super.destroy()}}function dye(){this.selectAdjacent()&&this.fillIn()}function hye(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}function fye(t){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(t),this.addNewRowIfNeeded())}function gye(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}function mye(t){const e=this.getIfMouseWasDraggedOutside(t);this.addingStarted===!1&&this.handleDraggedCells>0&&e?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}function pye(t,e){mz(t,e),e.add(t)}function vye(t,e,n){mz(t,e),e.set(t,n)}function mz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kf(t,e,n){return(e=wye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wye(t){var e=Cye(t,"string");return typeof e=="symbol"?e:e+""}function Cye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yye(t,e,n){return t.set(Sl(t,e),n),n}function vA(t,e){return t.get(Sl(t,e))}function Sl(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Oy="autoRowSize",bye=40,Sye="autoRowSize";var Av=new WeakMap,mu=new WeakSet;class tv extends qn{static get PLUGIN_KEY(){return Oy}static get PLUGIN_PRIORITY(){return bye}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 500}constructor(e){super(e),pye(this,mu),kf(this,"headerHeight",null),kf(this,"ghostTable",new fz(this.hot)),kf(this,"samplesGenerator",new rR((n,r)=>{const i=this.hot.toPhysicalRow(n),o=this.hot.toPhysicalColumn(r);if(this.hot.rowIndexMapper.isHidden(i)||this.hot.columnIndexMapper.isHidden(o)||n>=0&&r>=0&&this.hot.getCellMeta(n,r).hidden)return!1;let s;return n>=0?s=this.hot.getDataAtCell(n,r):n===-1&&(s=this.hot.getColHeader(r)),{value:s}})),kf(this,"inProgress",!1),kf(this,"measuredRows",0),kf(this,"rowHeightsMap",new Jc),vye(this,Av,[]),this.hot.rowIndexMapper.registerMap(Sye,this.rowHeightsMap),this.addHook("beforeRowResize",(n,r,i)=>Sl(mu,this,BL).call(this,n,r,i))}isEnabled(){const e=this.hot.getSettings()[Oy];return e===!0||dn(e)}enablePlugin(){var e=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Sl(mu,e,_ye).call(e,...r)}),this.addHook("beforeChangeRender",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Sl(mu,e,Mye).call(e,...r)}),this.addHook("beforeColumnResize",()=>this.recalculateAllRowsHeight()),this.addHook("afterFormulasValuesUpdate",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Sl(mu,e,xye).call(e,...r)}),this.addHook("beforeRender",()=>Sl(mu,this,Eye).call(this)),this.addHook("modifyRowHeight",(n,r)=>this.getRowHeight(r,n)),this.addHook("init",()=>Sl(mu,this,Tye).call(this)),this.addHook("modifyColumnHeaderHeight",()=>this.getColumnHeaderHeight()),super.enablePlugin())}disablePlugin(){this.headerHeight=null,super.disablePlugin(),this.addHook("beforeRowResize",(e,n,r)=>Sl(mu,this,BL).call(this,e,n,r))}calculateVisibleRowsHeight(){if(!this.hot.countCols())return;const e=this.getFirstVisibleRow(),n=this.getLastVisibleRow();if(e===-1||n===-1)return;const r=this.hot.renderCall;this.calculateRowsHeight({from:e,to:n},void 0,r)}calculateRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countRows()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{from:0,to:this.hot.countCols()-1},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=typeof e=="number"?{from:e,to:e}:e,o=typeof n=="number"?{from:n,to:n}:n;if(this.hot.getColHeader(0)!==null){const s=this.samplesGenerator.generateRowSamples(-1,o);this.ghostTable.addColumnHeadersRow(s.get(-1))}Mt(i.from,i.to,s=>{let a=this.hot.toPhysicalRow(s);a===null&&(a=s),(r||this.rowHeightsMap.getValueAtIndex(a)===null)&&this.samplesGenerator.generateRowSamples(s,o).forEach((c,h)=>this.ghostTable.addRow(h,c))}),this.ghostTable.rows.length&&(this.hot.batchExecution(()=>{this.ghostTable.getHeights((s,a)=>{s<0?this.headerHeight=a:this.rowHeightsMap.setValueAtIndex(this.hot.toPhysicalRow(s),a)})},!0),this.measuredRows=i.to+1,this.ghostTable.clean())}calculateAllRowsHeight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{from:0,to:this.hot.countCols()-1},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0;const i=this.hot.countRows()-1;let o=null;this.inProgress=!0;const s=()=>{if(!this.hot){pS(o),this.inProgress=!1;return}this.calculateRowsHeight({from:r,to:Math.min(r+tv.CALCULATION_STEP,i)},e,n),r=r+tv.CALCULATION_STEP+1,r<i?o=iO(s):(pS(o),this.inProgress=!1,this.hot.view.adjustElementsSize(),this.hot.view._wt.wtOverlays.inlineStartOverlay.needFullRender&&this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.draw())},a=this.getSyncCalculationLimit();a>=0&&(this.calculateRowsHeight({from:0,to:a},e,n),r=a+1),r<i?s():(this.inProgress=!1,this.hot.view.adjustElementsSize())}setSamplingOptions(){const e=this.hot.getSettings()[Oy],n=e&&Yr(e,"samplingRatio")?e.samplingRatio:void 0,r=e&&Yr(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;n&&!isNaN(n)&&this.samplesGenerator.setSampleCount(parseInt(n,10)),r&&this.samplesGenerator.setAllowDuplicates(r)}recalculateAllRowsHeight(){this.hot.view.isVisible()&&this.calculateAllRowsHeight({from:0,to:this.hot.countCols()-1},!0)}getSyncCalculationLimit(){const e=this.hot.getSettings()[Oy];let n=tv.SYNC_CALCULATION_LIMIT;const r=this.hot.countRows()-1;return dn(e)&&(n=e.syncLimit,oB(n)?n=jB(r,n):n>>=0),Math.min(n,r)}getRowHeight(e,n){const r=e<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(e));let i=n;return r!==null&&r>(n||0)&&(i=r),i}getColumnHeaderHeight(){return this.headerHeight}getFirstVisibleRow(){var e;return(e=this.hot.view.getFirstRenderedVisibleRow())!==null&&e!==void 0?e:-1}getLastVisibleRow(){var e;return(e=this.hot.view.getLastRenderedVisibleRow())!==null&&e!==void 0?e:-1}clearCache(e){this.headerHeight=null,Array.isArray(e)?this.hot.batchExecution(()=>{e.forEach(n=>{this.rowHeightsMap.setValueAtIndex(n,null)})},!0):this.rowHeightsMap.clear()}clearCacheByRange(e){const{from:n,to:r}=typeof e=="number"?{from:e,to:e}:e;this.hot.batchExecution(()=>{Mt(Math.min(n,r),Math.max(n,r),i=>{this.rowHeightsMap.setValueAtIndex(i,null)})},!0)}isNeedRecalculate(){return!!this.rowHeightsMap.getValues().slice(0,this.measuredRows).filter(e=>e===null).length}destroy(){this.ghostTable.clean(),super.destroy()}}function Rye(t){const e={from:0,to:this.hot.countCols()-1};t.forEach(n=>{this.samplesGenerator.generateRowSamples(n,e).forEach((i,o)=>this.ghostTable.addRow(o,i))}),this.ghostTable.rows.length&&(this.hot.batchExecution(()=>{this.ghostTable.getHeights((n,r)=>{const i=this.hot.toPhysicalRow(n);this.rowHeightsMap.setValueAtIndex(i,r)})},!0),this.ghostTable.clean())}function Eye(){this.calculateVisibleRowsHeight(),this.inProgress||(Sl(mu,this,Rye).call(this,vA(Av,this)),yye(Av,this,[]))}function BL(t,e,n){let r=t;return n&&(this.calculateRowsHeight(e,void 0,!0),r=this.getRowHeight(e)),r}function _ye(t,e){e||this.recalculateAllRowsHeight()}function Mye(t){const e=t.reduce((n,r)=>{let[i]=r;return n.indexOf(i)===-1&&n.push(i),n},[]);vA(Av,this).push(...e)}function Tye(){this.recalculateAllRowsHeight()}function xye(t){const e=t.reduce((n,r)=>{var i;const o=(i=r.address)===null||i===void 0?void 0:i.row;if(Number.isInteger(o)){const s=this.hot.toVisualRow(o);n.indexOf(s)===-1&&n.push(s)}return n},[]);vA(Av,this).push(...e)}const{getListWithInsertedItems:Iye,getListWithRemovedItems:Oye}=vj("physicallyIndexed");class Pye extends zh{constructor(){super(e=>e)}insert(e,n){const r=DO(this.indexedValues,n);this.indexedValues=Iye(r,e,n,this.initValueOrFn),super.insert(e,n)}remove(e){const n=Oye(this.indexedValues,e);this.indexedValues=HO(n,e),super.remove(e)}}const{getListWithInsertedItems:Aye,getListWithRemovedItems:Hye}=vj("physicallyIndexed");class Dye extends zh{constructor(){super(e=>e)}insert(e,n){this.indexedValues=Aye(this.indexedValues,e,n,(r,i)=>this.getNextValue(i)),super.insert(e,n)}remove(e){this.indexedValues=Hye(this.indexedValues,e),super.remove(e)}getNextValue(e){return Math.max(...this.getValues())+1+e}}function Nye(t,e){$ye(t,e),e.add(t)}function $ye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Lye(t,e,n){return(e=kye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kye(t){var e=Fye(t,"string");return typeof e=="symbol"?e:e+""}function Fye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vye(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const lM="bindRowsWithHeaders",Wye=210,Bye="loose",jye=new Map([["loose",Pye],["strict",Dye]]);var jL=new WeakSet;class zye extends qn{constructor(){super(...arguments),Nye(this,jL),Lye(this,"headerIndexes",null)}static get PLUGIN_KEY(){return lM}static get PLUGIN_PRIORITY(){return Wye}isEnabled(){return!!this.hot.getSettings()[lM]}enablePlugin(){if(this.enabled)return;let e=this.hot.getSettings()[lM];typeof e!="string"&&(e=Bye);const n=jye.get(e);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new n),this.addHook("modifyRowHeader",r=>Vye(jL,this,Yye).call(this,r)),super.enablePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),super.disablePlugin()}destroy(){super.destroy()}}function Yye(t){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(t))}function Uye(t,e){pz(t,e),e.add(t)}function Gye(t,e,n){pz(t,e),e.set(t,n)}function pz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zL(t,e,n){return(e=Kye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kye(t){var e=qye(t,"string");return typeof e=="symbol"?e:e+""}function qye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YL(t,e){return t.get(pg(t,e))}function uM(t,e,n){return t.set(pg(t,e),n),n}function pg(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const $b="collapsibleColumns",Xye=290,Zye=["nestedHeaders"],Rg="collapsibleIndicator",UL=$b,GL=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]);var Ff=new WeakMap,fp=new WeakSet;class Qye extends qn{constructor(){super(...arguments),Uye(this,fp),zL(this,"nestedHeadersPlugin",null),zL(this,"headerStateManager",null),Gye(this,Ff,null)}static get PLUGIN_KEY(){return $b}static get PLUGIN_PRIORITY(){return Xye}static get PLUGIN_DEPS(){return["plugin:NestedHeaders"]}static get SETTING_KEYS(){return[$b,...Zye]}isEnabled(){return!!this.hot.getSettings()[$b]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:n}=this.hot.getSettings();n||er("You need to configure the Nested Headers plugin in order to use collapsible headers."),uM(Ff,this,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",()=>pg(fp,this,tbe).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return pg(fp,e,nbe).call(e,...i)}),this.addHook("afterGetColHeader",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return pg(fp,e,Jye).call(e,...i)}),this.addHook("beforeOnCellMouseDown",(r,i,o)=>pg(fp,this,ebe).call(this,r,i,o)),this.registerShortcuts(),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){const{collapsibleColumns:e}=this.hot.getSettings();typeof e=="boolean"?this.headerStateManager.mapState(n=>({collapsible:n.origColspan>1})):Array.isArray(e)&&(this.headerStateManager.mapState(()=>({collapsible:!1})),this.headerStateManager.mergeStateWith(e))}super.updatePlugin()}}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),uM(Ff,this,null),this.nestedHeadersPlugin=null,this.unregisterShortcuts(),this.clearButtons(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{var e;const{row:n,col:r}=this.hot.getSelectedRangeLast().highlight,{collapsible:i,isCollapsed:o,columnIndex:s}=(e=this.headerStateManager.getHeaderTreeNodeData(n,r))!==null&&e!==void 0?e:{};if(i)return o?this.expandSection({row:n,col:s}):this.collapseSection({row:n,col:s}),!1},runOnlyIf:()=>{var e,n;return((e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.isSingle())&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.highlight.isHeader())},group:UL,relativeToGroup:ed,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(UL)}clearButtons(){if(!this.hot.view)return;const e=this.hot.view._wt.getSetting("columnHeaders").length,n=this.hot.view._wt.wtTable.THEAD,r=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,i=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,o=function(s){s&&s.parentNode.removeChild(s)};Mt(0,e-1,s=>{const a=n.childNodes[s],u=r.childNodes[s],c=i?i.childNodes[s]:null;Mt(0,a.childNodes.length-1,h=>{let g=a.childNodes[h].querySelector(`.${Rg}`);o(g),u&&u.childNodes[h]&&(g=u.childNodes[h].querySelector(`.${Rg}`),o(g)),i&&c&&c.childNodes[h]&&(g=c.childNodes[h].querySelector(`.${Rg}`),o(g))})})}expandSection(e){this.toggleCollapsibleSection([e],"expand")}collapseSection(e){this.toggleCollapsibleSection([e],"collapse")}toggleAllCollapsibleSections(e){const n=this.headerStateManager.mapNodes(r=>{const{collapsible:i,origColspan:o,headerLevel:s,columnIndex:a,isCollapsed:u}=r;if(i===!0&&o>1&&(u&&e==="expand"||!u&&e==="collapse"))return{row:this.headerStateManager.levelToRowCoords(s),col:a}});this.toggleCollapsibleSection(n,e)}collapseAll(){this.toggleAllCollapsibleSections("collapse")}expandAll(){this.toggleAllCollapsibleSections("expand")}toggleCollapsibleSection(e,n){if(!GL.has(n))throw new Error(`Unsupported action is passed (${n}).`);if(!Array.isArray(e))return;const r=jc(e,v=>{let{row:y}=v;return y<0});let i=r.length>0;ye(r,v=>{var y;let{row:R,col:S}=v;const{collapsible:T,isCollapsed:x}=(y=this.headerStateManager.getHeaderSettings(R,S))!==null&&y!==void 0?y:{};if(!T||x&&n==="collapse"||!x&&n==="expand")return i=!1,!1});const o=[],s=[];i&&ye(r,v=>{let{row:y,col:R}=v;const{colspanCompensation:S,affectedColumns:T,rollbackModification:x}=this.headerStateManager.triggerNodeModification(n,y,R);S>0&&(s.push(...T),o.push(x))});const a=this.getCollapsedColumns();let u=[];n==="collapse"?u=rB([...a,...s]):n==="expand"&&(u=jc(a,v=>!s.includes(v)));const c=GL.get(n);if(this.hot.runHooks(c.beforeHook,a,u,i)===!1){ye(o,v=>{v()});return}this.hot.batchExecution(()=>{ye(s,v=>{YL(Ff,this).setValueAtIndex(this.hot.toPhysicalColumn(v),c.hideColumn)})},!0);const g=this.getCollapsedColumns().length!==a.length,p=this.hot.getSelectedRangeLast();if(n==="collapse"&&g&&p){const{row:v,col:y}=p.highlight;if((this.hot.rowIndexMapper.isHidden(v)||this.hot.columnIndexMapper.isHidden(y))&&s.includes(y)){const S=v>=0?this.hot.rowIndexMapper.getNearestNotHiddenIndex(v,1,!0):v,T=y>=0?this.hot.columnIndexMapper.getNearestNotHiddenIndex(y,1,!0):y;S!==null&&T!==null&&this.hot.selectCell(S,T)}}this.hot.runHooks(c.afterHook,a,u,i,g),this.hot.render(),this.hot.view.adjustElementsSize()}getCollapsedColumns(){return YL(Ff,this).getHiddenIndexes()}destroy(){uM(Ff,this,null),super.destroy()}}function Jye(t,e,n){var r;const{collapsible:i,origColspan:o,isCollapsed:s}=(r=this.headerStateManager.getHeaderSettings(n,t))!==null&&r!==void 0?r:{},a=i&&o>1&&t>=this.hot.getSettings().fixedColumnsStart,u=this.hot.getSettings().ariaTags;let c=e.querySelector(`.${Rg}`);if(Qg(e,[zs("")[0]]),a)c||(c=this.hot.rootDocument.createElement("div"),Qe(c,Rg),e.querySelector("div:first-child").appendChild(c)),Zt(c,["collapsed","expanded"]),s?(Qe(c,"collapsed"),Rh(c,"+"),u&&Lt(e,...zs(!1))):(Qe(c,"expanded"),Rh(c,"-"),u&&Lt(e,...zs(!0))),u&&Lt(c,...jh());else{var h;(h=c)===null||h===void 0||h.remove()}}function ebe(t,e){Ft(t.target,Rg)&&(Ft(t.target,"expanded")?(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"collapse")):Ft(t.target,"collapsed")&&(this.eventManager.fireEvent(t.target,"mouseup"),this.toggleCollapsibleSection([e],"expand")),$a(t))}function tbe(){this.updatePlugin()}function nbe(t,e){e||this.updatePlugin()}function Ld(t,e,n){return(e=rbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rbe(t){var e=ibe(t,"string");return typeof e=="symbol"?e:e+""}function ibe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const obe=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],sbe=!1,abe=!0,lbe=!0;class ube{constructor(e,n){Ld(this,"hot",void 0),Ld(this,"sortingStates",new X0),Ld(this,"sortEmptyCells",sbe),Ld(this,"indicator",abe),Ld(this,"headerAction",lbe),Ld(this,"compareFunctionFactory",void 0),Ld(this,"mapName",void 0),this.hot=e,this.mapName=n,this.hot.columnIndexMapper.registerMap(n,this.sortingStates)}updateAllColumnsProperties(e){dn(e)&&hn(e,(n,r)=>{obe.includes(r)&&(this[r]=n)})}getAllColumnsProperties(){const e={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return typeof this.compareFunctionFactory=="function"&&(e.compareFunctionFactory=this.compareFunctionFactory),e}getSortOrderOfColumn(e){var n;return(n=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))===null||n===void 0?void 0:n.sortOrder}getIndexOfColumnInSortQueue(e){return e=this.hot.toPhysicalColumn(e),this.sortingStates.getEntries().findIndex(n=>{let[r]=n;return r===e})}getNumberOfSortedColumns(){return this.sortingStates.getLength()}isListOfSortedColumnsEmpty(){return this.getNumberOfSortedColumns()===0}isColumnSorted(e){return dn(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))}getSortStates(){return this.sortingStates===null?[]:this.sortingStates.getEntries().map(n=>{let[r,i]=n;return{column:this.hot.toVisualColumn(r),...i}})}getColumnSortState(e){const n=this.getSortOrderOfColumn(e);if(Ct(n))return{column:e,sortOrder:n}}setSortStates(e){this.sortingStates.clear();for(let n=0;n<e.length;n+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(e[n].column),{sortOrder:e[n].sortOrder})}destroy(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}}function vz(t,e,n){const r=e.locale;return function(i,o){const{sortEmptyCells:s}=n;return typeof i=="string"&&(i=i.toLocaleLowerCase(r)),typeof o=="string"&&(o=o.toLocaleLowerCase(r)),i===o?Ol:ei(i)?ei(o)?Ol:s&&t==="asc"?jr:zr:ei(o)?s&&t==="asc"?zr:jr:isNaN(i)&&!isNaN(o)?t==="asc"?zr:jr:!isNaN(i)&&isNaN(o)||(isNaN(i)||isNaN(o)||(i=parseFloat(i),o=parseFloat(o)),i<o)?t==="asc"?jr:zr:i>o?t==="asc"?zr:jr:Ol}}const wz="default";function cbe(t,e,n){return function(r,i){const o=parseFloat(r),s=parseFloat(i),{sortEmptyCells:a}=n;if(o===s||isNaN(o)&&isNaN(s))return Ol;if(a){if(ei(r))return t==="asc"?jr:zr;if(ei(i))return t==="asc"?zr:jr}return isNaN(o)?zr:isNaN(s)?jr:o<s?t==="asc"?jr:zr:o>s?t==="asc"?zr:jr:Ol}}const dbe="numeric";function hbe(t,e,n){const r=e.checkedTemplate,i=e.uncheckedTemplate,{sortEmptyCells:o}=n;return function(s,a){const u=ei(s),c=ei(a),h=u?i:s,g=c?i:a,p=h===i||h===r,v=g===i||g===r;if(o===!1){if(u&&c===!1)return zr;if(u===!1&&c)return jr}return p===!1&&v?t==="asc"?jr:zr:p&&v===!1?t==="asc"?zr:jr:p===!1&&v===!1?vz(t,e,n)(s,a):h===i&&g===r?t==="asc"?jr:zr:h===r&&g===i?t==="asc"?zr:jr:Ol}}const fbe="checkbox";function gbe(t,e,n){return Ez(t,e.dateFormat,n)}const mbe="date";function pbe(t,e,n){return Ez(t,e.timeFormat,n)}const vbe="time",{register:gw,getItem:KL,hasItem:wbe}=La("sorting.compareFunctionFactory"),{register:Cz,getItem:Cbe}=La("sorting.mainSortComparator");function yz(t){return wbe(t)?KL(t):KL(wz)}gw(fbe,hbe);gw(mbe,gbe);gw(wz,vz);gw(dbe,cbe);gw(vbe,pbe);const Ol=0,jr=-1,zr=1;function ybe(t,e){const n=Cbe(e);for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.sort(n(...i))}const AS="asc",HS="desc",bz="colHeader";function bbe(t){if(dn(t)===!1)return!1;const{column:e,sortOrder:n}=t;return Number.isInteger(e)&&[AS,HS].includes(n)}function Sbe(t){if(t.some(n=>bbe(n)===!1))return!1;const e=t.map(n=>{let{column:r}=n;return r});return new Set(e).size===e.length}function qL(t){if(t!==HS)return t===AS?HS:AS}function Sz(t){return t.querySelector(`.${bz}`)}function Rz(t,e){if(t<0||!e.parentNode)return!1;const n=e.parentNode.parentNode.childNodes;return Array.from(n).indexOf(e.parentNode)-n.length===-1}function wA(t,e,n){return t===-1&&e>=0&&Eh(n)===!1}function Ez(t,e,n){return function(r,i){const{sortEmptyCells:o}=n;if(r===i)return Ol;if(ei(r))return ei(i)?Ol:o&&t==="asc"?jr:zr;if(ei(i))return o&&t==="asc"?zr:jr;const s=Ze(r,e),a=Ze(i,e);return s.isValid()?a.isValid()?a.isAfter(s)?t==="asc"?jr:zr:a.isBefore(s)?t==="asc"?zr:jr:Ol:jr:zr}}const Rbe="ascending",Ebe="descending",_z="indicatorDisabled",Mz="columnSorting",Tz="sortAction",xz=new Map([[AS,Rbe],[HS,Ebe]]);function _be(t,e,n,r){const i=[Mz];if(r&&i.push(Tz),n===!1)return i.push(_z),i;const o=t.getSortOrderOfColumn(e);return Ct(o)&&i.push(xz.get(o)),i}function Mbe(){return Array.from(xz.values()).concat(Tz,_z,Mz)}function Tbe(t,e){return function(n,r){const[,...i]=n,[,...o]=r;return function(a){const u=t[a],c=e[a],h=i[a],g=o[a],p=c.columnSorting;return(p.compareFunctionFactory?p.compareFunctionFactory:yz(c.type))(u,c,p)(h,g)}(0)}}function xbe(t,e){Ibe(t,e),e.add(t)}function Ibe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Py(t,e,n){return(e=Obe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Obe(t){var e=Pbe(t,"string");return typeof e=="symbol"?e:e+""}function Pbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lg(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const DS="columnSorting",Abe=50,NS="append",Hbe="replace",XL=DS;Cz(DS,Tbe);mt.getSingleton().register("beforeColumnSort");mt.getSingleton().register("afterColumnSort");var sh=new WeakSet;class Iz extends qn{constructor(){super(...arguments),xbe(this,sh),Py(this,"columnStatesManager",null),Py(this,"columnMetaCache",null),Py(this,"pluginKey",DS),Py(this,"indexesSequenceCache",null)}static get PLUGIN_KEY(){return DS}static get PLUGIN_PRIORITY(){return Abe}isEnabled(){return!!this.hot.getSettings()[this.pluginKey]}enablePlugin(){var e=this;this.enabled||(this.columnStatesManager=new ube(this.hot,`${this.pluginKey}.sortingStates`),this.columnMetaCache=new Jc(n=>{let r=this.hot.toVisualColumn(n);return r===null&&(r=n),this.getMergedPluginSettings(r)}),this.hot.columnIndexMapper.registerMap(`${this.pluginKey}.columnMeta`,this.columnMetaCache),this.addHook("afterGetColHeader",(n,r)=>lg(sh,this,Dbe).call(this,n,r)),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return lg(sh,e,$be).call(e,...r)}),this.addHook("afterOnCellMouseDown",(n,r)=>this.onAfterOnCellMouseDown(n,r)),this.addHook("afterInit",()=>lg(sh,this,mx).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return lg(sh,e,Nbe).call(e,...r)}),this.hot.view&&lg(sh,this,mx).call(this),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){const e=(n,r)=>{const i=Sz(r);Rz(n,r)===!1||i===null||this.updateHeaderClasses(i)};this.hot.addHook("afterGetColHeader",e),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("afterGetColHeader",e)}),this.hot.batchExecution(()=>{this.indexesSequenceCache!==null&&(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginKey),this.indexesSequenceCache=null)},!0),this.hot.columnIndexMapper.unregisterMap(`${this.pluginKey}.columnMeta`),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();return this.sort(this.getColumnNextConfig(e.col)),!1},runOnlyIf:()=>{var e,n;const r=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return r&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingle())&&this.hot.selection.isCellVisible(r)&&r.row===-1&&r.col>=0},relativeToGroup:ed,position:"before",group:XL})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(XL)}sort(e){const n=this.getSortConfig(),r=this.getNormalizedSortConfigs(e),i=this.areValidSortConfigs(r);this.hot.runHooks("beforeColumnSort",n,r,i)!==!1&&(n.length===0&&this.indexesSequenceCache===null&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new wj),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),i&&(this.columnStatesManager.setSortStates(r),this.sortByPresetSortStates(r),this.saveAllSortSettings(r)),this.hot.runHooks("afterColumnSort",n,i?r:n,i),i&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}clearSort(){this.sort([])}isSorted(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}getSortConfig(e){return Ct(e)?this.columnStatesManager.getColumnSortState(e):this.columnStatesManager.getSortStates()}setSortConfig(e){const n=this.getNormalizedSortConfigs(e);this.areValidSortConfigs(n)&&this.columnStatesManager.setSortStates(n)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e.slice(0,1):[e]}areValidSortConfigs(e){const n=this.hot.countCols();return Sbe(e)&&e.every(r=>{let{column:i}=r;return i<=n&&i>=0})}saveAllSortSettings(e){const n=this.columnStatesManager.getAllColumnsProperties(),r=i=>{let{column:o,...s}=i;return{column:this.hot.toPhysicalColumn(o),...s}};n.initialConfig=_n(e,r),this.hot.runHooks("persistentStateSave","columnSorting",n)}getAllSavedSortSettings(){const e={};this.hot.runHooks("persistentStateLoad","columnSorting",e);const n=e.value,r=i=>{let{column:o,...s}=i;return{column:this.hot.toVisualColumn(o),...s}};return Ct(n)&&Array.isArray(n.initialConfig)&&(n.initialConfig=_n(n.initialConfig,r)),n}getColumnNextConfig(e){const n=this.columnStatesManager.getSortOrderOfColumn(e);if(Ct(n)){const i=qL(n);return Ct(i)?{column:e,sortOrder:i}:void 0}const r=this.hot.countCols();if(Number.isInteger(e)&&e>=0&&e<r)return{column:e,sortOrder:qL()}}getNextSortConfig(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NS;const r=this.columnStatesManager.getIndexOfColumnInSortQueue(e),i=r!==-1,o=this.getSortConfig(),s=this.getColumnNextConfig(e);if(i){if(Sr(s))return[...o.slice(0,r),...o.slice(r+1)];if(n===NS)return[...o.slice(0,r),...o.slice(r+1),s];if(n===Hbe)return[...o.slice(0,r),s,...o.slice(r+1)]}return Ct(s)?o.concat(s):o}getPluginColumnConfig(e){if(dn(e)){const n=e[this.pluginKey];if(dn(n))return n}return{}}getMergedPluginSettings(e){const n=this.hot.getSettings()[this.pluginKey],r=this.columnStatesManager.getAllColumnsProperties(),i=this.hot.getCellMeta(0,e),o=Object.getPrototypeOf(i);return Array.isArray(o.columns)?Object.assign(r,n,this.getPluginColumnConfig(o.columns[e])):br(o.columns)?Object.assign(r,n,this.getPluginColumnConfig(o.columns(e))):Object.assign(r,n)}getFirstCellSettings(e){const n=this.hot.getCellMeta(0,e),r=Object.create(n);return r[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(e)),r}getNumberOfRowsToSort(e){const n=this.hot.getSettings();return n.maxRows<=e?n.maxRows:e-n.minSpareRows}sortByPresetSortStates(e){if(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),e.length===0)return;const n=[],r=this.hot.countRows(),i=c=>_n(e,h=>this.hot.getDataAtCell(c,h.column));for(let c=0;c<this.getNumberOfRowsToSort(r);c+=1)n.push([this.hot.toPhysicalRow(c)].concat(i(c)));const o=_n(n,c=>c[0]);ybe(n,this.pluginKey,_n(e,c=>c.sortOrder),_n(e,c=>this.getFirstCellSettings(c.column)));for(let c=n.length;c<r;c+=1)n.push([c].concat(i(c)));const s=_n(n,c=>c[0]),a=new Map(_n(o,(c,h)=>[c,s[h]])),u=_n(this.hot.rowIndexMapper.getIndexesSequence(),c=>a.has(c)?a.get(c):c);this.hot.rowIndexMapper.setIndexesSequence(u)}sortBySettings(e){if(dn(e)){this.columnStatesManager.updateAllColumnsProperties(e);const n=e.initialConfig;(Array.isArray(n)||dn(n))&&this.sort(n)}else this.hot.render()}updateHeaderClasses(e){if(Zt(e,Mbe()),this.enabled!==!1){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Qe(e,_be(...r))}}onUpdateSettings(e){super.onUpdateSettings(),this.columnMetaCache!==null&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),Ct(e[this.pluginKey])&&this.sortBySettings(e[this.pluginKey])}wasClickableHeaderClicked(e,n){return this.getFirstCellSettings(n)[this.pluginKey].headerAction&&Ft(e.target,bz)}onAfterOnCellMouseDown(e,n){if(wA(n.row,n.col,e)!==!1&&this.wasClickableHeaderClicked(e,n.col)){this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(n.col));const r=this.hot.getActiveEditor(),i=this.getColumnNextConfig(n.col);r!=null&&r.isOpened()&&this.hot.getCellValidator(r.row,r.col)?this.hot.addHookOnce("postAfterValidate",()=>{this.sort(i)}):this.sort(i)}}destroy(){var e;(e=this.columnStatesManager)===null||e===void 0||e.destroy(),super.destroy()}}function mx(){const t=this.getAllSavedSortSettings();if(dn(t))this.sortBySettings(t);else{const e=this.hot.getSettings()[this.pluginKey];this.sortBySettings(e)}}function Dbe(t,e){const n=Sz(e);if(Rz(t,e)===!1||n===null)return;const r=this.getFirstCellSettings(t)[this.pluginKey],i=r.indicator,o=r.headerAction;if(this.updateHeaderClasses(n,this.columnStatesManager,t,i,o),this.hot.getSettings().ariaTags){const s=this.columnStatesManager.getSortOrderOfColumn(t);Lt(e,...jle(s?`${s}ending`:"none"))}}function Nbe(t){t===!0&&this.hot.view&&lg(sh,this,mx).call(this)}function $be(t,e,n,r){wA(e.row,e.col,t)!==!1&&this.wasClickableHeaderClicked(t,e.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(r.column=!0)}function kd(t,e,n){return(e=Lbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lbe(t){var e=kbe(t,"string");return typeof e=="symbol"?e:e+""}function kbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Fbe{constructor(e,n){kd(this,"plugin",void 0),kd(this,"hot",void 0),kd(this,"endpoints",[]),kd(this,"settings",void 0),kd(this,"settingsType","array"),kd(this,"currentEndpoint",null),kd(this,"cellsToSetCache",[]),this.plugin=e,this.hot=this.plugin.hot,this.settings=n}initEndpoints(){this.endpoints=this.parseSettings(),this.refreshAllEndpoints()}getEndpoint(e){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings)[e]:this.endpoints[e]}getAllEndpoints(){return this.settingsType==="function"?this.fillMissingEndpointData(this.settings):this.endpoints}fillMissingEndpointData(e){return this.parseSettings(e.call(this))}parseSettings(e){const n=[];let r=e;if(!r&&typeof this.settings=="function"){this.settingsType="function";return}return r||(r=this.settings),ye(r,i=>{const o={};this.assignSetting(i,o,"ranges",[[0,this.hot.countRows()-1]]),this.assignSetting(i,o,"reversedRowCoords",!1),this.assignSetting(i,o,"destinationRow",new Error(`
        You must provide a destination row for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(i,o,"destinationColumn",new Error(`
        You must provide a destination column for the Column Summary plugin in order to work properly!
      `)),this.assignSetting(i,o,"sourceColumn",i.destinationColumn),this.assignSetting(i,o,"type","sum"),this.assignSetting(i,o,"forceNumeric",!1),this.assignSetting(i,o,"suppressDataTypeErrors",!0),this.assignSetting(i,o,"customFunction",null),this.assignSetting(i,o,"readOnly",!0),this.assignSetting(i,o,"roundFloat",!1),n.push(o)}),n}assignSetting(e,n,r,i){if(r==="ranges"&&e[r]===void 0){n[r]=i;return}else if(r==="ranges"&&e[r].length===0)return;if(e[r]===void 0){if(i instanceof Error)throw i;n[r]=i}else r==="destinationRow"&&n.reversedRowCoords?n[r]=this.hot.countRows()-e[r]-1:n[r]=e[r]}resetSetupBeforeStructureAlteration(e,n,r){if(this.settingsType!=="function")return;const i=e.indexOf("row")>-1?"row":"col",o=this.getAllEndpoints();ye(o,s=>{i==="row"&&s.destinationRow>=n&&(e==="insert_row"?s.alterRowOffset=r:e==="remove_row"&&(s.alterRowOffset=-1*r)),i==="col"&&s.destinationColumn>=n&&(e==="insert_col"?s.alterColumnOffset=r:e==="remove_col"&&(s.alterColumnOffset=-1*r))}),this.resetAllEndpoints(o,!1)}resetSetupAfterStructureAlteration(e,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(this.settingsType==="function"){const p=()=>(this.hot.removeHook("beforeViewRender",p),this.refreshAllEndpoints());this.hot.addHookOnce("beforeViewRender",p);return}const a=e.indexOf("row")>-1?"row":"col",u=e.indexOf("remove")>-1?-1:1,c=this.getAllEndpoints(),h=e.indexOf("move_row")===0,g=n;ye(c,p=>{a==="row"&&p.destinationRow>=g&&(p.alterRowOffset=u*r),a==="col"&&p.destinationColumn>=g&&(p.alterColumnOffset=u*r)}),this.resetAllEndpoints(c,!h),h?ye(c,p=>{this.extendEndpointRanges(p,g,i[0],i.length),this.recreatePhysicalRanges(p),this.clearOffsetInformation(p)}):ye(c,p=>{this.shiftEndpointCoordinates(p,g)}),s&&this.refreshAllEndpoints()}clearOffsetInformation(e){e.alterRowOffset=void 0,e.alterColumnOffset=void 0}extendEndpointRanges(e,n,r,i){ye(e.ranges,o=>{o[1]&&(n>=o[0]&&n<=o[1]?r>o[1]?o[1]+=i:r<o[0]&&(o[0]-=i):r>=o[0]&&r<=o[1]&&(o[1]-=i,n<=o[0]&&(o[0]+=1,o[1]+=1)))})}recreatePhysicalRanges(e){const n=e.ranges,r=[],i=[];ye(n,o=>{const s=[];if(o[1])for(let a=o[0];a<=o[1];a++)s.push(this.hot.toPhysicalRow(a));else s.push(this.hot.toPhysicalRow(o[0]));i.push(s)}),ye(i,o=>{let s=[];ye(o,(a,u)=>{u===0?s.push(a):o[u]!==o[u-1]+1&&(s.push(o[u-1]),r.push(s),s=[],s.push(a)),u===o.length-1&&(s.push(a),r.push(s))})}),e.ranges=r}shiftEndpointCoordinates(e,n){e.alterRowOffset&&e.alterRowOffset!==0?(e.destinationRow+=e.alterRowOffset||0,ye(e.ranges,r=>{ye(r,(i,o)=>{i>=n&&(r[o]+=e.alterRowOffset||0)})})):e.alterColumnOffset&&e.alterColumnOffset!==0&&(e.destinationColumn+=e.alterColumnOffset||0,e.sourceColumn+=e.alterColumnOffset||0)}resetAllEndpoints(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getAllEndpoints(),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e.some(i=>{const o=i.alterRowOffset||0,s=i.alterColumnOffset||0;return i.destinationRow+o>=this.hot.countRows()||i.destinationColumn+s>=this.hot.countCols()})||(this.cellsToSetCache=[],ye(e,i=>{this.resetEndpointValue(i,n)}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}refreshAllEndpoints(){this.cellsToSetCache=[],ye(this.getAllEndpoints(),e=>{this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e,"init")}),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshChangedEndpoints(e){const n=[];this.cellsToSetCache=[],ye(e,(r,i,o)=>{`${r[2]||""}`!=`${r[3]}`&&ye(this.getAllEndpoints(),(s,a)=>{this.hot.propToCol(o[i][1])===s.sourceColumn&&n.indexOf(a)===-1&&n.push(a)})}),ye(n,r=>{this.refreshEndpoint(this.getEndpoint(r))}),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshCellMetas(){this.endpoints.forEach(e=>{const n=this.hot.toVisualRow(e.destinationRow);if(n!==null){const r=this.hot.getCellMeta(n,e.destinationColumn);r.readOnly=e.readOnly,r.className="columnSummaryResult"}})}refreshEndpoint(e){this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e),this.currentEndpoint=null}resetEndpointValue(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=e.alterRowOffset||0,i=e.alterColumnOffset||0;this.cellsToSetCache.push([this.hot.toVisualRow(e.destinationRow+(n?r:0)),this.hot.toVisualColumn(e.destinationColumn+(n?i:0)),""])}setEndpointValue(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.hot.toVisualRow(e.destinationRow);if(e.destinationRow>=this.hot.countRows()||e.destinationColumn>=this.hot.countCols()){this.throwOutOfBoundsWarning();return}const o=this.hot.toVisualRow(e.destinationRow);if(o!==null){const s=this.hot.getCellMeta(o,e.destinationColumn);(n==="init"||s.readOnly!==e.readOnly)&&(s.readOnly=e.readOnly,s.className="columnSummaryResult")}if((e.roundFloat===!0||Number.isInteger(e.roundFloat))&&!isNaN(e.result)){const s=e.roundFloat;let a=0;Number.isInteger(s)&&(a=Math.min(Math.max(0,s),100)),e.result=e.result.toFixed(a)}r?this.hot.setDataAtCell(i,e.destinationColumn,e.result,"ColumnSummary.set"):this.cellsToSetCache.push([i,e.destinationColumn,e.result]),e.alterRowOffset=void 0,e.alterColumnOffset=void 0}throwOutOfBoundsWarning(){er("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}}function cM(t){return t==null||isNaN(t)}function Vbe(t,e){Wbe(t,e),e.add(t)}function Wbe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Bbe(t,e,n){return(e=jbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jbe(t){var e=zbe(t,"string");return typeof e=="symbol"?e:e+""}function zbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ay(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const dM="columnSummary",Ybe=220;var gp=new WeakSet;class Ube extends qn{constructor(){super(...arguments),Vbe(this,gp),Bbe(this,"endpoints",null)}static get PLUGIN_KEY(){return dM}static get PLUGIN_PRIORITY(){return Ybe}isEnabled(){return!!this.hot.getSettings()[dM]}enablePlugin(){var e=this;this.enabled||(this.settings=this.hot.getSettings()[dM],this.endpoints=new Fbe(this,this.settings),this.addHook("afterInit",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ay(gp,e,Gbe).call(e,...r)}),this.addHook("afterChange",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ay(gp,e,qbe).call(e,...r)}),this.addHook("afterUpdateSettings",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ay(gp,e,Kbe).call(e,...r)}),this.addHook("beforeCreateRow",(n,r,i)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_row",n,r,null,i)),this.addHook("beforeCreateCol",(n,r,i)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_col",n,r,null,i)),this.addHook("beforeRemoveRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.endpoints.resetSetupBeforeStructureAlteration("remove_row",...r)}),this.addHook("beforeRemoveCol",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.endpoints.resetSetupBeforeStructureAlteration("remove_col",...r)}),this.addHook("afterCreateRow",(n,r,i)=>this.endpoints.resetSetupAfterStructureAlteration("insert_row",n,r,null,i)),this.addHook("afterCreateCol",(n,r,i)=>this.endpoints.resetSetupAfterStructureAlteration("insert_col",n,r,null,i)),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.endpoints.resetSetupAfterStructureAlteration("remove_row",...r)}),this.addHook("afterRemoveCol",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.endpoints.resetSetupAfterStructureAlteration("remove_col",...r)}),this.addHook("afterRowMove",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ay(gp,e,Xbe).call(e,...r)}),super.enablePlugin())}disablePlugin(){this.endpoints=null,this.settings=null,this.currentEndpoint=null,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.endpoints.initEndpoints(),super.updatePlugin()}calculate(e){switch(e.type.toLowerCase()){case"sum":e.result=this.calculateSum(e);break;case"min":e.result=this.calculateMinMax(e,e.type);break;case"max":e.result=this.calculateMinMax(e,e.type);break;case"count":e.result=this.countEntries(e);break;case"average":e.result=this.calculateAverage(e);break;case"custom":e.result=e.customFunction.call(this,e);break}}calculateSum(e){let n=0;return hn(e.ranges,r=>{n+=this.getPartialSum(r,e.sourceColumn)}),n}getPartialSum(e,n){let r=0,i=e[1]||e[0],o=null,s=0;do{if(o=this.getCellValue(i,n),o=cM(o)?null:o,o!==null){const a=(`${o}`.split(".")[1]||[]).length||1;a>s&&(s=a)}r+=o||0,i-=1}while(i>=e[0]);return Math.round(r*10**s)/10**s}calculateMinMax(e,n){let r=null;return hn(e.ranges,i=>{const o=this.getPartialMinMax(i,e.sourceColumn,n);if(r===null&&o!==null&&(r=o),o!==null)switch(n){case"min":r=Math.min(r,o);break;case"max":r=Math.max(r,o);break}}),r===null?"Not enough data":r}getPartialMinMax(e,n,r){let i=null,o=e[1]||e[0],s;do{if(s=this.getCellValue(o,n),s=cM(s)?null:s,i===null)i=s;else if(s!==null)switch(r){case"min":i=Math.min(i,s);break;case"max":i=Math.max(i,s);break}o-=1}while(o>=e[0]);return i}countEmpty(e,n){let r,i=0,o=e[1]||e[0];do r=this.getCellValue(o,n),r=cM(r)?null:r,r===null&&(i+=1),o-=1;while(o>=e[0]);return i}countEntries(e){let n=0;const r=e.ranges;return hn(r,i=>{const o=i[1]===void 0?1:i[1]-i[0]+1,s=this.countEmpty(i,e.sourceColumn);n+=o,n-=s}),n}calculateAverage(e){const n=this.calculateSum(e),r=this.countEntries(e);return n/r}getCellValue(e,n){const r=this.hot.toVisualRow(e),i=this.hot.toVisualColumn(n);let o=this.hot.getSourceDataAtCell(e,n),s="";if(r!==null&&i!==null&&(s=this.hot.getCellMeta(r,i).className||""),s.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&(typeof o=="string"&&(o=o.replace(/,/,".")),o=parseFloat(o)),isNaN(o)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(tr`ColumnSummary plugin: cell at (${e}, ${n}) is not in a\x20
          numeric format. Cannot do the calculation.`);return o}}function Gbe(){this.endpoints.initEndpoints()}function Kbe(t){t.columns!==void 0&&this.endpoints.refreshCellMetas()}function qbe(t,e){t&&e!=="ColumnSummary.reset"&&e!=="ColumnSummary.set"&&e!=="loadData"&&this.endpoints.refreshChangedEndpoints(t)}function Xbe(t,e){this.endpoints.resetSetupBeforeStructureAlteration("move_row",t[0],t.length,t,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",e,t.length,t,this.pluginName)}function Zbe(t,e){Oz(t,e),e.add(t)}function hM(t,e,n){Oz(t,e),e.set(t,n)}function Oz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ug(t,e){return t.get(CA(t,e))}function px(t,e,n){return t.set(CA(t,e),n),n}function CA(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var $S=new WeakMap,Hy=new WeakMap,Dy=new WeakMap,ZL=new WeakSet;class Pz{constructor(){Zbe(this,ZL),hM(this,$S,!0),hM(this,Hy,null),hM(this,Dy,new ResizeObserver(e=>CA(ZL,this,Qbe).call(this,e)))}setObservedElement(e){px(Hy,this,e)}unobserve(){ug(Dy,this).unobserve(ug(Hy,this))}observe(){px($S,this,!0),ug(Dy,this).observe(ug(Hy,this))}destroy(){ug(Dy,this).disconnect()}}function Qbe(t){if(ug($S,this)||!Array.isArray(t)||!t.length){px($S,this,!1);return}t.forEach(e=>{let{borderBoxSize:n}=e;const{inlineSize:r,blockSize:i}=n[0];this.runLocalHooks("resize",r,i)})}lr(Pz,Ui);function Fd(t,e,n){Jbe(t,e),e.set(t,n)}function Jbe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hr(t,e){return t.get(Az(t,e))}function uu(t,e,n){return t.set(Az(t,e),n),n}function Az(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Vd=new WeakMap,fM=new WeakMap,cu=new WeakMap,Wd=new WeakMap,oc=new WeakMap,Ny=new WeakMap,Vf=new WeakMap;class fh{static get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"}static get CLASS_EDITOR(){return"htComments"}static get CLASS_INPUT(){return"htCommentTextArea"}static get CLASS_CELL(){return"htCommentCell"}constructor(e,n){var r=this;Fd(this,Vd,void 0),Fd(this,fM,!1),Fd(this,cu,null),Fd(this,Wd,void 0),Fd(this,oc,void 0),Fd(this,Ny,!0),Fd(this,Vf,new Pz),uu(Vd,this,e),uu(fM,this,n),uu(Wd,this,this.createEditor()),uu(oc,this,hr(Wd,this).style),hr(Vf,this).setObservedElement(this.getInputElement()),hr(Vf,this).addLocalHook("resize",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.runLocalHooks("resize",...o)}),this.hide()}setPosition(e,n){hr(oc,this).left=`${e}px`,hr(oc,this).top=`${n}px`}setSize(e,n){if(e&&n){const r=this.getInputElement();r.style.width=`${e}px`,r.style.height=`${n}px`}}getSize(){return{width:Rr(this.getInputElement()),height:li(this.getInputElement())}}observeSize(){hr(Vf,this).observe()}resetSize(){const e=this.getInputElement();e.style.width="",e.style.height=""}setReadOnlyState(e){const n=this.getInputElement();n.readOnly=e}show(){hr(oc,this).display="block",uu(Ny,this,!1)}hide(){hr(Vf,this).unobserve(),hr(Ny,this)||(hr(oc,this).display="none"),uu(Ny,this,!0)}isVisible(){return hr(oc,this).display==="block"}setValue(){const n=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"")||"";this.getInputElement().value=n}getValue(){return this.getInputElement().value}isFocused(){return hr(Vd,this).activeElement===this.getInputElement()}focus(){this.getInputElement().focus()}createEditor(){const e=hr(Vd,this).createElement("div"),n=hr(Vd,this).createElement("textarea");return e.style.display="none",uu(cu,this,hr(Vd,this).createElement("div")),hr(cu,this).setAttribute("dir",hr(fM,this)?"rtl":"ltr"),Qe(hr(cu,this),fh.CLASS_EDITOR_CONTAINER),hr(Vd,this).body.appendChild(hr(cu,this)),Qe(e,fh.CLASS_EDITOR),Qe(n,fh.CLASS_INPUT),n.setAttribute("data-hot-input",!0),e.appendChild(n),hr(cu,this).appendChild(e),e}getInputElement(){return hr(Wd,this).querySelector(`.${fh.CLASS_INPUT}`)}destroy(){const e=hr(cu,this)?hr(cu,this).parentNode:null;hr(Wd,this).parentNode.removeChild(hr(Wd,this)),uu(Wd,this,null),uu(oc,this,null),hr(Vf,this).destroy(),e&&e.removeChild(hr(cu,this))}}lr(fh,Ui);function gM(t,e,n){return(e=eSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eSe(t){var e=tSe(t,"string");return typeof e=="symbol"?e:e+""}function tSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const nSe=250,rSe=250;class Hz{constructor(e){gM(this,"wasLastActionShow",!0),gM(this,"showDebounced",null),gM(this,"hidingTimer",null),this.updateDelay(e)}hide(){this.wasLastActionShow=!1,this.hidingTimer=setTimeout(()=>{this.wasLastActionShow===!1&&this.runLocalHooks("hide")},rSe)}show(e){this.wasLastActionShow=!0,this.showDebounced(e)}cancelHiding(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}updateDelay(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nSe;this.showDebounced=tO(n=>{this.wasLastActionShow&&this.runLocalHooks("show",n.from.row,n.from.col)},e)}destroy(){this.clearLocalHooks()}}lr(Hz,Ui);function iSe(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","")} ${e}`}function oSe(t,e){return t.indexOf(e)!==-1?t:`${t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","")} ${e}`}function Bd(t,e){const n={};return ye(t,r=>{r.forAll((i,o)=>{i>=0&&o>=0&&(n[i]||(n[i]=[]),n[i][o]=e(i,o))})}),n}function vc(t,e,n,r,i){ye(t,o=>{o.forAll((s,a)=>{s>=0&&a>=0&&sSe(s,a,e,n,r,i)})})}function sSe(t,e,n,r,i,o){const s=i(t,e);let a=r;s.className&&(n==="vertical"?a=iSe(s.className,r):a=oSe(s.className,r)),o(t,e,"className",a)}function wu(t){return`<span class="selected">✓</span>${t}`}function nv(t,e){let n=!1;return Array.isArray(t)&&ye(t,r=>(r.forAll((i,o)=>{if(i>=0&&o>=0&&e(i,o))return n=!0,!1}),n)),n}function iR(t,e){const n={top:0,left:0};if(e!==t.ownerDocument){const{frameElement:r}=e.defaultView,{top:i,left:o}=r.getBoundingClientRect();n.top=i,n.left=o}return n}function aSe(t){return function(e,n){const r=this.getCellMeta(e,n).className;return r&&r.indexOf(t)!==-1}}function $o(t,e){return nv(t.getSelectedRange(),aSe(e).bind(t))}const cn="---------";function lSe(){return{name:cn}}const Ls="alignment";function uSe(){return{key:Ls,name(){return this.getTranslatedPhrase(oP)},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()?!0:!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:`${Ls}:left`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(yS)},ariaChecked(){return $o(this,"htLeft")},name(){let t=this.getTranslatedPhrase(yS);return $o(this,"htLeft")&&(t=wu(t)),t},callback(){const t=this.getSelectedRange(),e=Bd(t,(i,o)=>this.getCellMeta(i,o).className),n="horizontal",r="htLeft";this.runHooks("beforeCellAlignment",e,t,n,r),vc(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{key:`${Ls}:center`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(bS)},ariaChecked(){return $o(this,"htCenter")},name(){let t=this.getTranslatedPhrase(bS);return $o(this,"htCenter")&&(t=wu(t)),t},callback(){const t=this.getSelectedRange(),e=Bd(t,(i,o)=>this.getCellMeta(i,o).className),n="horizontal",r="htCenter";this.runHooks("beforeCellAlignment",e,t,n,r),vc(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{key:`${Ls}:right`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(SS)},ariaChecked(){return $o(this,"htRight")},name(){let t=this.getTranslatedPhrase(SS);return $o(this,"htRight")&&(t=wu(t)),t},callback(){const t=this.getSelectedRange(),e=Bd(t,(i,o)=>this.getCellMeta(i,o).className),n="horizontal",r="htRight";this.runHooks("beforeCellAlignment",e,t,n,r),vc(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{key:`${Ls}:justify`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(RS)},ariaChecked(){return $o(this,"htJustify")},name(){let t=this.getTranslatedPhrase(RS);return $o(this,"htJustify")&&(t=wu(t)),t},callback(){const t=this.getSelectedRange(),e=Bd(t,(i,o)=>this.getCellMeta(i,o).className),n="horizontal",r="htJustify";this.runHooks("beforeCellAlignment",e,t,n,r),vc(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{name:cn},{key:`${Ls}:top`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(ES)},ariaChecked(){return $o(this,"htTop")},name(){let t=this.getTranslatedPhrase(ES);return $o(this,"htTop")&&(t=wu(t)),t},callback(){const t=this.getSelectedRange(),e=Bd(t,(i,o)=>this.getCellMeta(i,o).className),n="vertical",r="htTop";this.runHooks("beforeCellAlignment",e,t,n,r),vc(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{key:`${Ls}:middle`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(_S)},ariaChecked(){return $o(this,"htMiddle")},name(){let t=this.getTranslatedPhrase(_S);return $o(this,"htMiddle")&&(t=wu(t)),t},callback(){const t=this.getSelectedRange(),e=Bd(t,(i,o)=>this.getCellMeta(i,o).className),n="vertical",r="htMiddle";this.runHooks("beforeCellAlignment",e,t,n,r),vc(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1},{key:`${Ls}:bottom`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(MS)},ariaChecked(){return $o(this,"htBottom")},name(){let t=this.getTranslatedPhrase(MS);return $o(this,"htBottom")&&(t=wu(t)),t},callback(){const t=this.getSelectedRange(),e=Bd(t,(i,o)=>this.getCellMeta(i,o).className),n="vertical",r="htBottom";this.runHooks("beforeCellAlignment",e,t,n,r),vc(t,n,r,(i,o)=>this.getCellMeta(i,o),(i,o,s,a)=>this.setCellMeta(i,o,s,a)),this.render()},disabled:!1}]}}}const oR="clear_column";function cSe(){return{key:oR,name(){return this.getTranslatedPhrase(YO)},callback(t,e){const n=e[0].start.col,r=e[0].end.col;this.countRows()&&this.populateFromArray(0,n,[[null]],Math.max(e[0].start.row,e[0].end.row),r,"ContextMenu.clearColumn")},disabled(){const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:!this.selection.isSelectedByColumnHeader()}}}const mw="col_left";function dSe(){return{key:mw,name(){return this.getTranslatedPhrase(FO)},callback(){const t=this.getSelectedRangeLast().getTopLeftCorner(),e=this.isRtl()?"insert_col_end":"insert_col_start";this.alter(e,t.col,1,"ContextMenu.columnLeft")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:this.selection.isSelectedByCorner()?this.countCols()===0:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}const pw="col_right";function hSe(){return{key:pw,name(){return this.getTranslatedPhrase(VO)},callback(){const t=this.getSelectedRangeLast().getTopRightCorner(),e=this.isRtl()?"insert_col_start":"insert_col_end";this.alter(e,t.col,1,"ContextMenu.columnRight")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.col<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}const vw="make_read_only";function fSe(){return{key:vw,checkable:!0,ariaChecked(){return nv(this.getSelectedRange(),(e,n)=>this.getCellMeta(e,n).readOnly)},ariaLabel(){return this.getTranslatedPhrase(CS)},name(){let t=this.getTranslatedPhrase(CS);return nv(this.getSelectedRange(),(n,r)=>this.getCellMeta(n,r).readOnly)&&(t=wu(t)),t},callback(){const t=this.getSelectedRange(),e=nv(t,(n,r)=>this.getCellMeta(n,r).readOnly);ye(t,n=>{n.forAll((r,i)=>{r>=0&&i>=0&&this.setCellMeta(r,i,"readOnly",!e)})}),this.render()},disabled(){const t=this.getSelectedRangeLast();return!!(!t||t.isSingleHeader()||this.selection.isSelectedByCorner()||this.countRows()===0||this.countCols()===0||!this.getSelectedRange()||this.getSelectedRange().length===0)}}}const sR="redo";function gSe(){return{key:sR,name(){return this.getTranslatedPhrase(zO)},callback(){this.redo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}const ww="remove_col";function mSe(){return{key:ww,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[,n,,r]=t[0];n-r!==0&&(e=1)}return this.getTranslatedPhrase(BO,e)},callback(){this.alter("remove_col",Pme(this),null,"ContextMenu.removeColumn")},disabled(){if(!this.isColumnModificationAllowed())return!0;const t=this.getSelectedRangeLast();if(!t||t.isSingleHeader()&&t.highlight.col<0)return!0;const e=this.countCols();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByRowHeader()||e===0},hidden(){return!this.getSettings().allowRemoveColumn}}}const aR="remove_row";function pSe(){return{key:aR,name(){const t=this.getSelected();let e=0;if(t)if(t.length>1)e=1;else{const[n,,r]=t[0];n-r!==0&&(e=1)}return this.getTranslatedPhrase(WO,e)},callback(){this.alter("remove_row",Ame(this),1,"ContextMenu.removeRow")},disabled(){const t=this.getSelectedRangeLast();if(!t||t.isSingleHeader()&&t.highlight.row<0)return!0;const e=this.countRows();return this.selection.isSelectedByCorner()?e===0:this.selection.isSelectedByColumnHeader()||e===0},hidden(){return!this.getSettings().allowRemoveRow}}}const lR="row_above";function vSe(){return{key:lR,name(){return this.getTranslatedPhrase(LO)},callback(){const t=this.getSelectedRangeLast().getTopLeftCorner();this.alter("insert_row_above",t.row,1,"ContextMenu.rowAbove")},disabled(){const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.row<0?!0:this.selection.isSelectedByCorner()?this.countRows()===0:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}const uR="row_below";function wSe(){return{key:uR,name(){return this.getTranslatedPhrase(kO)},callback(){const t=this.getSelectedRangeLast().getBottomRightCorner();this.alter("insert_row_below",t.row,1,"ContextMenu.rowBelow")},disabled(){const t=this.getSelectedRangeLast();return!t||t.isSingleHeader()&&t.highlight.row<0?!0:this.selection.isSelectedByCorner()?!1:this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}const Hv="no_items";function CSe(){return{key:Hv,name(){return this.getTranslatedPhrase($O)},disabled:!0,isCommand:!1}}const cR="undo";function ySe(){return{key:cR,name(){return this.getTranslatedPhrase(jO)},callback(){this.undo()},hidden(){const t=this.getPlugin("undoRedo");return!t||!t.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}const bSe=[lR,uR,mw,pw,oR,aR,ww,cR,sR,vw,Ls,cn,Hv],SSe={[cn]:lSe,[Hv]:CSe,[lR]:vSe,[uR]:wSe,[mw]:dSe,[pw]:hSe,[oR]:cSe,[aR]:pSe,[ww]:mSe,[cR]:ySe,[sR]:gSe,[vw]:fSe,[Ls]:uSe};function Dz(){const t={};return hn(SSe,(e,n)=>{t[n]=e()}),t}function RSe(t){return{key:"commentsAddEdit",name(){var e;const n=(e=this.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n!=null&&n.isCell()&&t.getCommentAtCell(n.row,n.col)?this.getTranslatedPhrase(nP):this.getTranslatedPhrase(tP)},callback(){const e=this.getSelectedRangeLast();t.setRange(e),t.show(),t.focusEditor()},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function ESe(t){return{key:"commentsRemove",name(){return this.getTranslatedPhrase(rP)},callback(){this.getSelectedRangeLast().forAll((n,r)=>{n>=0&&r>=0&&t.removeCommentAtCell(n,r,!1)}),this.render()},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function _Se(t){return{key:"commentsReadOnly",name(){const e=this.getTranslatedPhrase(iP);return nv(this.getSelectedRange(),(r,i)=>t.getCommentMeta(r,i,Lb))?wu(e):e},callback(){this.getSelectedRangeLast().forAll((n,r)=>{if(n>=0&&r>=0){const i=!!t.getCommentMeta(n,r,Lb);t.updateCommentMeta(n,r,{[Lb]:!i})}})},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||!t.getCommentAtCell(e.highlight.row,e.highlight.col)||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||this.countRenderedRows()===0||this.countRenderedCols()===0)}}}function MSe(t,e){Nz(t,e),e.add(t)}function Wf(t,e,n){Nz(t,e),e.set(t,n)}function Nz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function TSe(t,e,n){return(e=xSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xSe(t){var e=ISe(t,"string");return typeof e=="symbol"?e:e+""}function ISe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ac(t,e,n){return t.set(wa(t,e),n),n}function bn(t,e){return t.get(wa(t,e))}function wa(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const rv="comments",OSe=60,Cu="comment",zp="value",$z="style",Lb="readOnly",$y=rv,vx=`plugin:${rv}`;var gr=new WeakMap,wl=new WeakMap,dR=new WeakMap,kb=new WeakMap,wx=new WeakMap,LS=new WeakMap,sl=new WeakSet;class PSe extends qn{constructor(){super(...arguments),MSe(this,sl),TSe(this,"range",{}),Wf(this,gr,null),Wf(this,wl,null),Wf(this,dR,!1),Wf(this,kb,!1),Wf(this,wx,null),Wf(this,LS,"")}static get PLUGIN_KEY(){return rv}static get PLUGIN_PRIORITY(){return OSe}isEnabled(){return!!this.hot.getSettings()[rv]}enablePlugin(){var e=this;this.enabled||(bn(gr,this)||(Ac(gr,this,new fh(this.hot.rootDocument,this.hot.isRtl())),bn(gr,this).addLocalHook("resize",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return wa(sl,e,kSe).call(e,...r)})),bn(wl,this)||Ac(wl,this,new Hz(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",n=>this.addToContextMenu(n)),this.addHook("afterRenderer",(n,r,i,o,s,a)=>wa(sl,this,NSe).call(this,n,a)),this.addHook("afterScroll",()=>wa(sl,this,VSe).call(this)),this.addHook("afterBeginEditing",()=>this.hide()),this.addHook("afterDocumentKeyDown",n=>wa(sl,this,FSe).call(this,n)),bn(wl,this).addLocalHook("hide",()=>this.hide()),bn(wl,this).addLocalHook("show",(n,r)=>this.showAtCell(n,r)),this.registerShortcuts(),this.registerListeners(),super.enablePlugin())}updatePlugin(){bn(wl,this).updateDelay(this.getDisplayDelaySetting()),super.updatePlugin()}disablePlugin(){this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager(),n=e.getContext("grid"),r=e.addContext(vx);n.addShortcut({keys:[["Control","Alt","M"]],callback:()=>{const i=this.hot.getSelectedRangeLast();Ac(kb,this,!0),this.hot.scrollToFocusedCell(()=>{this.setRange(i),this.show(),this.focusEditor(),e.setActiveContextName(vx),this.hot._registerTimeout(()=>{Ac(kb,this,!1)})})},stopPropagation:!0,runOnlyIf:()=>{var i;return((i=this.hot.getSelectedRangeLast())===null||i===void 0?void 0:i.highlight.isCell())&&!bn(gr,this).isVisible()},group:$y}),r.addShortcut({keys:[["Escape"]],callback:()=>{bn(gr,this).setValue(bn(LS,this)),this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>bn(gr,this).isVisible()&&bn(gr,this).isFocused(),group:$y}),r.addShortcut({keys:[["Control/Meta","Enter"]],callback:()=>{this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>bn(gr,this).isVisible()&&bn(gr,this).isFocused(),group:$y})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup($y)}registerListeners(){const{rootDocument:e}=this.hot,n=this.getEditorInputElement();this.eventManager.addEventListener(e,"mouseover",r=>wa(sl,this,HSe).call(this,r)),this.eventManager.addEventListener(e,"mousedown",r=>wa(sl,this,ASe).call(this,r)),this.eventManager.addEventListener(e,"mouseup",()=>wa(sl,this,DSe).call(this)),this.eventManager.addEventListener(n,"focus",()=>wa(sl,this,LSe).call(this)),this.eventManager.addEventListener(n,"blur",()=>wa(sl,this,$Se).call(this))}setRange(e){this.range=e}clearRange(){this.range={}}targetIsCellWithComment(e){const n=Sh(e.target,"TD","TBODY");return!!(n&&Ft(n,"htCommentCell")&&Sh(n,[this.hot.rootElement]))}targetIsCommentTextArea(e){return this.getEditorInputElement()===e.target}setComment(e){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const n=bn(gr,this).getValue();let r="";e!=null?r=e:n!=null&&(r=n);const i=this.range.from.row,o=this.range.from.col;this.updateCommentMeta(i,o,{[zp]:r}),this.hot.render()}setCommentAtCell(e,n,r){this.setRange({from:this.hot._createCellCoords(e,n)}),this.setComment(r)}removeComment(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,Cu),e&&this.hot.render(),this.hide()}removeCommentAtCell(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.setRange({from:this.hot._createCellCoords(e,n)}),this.removeComment(r)}getComment(){const e=this.range.from.row,n=this.range.from.col;return this.getCommentMeta(e,n,zp)}getCommentAtCell(e,n){return this.getCommentMeta(e,n,zp)}show(){var e;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const{from:{row:n,col:r}}=this.range;if(n<0||n>this.hot.countSourceRows()-1||r<0||r>this.hot.countSourceCols()-1)return!1;const i=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return bn(wl,this).cancelHiding(),bn(gr,this).setValue((e=i[Cu]?i[Cu][zp]:null)!==null&&e!==void 0?e:""),bn(gr,this).show(),this.refreshEditor(!0),!0}showAtCell(e,n){return this.setRange({from:this.hot._createCellCoords(e,n)}),this.show()}hide(){bn(gr,this).hide()}refreshEditor(){var e,n;if(!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(!this.range.from||!bn(gr,this).isVisible()))return;const{rowIndexMapper:i,columnIndexMapper:o}=this.hot,{row:s,col:a}=this.range.from;let u=i.getRenderableFromVisualIndex(s),c=o.getRenderableFromVisualIndex(a);const h=u===null;bn(gr,this).setPosition(0,0),u===null&&(u=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(s,-1))),c===null&&(c=o.getRenderableFromVisualIndex(o.getNearestNotHiddenIndex(a,-1)));const g=u===null,p=c===null;u=(e=u)!==null&&e!==void 0?e:0,c=(n=c)!==null&&n!==void 0?n:0;const{rootWindow:v,view:{_wt:y}}=this.hot,{wtTable:R}=y,S=y.getCell({row:u,col:c},!0),T=this.getCommentMeta(s,a,$z);T?bn(gr,this).setSize(T.width,T.height):bn(gr,this).resetSize();const x=p?0:R.getStretchedColumnWidth(c),O=h&&!g?li(S):0,{left:A,top:H,width:L,height:F}=S.getBoundingClientRect(),{width:j,height:z}=bn(gr,this).getSize(),{innerWidth:Y,innerHeight:K}=this.hot.rootWindow,X=this.hot.rootDocument.documentElement;let se=A+v.scrollX+x,ne=H+v.scrollY+O;this.hot.isRtl()&&(se-=j+x),this.hot.isLtr()&&A+L+j>Y?se=A+v.scrollX-j-1:this.hot.isRtl()&&se<-(X.scrollWidth-X.clientWidth)&&(se=A+v.scrollX+x+1),H+z>K&&(ne-=z-F+1),bn(gr,this).setPosition(se,ne),bn(gr,this).setReadOnlyState(this.getCommentMeta(s,a,Lb)),bn(gr,this).observeSize()}focusEditor(){bn(gr,this).focus()}updateCommentMeta(e,n,r){const i=this.hot.getCellMeta(e,n)[Cu];let o;i?(o=Ro(i),z0(o,r)):o=r,this.hot.setCellMeta(e,n,Cu,o)}getCommentMeta(e,n,r){const i=this.hot.getCellMeta(e,n);if(i[Cu])return i[Cu][r]}addToContextMenu(e){e.items.push({name:cn},RSe(this),ESe(this),_Se(this))}getDisplayDelaySetting(){const e=this.hot.getSettings()[rv];if(dn(e))return e.displayDelay}getEditorInputElement(){return bn(gr,this).getInputElement()}destroy(){var e,n;(e=bn(gr,this))===null||e===void 0||e.destroy(),(n=bn(wl,this))===null||n===void 0||n.destroy(),super.destroy()}}function ASe(t){if(!(!this.hot.view||!this.hot.view._wt)&&!bn(dR,this)&&!this.targetIsCommentTextArea(t)){const e=Sh(t.target,"TD","TBODY");let n=null;e&&(n=this.hot.getCoords(e)),(!e||this.range.from&&n&&(this.range.from.row!==n.row||this.range.from.col!==n.col))&&this.hide()}}function HSe(t){const{rootDocument:e}=this.hot;if(!(bn(dR,this)||bn(gr,this).isFocused()||Ft(t.target,"wtBorder")||bn(wx,this)===t.target||!bn(gr,this)))if(Ac(wx,this,e.elementFromPoint(t.clientX,t.clientY)),this.targetIsCellWithComment(t)){const n=this.hot._createCellRange(this.hot.getCoords(t.target));bn(wl,this).show(n)}else Ch(t.target,e)&&!this.targetIsCommentTextArea(t)&&bn(wl,this).hide()}function DSe(){Ac(dR,this,!1)}function NSe(t,e){e[Cu]&&e[Cu][zp]&&Qe(t,e.commentedCellClassName)}function $Se(){Ac(LS,this,""),this.hot.getShortcutManager().setActiveContextName("grid"),this.setComment()}function LSe(){Ac(LS,this,this.getComment()),this.hot.listen(),this.hot.getShortcutManager().setActiveContextName(vx)}function kSe(t,e){this.updateCommentMeta(this.range.from.row,this.range.from.col,{[$z]:{width:t,height:e}})}function FSe(t){bn(gr,this).isVisible()&&$a(t)}function VSe(){bn(kb,this)||this.hide()}var QL=M0,WSe=TypeError,BSe=function(t,e){if(!delete t[e])throw new WSe("Cannot delete property "+QL(e)+" of "+QL(t))},jSe=Yi,zSe=qv,YSe=Qv,USe=U2,GSe=BSe,KSe=G2,qSe=[].unshift(0)!==1,XSe=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},ZSe=qSe||!XSe();jSe({target:"Array",proto:!0,arity:1,forced:ZSe},{unshift:function(e){var n=zSe(this),r=YSe(n),i=arguments.length;if(i){KSe(r+i);for(var o=r;o--;){var s=o+i;o in n?n[s]=n[o]:GSe(n,s)}for(var a=0;a<i;a++)n[a]=arguments[a]}return USe(n,r+i)}});function mM(t,e,n){return(e=QSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QSe(t){var e=JSe(t,"string");return typeof e=="symbol"?e:e+""}function JSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Lz{constructor(e){mM(this,"hot",void 0),mM(this,"commands",{}),mM(this,"commonCallback",null),this.hot=e}registerCommand(e,n){this.commands[e]=n}setCommonCallback(e){this.commonCallback=e}execute(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.split(":"),s=o[0],a=o.length===2?o[1]:null;let u=this.commands[s];if(!u)throw new Error(`Menu command '${s}' not exists.`);if(a&&u.submenu&&(u=e0e(a,u.submenu.items)),u.disabled===!0||typeof u.disabled=="function"&&u.disabled.call(this.hot)===!0||Yr(u,"submenu"))return;const c=[];typeof u.callback=="function"&&c.push(u.callback),typeof this.commonCallback=="function"&&c.push(this.commonCallback),r.unshift(o.join(":")),ye(c,h=>h.apply(this.hot,r))}}function e0e(t,e){let n;return ye(e,r=>{const i=r.key?r.key.split(":"):null;if(Array.isArray(i)&&i[1]===t)return n=r,!1}),n}function pM(t,e,n){return(e=t0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t0e(t){var e=n0e(t,"string");return typeof e=="symbol"?e:e+""}function n0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class kz{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;pM(this,"hot",void 0),pM(this,"predefinedItems",Dz()),pM(this,"defaultOrderPattern",void 0),this.hot=e,this.defaultOrderPattern=n}setPredefinedItems(e){const n={};this.defaultOrderPattern.length=0,hn(e,(r,i)=>{let o="";r.name===cn?(n[cn]=r,o=cn):isNaN(parseInt(i,10))?(r.key=r.key===void 0?i:r.key,n[i]=r,o=r.key):(n[r.key]=r,o=r.key),this.defaultOrderPattern.push(o)}),this.predefinedItems=n}getItems(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return r0e(e,this.defaultOrderPattern,this.predefinedItems)}}function r0e(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=[];let i=t;return i&&i.items?i=i.items:Array.isArray(i)||(i=e),dn(i)?hn(i,(o,s)=>{let a=n[typeof o=="string"?o:s];a||(a=o),dn(o)?fi(a,o):typeof a=="string"&&(a={name:a}),a.key===void 0&&(a.key=s),r.push(a)}):ye(i,(o,s)=>{let a=n[o];!a&&bSe.indexOf(o)>=0||(a||(a={name:o,key:`${s}`}),dn(o)&&fi(a,o),a.key===void 0&&(a.key=s),r.push(a))}),r}function sc(t,e,n){return(e=i0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i0e(t){var e=o0e(t,"string");return typeof e=="symbol"?e:e+""}function o0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class s0e{constructor(e,n){sc(this,"top",void 0),sc(this,"topRelative",void 0),sc(this,"left",void 0),sc(this,"leftRelative",void 0),sc(this,"scrollTop",void 0),sc(this,"scrollLeft",void 0),sc(this,"cellHeight",void 0),sc(this,"cellWidth",void 0);const r=n.scrollY,i=n.scrollX;let o,s,a,u,c,h;this.rootWindow=n,this.type=this.getSourceType(e),this.type==="literal"?(o=parseInt(e.top,10),a=parseInt(e.left,10),c=e.height||0,h=e.width||0,s=o,u=a,o+=r,a+=i):this.type==="event"&&(o=parseInt(e.pageY,10),a=parseInt(e.pageX,10),c=e.target.clientHeight,h=e.target.clientWidth,s=o-r,u=a-i),this.top=o,this.topRelative=s,this.left=a,this.leftRelative=u,this.scrollTop=r,this.scrollLeft=i,this.cellHeight=c,this.cellWidth=h}getSourceType(e){let n="literal";return e instanceof Event&&(n="event"),n}fitsAbove(e){return this.topRelative>=e.offsetHeight}fitsBelow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+e.offsetHeight<=n}fitsOnRight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+e.offsetWidth<=n}fitsOnLeft(e){return this.leftRelative>=e.offsetWidth}}function mp(t,e,n){a0e(t,e),e.set(t,n)}function a0e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xn(t,e){return t.get(Fz(t,e))}function Ly(t,e,n){return t.set(Fz(t,e),n),n}function Fz(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var go=new WeakMap,ac=new WeakMap,Lo=new WeakMap,vM=new WeakMap,Bf=new WeakMap;class l0e{constructor(e){mp(this,go,void 0),mp(this,ac,void 0),mp(this,Lo,void 0),mp(this,vM,!1),mp(this,Bf,{above:0,below:0,left:0,right:0}),Ly(vM,this,e)}setOffset(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return xn(Bf,this)[e]=n,this}setElement(e){return Ly(go,this,e),this}setParentElement(e){return Ly(ac,this,e),this}updatePosition(e){Ly(Lo,this,new s0e(e,xn(go,this).ownerDocument.defaultView)),xn(vM,this)?(xn(Lo,this).fitsBelow(xn(go,this))?this.setPositionBelowCursor():xn(Lo,this).fitsAbove(xn(go,this))?this.setPositionAboveCursor():this.setPositionBelowCursor(),this.updateHorizontalPosition()):(this.setPositionBelowCursor(),this.setPositionOnRightOfCursor())}updateHorizontalPosition(){xn(go,this).dir==="rtl"?xn(Lo,this).fitsOnLeft(xn(go,this))?this.setPositionOnLeftOfCursor():this.setPositionOnRightOfCursor():xn(Lo,this).fitsOnRight(xn(go,this))?this.setPositionOnRightOfCursor():this.setPositionOnLeftOfCursor()}setPositionAboveCursor(){let e=xn(Bf,this).above+xn(Lo,this).top-xn(go,this).offsetHeight;xn(ac,this)&&(e=xn(Lo,this).top+xn(Lo,this).cellHeight-xn(go,this).offsetHeight+3),xn(go,this).style.top=`${e}px`}setPositionBelowCursor(){let e=xn(Bf,this).below+xn(Lo,this).top+1;xn(ac,this)&&(e=xn(Lo,this).top-1),xn(go,this).style.top=`${e}px`}setPositionOnRightOfCursor(){let e=xn(Lo,this).left;if(xn(ac,this)){const n=Number.parseInt(getComputedStyle(xn(ac,this).querySelector(".htCore")).borderRightWidth,10);e+=xn(Lo,this).cellWidth+n}else e+=xn(Bf,this).right;xn(go,this).style.left=`${e}px`}setPositionOnLeftOfCursor(){let e=xn(Bf,this).left+xn(Lo,this).left-xn(go,this).offsetWidth;if(xn(ac,this)){const n=Number.parseInt(getComputedStyle(xn(ac,this).querySelector(".htCore")).borderLeftWidth,10);e-=n}xn(go,this).style.left=`${e}px`}}function Vz(t){let{initialPage:e=-1,size:n=()=>0,onItemSelect:r=()=>{},onClear:i=()=>{}}=t;const o=new Set;let s=or(e,-1,y()-1);function a(S,T){const x=y()-1;return S<0&&(S=x),S>x&&(S=0),o.has(S)?-1:(o.add(S),r(S,!1)===!1&&(S=a(T===1?++S:--S,T)),S)}function u(S){S>-1&&S<y()&&r(S,!0)!==!1&&(s=S)}function c(){return s}function h(){y()>0&&(o.clear(),s=a(0,1))}function g(){y()>0&&(o.clear(),s=a(y()-1,-1))}function p(){y()>0&&(o.clear(),s=a(++s,1))}function v(){y()>0&&(o.clear(),s=a(--s,-1))}function y(){return Math.max(n(),0)}function R(){o.clear(),s=e,i()}return{setCurrentPage:u,getCurrentPage:c,toFirstItem:h,toLastItem:g,toNextItem:p,toPreviousItem:v,getSize:y,clear:R}}function u0e(t){return _n(t,e=>({start:e.getTopStartCorner(),end:e.getBottomEndCorner()}))}function Cx(t){return Yr(t,"submenu")}function yx(t){return new RegExp(cn,"i").test(t.name)}function Fb(t,e){return t.disabled===!0||typeof t.disabled=="function"&&t.disabled.call(e)===!0}function JL(t){return Yr(t,"disableSelection")}function c0e(t){return Ft(t,"htSeparator")}function d0e(t){return Ft(t,"htSubmenu")}function h0e(t){return Ft(t,"htDisabled")}function f0e(t){return Ft(t,"htSelectionDisabled")}function g0e(t,e){return!t.hidden||!(typeof t.hidden=="function"&&t.hidden.call(e))}function Wz(t,e){const n=t.slice(0);for(let r=0;r<n.length&&n[r].name===e;)n.shift();return n}function m0e(t,e){let n=t.slice(0);return n.reverse(),n=Wz(n,e),n.reverse(),n}function p0e(t){const e=[];return ye(t,(n,r)=>{r>0?e[e.length-1].name!==n.name&&e.push(n):e.push(n)}),e}function v0e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cn,n=t.slice(0);return n=Wz(n,e),n=m0e(n,e),n=p0e(n),n}function w0e(t){return t.checkable===!0}function C0e(t){return Vz({size:()=>t.countRows(),onItemSelect(e,n){const r=t.getCell(e,0);if(!r||c0e(r)||h0e(r)||f0e(r))return!1;t.selectCell(e,0,...n?[e,0,!1,!1]:[])},onClear(){t.deselectCell()}})}function y0e(t){const{hot:e,hotMenu:n}=t;return[{keys:[["Control/Meta","A"]],forwardToContext:e.getShortcutManager().getContext("grid"),callback:()=>t.close(!0)},{keys:[["Tab"],["Shift","Tab"]],callback:(r,i)=>{const o=e.getSettings(),s=typeof o.tabMoves=="function"?o.tabMoves(r):o.tabMoves;i.includes("shift")?e.selection.transformStart(-s.row,-s.col):e.selection.transformStart(s.row,s.col),t.close(!0)}},{keys:[["Escape"]],callback:()=>t.close()},{keys:[["ArrowDown"]],callback:()=>t.getNavigator().toNextItem()},{keys:[["ArrowUp"]],callback:()=>t.getNavigator().toPreviousItem()},{keys:[["ArrowRight"]],callback:()=>{const r=n.getSelectedLast();if(r){const i=t.openSubMenu(r[0]);i&&i.getNavigator().toFirstItem()}}},{keys:[["ArrowLeft"]],callback:()=>{n.getSelectedLast()&&t.isSubMenu()&&(t.close(),t.isSubMenu()&&t.parentMenu.hotMenu.listen())}},{keys:[["Control/Meta","ArrowUp"],["Home"]],callback:()=>t.getNavigator().toFirstItem()},{keys:[["Control/Meta","ArrowDown"],["End"]],callback:()=>t.getNavigator().toLastItem()},{keys:[["Enter"],["Space"]],callback:r=>{const i=n.getSelectedLast();i&&(n.getSourceDataAtRow(i[0]).submenu?t.openSubMenu(i[0]).getNavigator().toFirstItem():(t.executeCommand(r),t.close(!0)))}},{keys:[["PageUp"]],callback:()=>{n.getSelectedLast()?n.selection.transformStart(-n.countVisibleRows(),0):t.getNavigator().toFirstItem()}},{keys:[["PageDown"]],callback:()=>{n.getSelectedLast()?n.selection.transformStart(n.countVisibleRows(),0):t.getNavigator().toLastItem()}}]}const Bz="menu",ek=Bz;function b0e(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=[];r(y0e(t)),e.forEach(c=>{let{shortcuts:h,contextName:g}=c;i(h,g)});function r(c,h){a(h).addShortcuts(c,{group:Bz})}function i(c,h){const g=a(h);c.forEach(p=>{let{keys:v}=p;v.forEach(y=>g.removeShortcutsByKeys(y))}),n.push({shortcuts:c,contextName:h}),r(c,h)}function o(){return[...n]}function s(c){return c?`${ek}:${c}`:ek}function a(c){var h;const g=t.hotMenu.getShortcutManager(),p=s(c);return(h=g.getContext(p))!==null&&h!==void 0?h:g.addContext(p)}function u(c){t.hotMenu.getShortcutManager().setActiveContextName(s(c))}return{addCustomShortcuts:i,getCustomShortcuts:o,getContext:a,listen:u}}function S0e(t){return(e,n,r,i,o,s)=>{const a=e.getSourceDataAtRow(r),u=t.rootDocument.createElement("div"),c=typeof s=="function"?s.call(t):s,h=typeof a.ariaLabel=="function"?a.ariaLabel.call(t):a.ariaLabel,g=typeof a.ariaChecked=="function"?a.ariaChecked.call(t):a.ariaChecked;if(Al(n),Qe(u,"htItemWrapper"),t.getSettings().ariaTags){const p=!Fb(a,t)&&!JL(a)&&!yx(a);Lt(n,[...w0e(a)?[Dle(),gS(h),hB(g)]:[Hle(),gS(c)],...p?[Zg(-1)]:[],...Fb(a,t)?[Wle()]:[],...Cx(a)?[zs(!1)]:[]])}n.className="",n.appendChild(u),yx(a)?Qe(n,"htSeparator"):typeof a.renderer=="function"?(Qe(n,"htCustomMenuRenderer"),n.appendChild(a.renderer(e,u,r,i,o,c))):Jg(u,c),Fb(a,t)?Qe(n,"htDisabled"):JL(a)?Qe(n,"htSelectionDisabled"):Cx(a)&&Qe(n,"htSubmenu")}}function wM(t,e,n){R0e(t,e),e.set(t,n)}function R0e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function al(t,e,n){return(e=E0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E0e(t){var e=_0e(t,"string");return typeof e=="symbol"?e:e+""}function _0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CM(t,e,n){return t.set(jz(t,e),n),n}function jd(t,e){return t.get(jz(t,e))}function jz(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const tk=215;var pp=new WeakMap,ky=new WeakMap,Fy=new WeakMap;class rm{get tableBorderWidth(){return jd(Fy,this)===void 0&&this.hotMenu&&CM(Fy,this,parseInt(Hu(this.hotMenu.view._wt.wtTable.TABLE).borderWidth,10)),jd(Fy,this)}constructor(e,n){var r=this;al(this,"hot",void 0),al(this,"options",void 0),al(this,"eventManager",new Pa(this)),al(this,"container",void 0),al(this,"positioner",void 0),al(this,"hotMenu",null),al(this,"hotSubMenus",{}),al(this,"parentMenu",void 0),al(this,"menuItems",null),al(this,"origOutsideClickDeselects",null),wM(this,pp,void 0),wM(this,ky,void 0),wM(this,Fy,void 0),this.hot=e,this.options=n||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:tk,container:this.hot.rootDocument.documentElement},this.container=this.createContainer(this.options.name),this.positioner=new l0e(this.options.keepInViewport),this.parentMenu=this.options.parent||null,this.registerEvents(),this.isSubMenu()&&this.addLocalHook("afterSelectionChange",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r.parentMenu.runLocalHooks("afterSelectionChange",...o)})}registerEvents(){let e=this.hot.rootWindow;for(;e;)this.eventManager.addEventListener(e.document,"mousedown",n=>this.onDocumentMouseDown(n)),this.eventManager.addEventListener(e.document,"touchstart",n=>this.onDocumentMouseDown(n)),this.eventManager.addEventListener(e.document,"contextmenu",n=>this.onDocumentContextMenu(n)),e=Ig(e)}setMenuItems(e){this.menuItems=e}getNavigator(){return jd(pp,this)}getKeyboardShortcutsCtrl(){return jd(ky,this)}getSelectedItem(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}hasSelectedItem(){return Array.isArray(this.hotMenu.getSelectedLast())}isSubMenu(){return this.parentMenu!==null}open(){this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";const e=tO(a=>this.openSubMenu(a),300),n=this.options.minWidth||tk;let r=!1,i=jc(this.menuItems,a=>(a.key===Hv&&(r=!0),g0e(a,this.hot)));if(i.length<1&&!r)i.push(Dz()[Hv]);else if(i.length===0)return;i=v0e(i,cn);let o=!1;const s={data:i,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth(a){return Ct(a)&&a<n?n:a},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,hiddenRows:!0,maxCols:1,columns:[{data:"name",renderer:S0e(this.hot)}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",ariaTags:!1,beforeOnCellMouseOver:(a,u)=>{jd(pp,this).setCurrentPage(u.row)},afterOnCellMouseOver:(a,u)=>{this.isAllSubMenusClosed()?e(u.row):this.openSubMenu(u.row)},rowHeights:a=>i[a].name===cn?1:void 0,afterOnCellContextMenu:a=>{a.preventDefault(),f$()&&o&&this.hasSelectedItem()&&this.close(!0)},afterSelection:(a,u,c,h,g)=>{this.hotMenu.view.isMouseDown()&&(g.value=!0),this.runLocalHooks("afterSelectionChange",this.getSelectedItem())},beforeOnCellMouseUp:a=>{this.hasSelectedItem()&&(o=!this.isCommandPassive(this.getSelectedItem()),this.executeCommand(a))},afterOnCellMouseUp:a=>{(!f$()||!Eh(a))&&o&&this.hasSelectedItem()&&(Oc()||HB()?this.hot._registerTimeout(()=>this.close(!0),325):this.close(!0))},afterUnlisten:()=>{!this.hasSelectedItem()&&this.isOpened()&&this.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new this.hot.constructor(this.container,s),this.hotMenu.addHook("afterInit",()=>this.onAfterInit()),this.hotMenu.init(),CM(pp,this,C0e(this.hotMenu)),CM(ky,this,b0e(this)),jd(ky,this).listen(),this.focus(),this.isSubMenu()&&this.addLocalHook("afterOpen",()=>this.parentMenu.runLocalHooks("afterSubmenuOpen",this)),this.runLocalHooks("afterOpen",this)}close(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isOpened()){if(e&&this.isSubMenu())this.parentMenu.close();else if(jd(pp,this).clear(),this.closeAllSubMenus(),this.container.style.display="none",this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.isSubMenu()){if(this.hot.getSettings().ariaTags){const n=this.parentMenu.hotMenu.getSelectedLast();if(n){const r=this.parentMenu.hotMenu.getCell(n[0],0);Lt(r,[zs(!1)])}}this.parentMenu.hotMenu.listen()}}}openSubMenu(e){if(!this.hotMenu)return!1;const n=this.hotMenu.getCell(e,0);if(this.closeAllSubMenus(),!n||!d0e(n))return!1;const r=this.hotMenu.getSourceDataAtRow(e),i=new rm(this.hot,{parent:this,name:r.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return i.setMenuItems(r.submenu.items),i.open(),i.setPosition(n.getBoundingClientRect()),this.hotSubMenus[r.key]=i,this.hot.getSettings().ariaTags&&Lt(n,[zs(!0)]),i}closeSubMenu(e){const n=this.hotMenu.getSourceDataAtRow(e),r=this.hotSubMenus[n.key];if(r){r.destroy(),delete this.hotSubMenus[n.key];const i=this.hotMenu.getCell(e,0);this.hot.getSettings().ariaTags&&Lt(i,[zs(!1)])}}closeAllSubMenus(){ye(this.hotMenu.getData(),(e,n)=>this.closeSubMenu(n))}isAllSubMenusClosed(){return Object.keys(this.hotSubMenus).length===0}focus(){this.isOpened()&&(this.hotMenu.rootElement.focus({preventScroll:!0}),this.getKeyboardShortcutsCtrl().listen(),this.hotMenu.listen())}destroy(){const e=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),e&&e.removeChild(this.container)}isOpened(){return this.hotMenu!==null}executeCommand(e){if(!this.isOpened()||!this.hasSelectedItem())return;const n=this.getSelectedItem();if(this.runLocalHooks("select",n,e),this.isCommandPassive(n))return;const r=this.hot.getSelectedRange(),i=r?u0e(r):[];this.runLocalHooks("executeCommand",n.key,i,e),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",n.key,i,e)}isCommandPassive(e){return e.isCommand===!1||yx(e)||Fb(e,this.hot)||Cx(e)}setOffset(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.positioner.setOffset(e,n)}setPosition(e){this.isSubMenu()&&this.positioner.setParentElement(this.parentMenu.container),this.positioner.setElement(this.container).updatePosition(e)}updateMenuDimensions(){const{wtTable:e}=this.hotMenu.view._wt,n=this.hotMenu.getSettings().data,r=e.hider.style,i=e.holder.style,o=parseInt(r.width,10),s=Eo(n,(a,u,c)=>{const g=this.hotMenu.getCell(c,0)?li(this.hotMenu.getCell(c,0)):0;return a+(u.name===cn?1:g)},0);i.width=`${o+3}px`,i.height=`${s+3}px`,r.height=i.height}createContainer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const n=this.options.container.ownerDocument;let r=e,i;return r&&(br(r)&&(r=r.call(this.hot),r===null||Sr(r)?r="":r=r.toString()),r=r.replace(/[^A-z0-9]/g,"_"),r=`${this.options.className}Sub_${r}`,i=n.querySelector(`.${this.options.className}.${r}`)),i||(i=n.createElement("div"),Qe(i,`htMenu ${this.options.className}`),r&&Qe(i,r),this.options.container.appendChild(i)),i}onAfterInit(){this.updateMenuDimensions(),this.hot.getSettings().ariaTags&&Lt(this.hotMenu.rootElement,[Ale(),Zg(-1)])}onDocumentMouseDown(e){this.isOpened()&&(this.options.standalone&&this.hotMenu&&!Ch(e.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!Ch(e.target,".htMenu")&&this.close(!0))}onDocumentContextMenu(e){this.isOpened()&&Ft(e.target,"htCore")&&Ch(e.target,this.hotMenu.rootElement)&&e.preventDefault()}}lr(rm,Ui);function M0e(t,e){T0e(t,e),e.add(t)}function T0e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yM(t,e,n){return(e=x0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x0e(t){var e=I0e(t,"string");return typeof e=="symbol"?e:e+""}function I0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vy(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Yp="contextMenu",O0e=70,nk=Yp;mt.getSingleton().register("afterContextMenuDefaultOptions");mt.getSingleton().register("beforeContextMenuShow");mt.getSingleton().register("afterContextMenuShow");mt.getSingleton().register("afterContextMenuHide");mt.getSingleton().register("afterContextMenuExecute");var vp=new WeakSet;class hR extends qn{constructor(){super(...arguments),M0e(this,vp),yM(this,"commandExecutor",new Lz(this.hot)),yM(this,"itemsFactory",null),yM(this,"menu",null)}static get PLUGIN_KEY(){return Yp}static get PLUGIN_PRIORITY(){return O0e}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[lR,uR,cn,mw,pw,cn,aR,ww,cn,cR,sR,cn,vw,cn,Ls]}isEnabled(){return!!this.hot.getSettings()[Yp]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[Yp];typeof n.callback=="function"&&this.commandExecutor.setCommonCallback(n.callback),this.menu=new rm(this.hot,{className:"htContextMenu",keepInViewport:!0,container:n.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",()=>Vy(vp,this,A0e).call(this)),this.menu.addLocalHook("afterOpen",()=>Vy(vp,this,H0e).call(this)),this.menu.addLocalHook("afterClose",()=>Vy(vp,this,D0e).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.executeCommand.call(e,...i)}),this.addHook("afterOnCellContextMenu",r=>Vy(vp,this,P0e).call(this,r)),this.registerShortcuts(),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control/Meta","Shift","Backslash"],["Shift","F10"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();this.hot.scrollToFocusedCell();const n=this.hot.getCell(e.row,e.col,!0).getBoundingClientRect(),r=iR(this.menu.container,this.hot.rootDocument);this.open({left:n.left+r.left,top:n.top+r.top-1+n.height},{left:n.width,above:-n.height}),this.menu.getNavigator().toFirstItem()},runOnlyIf:()=>{var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n&&this.hot.selection.isCellVisible(n)&&!this.menu.isOpened()},group:nk})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(nk)}open(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};if((n=this.menu)!==null&&n!==void 0&&n.isOpened())return;this.prepareMenuItems(),this.menu.open(),this.menu.tableBorderWidth>0||(r.below+=1,r.right+=1,r.above-=1,r.left-=1),hn(r,(o,s)=>{this.menu.setOffset(s,o)}),this.menu.setPosition(e)}close(){var e;(e=this.menu)===null||e===void 0||e.close(),this.itemsFactory=null}executeCommand(e){this.itemsFactory===null&&this.prepareMenuItems();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.commandExecutor.execute(e,...r)}prepareMenuItems(){this.itemsFactory=new kz(this.hot,hR.DEFAULT_ITEMS);const e=this.hot.getSettings()[Yp],n={items:this.itemsFactory.getItems(e)};this.hot.runHooks("afterContextMenuDefaultOptions",n),this.itemsFactory.setPredefinedItems(n.items);const r=this.itemsFactory.getItems(e);this.hot.runHooks("beforeContextMenuSetItems",r),this.menu.setMenuItems(r),ye(r,i=>this.commandExecutor.registerCommand(i.key,i))}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function P0e(t){const e=this.hot.getSettings(),n=e.rowHeaders,r=e.colHeaders;function i(a){return a.nodeName==="TD"||a.parentNode.nodeName==="TD"}const o=t.target;if(this.close(),Ft(o,"handsontableInput")||(t.preventDefault(),t.stopPropagation(),!(n||r)&&!i(o)&&!(Ft(o,"current")&&Ft(o,"wtBorder"))))return;const s=iR(this.menu.container,this.hot.rootDocument);this.open({top:t.clientY+s.top,left:t.clientX+s.left})}function A0e(){this.hot.runHooks("beforeContextMenuShow",this)}function H0e(){this.hot.runHooks("afterContextMenuShow",this)}function D0e(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}hR.SEPARATOR={name:cn};function N0e(t){return{key:"copy",name(){return this.getTranslatedPhrase(UO)},callback(){t.copyCellsOnly()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function $0e(t){return{key:"copy_column_headers_only",name(){const e=this.getSelectedRangeLast(),n=e?or(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(qO,n)},callback(){t.copyColumnHeadersOnly()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function L0e(t){return{key:"copy_with_column_group_headers",name(){const e=this.getSelectedRangeLast(),n=e?or(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(KO,n)},callback(){t.copyWithAllColumnHeaders()},disabled(){if(!this.hasColHeaders()||!this.getSettings().nestedHeaders)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function k0e(t){return{key:"copy_with_column_headers",name(){const e=this.getSelectedRangeLast(),n=e?or(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(GO,n)},callback(){t.copyWithColumnHeaders()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}function F0e(t){return{key:"cut",name(){return this.getTranslatedPhrase(XO)},callback(){t.cut()},disabled(){if(this.countRows()===0||this.countCols()===0)return!0;const e=this.getSelectedRangeLast();if(!e||e.isSingleHeader())return!0;const n=this.getSelected();return!n||n.length>1},hidden:!1}}class V0e{constructor(){this.data={}}setData(e,n){this.data[e]=n}getData(e){return this.data[e]||void 0}}class W0e{constructor(){this.clipboardData=new V0e}preventDefault(){}}function B0e(t,e){zz(t,e),e.add(t)}function jf(t,e,n){zz(t,e),e.set(t,n)}function zz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vo(t,e){return t.get(vg(t,e))}function zf(t,e,n){return t.set(vg(t,e),n),n}function vg(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var lc=new WeakMap,bM=new WeakMap,wp=new WeakMap,bx=new WeakMap,Sx=new WeakMap,Cp=new WeakMap,yp=new WeakSet;class j0e{constructor(e){let{countRows:n,countColumns:r,rowsLimit:i,columnsLimit:o,countColumnHeaders:s}=e;B0e(this,yp),jf(this,lc,void 0),jf(this,bM,void 0),jf(this,wp,void 0),jf(this,bx,void 0),jf(this,Sx,void 0),jf(this,Cp,void 0),zf(bM,this,n),zf(wp,this,r),zf(bx,this,i),zf(Sx,this,o),zf(Cp,this,s)}setSelectedRange(e){zf(lc,this,e)}getCellsRange(){if(vo(bM,this).call(this)===0||vo(wp,this).call(this)===0)return null;const{row:e,col:n}=vo(lc,this).getTopStartCorner(),{row:r,col:i}=vo(lc,this).getBottomEndCorner(),o=vg(yp,this,z0e).call(this,e,r),s=vg(yp,this,SM).call(this,n,i);return{isRangeTrimmed:r!==o||i!==s,startRow:e,startCol:n,endRow:o,endCol:s}}getMostBottomColumnHeadersRange(){if(vo(wp,this).call(this)===0||vo(Cp,this).call(this)===0)return null;const{col:e}=vo(lc,this).getTopStartCorner(),{col:n}=vo(lc,this).getBottomEndCorner(),r=vg(yp,this,SM).call(this,e,n);return{isRangeTrimmed:n!==r,startRow:-1,startCol:e,endRow:-1,endCol:r}}getAllColumnHeadersRange(){if(vo(wp,this).call(this)===0||vo(Cp,this).call(this)===0)return null;const{col:e}=vo(lc,this).getTopStartCorner(),{col:n}=vo(lc,this).getBottomEndCorner(),r=vg(yp,this,SM).call(this,e,n);return{isRangeTrimmed:n!==r,startRow:-vo(Cp,this).call(this),startCol:e,endRow:-1,endCol:r}}}function SM(t,e){return Math.min(e,Math.max(t+vo(Sx,this).call(this)-1,t))}function z0e(t,e){return Math.min(e,Math.max(t+vo(bx,this).call(this)-1,t))}function Yz(t){const e=[],n=[];return ye(t,r=>{const i=Math.min(r.startRow,r.endRow),o=Math.max(r.startRow,r.endRow);Mt(i,o,u=>{e.indexOf(u)===-1&&e.push(u)});const s=Math.min(r.startCol,r.endCol),a=Math.max(r.startCol,r.endCol);Mt(s,a,u=>{n.indexOf(u)===-1&&n.push(u)})}),{rows:e,columns:n}}function Y0e(t,e){Uz(t,e),e.add(t)}function uc(t,e,n){Uz(t,e),e.set(t,n)}function Uz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function bp(t,e,n){return(e=U0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U0e(t){var e=G0e(t,"string");return typeof e=="symbol"?e:e+""}function G0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jo(t,e){return t.get(zo(t,e))}function va(t,e,n){return t.set(zo(t,e),n),n}function zo(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}mt.getSingleton().register("afterCopyLimit");mt.getSingleton().register("modifyCopyableRange");mt.getSingleton().register("beforeCut");mt.getSingleton().register("afterCut");mt.getSingleton().register("beforePaste");mt.getSingleton().register("afterPaste");mt.getSingleton().register("beforeCopy");mt.getSingleton().register("afterCopy");const Wy="copyPaste",K0e=80,q0e=["fragmentSelection"],rk=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join("");var Rx=new WeakMap,Ex=new WeakMap,_x=new WeakMap,Yf=new WeakMap,By=new WeakMap,jy=new WeakMap,Uf=new WeakMap,kS=new WeakMap,ls=new WeakSet;class X0e extends qn{constructor(){super(...arguments),Y0e(this,ls),bp(this,"columnsLimit",1/0),bp(this,"rowsLimit",1/0),bp(this,"pasteMode","overwrite"),bp(this,"uiContainer",this.hot.rootDocument.body),uc(this,Rx,!1),uc(this,Ex,!1),uc(this,_x,!1),uc(this,Yf,"cells-only"),uc(this,By,!1),uc(this,jy,!1),uc(this,Uf,new j0e({countRows:()=>this.hot.countRows(),countColumns:()=>this.hot.countCols(),rowsLimit:()=>this.rowsLimit,columnsLimit:()=>this.columnsLimit,countColumnHeaders:()=>this.hot.view.getColumnHeadersCount()})),uc(this,kS,!1),bp(this,"copyableRanges",[])}static get PLUGIN_KEY(){return Wy}static get SETTING_KEYS(){return[Wy,...q0e]}static get PLUGIN_PRIORITY(){return K0e}isEnabled(){return!!this.hot.getSettings()[Wy]}enablePlugin(){var e=this;if(this.enabled)return;const{[Wy]:n}=this.hot.getSettings();if(typeof n=="object"){var r,i;this.pasteMode=(r=n.pasteMode)!==null&&r!==void 0?r:this.pasteMode,this.rowsLimit=isNaN(n.rowsLimit)?this.rowsLimit:n.rowsLimit,this.columnsLimit=isNaN(n.columnsLimit)?this.columnsLimit:n.columnsLimit,va(Rx,this,!!n.copyColumnHeaders),va(Ex,this,!!n.copyColumnGroupHeaders),va(_x,this,!!n.copyColumnHeadersOnly),this.uiContainer=(i=n.uiContainer)!==null&&i!==void 0?i:this.uiContainer}this.addHook("afterContextMenuDefaultOptions",o=>zo(ls,this,J0e).call(this,o)),this.addHook("afterSelection",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return zo(ls,e,eRe).call(e,...s)}),this.addHook("afterSelectionEnd",()=>zo(ls,this,tRe).call(this)),this.eventManager.addEventListener(this.hot.rootDocument,"copy",function(){return e.onCopy(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"cut",function(){return e.onCut(...arguments)}),this.eventManager.addEventListener(this.hot.rootDocument,"paste",function(){return e.onPaste(...arguments)}),PB()&&(this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseenter",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return zo(ls,e,nRe).call(e,...s)}),this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseleave",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return zo(ls,e,rRe).call(e,...s)}),this.addHook("afterSelection",()=>zo(ls,this,iRe).call(this))),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin()}copy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cells-only";va(Yf,this,e),va(By,this,!0),zo(ls,this,ik).call(this,"copy")}copyCellsOnly(){this.copy("cells-only")}copyColumnHeadersOnly(){this.copy("column-headers-only")}copyWithAllColumnHeaders(){this.copy("with-column-group-headers")}copyWithColumnHeaders(){this.copy("with-column-headers")}cut(){va(jy,this,!0),zo(ls,this,ik).call(this,"cut")}getRangedCopyableData(e){return Jp(this.getRangedData(e))}getRangedData(e){const n=[],{rows:r,columns:i}=Yz(e);return ye(r,o=>{const s=[];ye(i,a=>{o<0?s.push(this.hot.getColHeader(a,o)):s.push(this.hot.getCopyableData(o,a))}),n.push(s)}),n}paste(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;if(!e&&!n)return;const r=new W0e;e&&r.clipboardData.setData("text/plain",e),n&&r.clipboardData.setData("text/html",n),this.onPaste(r)}setCopyableText(){const e=this.hot.getSelectedRangeLast();if(!e)return;if(e.isSingleHeader()){this.copyableRanges=[];return}jo(Uf,this).setSelectedRange(e);const n=new Map([["headers",null],["cells",null]]);jo(Yf,this)==="column-headers-only"?n.set("headers",jo(Uf,this).getMostBottomColumnHeadersRange()):(jo(Yf,this)==="with-column-headers"?n.set("headers",jo(Uf,this).getMostBottomColumnHeadersRange()):jo(Yf,this)==="with-column-group-headers"&&n.set("headers",jo(Uf,this).getAllColumnHeadersRange()),n.set("cells",jo(Uf,this).getCellsRange())),this.copyableRanges=Array.from(n.values()).filter(i=>i!==null).map(i=>{let{startRow:o,startCol:s,endRow:a,endCol:u}=i;return{startRow:o,startCol:s,endRow:a,endCol:u}}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges);const r=n.get("cells");if(r!==null&&r.isRangeTrimmed){const{startRow:i,startCol:o,endRow:s,endCol:a}=r;this.hot.runHooks("afterCopyLimit",s-i+1,a-o+1,this.rowsLimit,this.columnsLimit)}}isEditorOpened(){var e;return(e=this.hot.getActiveEditor())===null||e===void 0?void 0:e.isOpened()}populateValues(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.hot.getSelectedRangeLast();if(!e.length)return;const r=e.length,i=e[0].length,o=[],{row:s,col:a}=n.getTopStartCorner(),{row:u,col:c}=n.getBottomEndCorner();let h=s,g=a,p=s,v=a;for(;o.length<r||h<=u;){const{skipRowOnPaste:y,visualRow:R}=this.hot.getCellMeta(h,a);if(h=R+1,y===!0)continue;p=R,g=a;const S=[],T=o.length%r;for(;S.length<i||g<=c;){const{skipColumnOnPaste:x,visualCol:O}=this.hot.getCellMeta(s,g);if(g=O+1,x===!0)continue;v=O;const A=S.length%i;S.push(e[T][A])}o.push(S)}return va(kS,this,!0),this.hot.populateFromArray(s,a,o,void 0,void 0,"CopyPaste.paste",this.pasteMode),[s,a,p,v]}onCopy(e){var n;const r=this.hot.getFocusManager().getRefocusElement(),i=(n=e.target)===null||n===void 0?void 0:n.hasAttribute("data-hot-input");if(!this.hot.isListening()&&!jo(By,this)||this.isEditorOpened()||e.target instanceof HTMLElement&&(i&&e.target!==r||!i&&e.target!==this.hot.rootDocument.body))return;e.preventDefault(),this.setCopyableText(),va(By,this,!1);const o=this.getRangedData(this.copyableRanges),s=zo(ls,this,Z0e).call(this,this.copyableRanges);if(!!this.hot.runHooks("beforeCopy",o,this.copyableRanges,s)){const u=Jp(o);if(e&&e.clipboardData){const c=_$(o,this.hot.rootDocument);e.clipboardData.setData("text/plain",u),e.clipboardData.setData("text/html",[rk,c].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",u);this.hot.runHooks("afterCopy",o,this.copyableRanges,s)}va(Yf,this,"cells-only")}onCut(e){var n;const r=this.hot.getFocusManager().getRefocusElement(),i=(n=e.target)===null||n===void 0?void 0:n.hasAttribute("data-hot-input");if(!this.hot.isListening()&&!jo(jy,this)||this.isEditorOpened()||e.target instanceof HTMLElement&&(i&&e.target!==r||!i&&e.target!==this.hot.rootDocument.body))return;e.preventDefault(),this.setCopyableText(),va(jy,this,!1);const o=this.getRangedData(this.copyableRanges);if(!!this.hot.runHooks("beforeCut",o,this.copyableRanges)){const a=Jp(o);if(e&&e.clipboardData){const u=_$(o,this.hot.rootDocument);e.clipboardData.setData("text/plain",a),e.clipboardData.setData("text/html",[rk,u].join(""))}else typeof ClipboardEvent>"u"&&this.hot.rootWindow.clipboardData.setData("Text",a);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",o,this.copyableRanges)}}onPaste(e){var n;const r=this.hot.getFocusManager().getRefocusElement(),i=(n=e.target)===null||n===void 0?void 0:n.hasAttribute("data-hot-input");if(!this.hot.isListening()||this.isEditorOpened()||!this.hot.getSelected()||e.target instanceof HTMLElement&&(i&&e.target!==r||!i&&e.target!==this.hot.rootDocument.body))return;e.preventDefault();let o;if(e&&typeof e.clipboardData<"u"){const h=qI(e.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});h&&/(<table)|(<TABLE)/g.test(h)?o=sde(h,this.hot.rootDocument).data:o=e.clipboardData.getData("text/plain")}else typeof ClipboardEvent>"u"&&typeof this.hot.rootWindow.clipboardData<"u"&&(o=this.hot.rootWindow.clipboardData.getData("Text"));if(typeof o=="string"&&(o=Lme(o)),o===void 0||o&&o.length===0||this.hot.runHooks("beforePaste",o,this.copyableRanges)===!1)return;const[s,a,u,c]=this.populateValues(o);this.hot.selectCell(s,a,Math.min(this.hot.countRows()-1,u),Math.min(this.hot.countCols()-1,c)),this.hot.runHooks("afterPaste",o,this.copyableRanges)}destroy(){super.destroy()}}function ik(t){if(PB()){const e=this.hot.getSelectedRangeLast();if(e){const{row:n,col:r}=e.highlight,i=this.hot.getCell(n,r,!0);i&&uue(i,()=>{this.hot.rootDocument.execCommand(t)})}}else this.hot.rootDocument.execCommand(t)}function Z0e(t){const{rows:e}=Yz(t);let n=0;for(let r=0;r<e.length&&!(e[r]>=0);r++)n+=1;return{columnHeadersCount:n}}function Q0e(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeLast();if(t){const{row:e,col:n}=t.highlight,r=this.hot.getCell(e,n,!0);r&&SB(r)}}}function Gz(){if(this.hot.isListening()){const t=this.hot.getSelectedRangeLast();if(t){const{row:e,col:n}=t.highlight,r=this.hot.getCell(e,n,!0);r!=null&&r.hasAttribute("contenteditable")&&RB(r)}}}function J0e(t){t.items.push({name:"---------"},N0e(this)),jo(Rx,this)&&t.items.push(k0e(this)),jo(Ex,this)&&t.items.push(L0e(this)),jo(_x,this)&&t.items.push($0e(this)),t.items.push(F0e(this))}function eRe(t,e,n,r,i){jo(kS,this)&&(i.value=!0),va(kS,this,!1)}function tRe(){this.isEditorOpened()||this.hot.getSettings().fragmentSelection||this.setCopyableText()}function nRe(){zo(ls,this,Gz).call(this)}function rRe(){zo(ls,this,Q0e).call(this)}function iRe(){zo(ls,this,Gz).call(this)}function Kz(t,e){return`border_row${t}col${e}`}function Up(){return{width:1,color:"#000"}}function _u(){return{hide:!0}}function oRe(){return{width:1,color:"#000",cornerVisible:!1}}function RM(t){if(Ct(t.start)||Ct(t.left)){var e;t.start=(e=t.start)!==null&&e!==void 0?e:t.left}if(Ct(t.end)||Ct(t.right)){var n;t.end=(n=t.end)!==null&&n!==void 0?n:t.right}return delete t.left,delete t.right,t}function Sp(t){return Ct(t.start)&&(t.left=t.start),Ct(t.end)&&(t.right=t.end),t}function EM(t,e){return{id:Kz(t,e),border:oRe(),row:t,col:e,top:_u(),bottom:_u(),start:_u(),end:_u()}}function sRe(t,e){return Yr(e,"border")&&e.border&&(t.border=e.border),Yr(e,"top")&&Ct(e.top)&&(e.top?(dn(e.top)||(e.top=Up()),t.top=e.top):(e.top=_u(),t.top=e.top)),Yr(e,"bottom")&&Ct(e.bottom)&&(e.bottom?(dn(e.bottom)||(e.bottom=Up()),t.bottom=e.bottom):(e.bottom=_u(),t.bottom=e.bottom)),Yr(e,"start")&&Ct(e.start)&&(e.start?(dn(e.start)||(e.start=Up()),t.start=e.start):(e.start=_u(),t.start=e.start)),Yr(e,"end")&&Ct(e.end)&&(e.end?(dn(e.end)||(e.end=Up()),t.end=e.end):(e.end=_u(),t.end=e.end)),t}function Du(t,e){let n=!1;return ye(t.getSelectedRange(),r=>{r.forAll((i,o)=>{if(i<0||o<0)return;const s=t.getCellMeta(i,o).borders;if(s)if(e){if(!Yr(s[e],"hide")||s[e].hide===!1)return n=!0,!1}else return n=!0,!1})}),n}function fR(t){return`<span class="selected">✓</span>${t}`}function aRe(t){return t.some(e=>Ct(e.left)||Ct(e.right))}function lRe(t){return t.some(e=>Ct(e.start)||Ct(e.end))}const uRe=new Map([["left","start"],["right","end"]]);function cRe(t){var e;return(e=uRe.get(t))!==null&&e!==void 0?e:t}function dRe(t){return{key:"borders:bottom",name(){let e=this.getTranslatedPhrase(uP);return Du(this,"bottom")&&(e=fR(e)),e},callback(e,n){const r=Du(this,"bottom");t.prepareBorder(n,"bottom",r)}}}function hRe(t){const e=t.hot.isRtl()?"end":"start";return{key:"borders:left",name(){let n=this.getTranslatedPhrase(cP);return Du(this,e)&&(n=fR(n)),n},callback(n,r){const i=Du(this,e);t.prepareBorder(r,e,i)}}}function fRe(t){return{key:"borders:no_borders",name(){return this.getTranslatedPhrase(dP)},callback(e,n){t.prepareBorder(n,"noBorders")},disabled(){return!Du(this)}}}function gRe(t){const e=t.hot.isRtl()?"start":"end";return{key:"borders:right",name(){let n=this.getTranslatedPhrase(lP);return Du(this,e)&&(n=fR(n)),n},callback(n,r){const i=Du(this,e);t.prepareBorder(r,e,i)}}}function mRe(t){return{key:"borders:top",name(){let e=this.getTranslatedPhrase(aP);return Du(this,"top")&&(e=fR(e)),e},callback(e,n){const r=Du(this,"top");t.prepareBorder(n,"top",r)}}}function pRe(t,e){vRe(t,e),e.add(t)}function vRe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wRe(t,e,n){return(e=CRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CRe(t){var e=yRe(t,"string");return typeof e=="symbol"?e:e+""}function yRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ok(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Vb="customBorders",bRe=90;var _M=new WeakSet;class SRe extends qn{constructor(){super(...arguments),pRe(this,_M),wRe(this,"savedBorders",[])}static get PLUGIN_KEY(){return Vb}static get PLUGIN_PRIORITY(){return bRe}isEnabled(){return!!this.hot.getSettings()[Vb]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>ok(_M,this,RRe).call(this,e)),this.addHook("init",()=>ok(_M,this,ERe).call(this)),super.enablePlugin())}disablePlugin(){this.hideBorders(),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),super.updatePlugin()}setBorders(e,n){let r=["top","bottom","start","end"],i=null;n&&(this.checkSettingsCohesion([n]),r=Object.keys(n),i=RM(n));const o=Ag(e),s=Iv(o,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)});ye(e,a=>{s(a).forAll((u,c)=>{ye(r,h=>{this.prepareBorderFromCustomAdded(u,c,i,cRe(h))})})}),this.hot.view.render()}getBorders(e){if(!Array.isArray(e))return this.savedBorders;const n=Ag(e),r=Iv(n,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)}),i=[];return ye(e,o=>{r(o).forAll((s,a)=>{ye(this.savedBorders,u=>{u.row===s&&u.col===a&&i.push(Sp(u))})})}),i}clearBorders(e){e?this.setBorders(e):(ye(this.savedBorders,n=>{this.clearBordersFromSelectionSettings(n.id),this.clearNullCellRange(),this.hot.removeCellMeta(n.row,n.col,"borders")}),this.savedBorders.length=0)}insertBorderIntoSettings(e,n){this.checkSavedBorders(e)||this.savedBorders.push(e);const i=this.hot._createCellRange(this.hot._createCellCoords(e.row,e.col));this.checkCustomSelections(e,i,n)||this.hot.selection.highlight.addCustomSelection({border:e,visualCellRange:i})}prepareBorderFromCustomAdded(e,n,r,i){const o=this.hot.countRows(),s=this.hot.countCols();if(e>=o||n>=s)return;let a=EM(e,n);r&&(a=sRe(a,r),ye(this.hot.selection.highlight.customSelections,u=>{if(a.id===u.settings.id)return Object.assign(u.settings,r),a.id=u.settings.id,a.top=u.settings.top,a.bottom=u.settings.bottom,a.start=u.settings.start,a.end=u.settings.end,!1})),this.hot.setCellMeta(e,n,"borders",Sp(a)),this.insertBorderIntoSettings(a,i)}prepareBorderFromCustomAddedRange(e,n){const r=Math.min(e.to.row,this.hot.countRows()-1),i=Math.min(e.to.col,this.hot.countCols()-1);Mt(e.from.row,r,o=>{Mt(e.from.col,i,s=>{const a=EM(o,s);let u=0;o===e.from.row&&Yr(n,"top")&&(u+=1,a.top=n.top),o===e.to.row&&Yr(n,"bottom")&&(u+=1,a.bottom=n.bottom),s===e.from.col&&Yr(n,"start")&&(u+=1,a.start=n.start),s===e.to.col&&Yr(n,"end")&&(u+=1,a.end=n.end),u>0&&(this.hot.setCellMeta(o,s,"borders",Sp(a)),this.insertBorderIntoSettings(a))})})}removeAllBorders(e,n){const r=Kz(e,n);this.spliceBorder(r),this.clearBordersFromSelectionSettings(r),this.clearNullCellRange(),this.hot.removeCellMeta(e,n,"borders")}setBorder(e,n,r,i){let o=this.hot.getCellMeta(e,n).borders;!o||o.border===void 0?o=EM(e,n):o=RM(o),i?(o[r]=_u(),this.countHide(o)===4?this.removeAllBorders(e,n):(this.checkCustomSelectionsFromContextMenu(o,r,i)||this.insertBorderIntoSettings(o),this.hot.setCellMeta(e,n,"borders",Sp(o)))):(o[r]=Up(),this.checkCustomSelectionsFromContextMenu(o,r,i)||this.insertBorderIntoSettings(o),this.hot.setCellMeta(e,n,"borders",Sp(o)))}prepareBorder(e,n,r){ye(e,i=>{let{start:o,end:s}=i;if(o.row===s.row&&o.col===s.col)n==="noBorders"?this.removeAllBorders(o.row,o.col):this.setBorder(o.row,o.col,n,r);else switch(n){case"noBorders":Mt(o.col,s.col,a=>{Mt(o.row,s.row,u=>{this.removeAllBorders(u,a)})});break;case"top":Mt(o.col,s.col,a=>{this.setBorder(o.row,a,n,r)});break;case"bottom":Mt(o.col,s.col,a=>{this.setBorder(s.row,a,n,r)});break;case"start":Mt(o.row,s.row,a=>{this.setBorder(a,o.col,n,r)});break;case"end":Mt(o.row,s.row,a=>{this.setBorder(a,s.col,n,r)});break}})}createCustomBorders(e){ye(e,n=>{const r=RM(n);n.range?this.prepareBorderFromCustomAddedRange(n.range,r):this.prepareBorderFromCustomAdded(n.row,n.col,r)})}countHide(e){const{top:n,bottom:r,start:i,end:o}=e;return Eo([n,r,i,o],(a,u)=>{let c=a;return u&&u.hide&&(c+=1),c},0)}clearBordersFromSelectionSettings(e){const n=_n(this.hot.selection.highlight.customSelections,r=>r.settings.id).indexOf(e);n>-1&&this.hot.selection.highlight.customSelections[n].clear()}clearNullCellRange(){ye(this.hot.selection.highlight.customSelections,(e,n)=>{if(e.cellRange===null)return this.hot.selection.highlight.customSelections[n].destroy(),this.hot.selection.highlight.customSelections.splice(n,1),!1})}hideBorders(){ye(this.savedBorders,e=>{this.clearBordersFromSelectionSettings(e.id),this.clearNullCellRange()})}spliceBorder(e){const n=_n(this.savedBorders,r=>r.id).indexOf(e);n>-1&&this.savedBorders.splice(n,1)}checkSavedBorders(e){let n=!1;return this.countHide(e)===4?(this.spliceBorder(e.id),n=!0):ye(this.savedBorders,(i,o)=>{if(e.id===i.id)return this.savedBorders[o]=e,n=!0,!1}),n}checkCustomSelectionsFromContextMenu(e,n,r){let i=!1;return ye(this.hot.selection.highlight.customSelections,o=>{if(e.id===o.settings.id){const s=this.hot.view._wt.selectionManager.getBorderInstances(o);return ye(s,a=>{a.toggleHiddenClass(n,r)}),i=!0,!1}}),i}checkCustomSelections(e,n,r){const i=this.countHide(e);let o=!1;return i===4?(this.removeAllBorders(e.row,e.col),o=!0):ye(this.hot.selection.highlight.customSelections,s=>{if(e.id===s.settings.id){if(s.visualCellRange=n,s.commit(),r){const a=this.hot.view._wt.selectionManager.getBorderInstances(s);ye(a,u=>{u.changeBorderStyle(r,e)})}return o=!0,!1}}),o}changeBorderSettings(){const e=this.hot.getSettings()[Vb];if(Array.isArray(e)){const n=Ro(e);this.checkSettingsCohesion(n),n.length||(this.savedBorders=n),this.createCustomBorders(n)}else e!==void 0&&this.createCustomBorders(this.savedBorders)}checkSettingsCohesion(e){const n=aRe(e),r=lRe(e);if(n&&r)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&n)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}destroy(){super.destroy()}}function RRe(t){this.hot.getSettings()[Vb]&&t.items.push({name:"---------"},{key:"borders",name(){return this.getTranslatedPhrase(sP)},disabled(){const e=this.getSelectedRangeLast();return!e||e.isSingleHeader()?!0:this.selection.isSelectedByCorner()},submenu:{items:[mRe(this),gRe(this),dRe(this),hRe(this),fRe(this)]}})}function ERe(){this.changeBorderSettings()}function _Re(t,e){MRe(t,e),e.add(t)}function MRe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function MM(t,e,n){return(e=TRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TRe(t){var e=xRe(t,"string");return typeof e=="symbol"?e:e+""}function xRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sk(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const ak="dragToScroll",IRe=100;var TM=new WeakSet;class ORe extends qn{constructor(){super(...arguments),_Re(this,TM),MM(this,"boundaries",null),MM(this,"callback",null),MM(this,"listening",!1)}static get PLUGIN_KEY(){return ak}static get PLUGIN_PRIORITY(){return IRe}isEnabled(){return!!this.hot.getSettings()[ak]}enablePlugin(){this.enabled||(this.addHook("afterOnCellMouseDown",e=>sk(TM,this,lk).call(this,e)),this.addHook("afterOnCellCornerMouseDown",e=>sk(TM,this,lk).call(this,e)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.unregisterEvents(),super.disablePlugin()}setBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{left:0,right:this.hot.rootWindow.innerWidth,top:0,bottom:this.hot.rootWindow.innerHeight};this.boundaries=e}setCallback(e){this.callback=e}check(e,n){let r=0,i=0;n<this.boundaries.top?i=n-this.boundaries.top:n>this.boundaries.bottom&&(i=n-this.boundaries.bottom),e<this.boundaries.left?r=e-this.boundaries.left:e>this.boundaries.right&&(r=e-this.boundaries.right),this.callback(r,i)}listen(){this.listening=!0}unlisten(){this.listening=!1}isListening(){return this.listening}registerEvents(){const{rootWindow:e}=this.hot;let n=e;for(;n;)this.eventManager.addEventListener(n.document,"contextmenu",()=>this.unlisten()),this.eventManager.addEventListener(n.document,"mouseup",()=>this.unlisten()),this.eventManager.addEventListener(n.document,"mousemove",r=>this.onMouseMove(r)),n=Ig(n)}unregisterEvents(){this.eventManager.clear()}onMouseMove(e){this.isListening()&&this.check(e.clientX,e.clientY)}destroy(){super.destroy()}}function lk(t){if(Eh(t))return;const e=this.hot.view._wt.wtOverlays.topOverlay.mainTableScrollableElement;this.setBoundaries(e!==this.hot.rootWindow?e.getBoundingClientRect():void 0),this.setCallback((n,r)=>{var i,o;const s=(i=e.scrollLeft)!==null&&i!==void 0?i:e.scrollX,a=(o=e.scrollTop)!==null&&o!==void 0?o:e.scrollY;e.scroll(s+Math.sign(n)*50,a+Math.sign(r)*20)}),this.listen()}function PRe(t,e){qz(t,e),e.add(t)}function ARe(t,e,n){qz(t,e),e.set(t,n)}function qz(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xM(t,e,n){return(e=HRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HRe(t){var e=DRe(t,"string");return typeof e=="symbol"?e:e+""}function DRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NRe(t,e){return t.get(ks(t,e))}function Xz(t,e,n){return t.set(ks(t,e),n),n}function ks(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}mt.getSingleton().register("afterDropdownMenuDefaultOptions");mt.getSingleton().register("beforeDropdownMenuShow");mt.getSingleton().register("afterDropdownMenuShow");mt.getSingleton().register("afterDropdownMenuHide");mt.getSingleton().register("afterDropdownMenuExecute");const Wb="dropdownMenu",$Re=230,Dv="changeType",IM=Wb;var gR=new WeakMap,Ca=new WeakSet;class mR extends qn{static get PLUGIN_KEY(){return Wb}static get PLUGIN_PRIORITY(){return $Re}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[mw,pw,cn,ww,cn,oR,cn,vw,cn,Ls]}constructor(e){super(e),PRe(this,Ca),xM(this,"commandExecutor",new Lz(this.hot)),xM(this,"itemsFactory",null),xM(this,"menu",null),ARe(this,gR,!1),this.hot.addHook("afterGetColHeader",(n,r)=>ks(Ca,this,kRe).call(this,n,r))}isEnabled(){return this.hot.getSettings()[Wb]}enablePlugin(){var e=this;if(this.enabled)return;this.itemsFactory=new kz(this.hot,mR.DEFAULT_ITEMS),this.addHook("beforeOnCellMouseDown",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return ks(Ca,e,zRe).call(e,...o)}),this.addHook("beforeViewportScrollHorizontally",function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return ks(Ca,e,jRe).call(e,...o)});const n=this.hot.getSettings()[Wb],r={items:this.itemsFactory.getItems(n)};this.registerEvents(),typeof n.callback=="function"&&this.commandExecutor.setCommonCallback(n.callback),this.registerShortcuts(),super.enablePlugin(),this.callOnPluginsReady(()=>{this.hot.runHooks("afterDropdownMenuDefaultOptions",r),this.itemsFactory.setPredefinedItems(r.items);const i=this.itemsFactory.getItems(n);this.menu&&this.menu.destroy(),this.menu=new rm(this.hot,{className:"htDropdownMenu",keepInViewport:!0,container:n.uiContainer||this.hot.rootDocument.body}),this.hot.runHooks("beforeDropdownMenuSetItems",i),this.menu.setMenuItems(i),this.menu.addLocalHook("beforeOpen",()=>ks(Ca,this,FRe).call(this)),this.menu.addLocalHook("afterOpen",()=>ks(Ca,this,VRe).call(this)),this.menu.addLocalHook("afterSubmenuOpen",o=>ks(Ca,this,WRe).call(this,o)),this.menu.addLocalHook("afterClose",()=>ks(Ca,this,BRe).call(this)),this.menu.addLocalHook("executeCommand",function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return e.executeCommand.call(e,...s)}),ye(i,o=>this.commandExecutor.registerCommand(o.key,o))})}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&this.menu.destroy(),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager().getContext("grid"),n=()=>{const{highlight:r}=this.hot.getSelectedRangeLast();if((r.isHeader()&&r.row===-1||r.isCell())&&r.col>=0){this.hot.selectColumns(r.col,r.col,-1);const{from:i}=this.hot.getSelectedRangeLast(),o=iR(this.menu.container,this.hot.rootDocument),s=this.hot.getCell(-1,i.col,!0).querySelector(`.${Dv}`),a=s.getBoundingClientRect();this.open({left:a.left+o.left,top:a.top+s.offsetHeight+o.top},{left:a.width,right:0,above:0,below:3}),this.menu.getNavigator().toFirstItem()}};e.addShortcuts([{keys:[["Shift","Alt","ArrowDown"],["Control/Meta","Enter"]],callback:n,runOnlyIf:()=>{var r;const i=(r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight;return i&&this.hot.selection.isCellVisible(i)&&i.isHeader()&&!this.menu.isOpened()},captureCtrl:!0,group:IM},{keys:[["Shift","Alt","ArrowDown"]],callback:n,runOnlyIf:()=>{var r;const i=(r=this.hot.getSelectedRangeLast())===null||r===void 0?void 0:r.highlight;return i&&this.hot.selection.isCellVisible(i)&&i.isCell()&&!this.menu.isOpened()},group:IM}])}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(IM)}registerEvents(){this.eventManager.addEventListener(this.hot.rootElement,"click",e=>ks(Ca,this,LRe).call(this,e))}open(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{above:0,below:0,left:0,right:0};(n=this.menu)!==null&&n!==void 0&&n.isOpened()||(this.menu.open(),hn(r,(i,o)=>{this.menu.setOffset(o,i)}),this.menu.setPosition(e))}close(){var e;(e=this.menu)===null||e===void 0||e.close()}executeCommand(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.commandExecutor.execute(e,...r)}setListening(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.menu.isOpened()&&(e?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function Zz(t){t.getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Control/Meta","A"]],callback:()=>!1}])}function LRe(t){if(Ft(t.target,Dv)){const e=iR(this.menu.container,this.hot.rootDocument),n=t.target.getBoundingClientRect();t.stopPropagation(),Xz(gR,this,!1),this.open({left:n.left+e.left,top:n.top+t.target.offsetHeight+e.top},{left:n.width,right:0,above:0,below:3})}}function kRe(t,e){const n=e.parentNode;if(!n)return;const r=n.parentNode.childNodes,i=Array.prototype.indexOf.call(r,n);if(t<0||i!==r.length-1)return;const o=e.querySelector(`.${Dv}`);if(this.enabled&&o)return;if(!this.enabled){o&&o.parentNode.removeChild(o);return}const s=this.hot.rootDocument.createElement("button");s.className=Dv,s.type="button",s.tabIndex=-1,this.hot.getSettings().ariaTags&&(Lt(s,[jh(),gS(" ")]),Lt(e,[uB("menu")])),s.onclick=function(){return!1},e.firstChild.insertBefore(s,e.firstChild.firstChild)}function FRe(){this.hot.runHooks("beforeDropdownMenuShow",this)}function VRe(){this.hot.runHooks("afterDropdownMenuShow",this),ks(Ca,this,Zz).call(this,this.menu)}function WRe(t){ks(Ca,this,Zz).call(this,t)}function BRe(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}function jRe(t){return NRe(gR,this)?null:t}function zRe(t){Ft(t.target,Dv)&&Xz(gR,this,!0)}mR.SEPARATOR={name:cn};function uk(t,e,n){return(e=YRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YRe(t){var e=URe(t,"string");return typeof e=="symbol"?e:e+""}function URe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class GRe{constructor(e){uk(this,"hot",void 0),uk(this,"options",{}),this.hot=e}setOptions(e){this.options=e}getData(){const{startRow:e,startCol:n,endRow:r,endCol:i}=this._getDataRange(),o=this.options,s=[];return Mt(e,r,a=>{const u=[];!o.exportHiddenRows&&this._isHiddenRow(a)||(Mt(n,i,c=>{!o.exportHiddenColumns&&this._isHiddenColumn(c)||u.push(this.hot.getDataAtCell(a,c))}),s.push(u))}),s}getRowHeaders(){const e=[];if(this.options.rowHeaders){const{startRow:n,endRow:r}=this._getDataRange(),i=this.hot.getRowHeader();Mt(n,r,o=>{!this.options.exportHiddenRows&&this._isHiddenRow(o)||e.push(i[o])})}return e}getColumnHeaders(){const e=[];if(this.options.columnHeaders){const{startCol:n,endCol:r}=this._getDataRange(),i=this.hot.getColHeader();Mt(n,r,o=>{!this.options.exportHiddenColumns&&this._isHiddenColumn(o)||e.push(i[o])})}return e}_getDataRange(){const e=this.hot.countCols()-1,n=this.hot.countRows()-1;let[r=0,i=0,o=n,s=e]=this.options.range;return r=Math.max(r,0),i=Math.max(i,0),o=Math.min(o,n),s=Math.min(s,e),{startRow:r,startCol:i,endRow:o,endCol:s}}_isHiddenRow(e){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(e))}_isHiddenColumn(e){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(e))}}function ck(t,e,n){return(e=KRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KRe(t){var e=qRe(t,"string");return typeof e=="symbol"?e:e+""}function qRe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class yA{static get DEFAULT_OPTIONS(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}constructor(e,n){ck(this,"dataProvider",void 0),ck(this,"options",void 0),this.dataProvider=e,this.options=this._mergeOptions(n),this.dataProvider.setOptions(this.options)}_mergeOptions(e){let n=Hl(this.constructor.DEFAULT_OPTIONS);const r=new Date;return n=fi(Hl(yA.DEFAULT_OPTIONS),n),n=fi(n,e),n.filename=sB(n.filename,{YYYY:r.getFullYear(),MM:`${r.getMonth()+1}`.padStart(2,"0"),DD:`${r.getDate()}`.padStart(2,"0")}),n}}const XRe="\r",ZRe='"',QRe=`
`;class JRe extends yA{static get DEFAULT_OPTIONS(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:`\r
`}}export(){const e=this.options,n=this.dataProvider.getData();let r=this.dataProvider.getColumnHeaders();const i=r.length>0,o=this.dataProvider.getRowHeaders(),s=o.length>0;let a=e.bom?"\uFEFF":"";return i&&(r=_n(r,u=>this._escapeCell(u,!0)),s&&(a+=e.columnDelimiter),a+=r.join(e.columnDelimiter),a+=e.rowDelimiter),ye(n,(u,c)=>{c>0&&(a+=e.rowDelimiter),s&&(a+=this._escapeCell(o[c])+e.columnDelimiter),a+=u.map(h=>this._escapeCell(h)).join(e.columnDelimiter)}),a}_escapeCell(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=ai(e);return r!==""&&(n||r.indexOf(XRe)>=0||r.indexOf(ZRe)>=0||r.indexOf(QRe)>=0||r.indexOf(this.options.columnDelimiter)>=0)&&(r=r.replace(new RegExp('"',"g"),'""'),r=`"${r}"`),r}}const eEe="csv",Mx={[eEe]:JRe};function tEe(t,e,n){return typeof Mx[t]=="function"?new Mx[t](e,n):null}const nEe="exportFile",rEe=240;class iEe extends qn{static get PLUGIN_KEY(){return nEe}static get PLUGIN_PRIORITY(){return rEe}isEnabled(){return!0}exportAsString(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createTypeFormatter(e,n).export()}exportAsBlob(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._createBlob(this._createTypeFormatter(e,n))}downloadFile(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{rootDocument:r,rootWindow:i}=this.hot,o=this._createTypeFormatter(e,n),s=this._createBlob(o),a=i.URL||i.webkitURL,u=r.createElement("a"),c=`${o.options.filename}.${o.options.fileExtension}`;if(u.download!==void 0){const h=a.createObjectURL(s);u.style.display="none",u.setAttribute("href",h),u.setAttribute("download",c),r.body.appendChild(u),u.dispatchEvent(new MouseEvent("click")),r.body.removeChild(u),setTimeout(()=>{a.revokeObjectURL(h)},100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(s,c)}_createTypeFormatter(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Mx[e])throw new Error(`Export format type "${e}" is not supported.`);return tEe(e,new GRe(this.hot),n)}_createBlob(e){let n=null;return typeof Blob<"u"&&(n=new Blob([e.export()],{type:`${e.options.mimeType};charset=${e.options.encoding}`})),n}}function Gf(t,e,n){return(e=oEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oEe(t){var e=sEe(t,"string");return typeof e=="symbol"?e:e+""}function sEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Cw{constructor(e,n){let{id:r,stateless:i=!0}=n;Gf(this,"hot",void 0),Gf(this,"id",void 0),Gf(this,"elements",[]),Gf(this,"hidden",!1),Gf(this,"stateId",""),Gf(this,"state",void 0),this.hot=e,this.id=r,this.stateId=`Filters.component.${this.id}`,this.state=i?null:this.hot.columnIndexMapper.registerMap(this.stateId,new X0)}getElements(){return this.elements}reset(){ye(this.elements,e=>e.reset())}hide(){this.hidden=!0}show(){this.hidden=!1}isHidden(){return this.hot===null||this.hidden}restoreState(e){this.state&&this.setState(this.state.getValueAtIndex(e))}setState(){throw new Error("The state setting logic is not implemented")}saveState(e){this.state&&this.state.setValueAtIndex(e,this.getState())}getState(){throw new Error("The state gathering logic is not implemented")}destroy(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),ye(this.elements,e=>e.destroy()),this.state=null,this.elements=null,this.hot=null}}lr(Cw,Ui);const Nv={};function zc(t,e){if(!Nv[t])throw Error(`Filter condition "${t}" does not exist.`);const{condition:n,descriptor:r}=Nv[t];let i=e;return r.inputValuesDecorator&&(i=r.inputValuesDecorator(i)),function(o){return n.apply(o.meta.instance,[].concat([o],[i]))}}function gh(t){if(!Nv[t])throw Error(`Filter condition "${t}" does not exist.`);return Nv[t].descriptor}function ui(t,e,n){n.key=t,Nv[t]={condition:e,descriptor:n}}const Pi="none";function aEe(){return!0}ui(Pi,aEe,{name:Z0,inputsCount:0,showOperators:!1});const iv="empty";function lEe(t){return ei(t.value)}ui(iv,lEe,{name:wP,inputsCount:0,showOperators:!0});const Bb="not_empty";function uEe(t,e){return!zc(iv,e)(t)}ui(Bb,uEe,{name:CP,inputsCount:0,showOperators:!0});const ov="eq";function cEe(t,e){let[n]=e;return ai(t.value).toLocaleLowerCase(t.meta.locale)===ai(n)}ui(ov,cEe,{name:yP,inputsCount:1,showOperators:!0});const jb="neq";function dEe(t,e){return!zc(ov,e)(t)}ui(jb,dEe,{name:bP,inputsCount:1,showOperators:!0});const Qz="gt";function hEe(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value>r}ui(Qz,hEe,{name:MP,inputsCount:1,showOperators:!0});const Jz="gte";function fEe(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value>=r}ui(Jz,fEe,{name:TP,inputsCount:1,showOperators:!0});const eY="lt";function gEe(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value<r}ui(eY,gEe,{name:xP,inputsCount:1,showOperators:!0});const tY="lte";function mEe(t,e){let[n]=e,r=n;return t.meta.type==="numeric"&&(r=parseFloat(r,10)),t.value<=r}ui(tY,mEe,{name:IP,inputsCount:1,showOperators:!0});const bA="date_after";function pEe(t,e){let[n]=e;const r=Ze(t.value,t.meta.dateFormat),i=Ze(n,t.meta.dateFormat);return!r.isValid()||!i.isValid()?!1:r.diff(i)>=0}ui(bA,pEe,{name:AP,inputsCount:1,showOperators:!0});const SA="date_before";function vEe(t,e){let[n]=e;const r=Ze(t.value,t.meta.dateFormat),i=Ze(n,t.meta.dateFormat);return!r.isValid()||!i.isValid()?!1:r.diff(i)<=0}ui(SA,vEe,{name:HP,inputsCount:1,showOperators:!0});const FS="between";function wEe(t,e){let[n,r]=e,i=n,o=r;if(t.meta.type==="numeric"){const s=parseFloat(i,10),a=parseFloat(o,10);i=Math.min(s,a),o=Math.max(s,a)}else if(t.meta.type==="date"){const s=zc(SA,[o]),a=zc(bA,[i]);return s(t)&&a(t)}return t.value>=i&&t.value<=o}ui(FS,wEe,{name:OP,inputsCount:2,showOperators:!0});const nY="not_between";function CEe(t,e){return!zc(FS,e)(t)}ui(nY,CEe,{name:PP,inputsCount:2,showOperators:!0});const rY="begins_with";function yEe(t,e){let[n]=e;return ai(t.value).toLocaleLowerCase(t.meta.locale).startsWith(ai(n))}ui(rY,yEe,{name:SP,inputsCount:1,showOperators:!0});const iY="ends_with";function bEe(t,e){let[n]=e;return ai(t.value).toLocaleLowerCase(t.meta.locale).endsWith(ai(n))}ui(iY,bEe,{name:RP,inputsCount:1,showOperators:!0});const RA="contains";function SEe(t,e){let[n]=e;return ai(t.value).toLocaleLowerCase(t.meta.locale).indexOf(ai(n))>=0}ui(RA,SEe,{name:EP,inputsCount:1,showOperators:!0});const oY="not_contains";function REe(t,e){return!zc(RA,e)(t)}ui(oY,REe,{name:_P,inputsCount:1,showOperators:!0});const sY="date_tomorrow";function EEe(t){const e=Ze(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(Ze().subtract(-1,"days").startOf("day"),"d"):!1}ui(sY,EEe,{name:NP,inputsCount:0});const aY="date_today";function _Ee(t){const e=Ze(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(Ze().startOf("day"),"d"):!1}ui(aY,_Ee,{name:DP,inputsCount:0});const lY="date_yesterday";function MEe(t){const e=Ze(t.value,t.meta.dateFormat);return e.isValid()?e.isSame(Ze().subtract(1,"days").startOf("day"),"d"):!1}ui(lY,MEe,{name:$P,inputsCount:0});xue();function TEe(t,e){let n=t;return n===""&&(n=`(${e})`),n}const Tx=new Set([1]).has(1),xEe=Tx&&typeof Array.from=="function";function yw(t){let e=t;return Tx&&(e=new Set(e)),function(n){let r;return Tx?r=e.has(n):r=!!~e.indexOf(n),r}}function uY(t){return t??""}function xx(t){let e=t;return xEe?e=Array.from(new Set(e)):e=rB(e),e=e.sort((n,r)=>typeof n=="number"&&typeof r=="number"?n-r:n===r?0:n>r?1:-1),e}function dk(t,e,n,r){const i=[],o=t===e;let s;return o||(s=yw(e)),ye(t,a=>{let u=!1;(o||s(a))&&(u=!0);const c={checked:u,value:a,visualValue:TEe(a,n)};r&&r(c),i.push(c)}),i}const mh="by_value";function IEe(t,e){let[n]=e;return n(t.value)}ui(mh,IEe,{name:"By value",inputsCount:0,inputValuesDecorator(t){let[e]=t;return[yw(e)]},showOperators:!1});const $v={};function OEe(t){if(!$v[t])throw Error(`Operation with id "${t}" does not exist.`);const e=$v[t].func;return function(n,r){return e(n,r)}}function PEe(t){return $v[t].name}function EA(t,e,n){$v[t]={name:e,func:n}}const Vc="conjunction",AEe=FP;function HEe(t,e){return t.every(n=>n.func(e))}EA(Vc,AEe,HEe);const VS="disjunction",DEe=Q0;function NEe(t,e){return t.some(n=>n.func(e))}EA(VS,DEe,NEe);const _A="disjunctionWithExtraCondition",$Ee=Q0;function LEe(t,e){if(t.length<3)throw Error("Operation doesn't work on less then three conditions.");return t.slice(0,t.length-1).some(n=>n.func(e))&&t[t.length-1].func(e)}EA(_A,$Ee,LEe);const kEe="numeric",cY="text",FEe="date",hk={[kEe]:[Pi,cn,iv,Bb,cn,ov,jb,cn,Qz,Jz,eY,tY,FS,nY],[cY]:[Pi,cn,iv,Bb,cn,ov,jb,cn,rY,iY,cn,RA,oY],[FEe]:[Pi,cn,iv,Bb,cn,ov,jb,cn,SA,bA,FS,cn,sY,aY,lY]};function VEe(t){const e=[];let n=t;return hk[n]||(n=cY),ye(hk[n],r=>{let i;r===cn?i={name:cn}:i=Hl(gh(r)),e.push(i)}),e}function Rp(t,e,n){return(e=WEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WEe(t){var e=BEe(t,"string");return typeof e=="symbol"?e:e+""}function BEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const OM="built",PM="building",fk=["click","input","keydown","keypress","keyup","focus","blur","change"];let Ta=class dY{static get DEFAULTS(){return Hl({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}constructor(e,n){Rp(this,"hot",void 0),Rp(this,"eventManager",new Pa(this)),Rp(this,"options",void 0),Rp(this,"_element",void 0),Rp(this,"buildState",void 0),this.hot=e,this.options=fi(dY.DEFAULTS,n),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName)}setValue(e){this.options.value=e,this.update()}getValue(){return this.options.value}get element(){return this.buildState===PM?this._element:this.buildState===OM?(this.update(),this._element):(this.buildState=PM,this.build(),this.buildState=OM,this._element)}isBuilt(){return this.buildState===OM}translateIfPossible(e){return typeof e=="string"&&e.startsWith(_o)?this.hot.getTranslatedPhrase(e):e}build(){const e=(n,r)=>{this.eventManager.addEventListener(n,r,i=>this.runLocalHooks(r,i,this))};if(this.buildState||(this.buildState=PM),this._element.setAttribute("data-hot-input",!0),this.options.tabIndex!==void 0&&this._element.setAttribute("tabindex",this.options.tabIndex),this.options.role!==void 0&&this._element.setAttribute("role",this.options.role),this.options.className&&Qe(this._element,this.options.className),this.options.children.length)ye(this.options.children,n=>this._element.appendChild(n.element));else if(this.options.wrapIt){const n=this.hot.rootDocument.createElement(this.options.tagName);n.setAttribute("data-hot-input",!0),hn(this.options,(r,i)=>{n[i]!==void 0&&i!=="className"&&i!=="tagName"&&i!=="children"&&(n[i]=this.translateIfPossible(r))}),this._element.appendChild(n),ye(fk,r=>e(n,r))}else ye(fk,n=>e(this._element,n))}update(){}reset(){this.options.value="",this.update()}show(){this.element.style.display=""}hide(){this.element.style.display="none"}focus(){}destroy(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}};lr(Ta,Ui);function jEe(t,e){hY(t,e),e.add(t)}function zEe(t,e,n){hY(t,e),e.set(t,n)}function hY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zy(t,e){return t.get(MA(t,e))}function YEe(t,e,n){return t.set(MA(t,e),n),n}function MA(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Kf=new WeakMap,gk=new WeakSet;class Wc extends Ta{static get DEFAULTS(){return Hl({placeholder:"",type:"text",tagName:"input",tabIndex:-1})}constructor(e,n){super(e,fi(Wc.DEFAULTS,n)),jEe(this,gk),zEe(this,Kf,void 0),this.registerHooks()}registerHooks(){this.addLocalHook("keyup",e=>MA(gk,this,UEe).call(this,e))}build(){super.build();const e=this.hot.rootDocument.createElement("div");YEe(Kf,this,this._element.firstChild),Qe(this._element,"htUIInput"),Qe(e,"htUIInputIcon"),this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(zy(Kf,this).type=this.options.type,zy(Kf,this).placeholder=this.translateIfPossible(this.options.placeholder),zy(Kf,this).value=this.translateIfPossible(this.options.value))}focus(){this.isBuilt()&&zy(Kf,this).focus()}}function UEe(t){this.options.value=t.target.value}function GEe(t,e){fY(t,e),e.add(t)}function Ep(t,e,n){fY(t,e),e.set(t,n)}function fY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qf(t,e,n){return t.set(sv(t,e),n),n}function Fr(t,e){return t.get(sv(t,e))}function sv(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var wi=new WeakMap,Yy=new WeakMap,Uy=new WeakMap,AM=new WeakMap,Gy=new WeakMap,Ky=new WeakSet;class Lv extends Ta{static get DEFAULTS(){return Hl({className:"htUISelect",wrapIt:!1,tabIndex:-1})}constructor(e,n){super(e,fi(Lv.DEFAULTS,n)),GEe(this,Ky),Ep(this,wi,null),Ep(this,Yy,[]),Ep(this,Uy,void 0),Ep(this,AM,void 0),Ep(this,Gy,void 0),this.registerHooks()}getMenu(){return Fr(wi,this)}registerHooks(){this.addLocalHook("click",()=>sv(Ky,this,XEe).call(this))}setItems(e){qf(Yy,this,this.translateNames(e)),Fr(wi,this)&&Fr(wi,this).setMenuItems(Fr(Yy,this))}translateNames(e){return ye(e,n=>{n.name=this.translateIfPossible(n.name)}),e}build(){super.build(),qf(wi,this,new rm(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer})),Fr(wi,this).setMenuItems(Fr(Yy,this));const e=new Ta(this.hot,{className:"htUISelectCaption"}),n=new Ta(this.hot,{className:"htUISelectDropdown"});qf(Uy,this,e),qf(AM,this,e.element),qf(Gy,this,n),this.hot.getSettings().ariaTags&&(Lt(n.element,[jh()]),Lt(this._element,[lB()])),ye([e,n],r=>this._element.appendChild(r.element)),Fr(wi,this).addLocalHook("select",r=>sv(Ky,this,KEe).call(this,r)),Fr(wi,this).addLocalHook("afterClose",()=>sv(Ky,this,qEe).call(this)),this.update()}update(){if(!this.isBuilt())return;let e;this.options.value?e=this.options.value.name:e=Fr(wi,this).hot.getTranslatedPhrase(Z0),Fr(AM,this).textContent=e,super.update()}openOptions(){const e=this.element.getBoundingClientRect();Fr(wi,this)&&(Fr(wi,this).open(),Fr(wi,this).setPosition({left:this.hot.isLtr()?e.left-5:e.left-31,top:e.top-1,width:e.width,height:e.height}),Fr(wi,this).getNavigator().toFirstItem(),Fr(wi,this).getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:n=>{this.closeOptions(),this.runLocalHooks("tabKeydown",n)}},{keys:[["Control/Meta","A"]],callback:()=>!1}]))}closeOptions(){Fr(wi,this)&&Fr(wi,this).close()}focus(){this.isBuilt()&&this.element.focus()}destroy(){Fr(wi,this)&&(Fr(wi,this).destroy(),qf(wi,this,null)),Fr(Uy,this)&&Fr(Uy,this).destroy(),Fr(Gy,this)&&Fr(Gy,this).destroy(),super.destroy()}}function KEe(t){t.name!==cn&&(this.options.value=t,this.update(),this.runLocalHooks("select",this.options.value))}function qEe(){this.runLocalHooks("afterClose")}function XEe(){this.openOptions()}function ZEe(t,e){QEe(t,e),e.add(t)}function QEe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mk(t,e,n){return(e=JEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JEe(t){var e=e_e(t,"string");return typeof e=="symbol"?e:e+""}function e_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pk(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var HM=new WeakSet;class Ix extends Cw{constructor(e,n){super(e,{id:n.id,stateless:!1}),ZEe(this,HM),mk(this,"name",""),mk(this,"addSeparator",!1),this.name=n.name,this.addSeparator=n.addSeparator,this.elements.push(new Lv(this.hot,{menuContainer:n.menuContainer})),this.elements.push(new Wc(this.hot,{placeholder:YP})),this.elements.push(new Wc(this.hot,{placeholder:UP})),this.registerHooks()}registerHooks(){this.getSelectElement().addLocalHook("select",e=>pk(HM,this,t_e).call(this,e)).addLocalHook("afterClose",()=>this.runLocalHooks("afterClose")).addLocalHook("tabKeydown",e=>this.runLocalHooks("selectTabKeydown",e)),ye(this.getInputElements(),e=>{e.addLocalHook("keydown",n=>pk(HM,this,n_e).call(this,n))})}setState(e){if(this.reset(),!e)return;const n=Hl(e.command);n.name.startsWith(Ur)&&(n.name=this.hot.getTranslatedPhrase(n.name)),this.getSelectElement().setValue(n),ye(e.args,(r,i)=>{if(i>n.inputsCount-1)return!1;const o=this.getInputElement(i);o.setValue(r),o[n.inputsCount>i?"show":"hide"](),i||this.hot._registerTimeout(()=>o.focus(),10)})}getState(){const e=this.getSelectElement().getValue()||gh(Pi),n=[];return ye(this.getInputElements(),(r,i)=>{e.inputsCount>i&&n.push(r.getValue())}),{command:e,args:n}}updateState(e,n){const r=gh(e?e.name:Pi);this.state.setValueAtIndex(n,{command:r,args:e?e.args:[]}),e||ye(this.getInputElements(),i=>i.setValue(null))}getSelectElement(){return this.elements.filter(e=>e instanceof Lv)[0]}getInputElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.getInputElements()[e]}getInputElements(){return this.elements.filter(e=>e instanceof Wc)}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n,r,i,o,s)=>{Qe(n.parentNode,"htFiltersMenuCondition"),this.addSeparator&&Qe(n.parentNode,"border");const a=this.hot.rootDocument.createElement("div");return Qe(a,"htFiltersMenuLabel"),a.textContent=s,n.appendChild(a),n.parentElement.hasAttribute("ghost-table")||ye(this.elements,u=>n.appendChild(u.element)),n}}}reset(){const e=this.hot.getPlugin("filters").getSelectedColumn();let n=[gh(Pi)];if(e!==null){const{visualIndex:r}=e;n=VEe(this.hot.getDataType(0,r,this.hot.countRows(),r))}ye(this.getInputElements(),r=>r.hide()),this.getSelectElement().setItems(n),super.reset(),this.getSelectElement().setValue(n[0])}}function t_e(t){ye(this.getInputElements(),(e,n)=>{e[t.inputsCount>n?"show":"hide"](),n===0&&this.hot._registerTimeout(()=>e.focus(),10)}),this.runLocalHooks("change",t)}function n_e(t){lw(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),$a(t))}function vk(t,e,n){r_e(t,e),e.set(t,n)}function r_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _p(t,e){return t.get(gY(t,e))}function wk(t,e,n){return t.set(gY(t,e),n),n}function gY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Xf=new WeakMap,DM=new WeakMap;class WS extends Ta{static get DEFAULTS(){return Hl({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}constructor(e,n){super(e,fi(WS.DEFAULTS,n)),vk(this,Xf,void 0),vk(this,DM,void 0)}build(){super.build();const e=this.hot.rootDocument.createElement("label");e.textContent=this.translateIfPossible(this.options.label.textContent),e.htmlFor=this.translateIfPossible(this.options.label.htmlFor),wk(DM,this,e),wk(Xf,this,this._element.firstChild),_p(Xf,this).checked=this.options.checked,this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(_p(DM,this).textContent=this.translateIfPossible(this.options.label.textContent))}isChecked(){return this.isBuilt()?_p(Xf,this).checked:!1}setChecked(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isBuilt()&&(_p(Xf,this).checked=e)}focus(){this.isBuilt()&&_p(Xf,this).focus()}}function i_e(t,e){o_e(t,e),e.add(t)}function o_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s_e(t,e,n){return(e=a_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a_e(t){var e=l_e(t,"string");return typeof e=="symbol"?e:e+""}function l_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u_e(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Ck=0;var yk=new WeakSet;class c_e extends Cw{constructor(e,n){super(e,{id:n.id,stateless:!1}),i_e(this,yk),s_e(this,"name",""),this.name=n.name,this.buildOperatorsElement()}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n)=>(Qe(n.parentNode,"htFiltersMenuOperators"),ye(this.elements,r=>n.appendChild(r.element)),n)}}buildOperatorsElement(){const e=[Vc,VS];ye(e,n=>{const r=new WS(this.hot,{name:"operator",label:{htmlFor:n,textContent:PEe(n)},value:n,checked:n===e[Ck],id:n});r.addLocalHook("change",i=>u_e(yk,this,d_e).call(this,i)),this.elements.push(r)})}setChecked(e){if(this.elements.length<e)throw Error(tr`Radio button with index ${e} doesn't exist.`);ye(this.elements,(n,r)=>{n.setChecked(r===e)})}getActiveOperationId(){const e=this.elements.find(n=>n instanceof WS&&n.isChecked());return e?e.getValue():Vc}getState(){return this.getActiveOperationId()}setState(e){this.reset(),e&&this.getActiveOperationId()!==e&&ye(this.elements,n=>{n.setChecked(n.getValue()===e)})}updateState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vc,n=arguments.length>1?arguments[1]:void 0,r=e;r===_A&&(r=VS),this.state.setValueAtIndex(n,r)}reset(){this.setChecked(Ck)}}function d_e(t){this.setState(t.target.value)}function h_e(t,e,n){f_e(t,e),e.set(t,n)}function f_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function NM(t,e){return t.get(mY(t,e))}function g_e(t,e,n){return t.set(mY(t,e),n),n}function mY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Mp=new WeakMap;class kv extends Ta{static get DEFAULTS(){return Hl({href:"#",tagName:"a",tabIndex:-1,role:"button"})}constructor(e,n){super(e,fi(kv.DEFAULTS,n)),h_e(this,Mp,void 0)}build(){super.build(),g_e(Mp,this,this._element.firstChild)}update(){this.isBuilt()&&(NM(Mp,this).textContent=this.translateIfPossible(this.options.textContent))}focus(){this.isBuilt()&&NM(Mp,this).focus()}activate(){NM(Mp,this).click()}}function m_e(t,e){pY(t,e),e.add(t)}function Zf(t,e,n){pY(t,e),e.set(t,n)}function pY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rn(t,e){return t.get(wg(t,e))}function ha(t,e,n){return t.set(wg(t,e),n),n}function wg(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const bk="multipleSelect.itemBox";var ya=new WeakMap,oi=new WeakMap,$M=new WeakMap,du=new WeakMap,cc=new WeakMap,dc=new WeakMap,Tp=new WeakSet;class Fv extends Ta{static get DEFAULTS(){return Hl({className:"htUIMultipleSelect",value:[]})}constructor(e,n){super(e,fi(Fv.DEFAULTS,n)),m_e(this,Tp),Zf(this,ya,[]),Zf(this,oi,void 0),Zf(this,$M,void 0),Zf(this,du,void 0),Zf(this,cc,void 0),Zf(this,dc,void 0),ha(du,this,new Wc(this.hot,{placeholder:zP,className:"htUIMultipleSelectSearch"})),ha(cc,this,new kv(this.hot,{textContent:VP,className:"htUISelectAll"})),ha(dc,this,new kv(this.hot,{textContent:WP,className:"htUIClearAll"})),this.registerHooks()}getItemsBox(){return rn(oi,this)}registerHooks(){rn(du,this).addLocalHook("keydown",e=>wg(Tp,this,v_e).call(this,e)),rn(du,this).addLocalHook("input",e=>wg(Tp,this,p_e).call(this,e)),rn(cc,this).addLocalHook("click",e=>wg(Tp,this,w_e).call(this,e)),rn(dc,this).addLocalHook("click",e=>wg(Tp,this,C_e).call(this,e))}setItems(e){var n;ha(ya,this,e),(n=rn(oi,this))===null||n===void 0||n.loadData(rn(ya,this))}setLocale(e){ha($M,this,e)}getLocale(){return rn($M,this)}getItems(){return[...rn(ya,this)]}getValue(){return b_e(rn(ya,this))}getSearchInputElement(){return rn(du,this)}getSelectAllElement(){return rn(cc,this)}getClearAllElement(){return rn(dc,this)}isSelectedAllValues(){return rn(ya,this).length===this.getValue().length}build(){super.build();const{rootDocument:e}=this.hot,n=e.createElement("div"),r=new Ta(this.hot,{className:"htUISelectionControls",children:[rn(cc,this),rn(dc,this)]});this._element.appendChild(rn(du,this).element),this._element.appendChild(r.element),this._element.appendChild(n);const i=o=>{var s;if(!this._element)return;(s=rn(oi,this))===null||s===void 0||s.destroy(),Qe(o,"htUIMultipleSelectHot"),ha(oi,this,new this.hot.constructor(o,{data:rn(ya,this),columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:(c,h,g,p,v,y)=>{c.title=y.instance.getDataAtRowProp(h,y.label.property)},afterListen:()=>{this.runLocalHooks("focus",this)},beforeOnCellMouseUp:()=>{rn(oi,this).listen()},colWidths:()=>rn(oi,this).container.scrollWidth-Di(e),maxCols:1,autoWrapCol:!0,height:110,copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},layoutDirection:this.hot.isRtl()?"rtl":"ltr"})),rn(oi,this).init();const u=rn(oi,this).getShortcutManager().getContext("grid");u.removeShortcutsByKeys(["Tab"]),u.removeShortcutsByKeys(["Shift","Tab"]),u.addShortcut({keys:[["Escape"]],callback:c=>{this.runLocalHooks("keydown",c,this)},group:bk}),u.addShortcut({keys:[["Tab"],["Shift","Tab"]],callback:c=>{rn(oi,this).deselectCell(),this.runLocalHooks("keydown",c,this),this.runLocalHooks("listTabKeydown",c,this)},group:bk})};i(n),this.hot._registerTimeout(()=>i(n),100)}focus(){this.isBuilt()&&rn(oi,this).listen()}reset(){rn(du,this).reset(),rn(cc,this).reset(),rn(dc,this).reset()}update(){this.isBuilt()&&(rn(oi,this).loadData(y_e(rn(ya,this),this.options.value)),super.update())}destroy(){var e;(e=rn(oi,this))===null||e===void 0||e.destroy(),rn(du,this).destroy(),rn(dc,this).destroy(),rn(cc,this).destroy(),ha(du,this,null),ha(dc,this,null),ha(cc,this,null),ha(oi,this,null),ha(ya,this,null),super.destroy()}}function p_e(t){const e=t.target.value.toLocaleLowerCase(this.getLocale());let n;e===""?n=[...rn(ya,this)]:n=rn(ya,this).filter(r=>`${r.value}`.toLocaleLowerCase(this.getLocale()).indexOf(e)>=0),rn(oi,this).loadData(n)}function v_e(t){this.runLocalHooks("keydown",t,this),EB(lw,t.keyCode)("ARROW_DOWN")&&(t.preventDefault(),$a(t),rn(oi,this).listen(),rn(oi,this).selectCell(0,0))}function w_e(t){const e=[];t.preventDefault(),rn(oi,this).getSourceData().forEach((n,r)=>{n.checked=!0,e.push(mj(n,r)[0])}),rn(oi,this).setSourceDataAtCell(e)}function C_e(t){const e=[];t.preventDefault(),rn(oi,this).getSourceData().forEach((n,r)=>{n.checked=!1,e.push(mj(n,r)[0])}),rn(oi,this).setSourceDataAtCell(e)}function y_e(t,e){const n=yw(e);return t.map(r=>(r.checked=n(r.value),r))}function b_e(t){const e=[];return t.forEach(n=>{n.checked&&e.push(n.value)}),e}function S_e(t,e){R_e(t,e),e.add(t)}function R_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function E_e(t,e,n){return(e=__e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function __e(t){var e=M_e(t,"string");return typeof e=="symbol"?e:e+""}function M_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qy(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var xp=new WeakSet;class T_e extends Cw{constructor(e,n){super(e,{id:n.id,stateless:!1}),S_e(this,xp),E_e(this,"name",""),this.name=n.name,this.elements.push(new Fv(this.hot)),this.registerHooks()}registerHooks(){this.getMultipleSelectElement().addLocalHook("keydown",e=>qy(xp,this,x_e).call(this,e)).addLocalHook("listTabKeydown",e=>this.runLocalHooks("listTabKeydown",e)),this.hot.addHook("modifyFiltersMultiSelectValue",(e,n)=>qy(xp,this,I_e).call(this,e,n))}getElements(){const e=this.getMultipleSelectElement();return[e.getSearchInputElement(),e.getSelectAllElement(),e.getClearAllElement(),this.getMultipleSelectElement()]}setState(e){if(this.reset(),e&&e.command.key===mh){const n=this.getMultipleSelectElement();n.setItems(e.itemsSnapshot),n.setValue(e.args[0]),n.setLocale(e.locale)}}getState(){const e=this.getMultipleSelectElement(),n=e.getItems();return{command:{key:e.isSelectedAllValues()||!n.length?Pi:mh},args:[e.getValue()],itemsSnapshot:n}}updateState(e){const n=(r,i,o,s,a)=>{const[u]=jc(i,g=>g.name===mh),c={},h=this.hot.getTranslatedPhrase(TS);if(u){const g=s(r,a),p=_n(g,x=>x.value),v=new Map(g.map(x=>[x.value,this.hot.getCellMeta(x.meta.visualRow,x.meta.visualCol)])),y=xx(p);o&&(u.args[0]=o);const R=[],S=dk(y,u.args[0],h,x=>{x.checked&&R.push(x.value),qy(xp,this,Sk).call(this,x,v)}),T=e.editedConditionStack.column;c.locale=this.hot.getCellMeta(0,T).locale,c.args=[R],c.command=gh(mh),c.itemsSnapshot=S}else c.args=[],c.command=gh(Pi);this.state.setValueAtIndex(r,c)};n(e.editedConditionStack.column,e.editedConditionStack.conditions,e.conditionArgsChange,e.filteredRowsFactory),e.dependentConditionStacks.length&&n(e.dependentConditionStacks[0].column,e.dependentConditionStacks[0].conditions,e.conditionArgsChange,e.filteredRowsFactory,e.editedConditionStack)}getMultipleSelectElement(){return this.elements.filter(e=>e instanceof Fv)[0]}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n,r,i,o,s)=>{Qe(n.parentNode,"htFiltersMenuValue");const a=this.hot.rootDocument.createElement("div");return Qe(a,"htFiltersMenuLabel"),a.textContent=s,n.appendChild(a),n.parentElement.hasAttribute("ghost-table")||ye(this.elements,u=>n.appendChild(u.element)),n}}}reset(){const e=this.hot.getTranslatedPhrase(TS),n=this._getColumnVisibleValues(),r=n.map(u=>u.value),i=new Map(n.map(u=>[u.value,u.meta])),o=xx(r),s=dk(o,o,e,u=>{qy(xp,this,Sk).call(this,u,i)});this.getMultipleSelectElement().setItems(s),super.reset(),this.getMultipleSelectElement().setValue(o);const a=this.hot.getPlugin("filters").getSelectedColumn();a!==null&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,a.visualIndex).locale)}_getColumnVisibleValues(){const e=this.hot.getPlugin("filters").getSelectedColumn();return e===null?[]:_n(this.hot.getDataAtCol(e.visualIndex),(n,r)=>({value:uY(n),meta:this.hot.getCellMeta(r,e.visualIndex)}))}}function x_e(t){lw(t.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),$a(t))}function Sk(t,e){this.hot.hasHook("modifyFiltersMultiSelectValue")&&(t.visualValue=this.hot.runHooks("modifyFiltersMultiSelectValue",t.visualValue,e.get(t.value)))}function I_e(t,e){switch(e.type){case"numeric":return uz(t,e);default:return t}}var vY;function O_e(t,e){P_e(t,e),e.add(t)}function P_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function A_e(t,e,n){return(e=H_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H_e(t){var e=D_e(t,"string");return typeof e=="symbol"?e:e+""}function D_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N_e(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Rk=new WeakSet;class Vv extends Cw{static get BUTTON_OK(){return"ok"}static get BUTTON_CANCEL(){return"cancel"}constructor(e,n){super(e,{id:n.id,stateless:!0}),O_e(this,Rk),A_e(this,"name",""),this.name=n.name,this.elements.push(new Wc(this.hot,{type:"button",value:BP,className:"htUIButton htUIButtonOK",identifier:Vv.BUTTON_OK})),this.elements.push(new Wc(this.hot,{type:"button",value:jP,className:"htUIButton htUIButtonCancel",identifier:Vv.BUTTON_CANCEL})),this.registerHooks()}registerHooks(){ye(this.elements,e=>{e.addLocalHook("click",(n,r)=>N_e(Rk,this,$_e).call(this,n,r))})}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,n)=>(Qe(n.parentNode,"htFiltersMenuActionBar"),ye(this.elements,r=>n.appendChild(r.element)),n)}}accept(){this.runLocalHooks("accept")}cancel(){this.runLocalHooks("cancel")}}vY=Vv;function $_e(t,e){e.options.identifier===vY.BUTTON_OK?this.accept():this.cancel()}function Xy(t,e,n){return(e=L_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L_e(t){var e=k_e(t,"string");return typeof e=="symbol"?e:e+""}function k_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Ek="ConditionCollection.filteringStates";class TA{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Xy(this,"hot",void 0),Xy(this,"isMapRegistrable",void 0),Xy(this,"filteringStates",new X0),Xy(this,"previousConditionStack",null),this.hot=e,this.isMapRegistrable=n,this.isMapRegistrable===!0?this.hot.columnIndexMapper.registerMap(Ek,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}isEmpty(){return this.getFilteredColumns().length===0}isMatch(e,n){var r;const i=this.filteringStates.getValueAtIndex(n),o=(r=i==null?void 0:i.conditions)!==null&&r!==void 0?r:[],s=i==null?void 0:i.operation;return this.isMatchInConditions(o,e,s)}isMatchInConditions(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vc;return e.length?OEe(r)(e,n):!0}addCondition(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vc,i=arguments.length>3?arguments[3]:void 0;const o=this.hot.getCellMeta(0,e).locale,s=_n(n.args,h=>typeof h=="string"?h.toLocaleLowerCase(o):h),a=n.name||n.command.key;this.previousConditionStack===null&&this.setPreviousConditionStack(this.exportAllConditions()),this.runLocalHooks("beforeAdd",e);const u=this.getOperation(e);if(u){if(u!==r)throw Error(tr`The column of index ${e} has been already applied with a \`${u}\`\x20
        filter operation. Use \`removeConditions\` to clear the current conditions and then add new ones.\x20
        Mind that you cannot mix different types of operations (for instance, if you use \`conjunction\`,\x20
        use it consequently for a particular column).`)}else if(Sr($v[r]))throw new Error(tr`Unexpected operation named \`${r}\`. Possible ones are\x20
        \`disjunction\` and \`conjunction\`.`);const c=this.getConditions(e);c.length===0?this.filteringStates.setValueAtIndex(e,{operation:r,conditions:[{name:a,args:s,func:zc(a,s)}]},i):c.push({name:a,args:s,func:zc(a,s)}),this.runLocalHooks("afterAdd",e)}getConditions(e){var n,r;return(n=(r=this.filteringStates.getValueAtIndex(e))===null||r===void 0?void 0:r.conditions)!==null&&n!==void 0?n:[]}getOperation(e){var n;return(n=this.filteringStates.getValueAtIndex(e))===null||n===void 0?void 0:n.operation}getFilteredColumns(){return this.filteringStates.getEntries().map(e=>{let[n]=e;return n})}getColumnStackPosition(e){return this.getFilteredColumns().indexOf(e)}exportAllConditions(){return Eo(this.filteringStates.getEntries(),(e,n)=>{let[r,{operation:i,conditions:o}]=n;return e.push({column:r,operation:i,conditions:_n(o,s=>{let{name:a,args:u}=s;return{name:a,args:u}})}),e},[])}importAllConditions(e){this.clean(),ye(e,n=>{ye(n.conditions,r=>this.addCondition(n.column,r))})}removeConditions(e){this.setPreviousConditionStack(this.exportAllConditions()),this.runLocalHooks("beforeRemove",e),this.filteringStates.clearValue(e),this.runLocalHooks("afterRemove",e)}clean(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}hasConditions(e,n){const r=this.getConditions(e);return n?r.some(i=>i.name===n):r.length>0}setPreviousConditionStack(e){this.previousConditionStack=e}destroy(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(Ek),this.filteringStates=null,this.clearLocalHooks()}}lr(TA,Ui);function _k(t,e,n){return(e=F_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F_e(t){var e=V_e(t,"string");return typeof e=="symbol"?e:e+""}function V_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wY{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>[];_k(this,"conditionCollection",void 0),_k(this,"columnDataFactory",void 0),this.conditionCollection=e,this.columnDataFactory=n}filter(){let e=[];return ye(this.conditionCollection.getFilteredColumns(),(n,r)=>{let i=this.columnDataFactory(n);r&&(i=this._getIntersectData(i,e)),e=this.filterByColumn(n,i)}),e}filterByColumn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=[];return ye(n,i=>{i!==void 0&&this.conditionCollection.isMatch(i,e)&&r.push(i)}),r}_getIntersectData(e,n){const r=[];return ye(n,i=>{const o=i.meta.visualRow;e[o]!==void 0&&(r[o]=e[o])}),r}}function W_e(t,e){B_e(t,e),e.add(t)}function B_e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zd(t,e,n){return(e=j_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j_e(t){var e=z_e(t,"string");return typeof e=="symbol"?e:e+""}function z_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LM(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Zy=new WeakSet;class CY{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:()=>[];W_e(this,Zy),zd(this,"hot",void 0),zd(this,"conditionCollection",void 0),zd(this,"columnDataFactory",void 0),zd(this,"changes",[]),zd(this,"grouping",!1),zd(this,"latestEditedColumnPosition",-1),zd(this,"latestOrderStack",[]),this.hot=e,this.conditionCollection=n,this.columnDataFactory=r,this.conditionCollection.addLocalHook("beforeRemove",i=>LM(Zy,this,Y_e).call(this,i)),this.conditionCollection.addLocalHook("afterRemove",i=>this.updateStatesAtColumn(i)),this.conditionCollection.addLocalHook("afterAdd",i=>this.updateStatesAtColumn(i)),this.conditionCollection.addLocalHook("beforeClean",()=>LM(Zy,this,U_e).call(this)),this.conditionCollection.addLocalHook("afterClean",()=>LM(Zy,this,G_e).call(this))}groupChanges(){this.grouping=!0}flush(){this.grouping=!1,ye(this.changes,e=>{this.updateStatesAtColumn(e)}),this.changes.length=0}updateStatesAtColumn(e,n){var r=this;if(this.grouping){this.changes.indexOf(e)===-1&&this.changes.push(e);return}const i=this.conditionCollection.exportAllConditions();let o=this.conditionCollection.getColumnStackPosition(e);o===-1&&(o=this.latestEditedColumnPosition);const s=i.slice(0,o),a=i.slice(o);a.length&&a[0].column===e&&a.shift();const u=cue(function(h,g){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const v=new TA(r.hot,!1),y=[].concat(h,p);v.importAllConditions(y);const R=r.columnDataFactory(g);let S;v.isEmpty()?S=R:S=new wY(v,x=>r.columnDataFactory(x)).filter(),S=_n(S,x=>x.meta.visualRow);const T=yw(S);return v.destroy(),jc(R,x=>T(x.meta.visualRow))})(s),c=[].concat(this.conditionCollection.getConditions(e));this.runLocalHooks("update",{editedConditionStack:{column:e,conditions:c},dependentConditionStacks:a,filteredRowsFactory:u,conditionArgsChange:n})}destroy(){this.clearLocalHooks(),hn(this,(e,n)=>{this[n]=null})}}function Y_e(t){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(t)}function U_e(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}function G_e(){ye(this.latestOrderStack,t=>{this.updateStatesAtColumn(t)})}lr(CY,Ui);function K_e(t){return Vz({initialPage:0,size:()=>t.length,onItemSelect:(n,r)=>{const i=t[n];if(i instanceof Fv)return r;if(i.element&&!Og(i.element))return!1;i.focus()}})}const Ip="filters";function q_e(t,e){let n=-1;const r=K_e(e),i=u=>()=>{t.isOpened()&&t.getKeyboardShortcutsCtrl().listen(Ip),r.setCurrentPage(e.indexOf(u))};e.forEach(u=>{u instanceof Ta&&(u.addLocalHook("click",i(u)),u.addLocalHook("focus",i(u)),u.addLocalHook("afterClose",i(u)))}),t.addLocalHook("afterSelectionChange",u=>{u.key.startsWith("filter_")||r.clear()});function o(u){const c=t.getKeyboardShortcutsCtrl(),h=u.getKeyboardShortcutsCtrl();r.clear(),h.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],forwardToContext:c.getContext(Ip),callback:()=>{u.isSubMenu()&&u.close(),c.listen(Ip)}}]),!u.isSubMenu()&&c.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:g=>{const p=t.getNavigator();p.getCurrentPage()>-1&&(n=p.getCurrentPage()),p.clear(),g.shiftKey?r.toPreviousItem():r.toNextItem()}},{keys:[["Escape"]],callback:()=>{t.close()}},{keys:[["Enter"],["Space"]],preventDefault:!1,callback:g=>{const p=e[r.getCurrentPage()];p instanceof Lv&&(p.openOptions(),g.preventDefault()),p instanceof kv&&(p.activate(),g.preventDefault()),p instanceof Ta||g.preventDefault()}}],Ip)}t.addLocalHook("afterSubmenuOpen",o),t.addLocalHook("afterOpen",o);function s(){t.focus(),t.getKeyboardShortcutsCtrl().listen(Ip)}function a(){return n}return{...r,listen:s,getLastMenuPage:a}}function X_e(t,e){yY(t,e),e.add(t)}function Z_e(t,e,n){yY(t,e),e.set(t,n)}function yY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Op(t,e,n){return(e=Q_e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q_e(t){var e=J_e(t,"string");return typeof e=="symbol"?e:e+""}function J_e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e1e(t,e,n){return t.set(as(t,e),n),n}function Pp(t,e){return t.get(as(t,e))}function as(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Ox="filters",t1e=250,Mk=Ox;var Yd=new WeakMap,Hs=new WeakSet;class n1e extends qn{static get PLUGIN_KEY(){return Ox}static get PLUGIN_PRIORITY(){return t1e}static get PLUGIN_DEPS(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}constructor(e){super(e),X_e(this,Hs),Op(this,"dropdownMenuPlugin",null),Op(this,"conditionCollection",null),Op(this,"conditionUpdateObserver",null),Op(this,"components",new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]])),Op(this,"filtersRowsMap",null),Z_e(this,Yd,void 0),this.hot.addHook("afterGetColHeader",(n,r)=>as(Hs,this,l1e).call(this,n,r))}isEnabled(){return!!this.hot.getSettings()[Ox]}enablePlugin(){if(this.enabled)return;this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new hw),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");const e=this.hot.getSettings().dropdownMenu,n=e&&e.uiContainer||this.hot.rootDocument.body,r=s=>(s.addLocalHook("accept",()=>as(Hs,this,Tk).call(this,"accept")),s.addLocalHook("cancel",()=>as(Hs,this,Tk).call(this,"cancel")),s.addLocalHook("change",a=>as(Hs,this,a1e).call(this,s,a)),s),i=()=>`${this.hot.getTranslatedPhrase(LP)}:`,o=()=>`${this.hot.getTranslatedPhrase(kP)}:`;if(!this.components.get("filter_by_condition")){const s=new Ix(this.hot,{id:"filter_by_condition",name:i,addSeparator:!1,menuContainer:n});s.addLocalHook("afterClose",()=>as(Hs,this,xk).call(this)),this.components.set("filter_by_condition",r(s))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new c_e(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){const s=new Ix(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:n});s.addLocalHook("afterClose",()=>as(Hs,this,xk).call(this)),this.components.set("filter_by_condition2",r(s))}if(this.components.get("filter_by_value")||this.components.set("filter_by_value",r(new T_e(this.hot,{id:"filter_by_value",name:o}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",r(new Vv(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new TA(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new CY(this.hot,this.conditionCollection,s=>this.getDataMapAtColumn(s)),this.conditionUpdateObserver.addLocalHook("update",s=>as(Hs,this,u1e).call(this,s))),this.components.forEach(s=>s.show()),this.addHook("afterDropdownMenuDefaultOptions",s=>as(Hs,this,s1e).call(this,s)),this.addHook("afterDropdownMenuShow",()=>as(Hs,this,i1e).call(this)),this.addHook("afterDropdownMenuHide",()=>as(Hs,this,o1e).call(this)),this.addHook("afterChange",s=>as(Hs,this,r1e).call(this,s)),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),!Pp(Yd,this)&&this.dropdownMenuPlugin.enabled){const s=this.dropdownMenuPlugin.menu,a=[{focus:()=>{const c=s.getNavigator(),h=Pp(Yd,this).getLastMenuPage();s.focus(),h>0?c.setCurrentPage(h):c.toFirstItem()}},...Array.from(this.components).map(c=>{let[,h]=c;return h.getElements()}).flat()];e1e(Yd,this,q_e(s,a));const u=c=>{Pp(Yd,this).listen(),c.preventDefault(),lw(c.keyCode,"TAB")&&(c.shiftKey?Pp(Yd,this).toPreviousItem():Pp(Yd,this).toNextItem())};this.components.get("filter_by_value").addLocalHook("listTabKeydown",u),this.components.get("filter_by_condition").addLocalHook("selectTabKeydown",u)}this.registerShortcuts(),super.enablePlugin()}disablePlugin(){if(this.enabled){var e;(e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach((n,r)=>{n.destroy(),this.components.set(r,null)}),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName)}this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Alt","A"]],stopPropagation:!0,callback:()=>{const e=this.hot.getSelected();this.clearConditions(),this.filter(),e&&this.hot.selectCells(e)},group:Mk})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Mk)}addCondition(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Vc;const o=this.hot.toPhysicalColumn(e);this.conditionCollection.addCondition(o,{command:{key:n},args:r},i)}removeConditions(e){const n=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(n)}clearConditions(e){if(e===void 0)this.conditionCollection.clean();else{const n=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(n)}}filter(){const{navigableHeaders:e}=this.hot.getSettings(),n=this._createDataFilter(),r=!this.conditionCollection.isEmpty();let i=[];const o=this.conditionCollection.exportAllConditions();if(this.hot.runHooks("beforeFilter",o,this.conditionCollection.previousConditionStack)!==!1)if(r){const a=[];this.hot.batchExecution(()=>{this.filtersRowsMap.clear(),i=_n(n.filter(),c=>c.meta.visualRow);const u=yw(i);Mt(this.hot.countSourceRows()-1,c=>{u(c)||a.push(c)}),ye(a,c=>{this.filtersRowsMap.setValueAtIndex(c,!0)})},!0),!e&&!i.length&&this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",o),this.conditionCollection.setPreviousConditionStack(null),this.hot.view.adjustElementsSize(),this.hot.render(),this.hot.selection.isSelected()&&this.hot.selectCell(e?-1:0,this.hot.getSelectedRangeLast().highlight.col)}getSelectedColumn(){var e;const n=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return n?{visualIndex:n.col,physicalIndex:this.hot.toPhysicalColumn(n.col)}:null}getDataMapAtColumn(e){const n=this.hot.toVisualColumn(e),r=[];return ye(this.hot.getSourceDataAtCol(n),(i,o)=>{var s;const{row:a,col:u,visualCol:c,visualRow:h,type:g,instance:p,dateFormat:v,locale:y}=this.hot.getCellMeta(o,n),R=(s=this.hot.getDataAtCell(this.hot.toVisualRow(o),n))!==null&&s!==void 0?s:i;r.push({meta:{row:a,col:u,visualCol:c,visualRow:h,type:g,instance:p,dateFormat:v,locale:y},value:uY(R)})}),r}updateValueComponentCondition(e){const n=this.hot.getDataAtCol(e),r=xx(n);this.conditionUpdateObserver.updateStatesAtColumn(e,r)}restoreComponents(e){var n;const r=(n=this.getSelectedColumn())===null||n===void 0?void 0:n.physicalIndex;e.forEach(i=>{i.isHidden()||i.restoreState(r)}),this.updateDependentComponentsVisibility()}getOperationBasedOnArguments(e,n,r,i){let o=e;return o===VS&&n.command.key!==Pi&&r.command.key!==Pi&&i.command.key!==Pi?o=_A:i.command.key!==Pi&&(n.command.key===Pi||r.command.key===Pi)&&(o=Vc),o}setListeningDropdownMenu(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}updateDependentComponentsVisibility(){const e=this.components.get("filter_by_condition"),{command:n}=e.getState(),r=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];n.showOperators?this.showComponents(...r):this.hideComponents(...r)}_createDataFilter(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.conditionCollection;return new wY(e,n=>this.getDataMapAtColumn(n))}getIndexesOfComponents(){const e=[];if(!this.dropdownMenuPlugin)return e;const n=this.dropdownMenuPlugin.menu;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ye(i,s=>{ye(n.menuItems,(a,u)=>{a.key===s.getMenuItemDescriptor().key&&e.push(u)})}),e}changeComponentsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(!this.dropdownMenuPlugin)return;const r=this.dropdownMenuPlugin.menu.hotMenu,i=r.getPlugin("hiddenRows");for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];const u=this.getIndexesOfComponents(...s);e?i.showRows(u):i.hideRows(u),r.render()}hideComponents(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.changeComponentsVisibility(!1,...n)}showComponents(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.changeComponentsVisibility(!0,...n)}destroy(){this.enabled&&(this.components.forEach((e,n)=>{e!==null&&(e.destroy(),this.components.set(n,null))}),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),super.destroy()}}function r1e(t){t&&ye(t,e=>{const[,n]=e,r=this.hot.propToCol(n);this.conditionCollection.hasConditions(r)&&this.updateValueComponentCondition(r)})}function i1e(){const t=this.dropdownMenuPlugin.menu;this.restoreComponents(Array.from(this.components.values())),t.updateMenuDimensions()}function o1e(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}function s1e(t){t.items.push({name:cn}),this.components.forEach(e=>{t.items.push(e.getMenuItemDescriptor())})}function Tk(t){var e;if(t==="accept"){const r=this.getSelectedColumn();if(r===null){var n;(n=this.dropdownMenuPlugin)===null||n===void 0||n.close();return}const{physicalIndex:i}=r,o=this.components.get("filter_by_condition").getState(),s=this.components.get("filter_by_condition2").getState(),a=this.components.get("filter_by_value").getState(),u=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),o,s,a);this.conditionUpdateObserver.groupChanges();let c=this.conditionCollection.getColumnStackPosition(i);c===-1&&(c=void 0),this.conditionCollection.removeConditions(i),o.command.key!==Pi&&(this.conditionCollection.addCondition(i,o,u,c),s.command.key!==Pi&&this.conditionCollection.addCondition(i,s,u,c)),a.command.key!==Pi&&this.conditionCollection.addCondition(i,a,u,c),this.conditionUpdateObserver.flush(),this.components.forEach(h=>h.saveState(i)),this.filtersRowsMap.clear(),this.filter()}(e=this.dropdownMenuPlugin)===null||e===void 0||e.close()}function a1e(t,e){this.updateDependentComponentsVisibility(),t.constructor===Ix&&!e.inputsCount&&this.setListeningDropdownMenu()}function xk(){this.setListeningDropdownMenu()}function l1e(t,e){const n=this.hot.toPhysicalColumn(t);this.enabled&&this.conditionCollection.hasConditions(n)?Qe(e,"htFiltersActive"):Zt(e,"htFiltersActive")}function u1e(t){var e;if(!((e=this.dropdownMenuPlugin)!==null&&e!==void 0&&e.enabled))return;const{editedConditionStack:{conditions:n,column:r}}=t,i=n.filter(s=>s.name===mh),o=n.filter(s=>s.name!==mh);if(i.length>=2||o.length>=3)er(tr`The filter conditions have been applied properly, but couldn’t be displayed visually.\x20
        The overall amount of conditions exceed the capability of the dropdown menu.\x20
        For more details see the documentation.`);else{const s=this.conditionCollection.getOperation(r);this.components.get("filter_by_condition").updateState(o[0],r),this.components.get("filter_by_condition2").updateState(o[1],r),this.components.get("filter_operators").updateState(s,r),this.components.get("filter_by_value").updateState(t)}}const bY="internal-use-in-handsontable",Px={licenseKey:bY,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!1,nullDate:{year:1899,month:12,day:30},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function SY(t){var e;return{maxColumns:t.maxColumns,maxRows:t.maxRows,language:(e=t[to])===null||e===void 0||(e=e.language)===null||e===void 0?void 0:e.langCode}}function RY(t){return Object.keys(t).reduce((e,n)=>(n!=="hyperformula"&&(e[n]=t[n]),e),{})}function c1e(t){var e;const n=t[to],r=RY(n!=null&&(e=n.engine)!==null&&e!==void 0&&e.hyperformula?n.engine:{}),i=SY(t);return{...Px,...r,...i}}function d1e(t){var e;const n=t[to],r=RY(n!=null&&(e=n.engine)!==null&&e!==void 0&&e.hyperformula?n.engine:{}),i=SY(t);return{...r,...i}}function h1e(t,e){return Object.keys(e).some(n=>e[n]!==void 0&&e[n]!==t[n])}function pR(){const t="engine_relationship",e=La(to);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function xA(){const t="shared_engine_usage",e=La(to);return e.hasItem(t)||e.register(t,new Map),e.getItem(t)}function f1e(t){const e=t.getSettings(),n=e[to],r=n==null?void 0:n.engine;if(n===!0||Sr(r))return null;if(typeof r.hyperformula=="function"||typeof r=="function"){var i;return g1e((i=r.hyperformula)!==null&&i!==void 0?i:r,e,t)}else if(typeof r=="object"&&Sr(r.hyperformula)){const o=pR(),s=xA().get(r);return o.has(r)||o.set(r,[]),o.get(r).push(t),s&&s.push(t.guid),r.getConfig().licenseKey||r.updateConfig({licenseKey:bY}),(r.getConfig().leapYear1900!==Px.leapYear1900||nO(r.getConfig().nullDate,Px.nullDate)===!1)&&er(tr`If you use HyperFormula with Handsontable, keep the default \`leapYear1900\` and \`nullDate\` 
      settings. Otherwise, HyperFormula's dates may not sync correctly with Handsontable's dates.`),r}return null}function g1e(t,e,n){const r=e[to],i=c1e(e),o=pR(),s=xA();m1e(t,r.functions),p1e(t,r.language);const a=t.buildEmpty(i);return o.set(a,[n]),s.set(a,[n.guid]),v1e(a,r.namedExpressions),a.on("sheetAdded",()=>{a.rebuildAndRecalculate()}),a.on("sheetRemoved",()=>{a.rebuildAndRecalculate()}),a}function Ik(t){var e;const n=pR(),r=n.size===0?[]:Array.from((e=n.get(t))!==null&&e!==void 0?e:[]);return new Map(r.map(i=>[i.getPlugin("formulas").sheetId,i]))}function Ok(t,e){if(t){const n=pR(),r=n.get(t),i=xA(),o=i.get(t);r&&r.includes(e)&&(r.splice(r.indexOf(e),1),r.length===0&&n.delete(t)),o&&o.includes(e.guid)&&(o.splice(o.indexOf(e.guid),1),o.length===0&&(i.delete(t),t.destroy()))}}function m1e(t,e){e&&e.forEach(n=>{const{name:r,plugin:i,translations:o}=n;try{t.registerFunction(r,i,o)}catch(s){er(s.message)}})}function p1e(t,e){if(e){const{langCode:n}=e;try{t.registerLanguage(n,e)}catch(r){er(r.message)}}}function v1e(t,e){e&&(t.suspendEvaluation(),e.forEach(n=>{const{name:r,expression:i,scope:o,options:s}=n;try{t.addNamedExpression(r,i,o,s)}catch(a){er(a.message)}}),t.resumeEvaluation())}function w1e(t,e){return(Sr(e)||!t.doesSheetExist(e))&&(e=t.addSheet(e)),e}const EY="DD/MM/YYYY";function _Y(t){return typeof t=="string"&&t.charAt(0)==="'"&&t.charAt(1)==="="}function C1e(t){return _Y(t)?t.substr(1):t}function y1e(t){return typeof t=="string"&&t.startsWith("=")}function IA(t,e){return typeof t=="string"&&e==="date"}function MY(t,e){return Ze(t,e,!0).isValid()}function TY(t,e){return Ze(t,e,!0).format(EY)}function b1e(t,e){return Ze(t,EY,!0).format(e)}function xY(t,e){const r=new Date(Date.UTC(0,0,t+-1));return Ze(r).format(e)}function S1e(t,e,n){const r=Array.from(Array(n).keys()).filter(o=>t.includes(o)===!1);if(e===0){var i;return(i=r[e])!==null&&i!==void 0?i:0}return r[e-1]+1}function R1e(t,e){const n=[];return t.forEach(r=>{const i={from:r,to:e};n.forEach(o=>{const s=o.from>o.to,a=o.to<=i.from;o.from>i.from&&a&&s&&(i.from+=1)}),i.from>=e&&(e+=1),n.push(i)}),n}function E1e(t){return t.forEach((e,n)=>{t.slice(n+1).forEach(i=>{const o=i.from<i.to;i.from>e.from&&o&&(i.from-=1)})}),t}function OA(t,e,n){const r=R1e(t,S1e(t,e,n));return E1e(r)}function Ud(t,e,n){_1e(t,e),e.set(t,n)}function _1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xr(t,e){return t.get(IY(t,e))}function hc(t,e,n){return t.set(IY(t,e),n),n}function IY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Ap=new WeakMap,fc=new WeakMap,rs=new WeakMap,Qy=new WeakMap,kM=new WeakMap,FM=new WeakMap,Jy=new WeakMap;class Pk{constructor(e,n,r){Ud(this,Ap,void 0),Ud(this,fc,void 0),Ud(this,rs,void 0),Ud(this,Qy,[]),Ud(this,kM,[]),Ud(this,FM,void 0),Ud(this,Jy,[]),hc(Ap,this,e),hc(fc,this,n),hc(rs,this,r)}setRemovedHfIndexes(e){return hc(Jy,this,e.map(n=>{const r=xr(fc,this).getVisualFromPhysicalIndex(n);return this.getHfIndexFromVisualIndex(r)})),xr(Jy,this)}getRemovedHfIndexes(){return xr(Jy,this)}getHfIndexFromVisualIndex(e){const n=xr(fc,this).getIndexesSequence(),r=xr(fc,this).getNotTrimmedIndexes();return n.indexOf(r[e])}syncMoves(e){const r=`move${Oa(xr(Ap,this))}s`;xr(rs,this).getEngine().batch(()=>{e.forEach(i=>{const o=i.from!==i.to,s=i.from+1!==i.to;o&&s&&xr(rs,this).getEngine()[r](xr(rs,this).getSheetId(),i.from,1,i.to)})})}storeMovesInformation(e,n,r){r!==!1&&(hc(kM,this,e.map(i=>this.getHfIndexFromVisualIndex(i))),hc(FM,this,this.getHfIndexFromVisualIndex(n)))}calculateAndSyncMoves(e,n){if(xr(rs,this).isPerformingUndoRedo()||e===!1||n===!1)return;const r=OA(xr(kM,this),xr(FM,this),xr(fc,this).getNumberOfIndexes());xr(rs,this).getSheetId()===null?xr(rs,this).getPostponeAction(()=>this.syncMoves(r)):this.syncMoves(r)}getIndexesChangeSyncMethod(){const e=`set${Oa(xr(Ap,this))}Order`;return n=>{if(xr(rs,this).isPerformingUndoRedo())return;const r=xr(fc,this).getIndexesSequence();if(n==="update"&&r.length>0){const i=xr(Qy,this).map(u=>r.indexOf(u)),o=xr(rs,this).getEngine().getSheetDimensions(xr(rs,this).getSheetId());let s;xr(Ap,this)==="row"?s=o.height:s=o.width;const a=i.length;for(let u=a;u<s;u+=1)i.push(u);xr(rs,this).getEngine()[e](xr(rs,this).getSheetId(),i)}hc(Qy,this,r)}}init(){hc(Qy,this,xr(fc,this).getIndexesSequence())}}function Gd(t,e,n){M1e(t,e),e.set(t,n)}function M1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hu(t,e){return t.get(OY(t,e))}function Kd(t,e,n){return t.set(OY(t,e),n),n}function OY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var eb=new WeakMap,tb=new WeakMap,VM=new WeakMap,WM=new WeakMap,BM=new WeakMap,jM=new WeakMap,zM=new WeakMap;class T1e{constructor(e,n,r){Gd(this,eb,void 0),Gd(this,tb,void 0),Gd(this,VM,void 0),Gd(this,WM,!1),Gd(this,BM,!1),Gd(this,jM,null),Gd(this,zM,null),Kd(eb,this,new Pk("row",e,this)),Kd(tb,this,new Pk("column",n,this)),Kd(VM,this,r)}getForAxis(e){return e==="row"?hu(eb,this):hu(tb,this)}setPerformUndo(e){Kd(WM,this,e)}setPerformRedo(e){Kd(BM,this,e)}isPerformingUndoRedo(){return hu(WM,this)||hu(BM,this)}getSheetId(){return hu(zM,this)}getEngine(){return hu(jM,this)}getPostponeAction(){return hu(VM,this)}setupSyncEndpoint(e,n){Kd(jM,this,e),Kd(zM,this,n),hu(eb,this).init(),hu(tb,this).init()}}function x1e(t,e){PY(t,e),e.add(t)}function Qf(t,e,n){return(e=I1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I1e(t){var e=O1e(t,"string");return typeof e=="symbol"?e:e+""}function O1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YM(t,e,n){PY(t,e),e.set(t,n)}function PY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yc(t,e,n){return t.set(ir(t,e),n),n}function Eg(t,e){return t.get(ir(t,e))}function ir(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const to="formulas",P1e=["maxRows","maxColumns","language"],A1e=260;mt.getSingleton().register("afterNamedExpressionAdded");mt.getSingleton().register("afterNamedExpressionRemoved");mt.getSingleton().register("afterSheetAdded");mt.getSingleton().register("afterSheetRemoved");mt.getSingleton().register("afterSheetRenamed");mt.getSingleton().register("afterFormulasValuesUpdate");const im=t=>t==="UndoRedo.undo"||t==="UndoRedo.redo"||t==="auto";var Nu=new WeakMap,PA=new WeakMap,Hp=new WeakMap,fr=new WeakSet;class H1e extends qn{constructor(){var e;super(...arguments),e=this,x1e(this,fr),YM(this,Nu,!1),YM(this,PA,!1),YM(this,Hp,[["valuesUpdated",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ir(fr,e,q1e).call(e,...r)}],["namedExpressionAdded",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ir(fr,e,X1e).call(e,...r)}],["namedExpressionRemoved",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ir(fr,e,Z1e).call(e,...r)}],["sheetAdded",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ir(fr,e,Q1e).call(e,...r)}],["sheetRenamed",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ir(fr,e,J1e).call(e,...r)}],["sheetRemoved",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return ir(fr,e,eMe).call(e,...r)}]]),Qf(this,"staticRegister",La("formulas")),Qf(this,"engine",null),Qf(this,"sheetName",null),Qf(this,"indexSyncer",null),Qf(this,"rowAxisSyncer",null),Qf(this,"columnAxisSyncer",null)}static get PLUGIN_KEY(){return to}static get PLUGIN_PRIORITY(){return A1e}static get SETTING_KEYS(){return[to,...P1e]}get sheetId(){return this.sheetName===null?null:this.engine.getSheetId(this.sheetName)}isEnabled(){return!!this.hot.getSettings()[to]}enablePlugin(){var e,n=this;if(!this.enabled){if(this.engine=(e=f1e(this.hot))!==null&&e!==void 0?e:this.engine,!this.engine){er("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.");return}if(this.sheetName!==null&&!this.engine.doesSheetExist(this.sheetName)){const r=this.addSheet(this.sheetName,this.hot.getSourceDataArray());r!==!1&&(this.sheetName=r)}this.addHook("beforeLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,Ak).call(n,...i)}),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,Hk).call(n,...i)}),this.addHook("beforeUpdateData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,Ak).call(n,...i)}),this.addHook("afterUpdateData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,Hk).call(n,...i)}),this.addHook("modifyData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,L1e).call(n,...i)}),this.addHook("modifySourceData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,k1e).call(n,...i)}),this.addHook("beforeValidate",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,D1e).call(n,...i)}),this.addHook("afterSetSourceDataAtCell",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,F1e).call(n,...i)}),this.addHook("afterSetDataAtCell",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,Dk).call(n,...i)}),this.addHook("afterSetDataAtRowProp",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,Dk).call(n,...i)}),this.addHook("beforeCreateRow",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,V1e).call(n,...i)}),this.addHook("beforeCreateCol",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,W1e).call(n,...i)}),this.addHook("afterCreateRow",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,z1e).call(n,...i)}),this.addHook("afterCreateCol",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,Y1e).call(n,...i)}),this.addHook("beforeRemoveRow",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,B1e).call(n,...i)}),this.addHook("beforeRemoveCol",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,j1e).call(n,...i)}),this.addHook("afterRemoveRow",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,U1e).call(n,...i)}),this.addHook("afterRemoveCol",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,G1e).call(n,...i)}),this.indexSyncer=new T1e(this.hot.rowIndexMapper,this.hot.columnIndexMapper,r=>{this.hot.addHookOnce("init",()=>{r()})}),this.rowAxisSyncer=this.indexSyncer.getForAxis("row"),this.columnAxisSyncer=this.indexSyncer.getForAxis("column"),this.hot.addHook("afterRowSequenceChange",this.rowAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("afterColumnSequenceChange",this.columnAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("beforeRowMove",(r,i,o,s)=>{this.rowAxisSyncer.storeMovesInformation(r,i,s)}),this.hot.addHook("beforeColumnMove",(r,i,o,s)=>{this.columnAxisSyncer.storeMovesInformation(r,i,s)}),this.hot.addHook("afterRowMove",(r,i,o,s,a)=>{this.rowAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("afterColumnMove",(r,i,o,s,a)=>{this.columnAxisSyncer.calculateAndSyncMoves(s,a)}),this.hot.addHook("beforeColumnFreeze",(r,i)=>{this.columnAxisSyncer.storeMovesInformation([r],this.hot.getSettings().fixedColumnsStart,i)}),this.hot.addHook("afterColumnFreeze",(r,i)=>{this.columnAxisSyncer.calculateAndSyncMoves(i,i)}),this.hot.addHook("beforeColumnUnfreeze",(r,i)=>{this.columnAxisSyncer.storeMovesInformation([r],this.hot.getSettings().fixedColumnsStart-1,i)}),this.hot.addHook("afterColumnUnfreeze",(r,i)=>{this.columnAxisSyncer.calculateAndSyncMoves(i,i)}),this.addHook("afterCellMetaReset",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,$1e).call(n,...i)}),this.addHook("beforeUndo",()=>{this.indexSyncer.setPerformUndo(!0),this.engine.undo()}),this.addHook("beforeRedo",()=>{this.indexSyncer.setPerformRedo(!0),this.engine.redo()}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformUndo(!1)}),this.addHook("afterUndo",()=>{this.indexSyncer.setPerformRedo(!1)}),this.addHook("afterDetachChild",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,K1e).call(n,...i)}),this.addHook("beforeAutofill",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ir(fr,n,N1e).call(n,...i)}),Eg(Hp,this).forEach(r=>{let[i,o]=r;return this.engine.on(i,o)}),super.enablePlugin()}}disablePlugin(){Eg(Hp,this).forEach(e=>{let[n,r]=e;return this.engine.off(n,r)}),Ok(this.engine,this.hot),this.engine=null,super.disablePlugin()}updatePlugin(e){const n=d1e(this.hot.getSettings());h1e(this.engine.getConfig(),n)&&this.engine.updateConfig(n);const r=this.hot.getSettings()[to];if(Ct(r)&&Ct(r.sheetName)&&r.sheetName!==this.sheetName&&this.switchSheet(r.sheetName),!e.data&&this.sheetName===null){const i=this.hot.getSettings()[to].sheetName;i&&this.engine.doesSheetExist(i)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(i??void 0,this.hot.getSourceDataArray())}super.updatePlugin(e)}destroy(){Eg(Hp,this).forEach(e=>{var n;let[r,i]=e;return(n=this.engine)===null||n===void 0?void 0:n.off(r,i)}),Yc(Hp,this,null),Ok(this.engine,this.hot),this.engine=null,super.destroy()}addSheet(e,n){if(Ct(n)&&!Ege(n))return er("The provided data should be an array of arrays."),!1;if(e!=null&&this.engine.doesSheetExist(e))return er("Sheet with the provided name already exists."),!1;try{const r=this.engine.addSheet(e??void 0);return n&&this.engine.setSheetContent(this.engine.getSheetId(r),n),r}catch(r){return er(r.message),!1}}switchSheet(e){if(!this.engine.doesSheetExist(e)){aO(`The sheet named \`${e}\` does not exist, switch aborted.`);return}this.sheetName=e;const n=this.engine.getSheetSerialized(this.sheetId);n.length>0&&this.hot.loadData(n,`${Oa(to)}.switchSheet`)}getCellType(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;const i=this.hot.toPhysicalRow(e),o=this.hot.toPhysicalColumn(n);return i!==null&&o!==null?this.engine.getCellType({sheet:r,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n)}):"EMPTY"}isFormulaCellType(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.sheetId;return this.engine.doesCellHaveFormula({sheet:r,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n)})}renderDependentSheets(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=new Set;e.forEach(i=>{var o;const s=i==null||(o=i.address)===null||o===void 0?void 0:o.sheet;s!==void 0&&(r.has(s)||r.add(s))}),Ik(this.engine).forEach((i,o)=>{if((n||o!==this.sheetId)&&r.has(o)){var s;i.render(),(s=i.view)===null||s===void 0||s.adjustElementsSize()}})}validateDependentCells(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=o=>{var s;const{row:a,col:u,sheet:c}=(s=o==null?void 0:o.address)!==null&&s!==void 0?s:{};return Ct(c)?`${c}:${a}x${u}`:""},i=new Set(n.map(o=>r(o)));e.forEach(o=>{var s,a;const{row:u,col:c}=(s=o.address)!==null&&s!==void 0?s:{};if(Ct(u)===!1||Ct(c)===!1||u>=this.hot.countRows()||c>=this.hot.countCols())return;const h=o==null||(a=o.address)===null||a===void 0?void 0:a.sheet,g=r(o);if(h!==void 0&&!i.has(g)){const p=Ik(this.engine).get(h);if(!p)return;p.validateCell(p.getDataAtCell(u,c),p.getCellMeta(u,c),()=>{})}})}syncChangeWithEngine(e,n,r){const i={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(n),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(i)){er(`Not possible to set cell data at ${JSON.stringify(i)}`);return}const o=this.hot.getCellMeta(e,n);return IA(r,o.type)&&(MY(r,o.dateFormat)?r=TY(r,o.dateFormat):y1e(r)===!1&&(r=`'${r}`)),this.engine.setCellContents(i,r)}}function D1e(t,e,n){const r=this.hot.propToCol(n);if(this.isFormulaCellType(e,r)){const i={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r),sheet:this.sheetId},o=this.hot.getCellMeta(e,r);let s=this.engine.getCellValue(i);return o.type==="date"&&bo(s)&&(s=xY(s,o.dateFormat)),typeof s=="object"&&s!==null?s.value:s}return t}function N1e(t,e,n){const{row:r,col:i}=e.getTopStartCorner(),{row:o,col:s}=e.getBottomEndCorner(),{row:a,col:u}=n.getTopStartCorner(),{row:c,col:h}=n.getBottomEndCorner(),g={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(r),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(i),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(s),sheet:this.sheetId}},p={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(a),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(u),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(c),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(h),sheet:this.sheetId}};if(this.engine.isItPossibleToSetCellContents(p)===!1)return!1;const v=this.engine.getFillRangeData(g,p),{row:y,col:R}=g.start,{row:S,col:T}=g.end,x=S-y+1,O=T-R+1;for(let A=0;A<v.length;A+=1)for(let H=0;H<v[A].length;H+=1){const L=v[A][H],F=y+A%x,j=R+H%O,z=this.hot.getCellMeta(F,j);IA(L,z.type)&&(L.startsWith("'")?v[A][H]=L.slice(1):this.isFormulaCellType(F,j,this.sheetId)===!1&&(v[A][H]=b1e(L,z.dateFormat)))}return v}function Ak(t,e){(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(Oa(to))||Yc(PA,this,Sr(this.hot.getSettings().data))}function $1e(){const t=this.hot.getSourceDataArray();let e=!1;t.forEach((n,r)=>{n.forEach((i,o)=>{const s=this.hot.getCellMeta(r,o),a=s.dateFormat;IA(i,s.type)&&(e=!0,MY(i,a)?t[r][o]=TY(i,a):this.isFormulaCellType(r,o)===!1&&(t[r][o]=`'${i}`))})}),e===!0&&(Yc(Nu,this,!0),this.engine.setSheetContent(this.sheetId,t),Yc(Nu,this,!1))}function Hk(t,e){if(!(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"").includes(Oa(to)))if(this.sheetName=w1e(this.engine,this.hot.getSettings()[to].sheetName),Eg(PA,this))this.switchSheet(this.sheetName);else{const r=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,r)){Yc(Nu,this,!0);const i=this.engine.setSheetContent(this.sheetId,r);this.indexSyncer.setupSyncEndpoint(this.engine,this.sheetId),this.renderDependentSheets(i),Yc(Nu,this,!1)}}}function L1e(t,e,n,r){if(r!=="get"||Eg(Nu,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;const i=this.hot.toVisualRow(t);if(i===null||e===null)return;if(!this.isFormulaCellType(i,e)&&this.getCellType(i,e)!=="ARRAY"){_Y(n.value)&&(n.value=C1e(n.value));return}const s={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(e),sheet:this.sheetId};let a=this.engine.getCellValue(s),u=this.hot.getCellsMeta().find(h=>h.visualRow===i&&h.visualCol===e);u===void 0&&(u={}),u.type==="date"&&bo(a)&&(a=xY(a,u.dateFormat));const c=typeof a=="object"&&a!==null?a.value:a;n.value=c}function k1e(t,e,n,r){if(r!=="get"||Eg(Nu,this)||this.sheetName===null||!this.engine.doesSheetExist(this.sheetName))return;const i=this.hot.toVisualRow(t),o=this.hot.propToCol(e);if(i===null||o===null||!this.isFormulaCellType(i,o)&&this.getCellType(i,o)!=="ARRAY")return;const a=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(a.width===0&&a.height===0)return;const u={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId};n.value=this.engine.getCellSerialized(u)}function Dk(t,e){if(im(e))return;const n=[],r=[],i=this.engine.batch(()=>{t.forEach(o=>{let[s,a,,u]=o;const c=this.hot.propToCol(a),h=this.hot.toPhysicalRow(s),g=this.hot.toPhysicalColumn(c),p={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(s),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(c),sheet:this.sheetId};h!==null&&g!==null?this.syncChangeWithEngine(s,c,u):n.push([s,c,u]),r.push({address:p})})});n.length&&this.hot.addHookOnce("afterChange",()=>{const o=this.engine.batch(()=>{n.forEach(s=>{let[a,u,c]=s;this.syncChangeWithEngine(a,u,c)})});this.renderDependentSheets(o,!0)}),this.renderDependentSheets(i),this.validateDependentCells(i,r)}function F1e(t,e){if(im(e))return;const n=[],r=[];t.forEach(i=>{let[o,s,,a]=i;const u=this.hot.propToCol(s);if(!bo(u))return;const c={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(u),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(c)){er(`Not possible to set source cell data at ${JSON.stringify(c)}`);return}r.push({address:c}),n.push(...this.engine.setCellContents(c,a))}),this.renderDependentSheets(n),this.validateDependentCells(n,r)}function V1e(t,e){let n=this.rowAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countRows()&&(n=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[n,e]))return!1}function W1e(t,e){let n=this.columnAxisSyncer.getHfIndexFromVisualIndex(t);if(t>=this.hot.countCols()&&(n=t),this.sheetId===null||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[n,e]))return!1}function B1e(t,e,n){return this.rowAxisSyncer.setRemovedHfIndexes(n).every(o=>this.engine.isItPossibleToRemoveRows(this.sheetId,[o,1]))===!1?!1:void 0}function j1e(t,e,n){return this.columnAxisSyncer.setRemovedHfIndexes(n).every(o=>this.engine.isItPossibleToRemoveColumns(this.sheetId,[o,1]))===!1?!1:void 0}function z1e(t,e,n){if(im(n))return;const r=this.engine.addRows(this.sheetId,[this.rowAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(r)}function Y1e(t,e,n){if(im(n))return;const r=this.engine.addColumns(this.sheetId,[this.columnAxisSyncer.getHfIndexFromVisualIndex(t),e]);this.renderDependentSheets(r)}function U1e(t,e,n,r){if(im(r))return;const i=this.rowAxisSyncer.getRemovedHfIndexes().sort((s,a)=>a-s),o=this.engine.batch(()=>{i.forEach(s=>{this.engine.removeRows(this.sheetId,[s,1])})});this.renderDependentSheets(o)}function G1e(t,e,n,r){if(im(r))return;const i=this.columnAxisSyncer.getRemovedHfIndexes().sort((s,a)=>a-s),o=this.engine.batch(()=>{i.forEach(s=>{this.engine.removeColumns(this.sheetId,[s,1])})});this.renderDependentSheets(o)}function K1e(t,e,n){var r;Yc(Nu,this,!0);const i=this.hot.getSourceDataArray(n,0,n+(((r=e.__children)===null||r===void 0?void 0:r.length)||0),this.hot.countSourceCols());Yc(Nu,this,!1),i.forEach((o,s)=>{o.forEach((a,u)=>{this.engine.setCellContents({col:u,row:n+s,sheet:this.sheetId},[[a]])})})}function q1e(t){this.hot.runHooks("afterFormulasValuesUpdate",t)}function X1e(t,e){this.hot.runHooks("afterNamedExpressionAdded",t,e)}function Z1e(t,e){this.hot.runHooks("afterNamedExpressionRemoved",t,e)}function Q1e(t){this.hot.runHooks("afterSheetAdded",t)}function J1e(t,e){this.sheetName=e,this.hot.runHooks("afterSheetRenamed",t,e)}function eMe(t,e){this.hot.runHooks("afterSheetRemoved",t,e)}function tMe(t){return{key:"hidden_columns_hide",name(){const e=this.getSelectedLast();let n=0;if(Array.isArray(e)){const[,r,,i]=e;r-i!==0&&(n=1)}return this.getTranslatedPhrase(gP,n)},callback(){const{from:e,to:n}=this.getSelectedRangeLast(),r=Math.max(Math.min(e.col,n.col),0),i=Math.max(e.col,n.col),o=[];for(let u=r;u<=i;u+=1)o.push(u);t.hideColumns(o);const s=o[o.length-1],a=this.columnIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectColumns(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}function nMe(t){const e=[];return{key:"hidden_columns_show",name(){const n=e.length>1?1:0;return this.getTranslatedPhrase(mP,n)},callback(){var n,r;if(e.length===0)return;let i=e[0],o=e[e.length-1];i=(n=this.columnIndexMapper.getNearestNotHiddenIndex(i-1,-1))!==null&&n!==void 0?n:0,o=(r=this.columnIndexMapper.getNearestNotHiddenIndex(o+1,1))!==null&&r!==void 0?r:this.countCols()-1,t.showColumns(e),this.render(),this.view.adjustElementsSize(),o-i+1===this.countCols()||this.selectColumns(i,o)},disabled:!1,hidden(){const n=_n(t.getHiddenColumns(),g=>this.toPhysicalColumn(g));if(!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())||n.length<1)return!0;e.length=0;const r=this.getSelectedRangeLast(),i=r.getTopStartCorner().col,o=r.getBottomEndCorner().col,s=this.columnIndexMapper,a=s.getRenderableFromVisualIndex(i),u=s.getRenderableFromVisualIndex(o),c=s.getNotTrimmedIndexes(),h=[];if(i!==o){const g=o-i+1,p=u-a+1;if(g>p){const v=c.slice(i,o+1);h.push(...v.filter(y=>n.includes(y)))}}else if(a===0&&a<i)h.push(...c.slice(0,i));else if(a===null)h.push(...c.slice(0,this.countCols()));else{const g=this.countCols()-1,p=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(g,-1));u===p&&g>o&&h.push(...c.slice(o+1))}return ye(h,g=>{e.push(this.toVisualColumn(g))}),e.length===0}}}function rMe(t,e){AY(t,e),e.add(t)}function Nk(t,e,n){AY(t,e),e.set(t,n)}function AY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fs(t,e){return t.get(Cc(t,e))}function Dp(t,e,n){return t.set(Cc(t,e),n),n}function Cc(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}mt.getSingleton().register("beforeHideColumns");mt.getSingleton().register("afterHideColumns");mt.getSingleton().register("beforeUnhideColumns");mt.getSingleton().register("afterUnhideColumns");const UM="hiddenColumns",iMe=310;var Il=new WeakMap,ll=new WeakMap,qd=new WeakSet;class oMe extends qn{constructor(){super(...arguments),rMe(this,qd),Nk(this,Il,{}),Nk(this,ll,null)}static get PLUGIN_KEY(){return UM}static get PLUGIN_PRIORITY(){return iMe}isEnabled(){return!!this.hot.getSettings()[UM]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[UM];dn(n)&&(Dp(Il,this,n),Sr(n.copyPasteEnabled)&&(n.copyPasteEnabled=!0)),Dp(ll,this,new q0),fs(ll,this).addLocalHook("init",()=>Cc(qd,this,dMe).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,fs(ll,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Cc(qd,e,cMe).call(e,...i)}),this.addHook("afterGetCellMeta",(r,i,o)=>Cc(qd,this,aMe).call(this,r,i,o)),this.addHook("modifyColWidth",(r,i)=>Cc(qd,this,sMe).call(this,r,i),2),this.addHook("afterGetColHeader",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Cc(qd,e,uMe).call(e,...i)}),this.addHook("modifyCopyableRange",r=>Cc(qd,this,lMe).call(this,r)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),Dp(Il,this,{}),super.disablePlugin(),this.resetCellsMeta()}showColumns(e){const n=this.getHiddenColumns(),r=this.isValidConfig(e);let i=n;const o=fs(ll,this).getValues().slice(),s=e.length>0;if(r&&s){const u=e.map(c=>this.hot.toPhysicalColumn(c));ye(u,c=>{o[c]=!1}),i=Eo(o,(c,h,g)=>(h&&c.push(this.hot.toVisualColumn(g)),c),[])}this.hot.runHooks("beforeUnhideColumns",n,i,r&&s)!==!1&&(r&&s&&fs(ll,this).setValues(o),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",n,i,r&&s,r&&i.length<n.length))}showColumn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.showColumns(n)}hideColumns(e){const n=this.getHiddenColumns(),r=this.isValidConfig(e);let i=n;r&&(i=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeHideColumns",n,i,r)!==!1&&(r&&this.hot.batchExecution(()=>{ye(e,s=>{fs(ll,this).setValueAtIndex(this.hot.toPhysicalColumn(s),!0)})},!0),this.hot.runHooks("afterHideColumns",n,i,r,r&&i.length>n.length))}hideColumn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.hideColumns(n)}getHiddenColumns(){return _n(fs(ll,this).getHiddenIndexes(),e=>this.hot.toVisualColumn(e))}isHidden(e){return fs(ll,this).getValueAtIndex(this.hot.toPhysicalColumn(e))||!1}isValidConfig(e){const n=this.hot.countCols();return Array.isArray(e)&&e.length>0?e.every(r=>Number.isInteger(r)&&r>=0&&r<n):!1}resetCellsMeta(){ye(this.hot.getCellsMeta(),e=>{e&&(e.skipColumnOnPaste=!1)})}destroy(){Dp(Il,this,null),Dp(ll,this,null),super.destroy()}}function sMe(t,e){if(this.isHidden(e))return 0;if(fs(Il,this).indicators&&(this.isHidden(e+1)||this.isHidden(e-1))&&typeof t=="number"&&this.hot.hasColHeaders())return t+15}function aMe(t,e,n){if(fs(Il,this).copyPasteEnabled===!1&&this.isHidden(e)&&(n.skipColumnOnPaste=!0),this.isHidden(e-1))n.className=n.className||"",n.className.indexOf("afterHiddenColumn")===-1&&(n.className+=" afterHiddenColumn");else if(n.className){const r=n.className.split(" ");if(r.length>0){const i=r.indexOf("afterHiddenColumn");i>-1&&r.splice(i,1),n.className=r.join(" ")}}}function lMe(t){if(fs(Il,this).copyPasteEnabled)return t;const e=[],n=(r,i,o,s)=>{e.push({startRow:r,endRow:i,startCol:o,endCol:s})};return ye(t,r=>{let i=!0,o=0;Mt(r.startCol,r.endCol,s=>{this.isHidden(s)?(i||n(r.startRow,r.endRow,o,s-1),i=!0):(i&&(o=s),s===r.endCol&&n(r.startRow,r.endRow,o,s),i=!1)})}),e}function uMe(t,e){if(!fs(Il,this).indicators||t<0)return;const n=[];t>=1&&this.isHidden(t-1)&&n.push("afterHiddenColumn"),t<this.hot.countCols()-1&&this.isHidden(t+1)&&n.push("beforeHiddenColumn"),Qe(e,n)}function cMe(t){t.items.push({name:cn},tMe(this),nMe(this))}function dMe(){Array.isArray(fs(Il,this).columns)&&this.hideColumns(fs(Il,this).columns)}function hMe(t){return{key:"hidden_rows_hide",name(){const e=this.getSelectedLast();let n=0;if(Array.isArray(e)){const[r,,i]=e;r-i!==0&&(n=1)}return this.getTranslatedPhrase(pP,n)},callback(){const{from:e,to:n}=this.getSelectedRangeLast(),r=Math.max(Math.min(e.row,n.row),0),i=Math.max(e.row,n.row),o=[];for(let u=r;u<=i;u+=1)o.push(u);t.hideRows(o);const s=o[o.length-1],a=this.rowIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectRows(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}function fMe(t){const e=[];return{key:"hidden_rows_show",name(){const n=e.length>1?1:0;return this.getTranslatedPhrase(vP,n)},callback(){var n,r;if(e.length===0)return;let i=e[0],o=e[e.length-1];i=(n=this.rowIndexMapper.getNearestNotHiddenIndex(i-1,-1))!==null&&n!==void 0?n:0,o=(r=this.rowIndexMapper.getNearestNotHiddenIndex(o+1,1))!==null&&r!==void 0?r:this.countRows()-1,t.showRows(e),this.render(),this.view.adjustElementsSize(),o-i+1===this.countRows()||this.selectRows(i,o)},disabled:!1,hidden(){const n=_n(t.getHiddenRows(),g=>this.toPhysicalRow(g));if(!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())||n.length<1)return!0;e.length=0;const r=this.getSelectedRangeLast(),i=r.getTopStartCorner().row,o=r.getBottomEndCorner().row,s=this.rowIndexMapper,a=s.getRenderableFromVisualIndex(i),u=s.getRenderableFromVisualIndex(o),c=s.getNotTrimmedIndexes(),h=[];if(i!==o){const g=o-i+1,p=u-a+1;if(g>p){const v=c.slice(i,o+1);h.push(...v.filter(y=>n.includes(y)))}}else if(a===0&&a<i)h.push(...c.slice(0,i));else if(a===null)h.push(...c.slice(0,this.countRows()));else{const g=this.countRows()-1,p=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(g,-1));u===p&&g>o&&h.push(...c.slice(o+1))}return ye(h,g=>{e.push(this.toVisualRow(g))}),e.length===0}}}function gMe(t,e){HY(t,e),e.add(t)}function $k(t,e,n){HY(t,e),e.set(t,n)}function HY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Vs(t,e){return t.get(yc(t,e))}function Np(t,e,n){return t.set(yc(t,e),n),n}function yc(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}mt.getSingleton().register("beforeHideRows");mt.getSingleton().register("afterHideRows");mt.getSingleton().register("beforeUnhideRows");mt.getSingleton().register("afterUnhideRows");const GM="hiddenRows",mMe=320;var Mu=new WeakMap,ul=new WeakMap,Xd=new WeakSet;class pMe extends qn{constructor(){super(...arguments),gMe(this,Xd),$k(this,Mu,{}),$k(this,ul,null)}static get PLUGIN_KEY(){return GM}static get PLUGIN_PRIORITY(){return mMe}isEnabled(){return!!this.hot.getSettings()[GM]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[GM];dn(n)&&(Np(Mu,this,n),Sr(n.copyPasteEnabled)&&(n.copyPasteEnabled=!0)),Np(ul,this,new q0),Vs(ul,this).addLocalHook("init",()=>yc(Xd,this,SMe).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,Vs(ul,this)),this.addHook("afterContextMenuDefaultOptions",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return yc(Xd,e,bMe).call(e,...i)}),this.addHook("afterGetCellMeta",(r,i,o)=>yc(Xd,this,wMe).call(this,r,i,o)),this.addHook("modifyRowHeight",(r,i)=>yc(Xd,this,vMe).call(this,r,i)),this.addHook("afterGetRowHeader",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return yc(Xd,e,yMe).call(e,...i)}),this.addHook("modifyCopyableRange",r=>yc(Xd,this,CMe).call(this,r)),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),Np(Mu,this,{}),super.disablePlugin(),this.resetCellsMeta()}showRows(e){const n=this.getHiddenRows(),r=this.isValidConfig(e);let i=n;const o=Vs(ul,this).getValues().slice(),s=e.length>0;if(r&&s){const u=e.map(c=>this.hot.toPhysicalRow(c));ye(u,c=>{o[c]=!1}),i=Eo(o,(c,h,g)=>(h&&c.push(this.hot.toVisualRow(g)),c),[])}this.hot.runHooks("beforeUnhideRows",n,i,r&&s)!==!1&&(r&&s&&Vs(ul,this).setValues(o),this.hot.runHooks("afterUnhideRows",n,i,r&&s,r&&i.length<n.length))}showRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.showRows(n)}hideRows(e){const n=this.getHiddenRows(),r=this.isValidConfig(e);let i=n;r&&(i=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeHideRows",n,i,r)!==!1&&(r&&this.hot.batchExecution(()=>{ye(e,s=>{Vs(ul,this).setValueAtIndex(this.hot.toPhysicalRow(s),!0)})},!0),this.hot.runHooks("afterHideRows",n,i,r,r&&i.length>n.length))}hideRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.hideRows(n)}getHiddenRows(){return _n(Vs(ul,this).getHiddenIndexes(),e=>this.hot.toVisualRow(e))}isHidden(e){return Vs(ul,this).getValueAtIndex(this.hot.toPhysicalRow(e))||!1}isValidConfig(e){const n=this.hot.countRows();return Array.isArray(e)&&e.length>0?e.every(r=>Number.isInteger(r)&&r>=0&&r<n):!1}resetCellsMeta(){ye(this.hot.getCellsMeta(),e=>{e&&(e.skipRowOnPaste=!1)})}destroy(){Np(Mu,this,null),Np(ul,this,null),super.destroy()}}function vMe(t,e){return this.isHidden(e)?0:t}function wMe(t,e,n){if(Vs(Mu,this).copyPasteEnabled===!1&&this.isHidden(t)&&(n.skipRowOnPaste=!0),this.isHidden(t-1))n.className=n.className||"",n.className.indexOf("afterHiddenRow")===-1&&(n.className+=" afterHiddenRow");else if(n.className){const r=n.className.split(" ");if(r.length>0){const i=r.indexOf("afterHiddenRow");i>-1&&r.splice(i,1),n.className=r.join(" ")}}}function CMe(t){if(Vs(Mu,this).copyPasteEnabled)return t;const e=[],n=(r,i,o,s)=>{e.push({startRow:r,endRow:i,startCol:o,endCol:s})};return ye(t,r=>{let i=!0,o=0;Mt(r.startRow,r.endRow,s=>{this.isHidden(s)?(i||n(o,s-1,r.startCol,r.endCol),i=!0):(i&&(o=s),s===r.endRow&&n(o,s,r.startCol,r.endCol),i=!1)})}),e}function yMe(t,e){if(!Vs(Mu,this).indicators||t<0)return;const n=[];t>=1&&this.isHidden(t-1)&&n.push("afterHiddenRow"),t<this.hot.countRows()-1&&this.isHidden(t+1)&&n.push("beforeHiddenRow"),Qe(e,n)}function bMe(t){t.items.push({name:cn},hMe(this),fMe(this))}function SMe(){Array.isArray(Vs(Mu,this).rows)&&this.hideRows(Vs(Mu,this).rows)}function RMe(t){return{key:"freeze_column",name(){return this.getTranslatedPhrase(ZO)},callback(e,n){const[{start:{col:r}}]=n;t.freezeColumn(r),this.render(),this.view.adjustElementsSize()},hidden(){const e=this.getSelectedRange();let n=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(n=!0),n}}}function EMe(t){return{key:"unfreeze_column",name(){return this.getTranslatedPhrase(QO)},callback(e,n){const[{start:{col:r}}]=n;t.unfreezeColumn(r),this.render(),this.view.adjustElementsSize()},hidden(){const e=this.getSelectedRange();let n=!1;return(e===void 0||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col>=this.getSettings().fixedColumnsStart)&&(n=!0),n}}}function _Me(t,e){DY(t,e),e.add(t)}function MMe(t,e,n){DY(t,e),e.set(t,n)}function DY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ax(t,e){return t.get(BS(t,e))}function KM(t,e,n){return t.set(BS(t,e),n),n}function BS(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}mt.getSingleton().register("beforeColumnFreeze");mt.getSingleton().register("afterColumnFreeze");mt.getSingleton().register("beforeColumnUnfreeze");mt.getSingleton().register("afterColumnUnfreeze");const Lk="manualColumnFreeze",TMe=110;var ah=new WeakMap,qM=new WeakSet;class xMe extends qn{constructor(){super(...arguments),_Me(this,qM),MMe(this,ah,!1)}static get PLUGIN_KEY(){return Lk}static get PLUGIN_PRIORITY(){return TMe}isEnabled(){return!!this.hot.getSettings()[Lk]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",e=>BS(qM,this,IMe).call(this,e)),this.addHook("beforeColumnMove",(e,n)=>BS(qM,this,OMe).call(this,e,n)),super.enablePlugin())}disablePlugin(){KM(ah,this,!1),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}freezeColumn(e){const n=this.hot.getSettings(),r=n.fixedColumnsStart<this.hot.countCols()&&e>n.fixedColumnsStart-1;Ax(ah,this)||KM(ah,this,!0),this.hot.runHooks("beforeColumnFreeze",e,r)!==!1&&(r&&(this.hot.columnIndexMapper.moveIndexes(e,n.fixedColumnsStart),n._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",e,r))}unfreezeColumn(e){const n=this.hot.getSettings(),r=n.fixedColumnsStart>0&&e<=n.fixedColumnsStart-1;Ax(ah,this)||KM(ah,this,!0),this.hot.runHooks("beforeColumnUnfreeze",e,r)!==!1&&(r&&(n._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(e,n.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",e,r))}}function IMe(t){t.items.push({name:"---------"},RMe(this),EMe(this))}function OMe(t,e){if(Ax(ah,this)){const n=this.hot.getSettings().fixedColumnsStart;if(e<n||t.some(r=>r<n))return!1}}function nb(t,e,n){return(e=PMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PMe(t){var e=AMe(t,"string");return typeof e=="symbol"?e:e+""}function AMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const XM=0,kk=1,Fk=2,Jf="px";let NY=class{constructor(e){nb(this,"hot",void 0),nb(this,"_element",null),nb(this,"state",XM),nb(this,"inlineProperty",void 0),this.hot=e,this.inlineProperty=e.isRtl()?"right":"left"}appendTo(e){e.appendChild(this._element),this.state=Fk}build(){this.state===XM&&(this._element=this.hot.rootDocument.createElement("div"),this.state=kk)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=XM}isAppended(){return this.state===Fk}isBuilt(){return this.state>=kk}setPosition(e,n){bo(e)&&(this._element.style.top=e+Jf),bo(n)&&(this._element.style[this.inlineProperty]=n+Jf)}getPosition(){const e=this._element.style;return{top:e.top?parseInt(e.top,10):0,start:e[this.inlineProperty]?parseInt(e[this.inlineProperty],10):0}}setSize(e,n){bo(e)&&(this._element.style.width=e+Jf),bo(n)&&(this._element.style.height=n+Jf)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(e,n){bo(e)&&(this._element.style.marginTop=e+Jf),bo(n)&&(this._element.style[`margin${Oa(this.inlineProperty)}`]=n+Jf)}getOffset(){const e=this._element.style,n=`margin${Oa(this.inlineProperty)}`;return{top:e.marginTop?parseInt(e.marginTop,10):0,start:e[n]?parseInt(e[n],10):0}}};const HMe="ht__manualColumnMove--backlight";let DMe=class extends NY{build(){super.build(),Qe(this._element,HMe)}};const NMe="ht__manualColumnMove--guideline";let $Me=class extends NY{build(){super.build(),Qe(this._element,NMe)}};function LMe(t,e){$Y(t,e),e.add(t)}function fa(t,e,n){$Y(t,e),e.set(t,n)}function $Y(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yo(t,e,n){return t.set(bc(t,e),n),n}function Et(t,e){return t.get(bc(t,e))}function bc(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}mt.getSingleton().register("beforeColumnMove");mt.getSingleton().register("afterColumnMove");const ZM="manualColumnMove",kMe=120,Vk="ht__manualColumnMove",jS="show-ui",Hx="on-moving--columns",Dx="after-selection--columns";var Co=new WeakMap,Ec=new WeakMap,Tu=new WeakMap,zb=new WeakMap,Hc=new WeakMap,wo=new WeakMap,rb=new WeakMap,Ns=new WeakMap,cg=new WeakMap,zS=new WeakMap,av=new WeakMap,Zd=new WeakSet;class FMe extends qn{constructor(){super(...arguments),LMe(this,Zd),fa(this,Co,new DMe(this.hot)),fa(this,Ec,new $Me(this.hot)),fa(this,Tu,[]),fa(this,zb,0),fa(this,Hc,!1),fa(this,wo,{}),fa(this,rb,void 0),fa(this,Ns,void 0),fa(this,cg,void 0),fa(this,zS,void 0),fa(this,av,void 0)}static get PLUGIN_KEY(){return ZM}static get PLUGIN_PRIORITY(){return kMe}isEnabled(){return!!this.hot.getSettings()[ZM]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return bc(Zd,e,VMe).call(e,...r)}),this.addHook("beforeOnCellMouseOver",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return bc(Zd,e,BMe).call(e,...r)}),this.addHook("afterScrollVertically",()=>bc(Zd,this,zMe).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return bc(Zd,e,YMe).call(e,...r)}),this.buildPluginUI(),this.registerEvents(),Qe(this.hot.rootElement,Vk),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){Zt(this.hot.rootElement,Vk),this.unregisterEvents(),Et(Co,this).destroy(),Et(Ec,this).destroy(),super.disablePlugin()}moveColumn(e,n){return this.moveColumns([e],n)}moveColumns(e,n){const r=Et(rb,this),i=this.isMovePossible(e,n),o=this.hot.runHooks("beforeColumnMove",e,n,r,i);if(Yo(rb,this,void 0),o===!1)return;i&&this.hot.columnIndexMapper.moveIndexes(e,n);const s=i&&this.isColumnOrderChanged(e,n);return this.hot.runHooks("afterColumnMove",e,n,r,i,s),s}dragColumn(e,n){return this.dragColumns([e],n)}dragColumns(e,n){const r=this.countFinalIndex(e,n);return Yo(rb,this,n),this.moveColumns(e,r)}isMovePossible(e,n){const r=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),i=e.length+n>r,o=n<0,s=e.some(u=>u<0),a=e.some(u=>u>=r);return!(i||o||s||a)}isColumnOrderChanged(e,n){return e.some((r,i)=>r-i!==n)}countFinalIndex(e,n){const r=Eo(e,(i,o)=>(o<n&&(i+=1),i),0);return n-r}getColumnsWidth(e,n){const r=this.hot.columnIndexMapper;let i=0;for(let o=e;o<=n;o+=1){const s=r.getRenderableFromVisualIndex(o);o<0?i+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:s!==null&&(i+=this.hot.view._wt.wtTable.getStretchedColumnWidth(s)||0)}return i}moveBySettingsOrLoad(){const e=this.hot.getSettings()[ZM];if(Array.isArray(e))this.moveColumns(e,0);else if(e!==void 0){const n=this.persistentStateLoad();n.length&&this.moveColumns(n,0)}}isFixedColumnsStart(e){return e<this.hot.getSettings().fixedColumnsStart}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",e),e.value?e.value:[]}prepareColumnsToMoving(e,n){const r=[];return Mt(e,n,i=>{r.push(i)}),r}refreshPositions(){const e=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(Et(Ns,this))&&e>0&&this.hot.scrollViewportTo({col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(e-1,-1)});const n=this.hot.view._wt.wtTable,r=this.hot.view._wt.wtOverlays.scrollableElement,i=typeof r.scrollX=="number"?r.scrollX:r.scrollLeft;let o=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,Et(Ns,this)-1);const s=n.hider.offsetWidth,a=n.TBODY.offsetLeft,u=Et(Co,this).getOffset().start,c=Et(Co,this).getSize().width;let h=0,g=0;if(this.hot.isRtl()){const y=this.hot.rootWindow,R=Rr(this.hot.rootElement),S=y.innerWidth-Et(cg,this)-R;g=y.innerWidth-Et(wo,this).eventPageX-S-(r.scrollX===void 0?i:0)}else g=Et(wo,this).eventPageX-(Et(cg,this)-(r.scrollX===void 0?i:0));if(Et(zS,this)&&(h=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(Et(Ns,this))&&(o+=i),o+=h,Et(Ns,this)<0)Et(av,this)>0?Et(wo,this).col=0:Et(wo,this).col=e>0?e-1:e;else if(Et(wo,this).TD.offsetWidth/2+o<=g){const y=Et(Ns,this)>=Et(zb,this)?Et(zb,this)-1:Et(Ns,this);Et(wo,this).col=y+1,o+=Et(wo,this).TD.offsetWidth}else Et(wo,this).col=Et(Ns,this);let p=g,v=o;g+c+u>=s?p=s-c-u:g+u<a+h&&(p=a+h+Math.abs(u)),o>=s-1?v=s-1:v===0?v=1:r.scrollX!==void 0&&Et(Ns,this)<Et(av,this)&&(v-=Et(cg,this)<=r.scrollX?Et(cg,this):0),Et(Co,this).setPosition(null,p),Et(Ec,this).setPosition(null,v)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",n=>bc(Zd,this,WMe).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>bc(Zd,this,jMe).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){Et(Co,this).build(),Et(Ec,this).build()}destroy(){Et(Co,this).destroy(),Et(Ec,this).destroy(),super.destroy()}}function VMe(t,e,n,r){const i=this.hot.view._wt.wtTable,o=this.hot.selection.isSelectedByColumnHeader(),s=this.hot.getSelectedRangeLast(),a=Ft(t.target,"sortAction");if(!s||!o||Et(Hc,this)||t.button!==0||a){Yo(Hc,this,!1),Et(Tu,this).length=0,Zt(this.hot.rootElement,[Hx,jS]);return}const u=Et(Ec,this).isBuilt()&&!Et(Ec,this).isAppended(),c=Et(Co,this).isBuilt()&&!Et(Co,this).isAppended();u&&c&&(Et(Ec,this).appendTo(i.hider),Et(Co,this).appendTo(i.hider));const{from:h,to:g}=s,p=Math.min(h.col,g.col),v=Math.max(h.col,g.col);if(e.row<0&&e.col>=p&&e.col<=v){r.column=!0,Yo(Hc,this,!0);const y=n.firstChild?kue(t,n.firstChild).x:t.offsetX;Et(wo,this).eventPageX=t.pageX,Yo(Ns,this,e.col),Et(wo,this).TD=n,Et(wo,this).col=e.col,Yo(Tu,this,this.prepareColumnsToMoving(p,v)),Yo(zS,this,!!this.hot.getSettings().rowHeaders),Yo(zb,this,this.hot.countCols()),Yo(av,this,this.hot.getSettings().fixedColumnsStart),Yo(cg,this,Hi(this.hot.rootElement).left);const R=Et(zS,this)?-1:0,S=i.holder.scrollTop+i.getColumnHeaderHeight(0)+1,T=e.col<Et(av,this),x=this.hot.view._wt.wtOverlays.inlineStartOverlay.getOverlayOffset(),O=Math.abs(y-(this.hot.isRtl()?n.offsetWidth:0)),A=this.getColumnsWidth(p,e.col-1)+O,H=this.getColumnsWidth(R,p-1)+(T?x:0)+A;Et(Co,this).setPosition(S,H),Et(Co,this).setSize(this.getColumnsWidth(p,v),i.hider.offsetHeight-S),Et(Co,this).setOffset(null,-A),Qe(this.hot.rootElement,Hx)}else Zt(this.hot.rootElement,Dx),Yo(Hc,this,!1),Et(Tu,this).length=0}function WMe(t){Et(Hc,this)&&(Et(wo,this).eventPageX=t.pageX,this.refreshPositions())}function BMe(t,e,n,r){!this.hot.getSelectedRangeLast()||!Et(Hc,this)||(Et(Tu,this).indexOf(e.col)>-1?Zt(this.hot.rootElement,jS):Qe(this.hot.rootElement,jS),r.row=!0,r.column=!0,r.cell=!0,Yo(Ns,this,e.col),Et(wo,this).TD=n)}function jMe(){const t=Et(wo,this).col,e=Et(Tu,this).length;if(Yo(Ns,this,void 0),Yo(Hc,this,!1),Zt(this.hot.rootElement,[Hx,jS,Dx]),this.hot.selection.isSelectedByColumnHeader()&&Qe(this.hot.rootElement,Dx),e<1||t===void 0)return;const n=Et(Tu,this)[0],r=this.hot.toPhysicalColumn(n),i=this.dragColumns(Et(Tu,this),t);if(Et(Tu,this).length=0,i===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();const o=this.hot.toVisualColumn(r),s=o+e-1;this.hot.selectColumns(o,s)}}function zMe(){const t=this.hot.view._wt.wtTable,e=t.getColumnHeaderHeight(0)+1,n=t.holder.scrollTop,r=e+n;Et(Co,this).setPosition(r),Et(Co,this).setSize(null,t.hider.offsetHeight-r)}function YMe(){this.moveBySettingsOrLoad()}function UMe(t,e){LY(t,e),e.add(t)}function Qi(t,e,n){LY(t,e),e.set(t,n)}function LY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qr(t,e,n){return t.set(ba(t,e),n),n}function dt(t,e){return t.get(ba(t,e))}function ba(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const YS="manualColumnResize",GMe=130,Wk="manualColumnWidths";var yu=new WeakMap,ib=new WeakMap,cs=new WeakMap,US=new WeakMap,Ml=new WeakMap,KMe=new WeakMap,_g=new WeakMap,ob=new WeakMap,Vo=new WeakMap,pu=new WeakMap,Ih=new WeakMap,GS=new WeakMap,lv=new WeakMap,uv=new WeakMap,hs=new WeakMap,cv=new WeakMap,cl=new WeakSet;class qMe extends qn{static get PLUGIN_KEY(){return YS}static get PLUGIN_PRIORITY(){return GMe}constructor(e){super(e),UMe(this,cl),Qi(this,yu,null),Qi(this,ib,null),Qi(this,cs,[]),Qi(this,US,null),Qi(this,Ml,null),Qi(this,KMe,null),Qi(this,_g,null),Qi(this,ob,null),Qi(this,Vo,this.hot.rootDocument.createElement("DIV")),Qi(this,pu,this.hot.rootDocument.createElement("DIV")),Qi(this,Ih,null),Qi(this,GS,!1),Qi(this,lv,0),Qi(this,uv,null),Qi(this,hs,void 0),Qi(this,cv,void 0),Qe(dt(Vo,this),"manualColumnResizer"),Qe(dt(pu,this),"manualColumnResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[YS]}enablePlugin(){this.enabled||(Qr(hs,this,new Jc),dt(hs,this).addLocalHook("init",()=>ba(cl,this,XMe).call(this)),this.hot.columnIndexMapper.registerMap(this.pluginName,dt(hs,this)),this.addHook("modifyColWidth",(e,n)=>ba(cl,this,nTe).call(this,e,n),1),this.addHook("beforeStretchingColumnWidth",(e,n)=>ba(cl,this,rTe).call(this,e,n)),this.addHook("beforeColumnResize",(e,n,r)=>ba(cl,this,iTe).call(this,e,n,r)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){Qr(cv,this,dt(hs,this).getValues()),this.hot.columnIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualColumnWidths(){this.hot.runHooks("persistentStateSave",Wk,dt(hs,this).getValues())}loadManualColumnWidths(){const e={};return this.hot.runHooks("persistentStateLoad",Wk,e),e.value}setManualSize(e,n){const r=Math.max(n,20),i=this.hot.toPhysicalColumn(e);return dt(hs,this).setValueAtIndex(i,r),r}clearManualSize(e){const n=this.hot.toPhysicalColumn(e);dt(hs,this).setValueAtIndex(n,null)}setupHandlePosition(e){if(!e.parentNode)return;Qr(yu,this,e);const{_wt:n}=this.hot.view,r=n.wtTable.getCoords(dt(yu,this)),i=r.col;if(i<0)return;const o=li(dt(yu,this)),s=dt(yu,this).getBoundingClientRect(),a=i<n.getSetting("fixedColumnsStart");let u;a&&(u=n.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(dt(yu,this),r.row,r.col)),u||(u=n.wtOverlays.topOverlay.getRelativeCellPosition(dt(yu,this),r.row,r.col)),Qr(ib,this,this.hot.columnIndexMapper.getVisualFromRenderableIndex(i)),Qr(cs,this,[]);const c=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();if(this.hot.selection.isSelected()&&c){const h=this.hot.getSelectedRange();ye(h,g=>{const p=g.getTopStartCorner().col,v=g.getBottomEndCorner().col;Mt(p,v,y=>{dt(cs,this).includes(y)||dt(cs,this).push(y)})})}dt(cs,this).includes(dt(ib,this))||Qr(cs,this,[dt(ib,this)]),Qr(ob,this,u.start-6),Qr(_g,this,parseInt(s.width,10)),dt(Vo,this).style.top=`${u.top}px`,dt(Vo,this).style[this.inlineDir]=`${dt(ob,this)+dt(_g,this)}px`,dt(Vo,this).style.height=`${o}px`,this.hot.rootElement.appendChild(dt(Vo,this))}refreshHandlePosition(){dt(Vo,this).style[this.inlineDir]=`${dt(ob,this)+dt(US,this)}px`}setupGuidePosition(){const e=parseInt(li(dt(Vo,this)),10),n=parseInt(dt(Vo,this).style.top,10)+e,r=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);Qe(dt(Vo,this),"active"),Qe(dt(pu,this),"active"),dt(pu,this).style.top=`${n}px`,this.refreshGuidePosition(),dt(pu,this).style.height=`${r-e}px`,this.hot.rootElement.appendChild(dt(pu,this))}refreshGuidePosition(){dt(pu,this).style[this.inlineDir]=dt(Vo,this).style[this.inlineDir]}hideHandleAndGuide(){Zt(dt(Vo,this),"active"),Zt(dt(pu,this),"active")}checkIfColumnHeader(e){const n=Sh(e,["THEAD"],this.hot.rootElement),{topOverlay:r,topInlineStartCornerOverlay:i}=this.hot.view._wt.wtOverlays;return[r.clone.wtTable.THEAD,i.clone.wtTable.THEAD].includes(n)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}afterMouseDownTimeout(){const e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},n=(r,i)=>{const o=this.hot.runHooks("beforeColumnResize",dt(Ml,this),r,!0);o!==void 0&&Qr(Ml,this,o),this.hot.getSettings().stretchH==="all"?this.clearManualSize(r):this.setManualSize(r,dt(Ml,this)),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",dt(Ml,this),r,!0),i&&e()};dt(lv,this)>=2&&(dt(cs,this).length>1?(ye(dt(cs,this),i=>{n(i)}),e()):ye(dt(cs,this),i=>{n(i,!0)})),Qr(lv,this,0),Qr(uv,this,null)}bindEvents(){const{rootWindow:e,rootElement:n}=this.hot;this.eventManager.addEventListener(n,"mouseover",r=>ba(cl,this,ZMe).call(this,r)),this.eventManager.addEventListener(n,"mousedown",r=>ba(cl,this,QMe).call(this,r)),this.eventManager.addEventListener(e,"mousemove",r=>ba(cl,this,JMe).call(this,r)),this.eventManager.addEventListener(e,"mouseup",()=>ba(cl,this,eTe).call(this)),this.eventManager.addEventListener(dt(Vo,this),"contextmenu",()=>ba(cl,this,tTe).call(this))}destroy(){super.destroy()}}function XMe(){const t=this.hot.getSettings()[YS],e=this.loadManualColumnWidths();typeof e<"u"?this.hot.batchExecution(()=>{e.forEach((n,r)=>{dt(hs,this).setValueAtIndex(r,n)})},!0):Array.isArray(t)?(this.hot.batchExecution(()=>{t.forEach((n,r)=>{dt(hs,this).setValueAtIndex(r,n)})},!0),Qr(cv,this,t)):t===!0&&Array.isArray(dt(cv,this))&&this.hot.batchExecution(()=>{dt(cv,this).forEach((n,r)=>{dt(hs,this).setValueAtIndex(r,n)})},!0)}function ZMe(t){if(!bB(t.target)&&dt(GS,this)!==!0&&this.checkIfColumnHeader(t.target)){const e=this.getClosestTHParent(t.target);if(!e)return;const n=e.getAttribute("colspan");e&&(n===null||n==="1")&&(dt(Ih,this)||this.setupHandlePosition(e))}}function QMe(t){t.target.parentNode===this.hot.rootElement&&Ft(t.target,"manualColumnResizer")&&(this.setupHandlePosition(dt(yu,this)),this.setupGuidePosition(),Qr(Ih,this,!0),dt(uv,this)===null&&(Qr(uv,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(dt(uv,this))),Qr(lv,this,dt(lv,this)+1),this.startX=t.pageX,Qr(Ml,this,dt(_g,this)))}function JMe(t){if(dt(Ih,this)){const e=(t.pageX-this.startX)*this.hot.getDirectionFactor();Qr(US,this,dt(_g,this)+e),ye(dt(cs,this),n=>{Qr(Ml,this,this.setManualSize(n,dt(US,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition()}}function eTe(){const t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},e=(n,r)=>{this.hot.runHooks("beforeColumnResize",dt(Ml,this),n,!1),r&&t(),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",dt(Ml,this),n,!1)};dt(Ih,this)&&(this.hideHandleAndGuide(),Qr(Ih,this,!1),dt(Ml,this)!==dt(_g,this)&&(dt(cs,this).length>1?(ye(dt(cs,this),r=>{e(r)}),t()):ye(dt(cs,this),r=>{e(r,!0)})),this.setupHandlePosition(dt(yu,this)))}function tTe(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(dt(Vo,this)),this.hot.rootElement.removeChild(dt(pu,this)),Qr(Ih,this,!1),Qr(GS,this,!0),this.hot._registerImmediate(()=>{Qr(GS,this,!1)})}function nTe(t,e){let n=t;if(this.enabled){const r=this.hot.toPhysicalColumn(e),i=dt(hs,this).getValueAtIndex(r);this.hot.getSettings()[YS]&&i&&(n=i)}return n}function rTe(t,e){let n=dt(hs,this).getValueAtIndex(e);return n===null&&(n=t),n}function iTe(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}function QM(t,e,n){return(e=oTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oTe(t){var e=sTe(t,"string");return typeof e=="symbol"?e:e+""}function sTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const JM=0,Bk=1,jk=2,eg="px";let kY=class{constructor(e){QM(this,"hot",void 0),QM(this,"_element",null),QM(this,"state",JM),this.hot=e}appendTo(e){e.appendChild(this._element),this.state=jk}build(){this.state===JM&&(this._element=this.hot.rootDocument.createElement("div"),this.state=Bk)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=JM}isAppended(){return this.state===jk}isBuilt(){return this.state>=Bk}setPosition(e,n){e!==void 0&&(this._element.style.top=e+eg),n!==void 0&&(this._element.style.left=n+eg)}getPosition(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}setSize(e,n){e&&(this._element.style.width=e+eg),n&&(this._element.style.height=n+eg)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(e,n){e&&(this._element.style.marginTop=e+eg),n&&(this._element.style.marginLeft=n+eg)}getOffset(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}};const aTe="ht__manualRowMove--backlight";class lTe extends kY{build(){super.build(),Qe(this._element,aTe)}}const uTe="ht__manualRowMove--guideline";class cTe extends kY{build(){super.build(),Qe(this._element,uTe)}}function dTe(t,e){FY(t,e),e.add(t)}function tg(t,e,n){FY(t,e),e.set(t,n)}function FY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ph(t,e,n){return t.set(Sc(t,e),n),n}function Qt(t,e){return t.get(Sc(t,e))}function Sc(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}mt.getSingleton().register("beforeRowMove");mt.getSingleton().register("afterRowMove");const eT="manualRowMove",hTe=140,zk="ht__manualRowMove",KS="show-ui",Nx="on-moving--rows",$x="after-selection--rows";var yo=new WeakMap,_c=new WeakMap,xu=new WeakMap,Dc=new WeakMap,Go=new WeakMap,sb=new WeakMap,Qd=new WeakSet;class fTe extends qn{constructor(){super(...arguments),dTe(this,Qd),tg(this,yo,new lTe(this.hot)),tg(this,_c,new cTe(this.hot)),tg(this,xu,[]),tg(this,Dc,void 0),tg(this,Go,{}),tg(this,sb,void 0)}static get PLUGIN_KEY(){return eT}static get PLUGIN_PRIORITY(){return hTe}isEnabled(){return!!this.hot.getSettings()[eT]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Sc(Qd,e,gTe).call(e,...r)}),this.addHook("beforeOnCellMouseOver",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Sc(Qd,e,pTe).call(e,...r)}),this.addHook("afterScrollHorizontally",()=>Sc(Qd,this,wTe).call(this)),this.addHook("afterLoadData",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Sc(Qd,e,CTe).call(e,...r)}),this.buildPluginUI(),this.registerEvents(),Qe(this.hot.rootElement,zk),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){Zt(this.hot.rootElement,zk),this.unregisterEvents(),Qt(yo,this).destroy(),Qt(_c,this).destroy(),super.disablePlugin()}moveRow(e,n){return this.moveRows([e],n)}moveRows(e,n){const r=Qt(sb,this),i=this.isMovePossible(e,n),o=this.hot.runHooks("beforeRowMove",e,n,r,i);if(ph(sb,this,void 0),o===!1)return;i&&this.hot.rowIndexMapper.moveIndexes(e,n);const s=i&&this.isRowOrderChanged(e,n);return this.hot.runHooks("afterRowMove",e,n,r,i,s),s}dragRow(e,n){return this.dragRows([e],n)}dragRows(e,n){const r=this.countFinalIndex(e,n);return ph(sb,this,n),this.moveRows(e,r)}isMovePossible(e,n){const r=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),i=e.length+n>r,o=n<0,s=e.some(u=>u<0),a=e.some(u=>u>=r);return!(i||o||s||a)}isRowOrderChanged(e,n){return e.some((r,i)=>r-i!==n)}countFinalIndex(e,n){const r=Eo(e,(i,o)=>(o<n&&(i+=1),i),0);return n-r}getRowsHeight(e,n){const r=this.hot.rowIndexMapper;let i=0;for(let o=e;o<=n;o++){const s=r.getRenderableFromVisualIndex(o);s!==null&&(i+=this.hot.view._wt.wtTable.getRowHeight(s)||23)}return i}moveBySettingsOrLoad(){const e=this.hot.getSettings()[eT];if(Array.isArray(e))this.moveRows(e,0);else if(e!==void 0){const n=this.persistentStateLoad();n.length&&this.moveRows(n,0)}}isFixedRowTop(e){return e<this.hot.getSettings().fixedRowsTop}isFixedRowBottom(e){return e>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualRowMove",e),e.value?e.value:[]}prepareRowsToMoving(){const e=this.hot.getSelectedRangeLast(),n=[];if(!e)return n;const{from:r,to:i}=e,o=Math.min(r.row,i.row),s=Math.max(r.row,i.row);return Mt(o,s,a=>{n.push(a)}),n}refreshPositions(){const e=Qt(Go,this).coords,n=this.hot.view.getFirstFullyVisibleRow(),r=this.hot.view.getLastFullyVisibleRow(),i=this.hot.countRows();this.isFixedRowTop(e.row)&&n>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(n-1,-1)),this.isFixedRowBottom(e.row)&&r<i&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(r+1,1),void 0,!0);const o=this.hot.view._wt.wtTable,s=Qt(Go,this).TD,a=this.hot.rootElement,u=Hi(a),c=Pg(a),h=o.holder.scrollTop,g=this.hot.rootWindow!==c?c.scrollTop:0,p=u.top-g,v=Qt(Go,this).eventPageY-p+h,y=o.hider.offsetHeight,R=o.TBODY.offsetTop,S=Qt(yo,this).getOffset().top,T=Qt(yo,this).getSize().height,x=s.offsetHeight/2,O=s.offsetHeight;let A=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,e.row-1);const H=v>=A+x;this.isFixedRowTop(e.row)&&(A+=this.hot.view._wt.wtOverlays.topOverlay.getOverlayOffset()),e.row<0?Qt(Go,this).row=n>0?n-1:n:H?(Qt(Go,this).row=e.row+1,A+=e.row===0?O-1:O):Qt(Go,this).row=e.row;let L=v,F=A;v+T+S>=y?L=y-T-S:v+S<R&&(L=R+Math.abs(S)),A>=y-1&&(F=y-1),Qt(yo,this).setPosition(L),Qt(_c,this).setPosition(F)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",n=>Sc(Qd,this,mTe).call(this,n)),this.eventManager.addEventListener(e,"mouseup",()=>Sc(Qd,this,vTe).call(this))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){Qt(yo,this).build(),Qt(_c,this).build()}destroy(){Qt(yo,this).destroy(),Qt(_c,this).destroy(),super.destroy()}}function gTe(t,e,n,r){const{wtTable:i,wtViewport:o}=this.hot.view._wt,s=this.hot.selection.isSelectedByRowHeader(),a=this.hot.getSelectedRangeLast();if(!a||!s||Qt(Dc,this)||t.button!==0){ph(Dc,this,!1),Qt(xu,this).length=0,Zt(this.hot.rootElement,[Nx,KS]);return}const u=Qt(_c,this).isBuilt()&&!Qt(_c,this).isAppended(),c=Qt(yo,this).isBuilt()&&!Qt(yo,this).isAppended();u&&c&&(Qt(_c,this).appendTo(i.hider),Qt(yo,this).appendTo(i.hider));const{from:h,to:g}=a,p=Math.min(h.row,g.row),v=Math.max(h.row,g.row);if(e.col<0&&e.row>=p&&e.row<=v){r.row=!0,ph(Dc,this,!0),Qt(Go,this).eventPageY=t.pageY,Qt(Go,this).coords=e,Qt(Go,this).TD=n,ph(xu,this,this.prepareRowsToMoving());const y=i.holder.scrollLeft+o.getRowHeaderWidth(),R=this.getRowsHeight(p,e.row-1)+t.offsetY;Qt(yo,this).setPosition(null,y),Qt(yo,this).setSize(i.hider.offsetWidth-y,this.getRowsHeight(p,v)),Qt(yo,this).setOffset(-R,null),Qe(this.hot.rootElement,Nx),this.refreshPositions()}else Zt(this.hot.rootElement,$x),ph(Dc,this,!1),Qt(xu,this).length=0}function mTe(t){Qt(Dc,this)&&(Qt(Go,this).eventPageY=t.pageY,this.refreshPositions())}function pTe(t,e,n,r){!this.hot.getSelectedRangeLast()||!Qt(Dc,this)||(Qt(xu,this).indexOf(e.row)>-1?Zt(this.hot.rootElement,KS):Qe(this.hot.rootElement,KS),r.row=!0,r.column=!0,r.cell=!0,Qt(Go,this).coords=e,Qt(Go,this).TD=n)}function vTe(){const t=Qt(Go,this).row,e=Qt(xu,this).length;if(ph(Dc,this,!1),Zt(this.hot.rootElement,[Nx,KS,$x]),this.hot.selection.isSelectedByRowHeader()&&Qe(this.hot.rootElement,$x),e<1||t===void 0)return;const n=Qt(xu,this)[0],r=this.hot.toPhysicalRow(n),i=this.dragRows(Qt(xu,this),t);if(Qt(xu,this).length=0,i===!0){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();const o=this.hot.toVisualRow(r),s=o+e-1;this.hot.selectRows(o,s)}}function wTe(){const t=this.hot.view._wt.wtTable,e=this.hot.view._wt.wtViewport.getRowHeaderWidth(),n=t.holder.scrollLeft,r=e+n;Qt(yo,this).setPosition(null,r),Qt(yo,this).setSize(t.hider.offsetWidth-r)}function CTe(){this.moveBySettingsOrLoad()}function yTe(t,e){VY(t,e),e.add(t)}function Ji(t,e,n){VY(t,e),e.set(t,n)}function VY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Br(t,e,n){return t.set(bu(t,e),n),n}function ut(t,e){return t.get(bu(t,e))}function bu(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const qS="manualRowResize",bTe=30,Yk="manualRowHeights";var Cl=new WeakMap,ab=new WeakMap,ds=new WeakMap,dv=new WeakMap,Mc=new WeakMap,AA=new WeakMap,Mg=new WeakMap,lb=new WeakMap,po=new WeakMap,vl=new WeakMap,Oh=new WeakMap,XS=new WeakMap,hv=new WeakMap,fv=new WeakMap,Sa=new WeakMap,gv=new WeakMap,gc=new WeakSet;class STe extends qn{static get PLUGIN_KEY(){return qS}static get PLUGIN_PRIORITY(){return bTe}constructor(e){super(e),yTe(this,gc),Ji(this,Cl,null),Ji(this,ab,null),Ji(this,ds,[]),Ji(this,dv,null),Ji(this,Mc,null),Ji(this,AA,null),Ji(this,Mg,null),Ji(this,lb,null),Ji(this,po,this.hot.rootDocument.createElement("DIV")),Ji(this,vl,this.hot.rootDocument.createElement("DIV")),Ji(this,Oh,!1),Ji(this,XS,!1),Ji(this,hv,0),Ji(this,fv,null),Ji(this,Sa,void 0),Ji(this,gv,void 0),Qe(ut(po,this),"manualRowResizer"),Qe(ut(vl,this),"manualRowResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[qS]}enablePlugin(){this.enabled||(Br(Sa,this,new Jc),ut(Sa,this).addLocalHook("init",()=>bu(gc,this,ITe).call(this)),this.hot.rowIndexMapper.registerMap(this.pluginName,ut(Sa,this)),this.addHook("modifyRowHeight",(e,n)=>bu(gc,this,xTe).call(this,e,n)),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){Br(gv,this,ut(Sa,this).getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualRowHeights(){this.hot.runHooks("persistentStateSave",Yk,ut(Sa,this).getValues())}loadManualRowHeights(){const e={};return this.hot.runHooks("persistentStateLoad",Yk,e),e.value}setManualSize(e,n){const r=this.hot.toPhysicalRow(e),i=Math.max(n,QB);return ut(Sa,this).setValueAtIndex(r,i),i}getLastDesiredRowHeight(){return ut(dv,this)}setupHandlePosition(e){Br(Cl,this,e);const{view:n}=this.hot,{_wt:r}=n,i=r.wtTable.getCoords(ut(Cl,this)),o=i.row;if(o<0)return;const s=Rr(ut(Cl,this)),a=ut(Cl,this).getBoundingClientRect(),u=o<r.getSetting("fixedRowsTop"),c=o>=n.countNotHiddenRowIndexes(0,1)-r.getSetting("fixedRowsBottom");let h;u?h=r.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(ut(Cl,this),i.row,i.col):c&&(h=r.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(ut(Cl,this),i.row,i.col)),h||(h=r.wtOverlays.inlineStartOverlay.getRelativeCellPosition(ut(Cl,this),i.row,i.col)),Br(ab,this,this.hot.rowIndexMapper.getVisualFromRenderableIndex(o)),Br(ds,this,[]);const g=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();if(this.hot.selection.isSelected()&&g){const p=this.hot.getSelectedRange();ye(p,v=>{const y=v.getTopStartCorner().row,R=v.getBottomStartCorner().row;Mt(y,R,S=>{ut(ds,this).includes(S)||ut(ds,this).push(S)})})}ut(ds,this).includes(ut(ab,this))||Br(ds,this,[ut(ab,this)]),Br(lb,this,h.top-6),Br(Mg,this,parseInt(a.height,10)),ut(po,this).style.top=`${ut(lb,this)+ut(Mg,this)}px`,ut(po,this).style[this.inlineDir]=`${h.start}px`,ut(po,this).style.width=`${s}px`,this.hot.rootElement.appendChild(ut(po,this))}refreshHandlePosition(){ut(po,this).style.top=`${ut(lb,this)+ut(dv,this)}px`}setupGuidePosition(){const e=parseInt(Rr(ut(po,this)),10),n=parseInt(ut(po,this).style[this.inlineDir],10)+e,r=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);Qe(ut(po,this),"active"),Qe(ut(vl,this),"active"),ut(vl,this).style.top=ut(po,this).style.top,ut(vl,this).style[this.inlineDir]=`${n}px`,ut(vl,this).style.width=`${r-e}px`,this.hot.rootElement.appendChild(ut(vl,this))}refreshGuidePosition(){ut(vl,this).style.top=ut(po,this).style.top}hideHandleAndGuide(){Zt(ut(po,this),"active"),Zt(ut(vl,this),"active")}checkIfRowHeader(e){const n=Sh(e,["TBODY"],this.hot.rootElement),{inlineStartOverlay:r,topInlineStartCornerOverlay:i,bottomInlineStartCornerOverlay:o}=this.hot.view._wt.wtOverlays;return[r.clone.wtTable.TBODY,i.clone.wtTable.TBODY,o.clone.wtTable.TBODY].includes(n)}getClosestTHParent(e){return e.tagName!=="TABLE"?e.tagName==="TH"?e:this.getClosestTHParent(e.parentNode):null}getActualRowHeight(e){const n=this.hot.view._wt.wtTable.getRowHeight(e);return n!==void 0&&ut(Mc,this)<n?n:ut(Mc,this)}afterMouseDownTimeout(){const e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},n=(r,i)=>{const o=this.hot.runHooks("beforeRowResize",this.getActualRowHeight(r),r,!0);o!==void 0&&Br(Mc,this,o),this.setManualSize(r,ut(Mc,this)),this.hot.runHooks("afterRowResize",this.getActualRowHeight(r),r,!0),i&&e()};ut(hv,this)>=2&&(ut(ds,this).length>1?(ye(ut(ds,this),i=>{n(i)}),e()):ye(ut(ds,this),i=>{n(i,!0)})),Br(hv,this,0),Br(fv,this,null)}bindEvents(){const{rootElement:e,rootWindow:n}=this.hot;this.eventManager.addEventListener(e,"mouseover",r=>bu(gc,this,RTe).call(this,r)),this.eventManager.addEventListener(e,"mousedown",r=>bu(gc,this,ETe).call(this,r)),this.eventManager.addEventListener(n,"mousemove",r=>bu(gc,this,_Te).call(this,r)),this.eventManager.addEventListener(n,"mouseup",()=>bu(gc,this,MTe).call(this)),this.eventManager.addEventListener(ut(po,this),"contextmenu",()=>bu(gc,this,TTe).call(this))}destroy(){super.destroy()}}function RTe(t){if(!bB(t.target)&&ut(XS,this)!==!0&&this.checkIfRowHeader(t.target)){const e=this.getClosestTHParent(t.target);e&&(ut(Oh,this)||this.setupHandlePosition(e))}}function ETe(t){Ft(t.target,"manualRowResizer")&&(this.setupHandlePosition(ut(Cl,this)),this.setupGuidePosition(),Br(Oh,this,!0),ut(fv,this)===null&&(Br(fv,this,setTimeout(()=>this.afterMouseDownTimeout(),500)),this.hot._registerTimeout(ut(fv,this))),Br(hv,this,ut(hv,this)+1),Br(AA,this,t.pageY),Br(Mc,this,ut(Mg,this)))}function _Te(t){ut(Oh,this)&&(Br(dv,this,ut(Mg,this)+(t.pageY-ut(AA,this))),ye(ut(ds,this),e=>{Br(Mc,this,this.setManualSize(e,ut(dv,this)))}),this.refreshHandlePosition(),this.refreshGuidePosition())}function MTe(){const t=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},e=(n,r)=>{this.hot.runHooks("beforeRowResize",this.getActualRowHeight(n),n,!1),r&&t(),this.saveManualRowHeights(),this.hot.runHooks("afterRowResize",this.getActualRowHeight(n),n,!1)};ut(Oh,this)&&(this.hideHandleAndGuide(),Br(Oh,this,!1),ut(Mc,this)!==ut(Mg,this)&&(ut(ds,this).length>1?(ye(ut(ds,this),r=>{e(r)}),t()):ye(ut(ds,this),r=>{e(r,!0)})),this.setupHandlePosition(ut(Cl,this)))}function TTe(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(ut(po,this)),this.hot.rootElement.removeChild(ut(vl,this)),Br(Oh,this,!1),Br(XS,this,!0),this.hot._registerImmediate(()=>{Br(XS,this,!1)})}function xTe(t,e){let n=t;if(this.enabled){const r=this.hot.toPhysicalRow(e),i=ut(Sa,this).getValueAtIndex(r);this.hot.getSettings()[qS]&&i&&(n=i)}return n}function ITe(){const t=this.hot.getSettings()[qS],e=this.loadManualRowHeights();this.hot.batchExecution(()=>{typeof e<"u"?e.forEach((n,r)=>{ut(Sa,this).setValueAtIndex(r,n)}):Array.isArray(t)?(t.forEach((n,r)=>{ut(Sa,this).setValueAtIndex(r,n)}),Br(gv,this,t)):t===!0&&Array.isArray(ut(gv,this))&&ut(gv,this).forEach((n,r)=>{ut(Sa,this).setValueAtIndex(r,n)})},!0)}function OTe(t,e,n){PTe(t,e),e.set(t,n)}function PTe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Jd(t,e,n){return(e=ATe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ATe(t){var e=HTe(t,"string");return typeof e=="symbol"?e:e+""}function HTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uk(t,e){return t.get(WY(t,e))}function ub(t,e,n){return t.set(WY(t,e),n),n}function WY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var eh=new WeakMap;class yl{constructor(e,n,r,i,o,s){Jd(this,"row",void 0),Jd(this,"col",void 0),Jd(this,"rowspan",void 0),Jd(this,"colspan",void 0),Jd(this,"removed",!1),Jd(this,"cellCoordsFactory",void 0),Jd(this,"cellRangeFactory",void 0),OTe(this,eh,null),this.row=e,this.col=n,this.rowspan=r,this.colspan=i,this.cellCoordsFactory=o,this.cellRangeFactory=s}static NEGATIVE_VALUES_WARNING(e){let{row:n,col:r,rowspan:i,colspan:o}=e;return tr`The merged cell declared with {row: ${n}, col: ${r},\x20
      rowspan: ${i}, colspan: ${o}} contains negative values, which is\x20
      not supported. It will not be added to the collection.`}static IS_OUT_OF_BOUNDS_WARNING(e){let{row:n,col:r}=e;return tr`The merged cell declared at [${n}, ${r}] is positioned\x20
      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup.`}static IS_SINGLE_CELL(e){let{row:n,col:r}=e;return tr`The merged cell declared at [${n}, ${r}] has both "rowspan"\x20
      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.`}static ZERO_SPAN_WARNING(e){let{row:n,col:r}=e;return tr`The merged cell declared at [${n}, ${r}] has "rowspan"\x20
      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.`}static containsNegativeValues(e){let{row:n,col:r,rowspan:i,colspan:o}=e;return n<0||r<0||i<0||o<0}static isSingleCell(e){let{rowspan:n,colspan:r}=e;return r===1&&n===1}static containsZeroSpan(e){let{rowspan:n,colspan:r}=e;return r===0||n===0}static isOutOfBounds(e,n,r){return e.row<0||e.col<0||e.row>=n||e.row+e.rowspan-1>=n||e.col>=r||e.col+e.colspan-1>=r}normalize(e){const n=e.countRows(),r=e.countCols();this.row<0?this.row=0:this.row>n-1&&(this.row=n-1),this.col<0?this.col=0:this.col>r-1&&(this.col=r-1),this.row+this.rowspan>n-1&&(this.rowspan=n-this.row),this.col+this.colspan>r-1&&(this.colspan=r-this.col),ub(eh,this,null)}includes(e,n){return this.row<=e&&this.col<=n&&this.row+this.rowspan-1>=e&&this.col+this.colspan-1>=n}includesHorizontally(e){return this.col<=e&&this.col+this.colspan-1>=e}includesVertically(e){return this.row<=e&&this.row+this.rowspan-1>=e}shift(e,n){const r=e[0]||e[1],i=n+Math.abs(e[0]||e[1])-1,o=e[0]?"colspan":"rowspan",s=e[0]?"col":"row",a=Math.min(n,i),u=Math.max(n,i),c=this[s],h=this[s]+this[o]-1;if(c>=n&&(this[s]+=r),r>0)n<=h&&n>c&&(this[o]+=r);else if(r<0){if(a<=c&&u>=h)return this.removed=!0,ub(eh,this,null),!1;if(c>=a&&c<=u){const g=u-c+1,p=Math.abs(r)-g;this[s]-=p+r,this[o]-=g}else if(c<=a&&h>=u)this[o]+=r;else if(c<=a&&h>=a&&h<u){const g=h-a+1;this[o]-=g}}return ub(eh,this,null),!0}isFarther(e,n){return e?n==="down"?e.row+e.rowspan-1<this.row+this.rowspan-1:n==="up"?e.row>this.row:n==="right"?e.col+e.colspan-1<this.col+this.colspan-1:n==="left"?e.col>this.col:null:!0}getLastRow(){return this.row+this.rowspan-1}getLastColumn(){return this.col+this.colspan-1}getRange(){return Uk(eh,this)||ub(eh,this,this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))),Uk(eh,this)}}function DTe(t,e){NTe(t,e),e.add(t)}function NTe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cb(t,e,n){return(e=$Te(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Te(t){var e=LTe(t,"string");return typeof e=="symbol"?e:e+""}function LTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function th(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var mc=new WeakSet;class ZS{constructor(e){DTe(this,mc),cb(this,"plugin",void 0),cb(this,"mergedCells",[]),cb(this,"mergedCellsMatrix",new Map),cb(this,"hot",void 0),this.plugin=e,this.hot=e.hot}static IS_OVERLAPPING_WARNING(e){let{row:n,col:r}=e;return tr`The merged cell declared at [${n}, ${r}], overlaps\x20
      with the other declared merged cell. The overlapping merged cell was not added to the table, please\x20
      fix your setup.`}get(e,n){var r;return this.mergedCellsMatrix.has(e)&&(r=this.mergedCellsMatrix.get(e).get(n))!==null&&r!==void 0?r:!1}getByRange(e){let n=!1;return ye(this.mergedCells,r=>r.row<=e.from.row&&r.row+r.rowspan-1>=e.to.row&&r.col<=e.from.col&&r.col+r.colspan-1>=e.to.col?(n=r,n):!0),n}filterOverlappingMergeCells(e){const n=new Set;return this.mergedCells.forEach(i=>{const{row:o,col:s,colspan:a,rowspan:u}=i;for(let c=o;c<o+u;c++)for(let h=s;h<s+a;h++)n.add(`r${c},c${h}`)}),e.filter(i=>{const{row:o,col:s,colspan:a,rowspan:u}=i,c=new Set;let h=!1;for(let g=o;g<o+u;g++){for(let p=s;p<s+a;p++){const v=`r${g},c${p}`;if(n.has(v)){er(ZS.IS_OVERLAPPING_WARNING(i)),h=!0;break}c.add(v)}if(h)break}return h||n.add(...c),!h})}getWithinRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{row:r,col:i}=e.getTopStartCorner(),{row:o,col:s}=e.getBottomEndCorner(),a=[];for(let u=r;u<=o;u++)for(let c=i;c<=s;c++){const h=this.get(u,c);h&&(n||!n&&h.row===u&&h.col===c)&&a.push(h)}return a}add(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=e.row,i=e.col,o=e.rowspan,s=e.colspan,a=new yl(r,i,o,s,this.hot._createCellCoords,this.hot._createCellRange),u=this.get(r,i),c=n?!1:this.isOverlapping(a);return!u&&!c?(this.hot&&a.normalize(this.hot),this.mergedCells.push(a),th(mc,this,Gk).call(this,a),a):(er(ZS.IS_OVERLAPPING_WARNING(a)),!1)}remove(e,n){const r=this.get(e,n),i=r?this.mergedCells.indexOf(r):-1;return r&&i!==-1?(this.mergedCells.splice(i,1),th(mc,this,kTe).call(this,r),r):!1}clear(){ye(this.mergedCells,e=>{let{row:n,col:r,rowspan:i,colspan:o}=e;Mt(n,n+i,s=>{Mt(r,r+o,a=>{const u=this.hot.getCell(s,a);u&&(u.removeAttribute("rowspan"),u.removeAttribute("colspan"),u.style.display="")})})}),this.mergedCells.length=0,this.mergedCellsMatrix=new Map}isOverlapping(e){const n=e.getRange();for(let r=0;r<this.mergedCells.length;r++)if(this.mergedCells[r].getRange().overlaps(n))return!0;return!1}isFirstRenderableMergedCell(e,n){const r=this.get(e,n);return r&&this.hot.rowIndexMapper.getNearestNotHiddenIndex(r.row,1)===e&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(r.col,1)===n}getFirstRenderableCoords(e,n){const r=this.get(e,n);if(!r||this.isFirstRenderableMergedCell(e,n))return this.hot._createCellCoords(e,n);const i=this.hot.rowIndexMapper.getNearestNotHiddenIndex(r.row,1),o=this.hot.columnIndexMapper.getNearestNotHiddenIndex(r.col,1);return this.hot._createCellCoords(i,o)}getStartMostColumnIndex(e,n){const r=th(mc,this,db).call(this,e,"col",-1);let i=n;for(let o=0;o<r.length;o++)if(r[o]<=n){i=r[o];break}return i}getEndMostColumnIndex(e,n){const r=th(mc,this,db).call(this,e,"col",1);let i=n;for(let o=0;o<r.length;o++)if(r[o]>=n){i=r[o];break}return i}getTopMostRowIndex(e,n){const r=th(mc,this,db).call(this,e,"row",-1);let i=n;for(let o=0;o<r.length;o++)if(r[o]<=n){i=r[o];break}return i}getBottomMostRowIndex(e,n){const r=th(mc,this,db).call(this,e,"row",1);let i=n;for(let o=0;o<r.length;o++)if(r[o]>=n){i=r[o];break}return i}shiftCollections(e,n,r){const i=[0,0];switch(e){case"right":i[0]+=r;break;case"left":i[0]-=r;break;case"down":i[1]+=r;break;case"up":i[1]-=r;break}const o=[];this.mergedCells.forEach(s=>{s.shift(i,n),s.removed&&o.push(s)}),o.forEach(s=>{this.mergedCells.splice(this.mergedCells.indexOf(s),1)}),this.mergedCellsMatrix.clear(),this.mergedCells.forEach(s=>{th(mc,this,Gk).call(this,s)})}}function db(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const r=new Map,i=n===1?t.getTopStartCorner():t.getBottomEndCorner(),o=n===1?t.getBottomEndCorner():t.getTopStartCorner();for(let s=i.row;n===1?s<=o.row:s>=o.row;s+=n)for(let a=i.col;n===1?a<=o.col:a>=o.col;a+=n){const u=e==="row"?s:a,c=this.get(s,a);let h=u;c&&(h=n===1?c[e]+c[`${e}span`]-1:c[e]),r.has(u)||r.set(u,new Set),r.get(u).add(h)}return Array.from(new Set(Array.from(r.entries()).filter(s=>{let[,a]=s;return a.size===1}).flatMap(s=>{let[,a]=s;return Array.from(a)})))}function Gk(t){for(let e=t.row;e<t.row+t.rowspan;e++)for(let n=t.col;n<t.col+t.colspan;n++)this.mergedCellsMatrix.has(e)||this.mergedCellsMatrix.set(e,new Map),this.mergedCellsMatrix.get(e).set(n,t)}function kTe(t){for(let e=t.row;e<t.row+t.rowspan;e++)for(let n=t.col;n<t.col+t.colspan;n++)this.mergedCellsMatrix.get(e).delete(n)}function tT(t,e,n){return(e=FTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FTe(t){var e=VTe(t,"string");return typeof e=="symbol"?e:e+""}function VTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class WTe{constructor(e){tT(this,"plugin",void 0),tT(this,"mergedCellsCollection",void 0),tT(this,"currentFillData",null),this.plugin=e,this.mergedCellsCollection=this.plugin.mergedCellsCollection}correctSelectionAreaSize(e){if(e[0]===e[2]&&e[1]===e[3]){const n=this.mergedCellsCollection.get(e[0],e[1]);n&&(e[2]=e[0]+n.rowspan-1,e[3]=e[1]+n.colspan-1)}}getDirection(e,n){let r=null;return n[0]===e[0]&&n[1]===e[1]&&n[3]===e[3]?r="down":n[2]===e[2]&&n[1]===e[1]&&n[3]===e[3]?r="up":n[1]===e[1]&&n[2]===e[2]?r="right":r="left",r}snapDragArea(e,n,r,i){const o=n.slice(0),s=this.getAutofillSize(e,n,r),[a,u,c,h]=e,p=["up","down"].indexOf(r)>-1?c-a+1:h-u+1,v=Math.floor(s/p)*p,y=s-v,R=this.getFarthestCollection(e,n,r,i);if(R){if(r==="down"){const S=R.row+R.rowspan-a-y;o[2]+S>=this.plugin.hot.countRows()?o[2]-=y:o[2]+=y?S:0}else if(r==="right"){const S=R.col+R.colspan-u-y;o[3]+S>=this.plugin.hot.countCols()?o[3]-=y:o[3]+=y?S:0}else if(r==="up"){const S=c-y-R.row+1;o[0]+S<0?o[0]+=y:o[0]-=y?S:0}else if(r==="left"){const S=h-y-R.col+1;o[1]+S<0?o[1]+=y:o[1]-=y?S:0}}return this.updateCurrentFillCache({baseArea:e,dragDirection:r,foundMergedCells:i,fillSize:s,dragArea:o,cycleLength:p}),o}updateCurrentFillCache(e){this.currentFillData||(this.currentFillData={}),fi(this.currentFillData,e)}getAutofillSize(e,n,r){const[i,o,s,a]=e,[u,c,h,g]=n;switch(r){case"up":return i-u;case"down":return h-s;case"left":return o-c;case"right":return g-a;default:return null}}getDragArea(e,n,r){const[i,o,s,a]=e,[u,c,h,g]=n;switch(r){case"up":return[u,c,i-1,a];case"down":return[s+1,o,h,a];case"left":return[u,c,s,o-1];case"right":return[i,a+1,h,g];default:return null}}getFarthestCollection(e,n,r,i){const[o,s,a,u]=e,c=["up","down"].indexOf(r)>-1,h=c?a:u,g=c?o:s,p=this.getAutofillSize(e,n,r),v=c?a-o+1:u-s+1,y=Math.floor(p/v)*v,R=p-y;let S=null,T=null,x=null;switch(r){case"up":S="includesVertically",x=h-R+1;break;case"left":S="includesHorizontally",x=h-R+1;break;case"down":S="includesVertically",x=g+R-1;break;case"right":S="includesHorizontally",x=g+R-1;break}return ye(i,O=>{O[S](x)&&O.isFarther(T,r)&&(T=O)}),T}recreateAfterDataPopulation(e){if(!this.currentFillData)return;const n=this.getRangeFromChanges(e),r=this.currentFillData.foundMergedCells,i=this.currentFillData.dragDirection,o=(c,h)=>{switch(i){case"up":return c.row-h>=n.from.row;case"down":return c.row+c.rowspan-1+h<=n.to.row;case"left":return c.col-h>=n.from.column;case"right":return c.col+c.colspan-1+h<=n.to.column;default:return null}};let s=0,a=null,u=1;do for(let c=0;c<r.length;c+=1){if(a=r[c],s=u*this.currentFillData.cycleLength,o(a,s))switch(i){case"up":this.plugin.mergedCellsCollection.add({row:a.row-s,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:a.row+s,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col-s,colspan:a.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col+s,colspan:a.colspan});break}c===r.length-1&&(u+=1)}while(o(a,s));this.currentFillData=null,this.plugin.hot.render(),r.length>0&&this.plugin.ifChromeForceRepaint()}getRangeFromChanges(e){const n={min:null,max:null},r={min:null,max:null};return ye(e,i=>{const o=i[0],s=this.plugin.hot.propToCol(i[1]);(n.min===null||o<n.min)&&(n.min=o),(n.max===null||o>n.max)&&(n.max=o),(r.min===null||s<r.min)&&(r.min=s),(r.max===null||s>r.max)&&(r.max=s)}),{from:{row:n.min,column:r.min},to:{row:n.max,column:r.max}}}dragAreaOverlapsCollections(e,n,r){const i=this.getDragArea(e,n,r),[o,s,a,u]=i,c=this.plugin.hot._createCellCoords(o,s),h=this.plugin.hot._createCellCoords(a,u),g=this.plugin.hot._createCellRange(c,c,h);return this.mergedCellsCollection.getWithinRange(g,!0).length>0}}function nT(t,e,n){return(e=BTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BTe(t){var e=jTe(t,"string");return typeof e=="symbol"?e:e+""}function jTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class zTe{constructor(e){nT(this,"plugin",void 0),nT(this,"hot",void 0),nT(this,"fullySelectedMergedCellClassName","fullySelectedMergedCell"),this.plugin=e,this.hot=e.hot}getSelectedMergedCellClassName(e,n,r,i){const o=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]);if(i===void 0||!this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(e,n))return;const h=this.plugin.mergedCellsCollection.get(e,n);if(!h)return;const g=h.getLastRow(),p=h.getLastColumn();if(o<=h.row&&s<=h.col&&a>=g&&u>=p)return`${this.fullySelectedMergedCellClassName}-${i}`;if(this.isMergeCellFullySelected(h,this.plugin.hot.getSelectedRange()))return`${this.fullySelectedMergedCellClassName}-multiple`}isMergeCellFullySelected(e,n){const r=[];if(!n||!e)return!1;for(let i=0;i<e.rowspan;i+=1)for(let o=0;o<e.colspan;o+=1)r.push(this.hot._createCellCoords(e.row+i,e.col+o));for(let i=0;i<r.length;i+=1){const o=[];for(let s=0;s<n.length;s+=1)o[s]=n[s].includes(r[i]);if(!o.includes(!0))return!1}return!0}getSelectedMergedCellClassNameToRemove(){const e=[];for(let n=0;n<=7;n+=1)e.push(`${this.fullySelectedMergedCellClassName}-${n}`);return e.push(`${this.fullySelectedMergedCellClassName}-multiple`),e}}function YTe(t){return{key:"mergeCells",name(){const e=this.getSelectedLast();if(e){const n=t.mergedCellsCollection.get(e[0],e[1]);if(n.row===e[0]&&n.col===e[1]&&n.row+n.rowspan-1===e[2]&&n.col+n.colspan-1===e[3])return this.getTranslatedPhrase(eP)}return this.getTranslatedPhrase(JO)},callback(){const e=this.getSelectedRangeLast();if(!e)return;e.setDirection(this.isRtl()?"NE-SW":"NW-SE");const{from:n,to:r}=e;t.toggleMerge(e),this.selectCell(n.row,n.col,r.row,r.col,!1)},disabled(){const e=this.getSelectedLast();return e?yl.isSingleCell({row:e[0],col:e[1],rowspan:e[2]-e[0]+1,colspan:e[3]-e[1]+1})||this.selection.isSelectedByCorner():!0},hidden:!1}}function mv(t,e,n){return(e=UTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UTe(t){var e=GTe(t,"string");return typeof e=="symbol"?e:e+""}function GTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Kk{constructor(e){mv(this,"data",void 0),mv(this,"next",null),mv(this,"prev",null),this.data=e}}class hb{constructor(){mv(this,"first",null),mv(this,"last",null)}push(e){const n=new Kk(e);if(this.first===null)this.first=n,this.last=n;else{const r=this.last;this.last=n,n.prev=r,r.next=n}return n}unshift(e){const n=new Kk(e);if(this.first===null)this.first=n,this.last=n;else{const r=this.first;this.first=n,n.next=r,r.prev=n}}inorder(e){let n=this.first;for(;n;){const r=e(n);if(n===this.last||r===!0)break;n=n.next}}remove(e){if(this.first===null)return!1;let n=this.first,r,i;for(;n;){if(n.data===e)return r=n.next,i=n.prev,r&&(r.prev=i),i&&(i.next=r),n===this.first&&(this.first=r),n===this.last&&(this.last=i),!0;n=n.next}return!1}hasCycle(){let e=this.first,n=this.first;for(;;){if(e===null||(e=e.next,e===null))return!1;if(e=e.next,n=n.next,e===n)return!0}}pop(){if(this.last===null)return null;const e=this.last;return this.last=this.last.prev,e}shift(){if(this.first===null)return null;const e=this.first;return this.first=this.first.next,e}recursiveReverse(){function e(r,i){i&&(e(i,i.next),i.next=r)}if(!this.first)return;e(this.first,this.first.next),this.first.next=null;const n=this.first;this.first=this.last,this.last=n}reverse(){if(!this.first||!this.first.next)return;let e=this.first.next,n=this.first,r;for(;e;)r=e.next,e.next=n,n.prev=e,n=e,e=r;this.first.next=null,this.last.prev=null,r=this.first,this.first=n,this.last=r}}function KTe(t,e){BY(t,e),e.add(t)}function nh(t,e,n){BY(t,e),e.set(t,n)}function BY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Kn(t,e){return t.get(QS(t,e))}function is(t,e,n){return t.set(QS(t,e),n),n}function QS(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var dl=new WeakMap,hl=new WeakMap,fl=new WeakMap,gl=new WeakMap,Lx=new WeakMap,fb=new WeakMap,gb=new WeakMap,rT=new WeakSet;class qTe{constructor(e){let{mergedCellsGetter:n,rowIndexMapper:r,columnIndexMapper:i}=e;KTe(this,rT),nh(this,dl,new hb),nh(this,hl,new hb),nh(this,fl,null),nh(this,gl,null),nh(this,Lx,null),nh(this,fb,null),nh(this,gb,null),is(Lx,this,n),is(fb,this,r),is(gb,this,i)}getCurrentVerticalNode(){return Kn(gl,this).data}getFirstVerticalNode(){return Kn(hl,this).first.data}getNextVerticalNode(){return Kn(gl,this).next.data}getPrevVerticalNode(){return Kn(gl,this).prev.data}getCurrentHorizontalNode(){return Kn(fl,this).data}getFirstHorizontalNode(){return Kn(dl,this).first.data}getNextHorizontalNode(){return Kn(fl,this).next.data}getPrevHorizontalNode(){return Kn(fl,this).prev.data}setPrevNodeAsActive(){is(gl,this,Kn(gl,this).prev),is(fl,this,Kn(fl,this).prev)}setNextNodeAsActive(){is(gl,this,Kn(gl,this).next),is(fl,this,Kn(fl,this).next)}buildFocusOrder(e){const n=e.getTopStartCorner(),r=e.getBottomEndCorner(),i=new WeakSet;is(dl,this,new hb);for(let s=n.row;s<=r.row;s++)if(!Kn(fb,this).isHidden(s))for(let a=n.col;a<=r.col;a++){if(Kn(gb,this).isHidden(a))continue;const u=QS(rT,this,qk).call(this,e,Kn(dl,this),i,s,a);u&&is(fl,this,u)}Kn(dl,this).first&&(Kn(dl,this).first.prev=Kn(dl,this).last,Kn(dl,this).last.next=Kn(dl,this).first);const o=new WeakSet;is(hl,this,new hb);for(let s=n.col;s<=r.col;s++)if(!Kn(gb,this).isHidden(s))for(let a=n.row;a<=r.row;a++){if(Kn(fb,this).isHidden(a))continue;const u=QS(rT,this,qk).call(this,e,Kn(hl,this),o,a,s);u&&is(gl,this,u)}Kn(hl,this).first&&(Kn(hl,this).first.prev=Kn(hl,this).last,Kn(hl,this).last.next=Kn(hl,this).first)}setActiveNode(e,n){return Kn(dl,this).inorder(r=>{const{rowStart:i,rowEnd:o,colStart:s,colEnd:a}=r.data;if(e>=i&&e<=o&&n>=s&&n<=a)return is(fl,this,r),!1}),Kn(hl,this).inorder(r=>{const{rowStart:i,rowEnd:o,colStart:s,colEnd:a}=r.data;if(e>=i&&e<=o&&n>=s&&n<=a)return is(gl,this,r),!1}),this}}function qk(t,e,n,r,i){const o=t.getTopStartCorner(),s=t.getBottomEndCorner(),a=t.highlight.clone().normalize(),u=Kn(Lx,this).call(this,r,i);if(u&&n.has(u))return null;const c={colStart:i,colEnd:i,rowStart:r,rowEnd:r};if(u){if(n.add(u),u.row<o.row||u.row+u.rowspan-1>s.row||u.col<o.col||u.col+u.colspan-1>s.col)return null;c.colStart=u.col,c.colEnd=u.col+u.colspan-1,c.rowStart=u.row,c.rowEnd=u.row+u.rowspan-1}const h=e.push(c);return r===a.row&&i===a.col||u&&a.row>=u.row&&a.row<=u.row+u.rowspan-1&&a.col>=u.col&&a.col<=u.col+u.colspan-1?h:null}function XTe(t){const{hot:e}=t,{rowIndexMapper:n,columnIndexMapper:r}=e;function i(){}function o(s,a,u){const c=t.mergedCellsCollection.get(a,u);if(!dn(c)){s.removeAttribute("rowspan"),s.removeAttribute("colspan"),s.style.display="";return}const{row:h,col:g,colspan:p,rowspan:v}=c,[y,R]=t.translateMergedCellToRenderable(h,v,g,p),S=n.getRenderableFromVisualIndex(a),T=r.getRenderableFromVisualIndex(u),x=y-S+1,O=R-T+1,A=n.getNearestNotHiddenIndex(h,1),H=r.getNearestNotHiddenIndex(g,1),L=Math.min(v,x),F=Math.min(p,O);A===a&&H===u?(s.setAttribute("rowspan",L),s.setAttribute("colspan",F)):(s.removeAttribute("rowspan"),s.removeAttribute("colspan"),s.style.display="none")}return{before:i,after:o}}function ZTe(t,e){jY(t,e),e.add(t)}function mb(t,e,n){jY(t,e),e.set(t,n)}function jY(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function iT(t,e,n){return(e=QTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QTe(t){var e=JTe(t,"string");return typeof e=="symbol"?e:e+""}function JTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wv(t,e,n){return t.set(Jn(t,e),n),n}function Cr(t,e){return t.get(Jn(t,e))}function Jn(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}mt.getSingleton().register("beforeMergeCells");mt.getSingleton().register("afterMergeCells");mt.getSingleton().register("beforeUnmergeCells");mt.getSingleton().register("afterUnmergeCells");const pv="mergeCells",exe=150,Xk=pv;var Bs=new WeakMap,js=new WeakMap,Tl=new WeakMap,Zk=new WeakMap,rr=new WeakSet;class txe extends qn{constructor(){super(...arguments),ZTe(this,rr),iT(this,"mergedCellsCollection",null),iT(this,"autofillCalculations",null),iT(this,"selectionCalculations",null),mb(this,Bs,null),mb(this,js,{row:0,col:0}),mb(this,Tl,new qTe({mergedCellsGetter:(e,n)=>this.mergedCellsCollection.get(e,n),rowIndexMapper:this.hot.rowIndexMapper,columnIndexMapper:this.hot.columnIndexMapper})),mb(this,Zk,XTe(this))}static get PLUGIN_KEY(){return pv}static get PLUGIN_PRIORITY(){return exe}isEnabled(){return!!this.hot.getSettings()[pv]}enablePlugin(){var e=this;this.enabled||(this.mergedCellsCollection=new ZS(this),this.autofillCalculations=new WTe(this),this.selectionCalculations=new zTe(this),this.addHook("afterInit",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,nxe).call(e,...r)}),this.addHook("modifyTransformFocus",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,ixe).call(e,...r)}),this.addHook("modifyTransformStart",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,oxe).call(e,...r)}),this.addHook("modifyTransformEnd",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,sxe).call(e,...r)}),this.addHook("beforeSelectionHighlightSet",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,axe).call(e,...r)}),this.addHook("beforeSetRangeStart",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,Qk).call(e,...r)}),this.addHook("beforeSetRangeStartOnly",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,Qk).call(e,...r)}),this.addHook("beforeSelectionFocusSet",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,cxe).call(e,...r)}),this.addHook("afterSelectionFocusSet",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,dxe).call(e,...r)}),this.addHook("afterSelectionEnd",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,hxe).call(e,...r)}),this.addHook("modifyGetCellCoords",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,lxe).call(e,...r)}),this.addHook("afterIsMultipleSelection",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,rxe).call(e,...r)}),this.addHook("afterRenderer",function(){return Cr(Zk,e).after(...arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,uxe).call(e,...r)}),this.addHook("afterGetCellMeta",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,fxe).call(e,...r)}),this.addHook("afterViewportRowCalculatorOverride",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,gxe).call(e,...r)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,mxe).call(e,...r)}),this.addHook("modifyAutofillRange",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,pxe).call(e,...r)}),this.addHook("afterCreateCol",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,vxe).call(e,...r)}),this.addHook("afterRemoveCol",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,wxe).call(e,...r)}),this.addHook("afterCreateRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,Cxe).call(e,...r)}),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,yxe).call(e,...r)}),this.addHook("afterChange",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,bxe).call(e,...r)}),this.addHook("beforeDrawBorders",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,Sxe).call(e,...r)}),this.addHook("afterDrawSelection",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,Rxe).call(e,...r)}),this.addHook("beforeRemoveCellClassNames",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,Exe).call(e,...r)}),this.addHook("beforeBeginEditing",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,_xe).call(e,...r)}),this.addHook("modifyRowHeightByOverlayName",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Jn(rr,e,Mxe).call(e,...r)}),this.addHook("beforeUndoStackChange",(n,r)=>{if(r==="MergeCells")return!1}),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),super.disablePlugin()}updatePlugin(){const e=this.hot.getSettings()[pv];this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(e),super.updatePlugin()}ifChromeForceRepaint(){if(!OB())return;const e=[];let n=[];this.mergedCellsCollection.mergedCells.forEach(r=>{const{row:i,rowspan:o}=r;for(let s=i+1;s<i+o;s++)n.push(s)}),n=[...new Set(n)],n.forEach(r=>{const i=this.hot.rowIndexMapper.getRenderableFromVisualIndex(r);this.hot.view._wt.wtOverlays.getOverlays(!0).map(o=>(o==null?void 0:o.name)==="master"?o:o.clone.wtTable).forEach(o=>{const s=o.getRow(i);s&&(s.style.background=_v(s,"backgroundColor").replace(")",", 0.99)"),e.push(s))})}),this.hot._registerTimeout(()=>{e.forEach(r=>{r.style.background=_v(r,"backgroundColor").replace(", 0.99)",")")})},1)}validateSetting(e){return e?yl.containsNegativeValues(e)?(er(yl.NEGATIVE_VALUES_WARNING(e)),!1):yl.isOutOfBounds(e,this.hot.countRows(),this.hot.countCols())?(er(yl.IS_OUT_OF_BOUNDS_WARNING(e)),!1):yl.isSingleCell(e)?(er(yl.IS_SINGLE_CELL(e)),!1):yl.containsZeroSpan(e)?(er(yl.ZERO_SPAN_WARNING(e)),!1):!0:!1}generateFromSettings(e){if(!Array.isArray(e))return;const n=e.filter(o=>this.validateSetting(o)),r=this.mergedCellsCollection.filterOverlappingMergeCells(n),i=[];r.forEach(o=>{const{row:s,col:a,rowspan:u,colspan:c}=o,h=this.hot._createCellCoords(s,a),g=this.hot._createCellCoords(s+u-1,a+c-1),p=this.hot._createCellRange(h,h,g);this.mergeRange(p,!0,!0);for(let v=s;v<s+u;v++)for(let y=a;y<a+c;y++)(v!==s||y!==a)&&i.push([v,y,null])}),i.length!==0&&this.hot.setDataAtCell(i,void 0,void 0,this.pluginName)}clearCollections(){this.mergedCellsCollection.clear()}canMergeRange(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?!0:this.validateSetting(e)}mergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;e.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");const{from:n,to:r}=e;this.unmergeRange(e,!0),this.mergeRange(e),this.hot.selectCell(n.row,n.col,r.row,r.col,!1)}unmergeSelection(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;const{from:n,to:r}=e;this.unmergeRange(e,!0),this.hot.selectCell(n.row,n.col,r.row,r.col,!1)}mergeRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=e.getTopStartCorner(),o=e.getBottomEndCorner(),s={row:i.row,col:i.col,rowspan:o.row-i.row+1,colspan:o.col-i.col+1},a=[];let u=null;return this.canMergeRange(s,n)?(this.hot.runHooks("beforeMergeCells",e,n),Mt(0,s.rowspan-1,h=>{Mt(0,s.colspan-1,g=>{let p=null;a[h]||(a[h]=[]),h===0&&g===0?p=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(s.row),this.hot.toPhysicalColumn(s.col)):this.hot.setCellMeta(s.row+h,s.col+g,"hidden",!0),a[h][g]=p})}),this.hot.setCellMeta(s.row,s.col,"spanned",!0),this.mergedCellsCollection.add(s,n)?(r?u=[s.row,s.col,a]:this.hot.populateFromArray(s.row,s.col,a,void 0,void 0,this.pluginName),n||this.ifChromeForceRepaint(),this.hot.runHooks("afterMergeCells",e,s,n),u):!0):!1}unmergeRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.mergedCellsCollection.getWithinRange(e);r.length!==0&&(this.hot.runHooks("beforeUnmergeCells",e,n),ye(r,i=>{this.mergedCellsCollection.remove(i.row,i.col),Mt(0,i.rowspan-1,o=>{Mt(0,i.colspan-1,s=>{this.hot.removeCellMeta(i.row+o,i.col+s,"hidden"),this.hot.removeCellMeta(i.row+o,i.col+s,"copyable")})}),this.hot.removeCellMeta(i.row,i.col,"spanned")}),this.hot.runHooks("afterUnmergeCells",e,n),this.hot.render())}toggleMerge(e){const n=this.mergedCellsCollection.get(e.from.row,e.from.col);n.row===e.from.row&&n.col===e.from.col&&n.row+n.rowspan-1===e.to.row&&n.col+n.colspan-1===e.to.col?this.unmergeRange(e):this.mergeSelection(e)}merge(e,n,r,i){const o=this.hot._createCellCoords(e,n),s=this.hot._createCellCoords(r,i);this.mergeRange(this.hot._createCellRange(o,o,s))}unmerge(e,n,r,i){const o=this.hot._createCellCoords(e,n),s=this.hot._createCellCoords(r,i);this.unmergeRange(this.hot._createCellRange(o,o,s))}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control","m"]],callback:()=>{const r=this.hot.getSelectedRangeLast();r&&!r.isSingleHeader()&&(this.toggleMerge(r),this.hot.render())},runOnlyIf:r=>!r.altKey,group:Xk})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(Xk)}modifyViewportRowStart(e,n){const r=this.hot.rowIndexMapper,i=r.getVisualFromRenderableIndex(e.startRow);for(let o=0;o<n;o+=1){const s=this.mergedCellsCollection.get(i,o);if(dn(s)){const a=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(s.row,1));if(a<e.startRow){e.startRow=a,this.modifyViewportRowStart(e,n);return}}}}modifyViewportRowEnd(e,n){const r=this.hot.rowIndexMapper,i=r.getVisualFromRenderableIndex(e.endRow);for(let o=0;o<n;o+=1){const s=this.mergedCellsCollection.get(i,o);if(dn(s)){const a=s.row+s.rowspan-1,u=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(a,-1));if(u>e.endRow){e.endRow=u,this.modifyViewportRowEnd(e,n);return}}}}modifyViewportColumnStart(e,n){const r=this.hot.columnIndexMapper,i=r.getVisualFromRenderableIndex(e.startColumn);for(let o=0;o<n;o+=1){const s=this.mergedCellsCollection.get(o,i);if(dn(s)){const a=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(s.col,1));if(a<e.startColumn){e.startColumn=a,this.modifyViewportColumnStart(e,n);return}}}}modifyViewportColumnEnd(e,n){const r=this.hot.columnIndexMapper,i=r.getVisualFromRenderableIndex(e.endColumn);for(let o=0;o<n;o+=1){const s=this.mergedCellsCollection.get(o,i);if(dn(s)){const a=s.col+s.colspan-1,u=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(a,-1));if(u>e.endColumn){e.endColumn=u,this.modifyViewportColumnEnd(e,n);return}}}}translateMergedCellToRenderable(e,n,r,i){const{rowIndexMapper:o,columnIndexMapper:s}=this.hot;let a,u;n===0?a=o.getNearestNotHiddenIndex(e,1):a=o.getNearestNotHiddenIndex(e+n-1,-1),i===0?u=s.getNearestNotHiddenIndex(r,1):u=s.getNearestNotHiddenIndex(r+i-1,-1);const c=e>=0?o.getRenderableFromVisualIndex(a):e,h=r>=0?s.getRenderableFromVisualIndex(u):r;return[c,h]}}function nxe(){this.generateFromSettings(this.hot.getSettings()[pv]),this.hot.render()}function rxe(t){if(t){const e=this.mergedCellsCollection.mergedCells,n=this.hot.getSelectedRangeLast(),r=n.getTopStartCorner(),i=n.getBottomEndCorner();for(let o=0;o<e.length;o+=1)if(r.row===e[o].row&&r.col===e[o].col&&i.row===e[o].row+e[o].rowspan-1&&i.col===e[o].col+e[o].colspan-1)return!1}return t}function ixe(t){Cr(js,this).row=t.row,Cr(js,this).col=t.col}function oxe(t){const e=this.hot.getSelectedRangeLast(),{highlight:n}=e,{columnIndexMapper:r,rowIndexMapper:i}=this.hot;Cr(Bs,this)&&(i.getRenderableFromVisualIndex(Cr(Bs,this).row)!==null&&(n.row=Cr(Bs,this).row),r.getRenderableFromVisualIndex(Cr(Bs,this).col)!==null&&(n.col=Cr(Bs,this).col),Wv(Bs,this,null));const o=this.mergedCellsCollection.get(n.row,n.col);if(!o)return;const s=o.col,a=o.col+o.colspan-1;if(t.col<0){const h=n.col>=s&&n.col<=a?s-1:a,g=r.getNearestNotHiddenIndex(h,-1);g===null?t.col=-this.hot.view.countRenderableColumnsInRange(0,n.col):t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(g,n.col)-1,1)}else if(t.col>0){const h=n.col>=s&&n.col<=a?a+1:s,g=r.getNearestNotHiddenIndex(h,1);g===null?t.col=this.hot.view.countRenderableColumnsInRange(n.col,this.hot.countCols()):t.col=Math.max(this.hot.view.countRenderableColumnsInRange(n.col,g)-1,1)}const u=o.row,c=o.row+o.rowspan-1;if(t.row<0){const h=n.row>=u&&n.row<=c?u-1:c,g=i.getNearestNotHiddenIndex(h,-1);g===null?t.row=-this.hot.view.countRenderableRowsInRange(0,n.row):t.row=-Math.max(this.hot.view.countRenderableRowsInRange(g,n.row)-1,1)}else if(t.row>0){const h=n.row>=u&&n.row<=c?c+1:u,g=i.getNearestNotHiddenIndex(h,1);g===null?t.row=this.hot.view.countRenderableRowsInRange(n.row,this.hot.countRows()):t.row=Math.max(this.hot.view.countRenderableRowsInRange(n.row,g)-1,1)}}function sxe(t){const e=this.hot.getSelectedRangeLast(),n=e.clone(),{to:r}=e,{columnIndexMapper:i,rowIndexMapper:o}=this.hot,s=(a,u)=>{n.expand(this.hot._createCellCoords(a,u));for(let c=0;c<this.mergedCellsCollection.mergedCells.length;c+=1)n.expandByRange(this.mergedCellsCollection.mergedCells[c].getRange())};if(t.col<0){let a=this.mergedCellsCollection.getStartMostColumnIndex(e,r.col)+t.col;s(r.row,a),e.getHorizontalDirection()==="E-W"&&n.getHorizontalDirection()==="E-W"&&(a=n.getTopStartCorner().col);const u=i.getNearestNotHiddenIndex(a,1);u!==null&&(t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(u,r.col)-1,1))}else if(t.col>0){let a=this.mergedCellsCollection.getEndMostColumnIndex(e,r.col)+t.col;s(r.row,a),e.getHorizontalDirection()==="W-E"&&n.getHorizontalDirection()==="W-E"&&(a=n.getBottomEndCorner().col);const u=i.getNearestNotHiddenIndex(a,-1);u!==null&&(t.col=Math.max(this.hot.view.countRenderableColumnsInRange(r.col,u)-1,1))}if(t.row<0){let a=this.mergedCellsCollection.getTopMostRowIndex(e,r.row)+t.row;s(a,r.col),e.getVerticalDirection()==="S-N"&&n.getVerticalDirection()==="S-N"&&(a=n.getTopStartCorner().row);const u=o.getNearestNotHiddenIndex(a,1);u!==null&&(t.row=-Math.max(this.hot.view.countRenderableRowsInRange(u,r.row)-1,1))}else if(t.row>0){let a=this.mergedCellsCollection.getBottomMostRowIndex(e,r.row)+t.row;s(a,r.col),e.getVerticalDirection()==="N-S"&&n.getVerticalDirection()==="N-S"&&(a=n.getBottomStartCorner().row);const u=o.getNearestNotHiddenIndex(a,-1);u!==null&&(t.row=Math.max(this.hot.view.countRenderableRowsInRange(r.row,u)-1,1))}}function axe(){const t=this.hot.getSelectedRangeLast(),{highlight:e}=t;if(this.hot.selection.isSelectedByColumnHeader()||this.hot.selection.isSelectedByRowHeader()){Wv(Bs,this,e.clone());return}for(let r=0;r<this.mergedCellsCollection.mergedCells.length;r+=1)t.expandByRange(this.mergedCellsCollection.mergedCells[r].getRange(),!1);for(let r=0;r<this.mergedCellsCollection.mergedCells.length;r+=1)t.expandByRange(this.mergedCellsCollection.mergedCells[r].getRange(),!1);const n=this.mergedCellsCollection.get(e.row,e.col);Wv(Bs,this,e.clone()),n&&e.assign(n)}function lxe(t,e){if(t<0||e<0)return;const n=this.mergedCellsCollection.get(t,e);if(!n)return;const{row:r,col:i,colspan:o,rowspan:s}=n;return[r,i,r+s-1,i+o-1]}function uxe(t){t.items.push({name:"---------"},YTe(this))}function Qk(){Wv(Bs,this,null)}function cxe(){if(Cr(Bs,this).isCell())return;const t=this.hot.getSelectedRangeLast(),e=t.getVerticalDirection(),n=t.getHorizontalDirection(),r=Cr(Bs,this).clone().normalize();Cr(Tl,this).setActiveNode(r.row,r.col),Cr(js,this).row>0||Cr(js,this).col>0?Cr(Tl,this).setPrevNodeAsActive():(n==="E-W"&&Cr(js,this).col<0||e==="S-N"&&Cr(js,this).row<0)&&Cr(Tl,this).setNextNodeAsActive()}function dxe(t,e){const n=this.hot.getSelectedRangeLast(),{columnIndexMapper:r,rowIndexMapper:i}=this.hot;let o=null,s=null;if(Cr(js,this).col<0){const{rowEnd:a,colEnd:u}=Cr(Tl,this).getPrevHorizontalNode();s=r.getNearestNotHiddenIndex(u,-1),o=i.getNearestNotHiddenIndex(a,-1)}else if(Cr(js,this).col>0){const{rowStart:a,colStart:u}=Cr(Tl,this).getNextHorizontalNode();s=r.getNearestNotHiddenIndex(u,1),o=i.getNearestNotHiddenIndex(a,1)}else if(Cr(js,this).row<0){const{rowEnd:a,colEnd:u}=Cr(Tl,this).getPrevVerticalNode();s=r.getNearestNotHiddenIndex(u,-1),o=i.getNearestNotHiddenIndex(a,-1)}else if(Cr(js,this).row>0){const{rowStart:a,colStart:u}=Cr(Tl,this).getNextVerticalNode();s=r.getNearestNotHiddenIndex(u,1),o=i.getNearestNotHiddenIndex(a,1)}if(o!==null||s!==null){const a=this.hot._createCellCoords(o,s),u=this.mergedCellsCollection.get(a.row,a.col),c=this.hot.selection.highlight.getFocus();t=a.row,e=a.col,u?n.highlight.assign({row:this.hot.rowIndexMapper.getNearestNotHiddenIndex(u.row,1),col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(u.col,1)}):n.highlight.assign(a),c.clear(),c.add(a).commit()}Cr(Tl,this).setActiveNode(t,e),Wv(js,this,{row:0,col:0})}function hxe(){this.hot.getSelectedRangeLast().isHeader()||Cr(Tl,this).buildFocusOrder(this.hot.getSelectedRangeLast())}function fxe(t,e,n){const r=this.mergedCellsCollection.get(t,e);r&&(r.row!==t||r.col!==e?n.copyable=!1:(n.rowspan=r.rowspan,n.colspan=r.colspan))}function gxe(t){const e=this.hot.countCols();this.modifyViewportRowStart(t,e),this.modifyViewportRowEnd(t,e)}function mxe(t){const e=this.hot.countRows();this.modifyViewportColumnStart(t,e),this.modifyViewportColumnEnd(t,e)}function pxe(t,e){this.autofillCalculations.correctSelectionAreaSize(e);const n=this.autofillCalculations.getDirection(e,t);let r=t;if(this.autofillCalculations.dragAreaOverlapsCollections(e,r,n))return r=e,r;const i=this.hot._createCellCoords(e[0],e[1]),o=this.hot._createCellCoords(e[2],e[3]),s=this.hot._createCellRange(i,i,o),a=this.mergedCellsCollection.getWithinRange(s);return a.length===0||(r=this.autofillCalculations.snapDragArea(e,r,n,a)),r}function vxe(t,e){this.mergedCellsCollection.shiftCollections("right",t,e)}function wxe(t,e){this.mergedCellsCollection.shiftCollections("left",t,e)}function Cxe(t,e,n){n!=="auto"&&this.mergedCellsCollection.shiftCollections("down",t,e)}function yxe(t,e){this.mergedCellsCollection.shiftCollections("up",t,e)}function bxe(t,e){e==="Autofill.fill"&&this.autofillCalculations.recreateAfterDataPopulation(t)}function Sxe(t,e){if(e&&e==="area"){const n=this.hot.getSelectedRangeLast(),r=this.mergedCellsCollection.getWithinRange(n);ye(r,i=>{n.getBottomEndCorner().row===i.getLastRow()&&n.getBottomEndCorner().col===i.getLastColumn()&&(t[2]=i.row,t[3]=i.col)})}}function Rxe(t,e,n,r){if(n)return this.selectionCalculations.getSelectedMergedCellClassName(t,e,n,r)}function Exe(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}function _xe(t,e,n,r){if(!(r instanceof MouseEvent))return;const i=this.hot.getSelectedRangeLast(),o=this.mergedCellsCollection.getByRange(i);if(!o)return;const s=this.hot._createCellCoords(o.row,o.col),a=this.hot._createCellCoords(o.row+o.rowspan-1,o.col+o.colspan-1);return this.hot.selection.getLayerLevel()===0&&i.isEqual(this.hot._createCellRange(s,s,a))}function Mxe(t,e,n){if(this.hot.getSettings().rowHeaders||n==="bottom"||n==="bottom_inline_start_corner")return t;let r,i;if(n==="master")r=this.hot.view.getFirstRenderedVisibleColumn(),i=this.hot.view.getLastRenderedVisibleColumn();else{const p=this.hot.view.getOverlayByName(n);r=this.hot.columnIndexMapper.getVisualFromRenderableIndex(p.clone.wtTable.getFirstRenderedColumn()),i=this.hot.columnIndexMapper.getVisualFromRenderableIndex(p.clone.wtTable.getLastRenderedColumn())}if(!this.mergedCellsCollection.get(e,r))return t;const s=this.hot._createCellCoords(e,r),a=this.hot._createCellCoords(e,i),u=this.hot._createCellRange(s,s,a),c=this.mergedCellsCollection.getWithinRange(u),h=c.reduce((p,v)=>{let{rowspan:y}=v;return Math.max(p,y)},1);let g=0;return c.length>1&&c[0].rowspan<h&&(g=h-c[0].rowspan),c.forEach(p=>{var v;let{rowspan:y}=p,R=0;n==="top"||n==="top_inline_start_corner"?R=Math.min(h,this.hot.view.countNotHiddenFixedRowsTop()-e):R=y-g,t=Math.max((v=t)!==null&&v!==void 0?v:0,Jn(rr,this,Txe).call(this,e,R))}),t}function Txe(t,e){const n=this.hot.view._wt.wtSettings.getSettingPure("defaultRowHeight"),r=this.hot.getPlugin("autoRowSize");let i=0;for(let s=t;s<t+e;s++)if(!this.hot.rowIndexMapper.isHidden(s)){var o;i+=(o=r==null?void 0:r.getRowHeight(s))!==null&&o!==void 0?o:n}return i}function xxe(t,e){return function(n,r){const[,...i]=n,[,...o]=r;return function s(a){const u=t[a],c=e[a],h=i[a],g=o[a],p=c.multiColumnSorting,y=(p.compareFunctionFactory?p.compareFunctionFactory:yz(c.type))(u,c,p)(h,g);if(y===Ol){const R=a+1;if(typeof e[R]<"u")return s(R)}return y}(0)}}function Jk(){er(tr`Plugins \`columnSorting\` and \`multiColumnSorting\` should not be enabled simultaneously. 
    Only \`multiColumnSorting\` will work. The \`columnSorting\` plugin will be disabled.`)}const zY="sort";function Ixe(t,e,n){const r=[];return n===!1||t.isColumnSorted(e)&&t.getNumberOfSortedColumns()>1&&r.push(`${zY}-${t.getIndexOfColumnInSortQueue(e)+1}`),r}function Oxe(t){const e=t.className.split(" "),n=new RegExp(`^${zY}-[0-9]{1,2}$`);return e.filter(r=>n.test(r))}function Pxe(t,e,n){return(e=Axe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Axe(t){var e=Hxe(t,"string");return typeof e=="symbol"?e:e+""}function Hxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const JS="multiColumnSorting",Dxe=170,oT="columnSorting",eF=JS;Cz(JS,xxe);class Nxe extends Iz{constructor(){super(...arguments),Pxe(this,"pluginKey",JS)}static get PLUGIN_KEY(){return JS}static get PLUGIN_PRIORITY(){return Dxe}isEnabled(){return super.isEnabled()}enablePlugin(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[oT]&&(Jk(),this.hot.getPlugin(oT).disablePlugin()),super.enablePlugin()}disablePlugin(){super.disablePlugin()}registerShortcuts(){super.registerShortcuts(),this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Shift","Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();return e.row===-1&&e.col>=0&&this.sort(this.getNextSortConfig(e.col,NS)),!1},runOnlyIf:()=>{var e,n;const r=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return r&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingle())&&this.hot.selection.isCellVisible(r)&&r.isHeader()},relativeToGroup:ed,position:"before",group:eF})}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(eF)}sort(e){super.sort(e)}clearSort(){super.clearSort()}isSorted(){return super.isSorted()}getSortConfig(e){return super.getSortConfig(e)}setSortConfig(e){super.setSortConfig(e)}getNormalizedSortConfigs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Array.isArray(e)?e:[e]}updateHeaderClasses(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];super.updateHeaderClasses(e,...r),Zt(e,Oxe(e)),this.enabled!==!1&&Qe(e,Ixe(...r))}onUpdateSettings(e){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[oT]&&Jk(),super.onUpdateSettings(e)}onAfterOnCellMouseDown(e,n){wA(n.row,n.col,e)!==!1&&this.wasClickableHeaderClicked(e,n.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(n.col),this.sort(this.getNextSortConfig(n.col,NS))):this.sort(this.getColumnNextConfig(n.col)))}}function tF(t,e,n){return(e=$xe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $xe(t){var e=Lxe(t,"string");return typeof e=="symbol"?e:e+""}function Lxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const kxe="multipleSelectionHandles",Fxe=160;class Vxe extends qn{constructor(){super(...arguments),tF(this,"dragged",[]),tF(this,"lastSetCell",null)}static get PLUGIN_KEY(){return kxe}static get PLUGIN_PRIORITY(){return Fxe}isEnabled(){return Oc()}enablePlugin(){this.enabled||(this.registerListeners(),super.enablePlugin())}registerListeners(){const e=this,{rootElement:n}=this.hot;function r(i){if(e.dragged.length===1)return e.dragged.splice(0,e.dragged.length),!0;const o=e.dragged.indexOf(i);if(o===-1)return!1;o===0?e.dragged=e.dragged.slice(0,1):o===1&&(e.dragged=e.dragged.slice(-1))}this.eventManager.addEventListener(n,"touchstart",i=>{let o;if(Ft(i.target,"topSelectionHandle-HitArea"))return o=e.hot.getSelectedRangeLast(),e.dragged.push("top"),e.touchStartRange={width:o.getWidth(),height:o.getHeight(),direction:o.getDirection()},i.preventDefault(),!1;if(Ft(i.target,"bottomSelectionHandle-HitArea"))return o=e.hot.getSelectedRangeLast(),e.dragged.push("bottom"),e.touchStartRange={width:o.getWidth(),height:o.getHeight(),direction:o.getDirection()},i.preventDefault(),!1}),this.eventManager.addEventListener(n,"touchend",i=>{if(Ft(i.target,"topSelectionHandle-HitArea"))return r.call(e,"top"),e.touchStartRange=void 0,i.preventDefault(),!1;if(Ft(i.target,"bottomSelectionHandle-HitArea"))return r.call(e,"bottom"),e.touchStartRange=void 0,i.preventDefault(),!1}),this.eventManager.addEventListener(n,"touchmove",i=>{const{rootDocument:o}=this.hot;let s,a,u,c,h,g;if(e.dragged.length===0)return;const p=o.elementFromPoint(i.touches[0].clientX,i.touches[0].clientY);!p||p===e.lastSetCell||((p.nodeName==="TD"||p.nodeName==="TH")&&(s=e.hot.getCoords(p),s.col===-1&&(s.col=0),a=e.hot.getSelectedRangeLast(),u=a.getWidth(),c=a.getHeight(),h=a.getDirection(),u===1&&c===1&&e.hot.selection.setRangeEnd(s),g=e.getCurrentRangeCoords(a,s,e.touchStartRange.direction,h,e.dragged[0]),g.start!==null&&e.hot.selection.setRangeStart(g.start),e.hot.selection.setRangeEnd(g.end),e.lastSetCell=p),i.preventDefault())})}getCurrentRangeCoords(e,n,r,i,o){const s=e.getTopStartCorner(),a=e.getBottomEndCorner(),u=e.getBottomStartCorner(),c=e.getTopEndCorner();let h={start:null,end:null};switch(r){case"NE-SW":switch(i){case"NE-SW":case"NW-SE":o==="top"?h={start:this.hot._createCellCoords(n.row,e.highlight.col),end:this.hot._createCellCoords(u.row,n.col)}:h={start:this.hot._createCellCoords(e.highlight.row,n.col),end:this.hot._createCellCoords(n.row,s.col)};break;case"SE-NW":o==="bottom"&&(h={start:this.hot._createCellCoords(a.row,n.col),end:this.hot._createCellCoords(n.row,s.col)});break}break;case"NW-SE":switch(i){case"NE-SW":o==="top"?h={start:n,end:u}:h.end=n;break;case"NW-SE":o==="top"?h={start:n,end:a}:h.end=n;break;case"SE-NW":o==="top"?h={start:n,end:s}:h.end=n;break;case"SW-NE":o==="top"?h={start:n,end:c}:h.end=n;break}break;case"SW-NE":switch(i){case"NW-SE":o==="bottom"?h={start:this.hot._createCellCoords(n.row,s.col),end:this.hot._createCellCoords(u.row,n.col)}:h={start:this.hot._createCellCoords(s.row,n.col),end:this.hot._createCellCoords(n.row,a.col)};break;case"SW-NE":o==="top"?h={start:this.hot._createCellCoords(e.highlight.row,n.col),end:this.hot._createCellCoords(n.row,a.col)}:h={start:this.hot._createCellCoords(n.row,s.col),end:this.hot._createCellCoords(s.row,n.col)};break;case"SE-NW":o==="bottom"?h={start:this.hot._createCellCoords(n.row,c.col),end:this.hot._createCellCoords(s.row,n.col)}:o==="top"&&(h={start:u,end:n});break}break;case"SE-NW":switch(i){case"NW-SE":case"NE-SW":case"SW-NE":o==="top"&&(h.end=n);break;case"SE-NW":o==="top"?h.end=n:h={start:n,end:s};break}break}return h}isDragged(){return this.dragged.length>0}}function kx(){let{label:t="",colspan:e=1,origColspan:n=1,collapsible:r=!1,crossHiddenColumns:i=[],isCollapsed:o=!1,isHidden:s=!1,isRoot:a=!1,isPlaceholder:u=!1,headerClassNames:c=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{label:t,colspan:e,origColspan:n,collapsible:r,isCollapsed:o,crossHiddenColumns:i,isHidden:s,isRoot:a,isPlaceholder:u,headerClassNames:c}}function YY(){return{label:"",isPlaceholder:!0}}function Wxe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;const n=[];if(e===0)return n;ye(t,i=>{const o=[];let s=0;n.push(o),ye(i,a=>{const u=kx();if(dn(a)){const{label:h,colspan:g,headerClassName:p}=a;u.label=ai(h),typeof g=="number"&&g>1&&(u.colspan=g,u.origColspan=g),typeof p=="string"&&(u.headerClassNames=[...p.split(" ")])}else u.label=ai(a);s+=u.origColspan;let c=!1;if(s>=e&&(u.colspan=u.origColspan-(s-e),u.origColspan=u.colspan,c=!0),o.push(u),u.colspan>1)for(let h=0;h<u.colspan-1;h++)o.push(YY());return!c})});const r=Math.max(..._n(n,i=>i.length));return ye(n,i=>{if(i.length<r){const o=_n(new Array(r-i.length),()=>kx());i.splice(i.length,0,...o)}}),n}function sT(t,e,n){Bxe(t,e),e.set(t,n)}function Bxe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ga(t,e){return t.get(UY(t,e))}function $p(t,e,n){return t.set(UY(t,e),n),n}function UY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const nF=["label","collapsible"];var fu=new WeakMap,rh=new WeakMap,aT=new WeakMap;class jxe{constructor(){sT(this,fu,[]),sT(this,rh,0),sT(this,aT,1/0)}setColumnsLimit(e){$p(aT,this,e)}setData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];$p(fu,this,Wxe(e,ga(aT,this))),$p(rh,this,ga(fu,this).length)}getData(){return ga(fu,this)}mergeWith(e){ye(e,n=>{let{row:r,col:i,...o}=n;const s=this.getHeaderSettings(r,i);s!==null&&fi(s,o,nF)})}map(e){ye(ga(fu,this),n=>{ye(n,r=>{const i=e({...r});dn(i)&&fi(r,i,nF)})})}getHeaderSettings(e,n){var r;if(e>=ga(rh,this)||e<0)return null;const i=ga(fu,this)[e];return Array.isArray(i)===!1||n>=i.length?null:(r=i[n])!==null&&r!==void 0?r:null}getHeadersSettings(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const i=[];if(e>=ga(rh,this)||e<0)return i;const o=ga(fu,this)[e];let s=0;for(let a=n;a<o.length;a++){const u=o[a];if(u.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(s+=u.colspan,i.push(u),u.colspan>1&&(a+=u.colspan-1),s===r)break;if(s>r)throw new Error("The last column settings cannot overlap the other header layers")}return i}getLayersCount(){return ga(rh,this)}getColumnsCount(){return ga(rh,this)>0?ga(fu,this)[0].length:0}clear(){$p(fu,this,[]),$p(rh,this,0)}}function lT(t,e,n){return(e=zxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zxe(t){var e=Yxe(t,"string");return typeof e=="symbol"?e:e+""}function Yxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const GY="DF-pre-order";function KY(t,e){let n=t.call(e,this);for(let r=0;r<this.childs.length;r++){if(n===!1)return!1;n=KY.call(this.childs[r],t,e)}return n}const Uxe="DF-post-order";function qY(t,e){for(let n=0;n<this.childs.length;n++)if(qY.call(this.childs[n],t,e)===!1)return!1;return t.call(e,this)}const XY="BF";function Gxe(t,e){const n=[this];function r(){if(n.length===0)return;const i=n.shift();n.push(...i.childs),t.call(e,i)!==!1&&r()}r()}const Kxe=XY,rF=new Map([[GY,KY],[Uxe,qY],[XY,Gxe]]);class e0{constructor(e){lT(this,"data",{}),lT(this,"parent",null),lT(this,"childs",[]),this.data=e}addChild(e){e.parent=this,this.childs.push(e)}cloneTree(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this;const n=new e0({...e.data});for(let r=0;r<e.childs.length;r++)n.addChild(this.cloneTree(e.childs[r]));return n}replaceTreeWith(e){this.data={...e.data},this.childs=[];for(let n=0;n<e.childs.length;n++)this.addChild(e.childs[n])}walkDown(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kxe;if(!rF.has(n))throw new Error(`Traversal strategy "${n}" does not exist`);rF.get(n).call(this,e,this)}walkUp(e){const n=this,r=i=>{e.call(n,i)!==!1&&i.parent!==null&&r(i.parent)};r(this)}}function uT(t,e,n){qxe(t,e),e.set(t,n)}function qxe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mo(t,e){return t.get(ZY(t,e))}function Xxe(t,e,n){return t.set(ZY(t,e),n),n}function ZY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ng=new WeakMap,ih=new WeakMap,rg=new WeakMap;class Zxe{constructor(e){uT(this,ng,new Map),uT(this,ih,new Map),uT(this,rg,null),Xxe(rg,this,e)}getRoots(){return Array.from(mo(ng,this).values())}getRootByColumn(e){let n;return mo(ih,this).has(e)&&(n=mo(ng,this).get(mo(ih,this).get(e))),n}getNode(e,n){const r=this.getRootByColumn(n);if(!r)return;const i=n-mo(ih,this).get(n);let o=0,s;return r.walkDown(a=>{const{data:{origColspan:u,headerLevel:c}}=a;if(e===c){if(i>=o&&i<=o+u-1)return s=a,s.data.isRoot=n===s.data.columnIndex,!1;o+=u}}),s}rebuildTreeIndex(){let e=0;mo(ih,this).clear(),ye(mo(ng,this),n=>{let[,{data:{colspan:r}}]=n;for(let i=e;i<e+r;i++)mo(ih,this).set(i,e);e+=r})}buildTree(){this.clear();const e=mo(rg,this).getColumnsCount();let n=0;for(;n<e;){const r=mo(rg,this).getHeaderSettings(0,n),i=new e0;mo(ng,this).set(n,i),this.buildLeaves(i,n,0,r.origColspan),n+=r.origColspan}this.rebuildTreeIndex()}buildLeaves(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;const o=mo(rg,this).getHeadersSettings(r,n,i);r+=1,ye(o,s=>{const a={...s,headerLevel:r-1,columnIndex:n};let u;r===1?(e.data=a,u=e):(u=new e0(a),e.addChild(u)),r<mo(rg,this).getLayersCount()&&this.buildLeaves(u,n,r,s.origColspan),n+=s.origColspan})}clear(){mo(ng,this).clear(),mo(ih,this).clear()}}function QY(t,e){t.walkDown(n=>{let{data:r,childs:i}=n;if(!r.isHidden&&(e(r.columnIndex),i.length===0))for(let o=1;o<r.colspan;o++)e(r.columnIndex+o)})}function t0(t,e){let{childs:n}=t;if(n.length!==0)return n[0].data[e]}function n0(t){return t0(t,"origColspan")===t.data.origColspan}function HA(t){const{data:e,childs:n}=t;if(!e.isCollapsed||e.isHidden||e.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(n0(t))return HA(n[0]);e.isCollapsed=!1;const i=n.slice(1),o=new Set;let s=0;if(i.length>0)ye(i,a=>{a.replaceTreeWith(a.data.clonedTree),a.data.clonedTree=null;const u=a.data;s+=u.colspan,QY(a,c=>{o.add(c)})});else{const{colspan:a,origColspan:u,columnIndex:c}=e;s=u-a;for(let h=1;h<u;h++)o.add(c+h)}return t.walkUp(a=>{const{data:u}=a;u.colspan+=s,u.colspan>=u.origColspan?(u.colspan=u.origColspan,u.isCollapsed=!1):n0(a)&&(u.isCollapsed=t0(a,"isCollapsed"))}),{rollbackModification:()=>DA(t),affectedColumns:Array.from(o),colspanCompensation:s}}function DA(t){var e;const{data:n,childs:r}=t;if(n.isCollapsed||n.isHidden||n.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};if(n0(t))return DA(r[0]);n.isCollapsed=!0;const o=r.slice(1),s=new Set;if(o.length>0)ye(o,u=>{QY(u,c=>{s.add(c)}),u.data.clonedTree=u.cloneTree(),u.walkDown(c=>{let{data:h}=c;h.isHidden=!0})});else{const{origColspan:u,columnIndex:c}=n;for(let h=1;h<u;h++){const g=c+h;s.add(g)}}const a=n.colspan-((e=t0(t,"colspan"))!==null&&e!==void 0?e:1);return t.walkUp(u=>{const{data:c}=u;c.colspan-=a,c.colspan<=1?(c.colspan=1,c.isCollapsed=!0):n0(u)&&(c.isCollapsed=t0(u,"isCollapsed"))}),{rollbackModification:()=>HA(t),affectedColumns:Array.from(s),colspanCompensation:a}}function Qxe(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(tr`The passed node is not the last node on the tree. Only for\x20
the last node, the hide column modification can be applied.`);const{crossHiddenColumns:n}=t.data;if(n.includes(e))return;let r=!1;t.walkUp(i=>{const{data:{collapsible:o}}=i;if(o)return r=!0,!1}),!r&&t.walkUp(i=>{const{data:o}=i;o.crossHiddenColumns.push(e),o.colspan>1?o.colspan-=1:o.isHidden=!0})}function Jxe(t,e){if(!Number.isInteger(e))throw new Error("The passed gridColumnIndex argument has invalid type.");if(t.childs.length>0)throw new Error(tr`The passed node is not the last node on the tree. Only for\x20
the last node, the show column modification can be applied.`);const{crossHiddenColumns:n}=t.data;if(!n.includes(e))return;let r=!1;t.walkUp(i=>{const{data:{collapsible:o}}=i;if(o)return r=!0,!1}),!r&&t.walkUp(i=>{const{data:o}=i;o.crossHiddenColumns.splice(o.crossHiddenColumns.indexOf(e),1),!o.isHidden&&o.colspan<o.origColspan&&(o.colspan+=1),o.isHidden=!1})}const iF=new Map([["collapse",DA],["expand",HA],["hide-column",Qxe],["show-column",Jxe]]);function eIe(t,e,n){if(!iF.has(t))throw new Error(`The node modifier action ("${t}") does not exist.`);return iF.get(t)(e,n)}function pb(t){const e=[];return ye(t,n=>{n.walkDown(r=>{const i=r.data,{origColspan:o,columnIndex:s,headerLevel:a,crossHiddenColumns:u}=i,c=nIe(e,a);let h=!1;for(let g=s;g<s+o;g++)if(u.includes(g)||h)c.push(YY());else{const v=tIe(i);v.isRoot=!0,c.push(v),h=!0}})}),e}function tIe(t){const{crossHiddenColumns:e,...n}=kx(t);return n}function nIe(t,e){let n;return Array.isArray(t[e])?n=t[e]:(n=[],t[e]=n),n}function cT(t,e,n){rIe(t,e),e.set(t,n)}function rIe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Lp(t,e,n){return t.set(JY(t,e),n),n}function Vr(t,e){return t.get(JY(t,e))}function JY(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ml=new WeakMap,ko=new WeakMap,oh=new WeakMap;class iIe{constructor(){cT(this,ml,new jxe),cT(this,ko,new Zxe(Vr(ml,this))),cT(this,oh,[[]])}setState(e){Vr(ml,this).setData(e);let n=!1;try{Vr(ko,this).buildTree()}catch{Vr(ko,this).clear(),Vr(ml,this).clear(),n=!0}return Lp(oh,this,pb(Vr(ko,this).getRoots())),n}setColumnsLimit(e){Vr(ml,this).setColumnsLimit(e)}mergeStateWith(e){const n=_n(e,r=>{let{row:i,...o}=r;return{row:i<0?this.rowCoordsToLevel(i):i,...o}});Vr(ml,this).mergeWith(n),Vr(ko,this).buildTree(),Lp(oh,this,pb(Vr(ko,this).getRoots()))}mapState(e){Vr(ml,this).map(e),Vr(ko,this).buildTree(),Lp(oh,this,pb(Vr(ko,this).getRoots()))}mapNodes(e){return Eo(Vr(ko,this).getRoots(),(n,r)=>(r.walkDown(i=>{const o=e(i.data);o!==void 0&&n.push(o)}),n),[])}triggerNodeModification(e,n,r){n<0&&(n=this.rowCoordsToLevel(n));const i=Vr(ko,this).getNode(n,r);let o;return i&&(o=eIe(e,i,r),Lp(oh,this,pb(Vr(ko,this).getRoots()))),o}triggerColumnModification(e,n){return this.triggerNodeModification(e,-1,n)}rowCoordsToLevel(e){if(e>=0)return null;const n=e+Math.max(this.getLayersCount(),1);return n<0?null:n}levelToRowCoords(e){if(e<0)return null;const n=e-Math.max(this.getLayersCount(),1);return n>=0?null:n}getHeaderSettings(e,n){var r,i;return e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount()?null:(r=(i=Vr(oh,this)[e])===null||i===void 0?void 0:i[n])!==null&&r!==void 0?r:null}getHeaderTreeNodeData(e,n){const r=this.getHeaderTreeNode(e,n);return r?{...r.data}:null}getHeaderTreeNode(e,n){if(e<0&&(e=this.rowCoordsToLevel(e)),e===null||e>=this.getLayersCount())return null;const r=Vr(ko,this).getNode(e,n);return r||null}findTopMostEntireHeaderLevel(e){var n;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;const i=r-e+1;let o=!1,s=null;for(let a=e;a<=r;a++){const u=Vr(ko,this).getRootByColumn(a);if(!u)break;o=!0,u.walkDown(c=>{const{columnIndex:h,headerLevel:g,origColspan:p,isHidden:v}=c.data;v||p<=i&&h>=e&&h+p-1<=r&&(s===null||g<s)&&(s=g)},GY)}return o&&s===null?-1:this.levelToRowCoords((n=s)!==null&&n!==void 0?n:0)}findLeftMostColumnIndex(e,n){var r;const{isRoot:i}=(r=this.getHeaderSettings(e,n))!==null&&r!==void 0?r:{isRoot:!0};if(i)return n;let o=n-1;for(;o>=0;){var s;const{isRoot:a}=(s=this.getHeaderSettings(e,o))!==null&&s!==void 0?s:{isRoot:!0};if(a)break;o-=1}return o}findRightMostColumnIndex(e,n){var r;const{isRoot:i,origColspan:o}=(r=this.getHeaderSettings(e,n))!==null&&r!==void 0?r:{isRoot:!0,origColspan:1};if(i)return n+o-1;let s=n+1;for(;s<this.getColumnsCount();){var a;const{isRoot:u}=(a=this.getHeaderSettings(e,s))!==null&&a!==void 0?a:{isRoot:!0};if(u)break;s+=1}return s-1}getLayersCount(){return Vr(ml,this).getLayersCount()}getColumnsCount(){return Vr(ml,this).getColumnsCount()}clear(){Lp(oh,this,[]),Vr(ml,this).clear(),Vr(ko,this).clear()}}function kp(t,e,n){return(e=oIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oIe(t){var e=sIe(t,"string");return typeof e=="symbol"?e:e+""}function sIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class aIe{constructor(e,n){kp(this,"hot",void 0),kp(this,"nestedHeaderSettingsGetter",void 0),kp(this,"layersCount",0),kp(this,"container",void 0),kp(this,"widthsMap",void 0),this.hot=e,this.nestedHeaderSettingsGetter=n,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}setLayersCount(e){return this.layersCount=e,this}getWidth(e){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e))}buildWidthsMap(){this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);const e=this.container.querySelectorAll("tr:last-of-type th"),n=e.length;this.widthsMap.clear();for(let r=0;r<n;r++){const i=this.hot.columnIndexMapper.getVisualFromRenderableIndex(r),o=this.hot.toPhysicalColumn(i);this.widthsMap.setValueAtIndex(o,e[r].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}_buildGhostTable(e){const{rootDocument:n,columnIndexMapper:r}=this.hot,i=n.createDocumentFragment(),o=n.createElement("table"),s=!!this.hot.getSettings().dropdownMenu,a=r.getRenderableIndexesLength();for(let u=0;u<this.layersCount;u++){const c=n.createElement("tr");for(let h=0;h<a;h++){let g=r.getVisualFromRenderableIndex(h);g===null&&(g=h);const p=n.createElement("th"),v=this.nestedHeaderSettingsGetter(u,g);if(v&&(!v.isPlaceholder||v.isHidden)){let y=v.label;s&&(y+='<button class="changeType"></button>'),Jg(p,y),p.colSpan=v.colspan,c.appendChild(p)}}o.appendChild(c)}i.appendChild(o),e.appendChild(i)}clear(){this.widthsMap.clear(),this.container=null}}function lIe(t,e){eU(t,e),e.add(t)}function oF(t,e,n){return(e=uIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uIe(t){var e=cIe(t,"string");return typeof e=="symbol"?e:e+""}function cIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vb(t,e,n){eU(t,e),e.set(t,n)}function eU(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vh(t,e,n){return t.set(Wr(t,e),n),n}function Nn(t,e){return t.get(Wr(t,e))}function Wr(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const sF="nestedHeaders",dIe=280;var sr=new WeakMap,pc=new WeakMap,vv=new WeakMap,vR=new WeakMap,Xr=new WeakSet;class hIe extends qn{constructor(){super(...arguments),lIe(this,Xr),vb(this,sr,new iIe),vb(this,pc,null),vb(this,vv,null),vb(this,vR,!1),oF(this,"ghostTable",new aIe(this.hot,(e,n)=>this.getHeaderSettings(e,n))),oF(this,"detectedOverlappedHeaders",!1)}static get PLUGIN_KEY(){return sF}static get PLUGIN_PRIORITY(){return dIe}isEnabled(){return!!this.hot.getSettings()[sF]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:n}=this.hot.getSettings();(!Array.isArray(n)||!Array.isArray(n[0]))&&er(tr`Your Nested Headers plugin configuration is invalid. The settings has to be\x20
                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]`),this.addHook("init",()=>Wr(Xr,this,xIe).call(this)),this.addHook("afterLoadData",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wr(Xr,e,IIe).call(e,...i)}),this.addHook("beforeOnCellMouseDown",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wr(Xr,e,pIe).call(e,...i)}),this.addHook("afterOnCellMouseDown",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wr(Xr,e,vIe).call(e,...i)}),this.addHook("beforeOnCellMouseOver",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wr(Xr,e,wIe).call(e,...i)}),this.addHook("beforeOnCellMouseUp",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wr(Xr,e,CIe).call(e,...i)}),this.addHook("beforeSelectionHighlightSet",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wr(Xr,e,yIe).call(e,...i)}),this.addHook("modifyTransformStart",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wr(Xr,e,bIe).call(e,...i)}),this.addHook("afterSelection",()=>Wr(Xr,this,wb).call(this)),this.addHook("afterSelectionFocusSet",()=>Wr(Xr,this,wb).call(this)),this.addHook("beforeViewportScrollHorizontally",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wr(Xr,e,fIe).call(e,...i)}),this.addHook("afterGetColumnHeaderRenderers",r=>Wr(Xr,this,RIe).call(this,r)),this.addHook("modifyColWidth",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wr(Xr,e,_Ie).call(e,...i)}),this.addHook("modifyColumnHeaderValue",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wr(Xr,e,MIe).call(e,...i)}),this.addHook("beforeHighlightingColumnHeader",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wr(Xr,e,gIe).call(e,...i)}),this.addHook("beforeCopy",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wr(Xr,e,mIe).call(e,...i)}),this.addHook("beforeSelectColumns",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wr(Xr,e,SIe).call(e,...i)}),this.addHook("afterViewportColumnCalculatorOverride",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wr(Xr,e,EIe).call(e,...i)}),this.addHook("modifyFocusedElement",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wr(Xr,e,TIe).call(e,...i)}),this.hot.columnIndexMapper.addLocalHook("cacheUpdated",()=>Wr(Xr,this,wb).call(this)),this.hot.rowIndexMapper.addLocalHook("cacheUpdated",()=>Wr(Xr,this,wb).call(this)),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(!this.hot.view)return;const{nestedHeaders:e}=this.hot.getSettings();Nn(sr,this).setColumnsLimit(this.hot.countCols()),Array.isArray(e)&&(this.detectedOverlappedHeaders=Nn(sr,this).setState(e)),this.detectedOverlappedHeaders&&er(tr`Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\x20
                        is currently not supported.`),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach((n,r)=>{const i=n===!0?"hide-column":"show-column";Nn(sr,this).triggerColumnModification(i,r)}),!Nn(pc,this)&&this.enabled&&vh(pc,this,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe(n=>{n.forEach(r=>{let{op:i,index:o,newValue:s}=r;if(i==="replace"){const a=s===!0?"hide-column":"show-column";Nn(sr,this).triggerColumnModification(a,o)}}),this.ghostTable.buildWidthsMap()})),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),super.updatePlugin()}disablePlugin(){this.clearColspans(),Nn(sr,this).clear(),Nn(pc,this).unsubscribe(),vh(pc,this,null),this.ghostTable.clear(),super.disablePlugin()}getStateManager(){return Nn(sr,this)}getLayersCount(){return Nn(sr,this).getLayersCount()}getHeaderSettings(e,n){return Nn(sr,this).getHeaderSettings(e,n)}clearColspans(){if(!this.hot.view)return;const{_wt:e}=this.hot.view,n=e.getSetting("columnHeaders").length,r=e.wtTable.THEAD,i=e.wtOverlays.topOverlay.clone.wtTable.THEAD,o=e.wtOverlays.topInlineStartCornerOverlay?e.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null;for(let s=0;s<n;s++){const a=r.childNodes[s];if(!a)break;const u=i.childNodes[s],c=o?o.childNodes[s]:null;for(let h=0,g=a.childNodes.length;h<g;h++)a.childNodes[h].removeAttribute("colspan"),Zt(a.childNodes[h],"hiddenHeader"),u&&u.childNodes[h]&&(u.childNodes[h].removeAttribute("colspan"),Zt(u.childNodes[h],"hiddenHeader")),o&&c&&c.childNodes[h]&&(c.childNodes[h].removeAttribute("colspan"),Zt(c.childNodes[h],"hiddenHeader"))}}headerRendererFactory(e){var n=this;const r=this.hot.view._wt.getSetting("fixedColumnsStart");return(i,o)=>{var s;const{columnIndexMapper:a,view:u}=this.hot;let c=a.getVisualFromRenderableIndex(i);c===null&&(c=i),o.removeAttribute("colspan"),Zt(o,"hiddenHeader");const{colspan:h,isHidden:g,isPlaceholder:p,headerClassNames:v}=(s=Nn(sr,this).getHeaderSettings(e,c))!==null&&s!==void 0?s:{label:""};if(p||g)Qe(o,"hiddenHeader");else if(h>1){var y,R;const{wtOverlays:S}=u._wt,T=(y=S.topInlineStartCornerOverlay)===null||y===void 0?void 0:y.clone.wtTable.THEAD.contains(o),x=(R=S.inlineStartOverlay)===null||R===void 0?void 0:R.clone.wtTable.THEAD.contains(o),O=T||x?Math.min(h,r-i):h;O>1&&o.setAttribute("colspan",O)}if(this.hot.view.appendColHeader(c,o,function(){return n.getColumnHeaderValue(...arguments)},e),!p&&!g){const S=o.querySelector("div.relative");S&&v&&v.length>0&&(Zt(S,this.hot.getColumnMeta(c).headerClassName),Qe(S,v))}}}getColumnHeaderValue(e,n){var r;const{isHidden:i,isPlaceholder:o}=(r=Nn(sr,this).getHeaderSettings(n,e))!==null&&r!==void 0?r:{};return o||i?"":this.hot.getColHeader(e,n)}destroy(){vh(sr,this,null),Nn(pc,this)!==null&&(Nn(pc,this).unsubscribe(),vh(pc,this,null)),super.destroy()}_getHeaderTreeNodeDataByCoords(e){if(!(e.row>=0||e.col<0))return Nn(sr,this).getHeaderTreeNodeData(e.row,e.col)}}function wb(){var t;const e=(t=this.hot)===null||t===void 0?void 0:t.getSelectedRangeLast();if(!e)return;const{highlight:n}=e;if(n.isHeader()&&n.col>=0){const i=Nn(sr,this).findLeftMostColumnIndex(n.row,n.col),o=this.hot.selection.highlight.getFocus();o.visualCellRange.highlight.col=i,o.visualCellRange.from.col=i,o.visualCellRange.to.col=i,o.commit()}}function fIe(t){const e=this.hot.getSelectedRangeLast();if(!e)return t;const{highlight:n}=e;if(!(n.isHeader()&&n.col>=0))return t;const i=this.hot.view.getFirstFullyVisibleColumn(),o=this.hot.view.getLastFullyVisibleColumn(),s=Nn(sr,this).findLeftMostColumnIndex(n.row,n.col),a=Nn(sr,this).findRightMostColumnIndex(n.row,n.col);return s<i&&a>o?t:s<i?s:a}function gIe(t,e,n){const r=Nn(sr,this).getHeaderTreeNodeData(e,t);if(!r)return t;const{columnCursor:i,selectionType:o,selectionWidth:s}=n,{isRoot:a,colspan:u}=Nn(sr,this).getHeaderSettings(e,t);if(o===CO){if(!a)return r.columnIndex}else if(o===lj&&(u>s-i||!a))return null;return t}function mIe(t,e,n){let{columnHeadersCount:r}=n;if(r!==0)for(let o=0;o<e.length;o++){const{startRow:s,startCol:a,endRow:u,endCol:c}=e[o],h=u-s+1,g=a-c+1;if(s>=0||g===1)break;for(let p=a;p<=c;p++)for(let v=s;v<=u;v++){var i;const y=h+v,R=p-a;if(R===0)continue;((i=Nn(sr,this).getHeaderTreeNodeData(v,p))===null||i===void 0?void 0:i.isRoot)===!1&&(t[y][R]="")}}}function pIe(t,e,n,r){this._getHeaderTreeNodeDataByCoords(e)&&(r.column=!0)}function vIe(t,e){const n=this._getHeaderTreeNodeDataByCoords(e);if(!n)return;vh(vv,this,e.clone()),vh(vR,this,!0);const{selection:r}=this.hot,i=r.isSelected()?r.getSelectedRange().current():null,o=[],{columnIndex:s,origColspan:a}=n,u=!r.inInSelection(e);t.shiftKey&&i?e.col<i.from.col?o.push(i.getTopEndCorner().col,s,e.row):e.col>i.from.col?o.push(i.getTopStartCorner().col,s+a-1,e.row):o.push(s,s+a-1,e.row):(oO(t)||Eh(t)&&u||Lue(t))&&o.push(s,s+a-1,e.row),r.selectColumns(...o)}function wIe(t,e,n,r){if(!this.hot.view.isMouseDown())return;const i=this._getHeaderTreeNodeDataByCoords(e);if(!i)return;const{columnIndex:o,origColspan:s}=i,a=this.hot.getSelectedRangeLast(),u=a.getTopStartCorner(),c=a.getBottomEndCorner(),{from:h}=a;r.column=!0,r.cell=!0;const g=[],p=or(e.row,-1/0,-1);e.col<h.col?g.push(c.col,o,p):e.col>h.col?g.push(u.col,o+s-1,p):g.push(o,o+s-1,p),this.hot.selection.selectColumns(...g)}function CIe(){vh(vR,this,!1)}function yIe(){const{navigableHeaders:t}=this.hot.getSettings();if(!this.hot.view.isMouseDown()||!Nn(vR,this)||!t)return;const e=this.hot.getSelectedRangeLast(),n=e.getTopStartCorner().col,r=e.getBottomEndCorner().col,{columnIndex:i,origColspan:o}=Nn(sr,this).getHeaderTreeNodeData(Nn(vv,this).row,Nn(vv,this).col);if(e.setHighlight(Nn(vv,this)),o>e.getWidth()||i<n||i+o-1>r){const s=Nn(sr,this).findTopMostEntireHeaderLevel(or(n,i,i+o-1),or(r,i,i+o-1));e.highlight.row=s,e.highlight.col=e.from.col}}function bIe(t){const{highlight:e}=this.hot.getSelectedRangeLast(),n=this.hot._createCellCoords(e.row+t.row,e.col+t.col);if(!(n.isHeader()&&n.col>=0))return;const i=Nn(sr,this).findLeftMostColumnIndex(n.row,n.col),o=Nn(sr,this).findRightMostColumnIndex(n.row,n.col);if(t.col<0){const s=e.col>=i&&e.col<=o?i-1:o,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(s,-1);a===null?t.col=-this.hot.view.countRenderableColumnsInRange(0,e.col):t.col=-Math.max(this.hot.view.countRenderableColumnsInRange(a,e.col)-1,1)}else if(t.col>0){const s=e.col>=i&&e.col<=o?o+1:i,a=this.hot.columnIndexMapper.getNearestNotHiddenIndex(s,1);a===null?t.col=this.hot.view.countRenderableColumnsInRange(e.col,this.hot.countCols()):t.col=Math.max(this.hot.view.countRenderableColumnsInRange(e.col,a)-1,1)}}function SIe(t,e){const n=t.row,r=this._getHeaderTreeNodeDataByCoords({row:n,col:t.col}),i=this._getHeaderTreeNodeDataByCoords({row:n,col:e.col});e.col<t.col?(r&&(t.col=r.columnIndex+r.origColspan-1),i&&(e.col=i.columnIndex)):e.col>=t.col&&(r&&(t.col=r.columnIndex),i&&(e.col=i.columnIndex+i.origColspan-1))}function RIe(t){t.length=0;for(let e=0;e<Nn(sr,this).getLayersCount();e++)t.push(this.headerRendererFactory(e))}function EIe(t){const e=Nn(sr,this).getLayersCount();let n=t.startColumn,r=!!e;for(let i=0;i<e;i++){const o=Nn(sr,this).findLeftMostColumnIndex(i,t.startColumn),s=this.hot.columnIndexMapper.getRenderableFromVisualIndex(o);if(o>=0&&(r=!1),bo(s)&&s<t.startColumn){n=s;break}}t.startColumn=r?Nn(sr,this).getHeaderTreeNodeData(0,n).columnIndex:n}function _Ie(t,e){const n=this.ghostTable.getWidth(e);return t>n?t:n}function MIe(t,e,n){var r;const{label:i}=(r=Nn(sr,this).getHeaderTreeNodeData(n,e))!==null&&r!==void 0?r:{label:""};return i}function TIe(t,e){if(t<0)return this.hot.getCell(t,Nn(sr,this).findLeftMostColumnIndex(t,e),!0)}function xIe(){this.updatePlugin()}function IIe(t,e){e||this.updatePlugin()}function Fp(t,e,n){return(e=OIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OIe(t){var e=PIe(t,"string");return typeof e=="symbol"?e:e+""}function PIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class AIe{constructor(e,n){Fp(this,"hot",void 0),Fp(this,"data",null),Fp(this,"plugin",void 0),Fp(this,"parentReference",new WeakMap),Fp(this,"cache",{levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}),this.hot=n,this.plugin=e}setData(e){this.data=e}getData(){return this.data}getRawSourceData(){let e=null;return this.plugin.disableCoreAPIModifiers(),e=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),e}updateWithData(e){this.setData(e),this.rewriteCache()}rewriteCache(){this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Mt(0,this.data.length-1,e=>{this.cacheNode(this.data[e],0,null)})}cacheNode(e,n,r){this.cache.levels[n]||(this.cache.levels[n]=[],this.cache.levelCount+=1),this.cache.levels[n].push(e),this.cache.rows.push(e),this.cache.nodeInfo.set(e,{parent:r,row:this.cache.rows.length-1,level:n}),this.hasChildren(e)&&ye(e.__children,i=>{this.cacheNode(i,n+1,e)})}getDataObject(e){return e==null?null:this.cache.rows[e]}readTreeNodes(e,n,r,i){let o=!1,s=n;if(isNaN(s)&&s.end)return s;let a=e;return a||(a={__children:this.data},o=!0,s-=1),r!=null&&s===r?{result:a,end:!0}:i!=null&&a===i?{result:s,end:!0}:(s+=1,a.__children&&ye(a.__children,u=>{if(this.parentReference.set(u,o?null:a),s=this.readTreeNodes(u,s,r,i),isNaN(s)&&s.end)return!1}),s)}mockParent(){const e=this.mockNode();return e.__children=this.data,e}mockNode(){const e={};return hn(this.data[0],(n,r)=>{e[r]=null}),e}getRowIndex(e){return e==null?null:this.cache.nodeInfo.get(e).row}getRowIndexWithinParent(e){let n=null;isNaN(e)?n=e:n=this.getDataObject(e);const r=this.getRowParent(e);return r==null?this.data.indexOf(n):r.__children.indexOf(n)}countAllRows(){const e={__children:this.data};return this.countChildren(e)}countChildren(e){let n=0,r=e;return isNaN(r)||(r=this.getDataObject(r)),!r||!r.__children?0:(ye(r.__children,i=>{n+=1,i.__children&&(n+=this.countChildren(i))}),n)}getRowParent(e){let n;return isNaN(e)?n=e:n=this.getDataObject(e),this.getRowObjectParent(n)}getRowObjectParent(e){return!e||typeof e!="object"?null:this.cache.nodeInfo.get(e).parent}getRowLevel(e){let n=null;return isNaN(e)?n=e:n=this.getDataObject(e),n?this.getRowObjectLevel(n):null}getRowObjectLevel(e){return e==null?null:this.cache.nodeInfo.get(e).level}hasChildren(e){let n=e;return isNaN(n)||(n=this.getDataObject(n)),!!(n.__children&&n.__children.length)}isChild(e){return this.getRowParent(e)!==null}getChild(e,n){var r;return((r=e.__children)===null||r===void 0?void 0:r[n])||null}isRowHighestLevel(e){return!this.isChild(e)}isParent(e){var n;let r=e;return isNaN(r)||(r=this.getDataObject(r)),r&&!!r.__children&&((n=r.__children)===null||n===void 0?void 0:n.length)!==0}addChild(e,n){let r=n;this.hot.runHooks("beforeAddChild",e,r);let i=null;e&&(i=this.getRowIndex(e)),this.hot.runHooks("beforeCreateRow",i+this.countChildren(e)+1,1);let o=e;e||(o=this.mockParent()),o.__children||(o.__children=[]),r||(r=this.mockNode()),o.__children.push(r),this.rewriteCache();const s=this.getRowIndex(r);this.hot.rowIndexMapper.insertIndexes(s,1),this.hot.runHooks("afterCreateRow",s,1),this.hot.runHooks("afterAddChild",e,r)}addChildAtIndex(e,n,r){let i=r,o;if(i||(i=this.mockNode()),this.hot.runHooks("beforeAddChild",e,i,n),e){const a=this.getRowIndex(e)+n+1;this.hot.runHooks("beforeCreateRow",a,1),e.__children.splice(n,null,i),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(e),"__children",e.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(a,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",a,1),o=a}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row_above",n,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),o=this.getRowIndex(this.data[n]);i=this.getDataObject(o),this.hot.runHooks("afterAddChild",e,i,n)}addSibling(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"below";const r=this.translateTrimmedRow(e),i=this.getRowParent(r),o=this.getRowIndexWithinParent(r);switch(n){case"below":this.addChildAtIndex(i,o+1,null);break;case"above":this.addChildAtIndex(i,o,null);break}}detachFromParent(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=null;const i=[];Array.isArray(e)?(Mt(e[0],e[2],p=>{const v=this.translateTrimmedRow(p);i.push(this.getDataObject(v))}),Mt(0,i.length-2,p=>{this.detachFromParent(i[p],!1)}),r=i[i.length-1]):r=e;const o=this.getRowIndex(r),s=this.countChildren(r),a=this.getRowIndexWithinParent(r),u=this.getRowParent(r),c=this.getRowParent(u),h=this.getRowIndex(c);let g=null;if(this.hot.runHooks("beforeDetachChild",u,r),a!=null){const p=Array.from(new Array(o+s+1).keys()).splice(-1*(s+1));if(this.hot.runHooks("beforeRemoveRow",o,s+1,p,this.plugin.pluginName),u.__children.splice(a,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",o,s+1,p,this.plugin.pluginName),c){g=h+this.countChildren(c);const v=this.getChild(c,this.countChildren(c)-1),y=this.getRowIndex(v);this.hot.runHooks("beforeCreateRow",y+1,s+1,this.plugin.pluginName),c.__children.push(r)}else g=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",g-2,s+1,this.plugin.pluginName),this.data.push(r)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",g-2,s+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",u,r,this.getRowIndex(r)),n&&this.hot.render()}filterData(e,n,r){const i=[];ye(r,o=>{i.push(this.getDataObject(o))}),ye(i,o=>{const s=this.getRowIndexWithinParent(o),a=this.getRowParent(o);a===null?this.data.splice(s,1):a.__children.splice(s,1)}),this.rewriteCache()}spliceData(e,n,r){const i=this.getDataObject(e-1);let o=null,s=e;i&&i.__children&&i.__children.length===0?(o=i,s=0):e<this.countAllRows()&&(o=this.getRowParent(e),s=this.getRowIndexWithinParent(e)),o?r?o.__children.splice(s,n,...r):o.__children.splice(s,n):r?this.data.splice(s,n,...r):this.data.splice(s,n),this.rewriteCache()}syncRowWithRawSource(e){let n=e,r=null;do r=this.getRowParent(r),r!==null&&(n=r);while(r!==null);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(n),"__children",n.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}moveRow(e,n,r,i){const o=n===this.hot.countRows(),s=this.getRowParent(e),a=this.getRowIndexWithinParent(e),u=s.__children.slice(a,a+1),c=e>n;let h=o?this.getRowParent(n-1):this.getRowParent(n);h==null&&(h=this.getRowParent(n-1)),h==null&&(h=this.getDataObject(n-1)),h?h.__children||(h.__children=[]):(h=this.getDataObject(n),h.__children=[]);const g=o||r||i?h.__children.length:this.getRowIndexWithinParent(n),p=s===h;h.__children.splice(g,0,u[0]),s.__children.splice(a+(c&&p?1:0),1),this.syncRowWithRawSource(s),p||this.syncRowWithRawSource(h)}translateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(e):e}untranslateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(e):e}}function aF(t,e,n){return(e=HIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HIe(t){var e=DIe(t,"string");return typeof e=="symbol"?e:e+""}function DIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class NA{constructor(e,n){aF(this,"hot",void 0),aF(this,"plugin",void 0),this.hot=n,this.plugin=e}}class Rl extends NA{static get CSS_CLASSES(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}constructor(e,n){super(e,n),this.dataManager=this.plugin.dataManager,this.collapsingUI=this.plugin.collapsingUI,this.rowHeaderWidthCache=null}appendLevelIndicators(e,n){const r=this.hot.toPhysicalRow(e),i=this.dataManager.getRowLevel(r),o=this.dataManager.getDataObject(r),s=n.getElementsByTagName("DIV")[0],a=s.querySelector("span.rowHeader"),u=s.querySelectorAll('[class^="ht_nesting"]'),c=this.hot.getSettings().ariaTags;if(ye(u,h=>{h&&s.removeChild(h)}),Qe(n,Rl.CSS_CLASSES.indicatorContainer),i){const{rootDocument:h}=this.hot,g=a.cloneNode(!0);s.innerHTML="",Mt(0,i-1,()=>{const p=h.createElement("SPAN");Qe(p,Rl.CSS_CLASSES.emptyIndicator),s.appendChild(p)}),s.appendChild(g)}if(this.dataManager.hasChildren(o)){const h=this.hot.rootDocument.createElement("DIV");c&&Lt(h,[jh()]),Qe(n,Rl.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(r)?(Qe(h,`${Rl.CSS_CLASSES.button} ${Rl.CSS_CLASSES.expandButton}`),c&&Lt(n,[zs(!1)])):(Qe(h,`${Rl.CSS_CLASSES.button} ${Rl.CSS_CLASSES.collapseButton}`),c&&Lt(n,[zs(!0)])),s.appendChild(h)}}updateRowHeaderWidth(e){let n=e;n||(n=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*n+25),this.hot.render()}}class NIe extends NA{constructor(e,n){var r;super(e,n),r=this,this.dataManager=this.plugin.dataManager,this.collapsedRows=[],this.collapsedRowsStash={stash:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;r.lastCollapsedRows=r.collapsedRows.slice(0),r.expandMultipleChildren(r.lastCollapsedRows,i)},shiftStash:function(i,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;o==null&&(o=1/0),ye(r.lastCollapsedRows,(a,u)=>{a>=i&&a<o&&(r.lastCollapsedRows[u]=a+s)})},applyStash:function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;r.collapseMultipleChildren(r.lastCollapsedRows,i),r.lastCollapsedRows=void 0},trimStash:(i,o)=>{Mt(i,i+o-1,s=>{const a=this.lastCollapsedRows.indexOf(s);a>-1&&this.lastCollapsedRows.splice(a,1)})}}}collapseChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];let o=null,s=null,a=null;return isNaN(e)?(o=e,s=this.dataManager.getRowIndex(o)):(o=this.dataManager.getDataObject(e),s=e),this.dataManager.hasChildren(o)&&ye(o.__children,u=>{i.push(this.dataManager.getRowIndex(u))}),a=this.collapseRows(i,!0,!1),r&&this.trimRows(a),n&&this.renderAndAdjust(),this.collapsedRows.indexOf(s)===-1&&this.collapsedRows.push(s),a}collapseMultipleChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];ye(e,o=>{i.push(...this.collapseChildren(o,!1,!1))}),r&&this.trimRows(i),n&&this.renderAndAdjust()}collapseRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.collapseRows([e],n)}collapseRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=[];return ye(e,o=>{i.push(o),n&&this.collapseChildRows(o,i)}),r&&this.trimRows(i),i}collapseChildRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){const i=this.dataManager.getDataObject(e);ye(i.__children,o=>{const s=this.dataManager.getRowIndex(o);n.push(s),this.collapseChildRows(s,n)})}r&&this.trimRows(n)}expandRow(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.expandRows([e],n)}expandRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=[];return ye(e,o=>{i.push(o),n&&this.expandChildRows(o,i)}),r&&this.untrimRows(i),i}expandChildRows(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.dataManager.hasChildren(e)){const i=this.dataManager.getDataObject(e);ye(i.__children,o=>{if(!this.isAnyParentCollapsed(o)){const s=this.dataManager.getRowIndex(o);n.push(s),this.expandChildRows(s,n)}})}r&&this.untrimRows(n)}expandChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];let o=null,s=null,a=null;return isNaN(e)?(o=e,s=this.dataManager.getRowIndex(e)):(o=this.dataManager.getDataObject(e),s=e),this.collapsedRows.splice(this.collapsedRows.indexOf(s),1),this.dataManager.hasChildren(o)&&ye(o.__children,u=>{const c=this.dataManager.getRowIndex(u);i.push(c)}),a=this.expandRows(i,!0,!1),r&&this.untrimRows(a),n&&this.renderAndAdjust(),a}expandMultipleChildren(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=[];ye(e,o=>{i.push(...this.expandChildren(o,!1,!1))}),r&&this.untrimRows(i),n&&this.renderAndAdjust()}collapseAll(){const e=this.dataManager.getData(),n=[];ye(e,r=>{this.dataManager.hasChildren(r)&&n.push(r)}),this.collapseMultipleChildren(n),this.renderAndAdjust()}expandAll(){const e=this.dataManager.getData(),n=[];ye(e,r=>{this.dataManager.hasChildren(r)&&n.push(r)}),this.expandMultipleChildren(n),this.renderAndAdjust()}trimRows(e){this.hot.batchExecution(()=>{ye(e,n=>{this.plugin.collapsedRowsMap.setValueAtIndex(n,!0)})},!0)}untrimRows(e){this.hot.batchExecution(()=>{ye(e,n=>{this.plugin.collapsedRowsMap.setValueAtIndex(n,!1)})},!0)}areChildrenCollapsed(e){let n=isNaN(e)?e:this.dataManager.getDataObject(e),r=!0;return n===null&&(n={__children:this.dataManager.data}),this.dataManager.hasChildren(n)&&ye(n.__children,i=>{const o=this.dataManager.getRowIndex(i);if(!this.plugin.collapsedRowsMap.getValueAtIndex(o))return r=!1,!1}),r}isAnyParentCollapsed(e){let n=e;for(;n!==null;){n=this.dataManager.getRowParent(n);const r=this.dataManager.getRowIndex(n);if(this.collapsedRows.indexOf(r)>-1)return!0}return!1}toggleState(e,n){if(n.col>=0)return;const r=this.translateTrimmedRow(n.row);Ft(e.target,Rl.CSS_CLASSES.button)&&(this.areChildrenCollapsed(r)?this.expandChildren(r):this.collapseChildren(r),$a(e))}translateTrimmedRow(e){return this.hot.toPhysicalRow(e)}untranslateTrimmedRow(e){return this.hot.toVisualRow(e)}renderAndAdjust(){this.hot.render(),this.hot.view.adjustElementsSize()}}function $Ie(t,e,n){LIe(t,e),e.set(t,n)}function LIe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kIe(t,e,n){return(e=FIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FIe(t){var e=VIe(t,"string");return typeof e=="symbol"?e:e+""}function VIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WIe(t,e){return t.get(BIe(t,e))}function BIe(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var lF=new WeakMap;class jIe extends NA{constructor(){super(...arguments),kIe(this,"dataManager",this.plugin.dataManager),$Ie(this,lF,{row_above:(e,n)=>{const r=n[n.length-1];this.dataManager.addSibling(r.start.row,"above")},row_below:(e,n)=>{const r=n[n.length-1];this.dataManager.addSibling(r.start.row,"below")}})}appendOptions(e){const n=[{key:"add_child",name(){return this.getTranslatedPhrase(hP)},callback:()=>{const r=this.dataManager.translateTrimmedRow(this.hot.getSelectedLast()[0]),i=this.dataManager.getDataObject(r);this.dataManager.addChild(i)},disabled:()=>{const r=this.hot.getSelectedLast();return!r||r[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{key:"detach_from_parent",name(){return this.getTranslatedPhrase(fP)},callback:()=>{this.dataManager.detachFromParent(this.hot.getSelectedLast())},disabled:()=>{const r=this.hot.getSelectedLast(),i=this.dataManager.translateTrimmedRow(r[0]);return!this.dataManager.getRowParent(i)||!r||r[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{name:"---------"}];return Mt(0,e.items.length-1,r=>{if(r===0)return ye(n,(i,o)=>{e.items.splice(r+o,0,i)}),!1}),this.modifyRowInsertingOptions(e)}modifyRowInsertingOptions(e){return Mt(0,e.items.length-1,n=>{const r=WIe(lF,this)[e.items[n].key];r!=null&&(e.items[n].callback=r)}),e}}function Cb(t,e,n){return(e=zIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zIe(t){var e=YIe(t,"string");return typeof e=="symbol"?e:e+""}function YIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class UIe{constructor(e){Cb(this,"plugin",void 0),Cb(this,"hot",void 0),Cb(this,"dataManager",void 0),Cb(this,"collapsingUI",void 0),this.plugin=e,this.hot=e.hot,this.dataManager=e.dataManager,this.collapsingUI=e.collapsingUI}onBeforeRowMove(e,n,r,i){if(this.displayAPICompatibilityWarning({rows:e,finalIndex:n,dropIndex:r,movePossible:i}))return!1;this.movedToCollapsed=!1;const s=r===this.hot.countRows(),a=s?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(r);let u=!0;const c=e.map(y=>{if(!u)return!1;const R=this.dataManager.translateTrimmedRow(y);return u=this.shouldAllowMoving(R,a),R}),h=c.indexOf(a)===-1;if(!u||!h)return!1;const g=this.getBaseParent(c),p=this.getTargetParent(s,a),v=g===p;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(p),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(c,a,v),this.moveRows(c,a,p),this.dataManager.rewriteCache(),this.moveCellsMeta(c,a),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",e,n,r,i,i&&this.isRowOrderChanged(e,n)),this.hot.render(),this.selectCells(e,r),!1}displayAPICompatibilityWarning(e){const{rows:n,finalIndex:r,dropIndex:i,movePossible:o}=e;let s=!1;return Sr(i)&&(er(tr`Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\x20
      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead.`),this.hot.runHooks("afterRowMove",n,r,i,o,!1),s=!0),s}shouldAllowMoving(e,n){return!(this.dataManager.isParent(e)||this.dataManager.isRowHighestLevel(e)||e===n||n===0)}getBaseParent(e){return this.dataManager.getRowParent(e[0])}getTargetParent(e,n){let r=this.dataManager.getRowParent(e?n-1:n);return r==null&&(r=this.dataManager.getRowParent(n-1)),r}shiftCollapsibleParentsLocations(e,n,r){r||(Math.max(...e)<=n?this.collapsingUI.collapsedRowsStash.shiftStash(e[0],n,-1*e.length):this.collapsingUI.collapsedRowsStash.shiftStash(n,e[0],e.length))}moveRows(e,n,r){const i=n===this.dataManager.getRowIndex(r)+this.dataManager.countChildren(r)+1;this.hot.batchRender(()=>{e.forEach(o=>{this.dataManager.moveRow(o,n,this.movedToCollapsed,i)})})}moveCellsMeta(e,n){const r=[],i=Math.max(...e)<n;e.forEach(o=>{r.push(this.hot.getCellMetaAtRow(o))}),this.hot.spliceCellsMeta(e[0],e.length),this.hot.spliceCellsMeta(n-(i?r.length:0),0,...r)}selectCells(e,n){const r=e.length;let i=0,o=0,s=null,a=null;if(this.movedToCollapsed){let u=null;e[r-1]<n?u=this.dataManager.translateTrimmedRow(n-r):u=this.dataManager.translateTrimmedRow(n);const c=this.dataManager.getRowParent(u===null?this.hot.countSourceRows()-1:u-1),h=this.dataManager.getRowIndex(c);i=this.dataManager.untranslateTrimmedRow(h),o=i}else e[r-1]<n?(o=n-1,i=o-r+1):(i=n,o=i+r-1);s=this.hot.selection,a=this.hot.countCols()-1,s.setRangeStart(this.hot._createCellCoords(i,0)),s.setRangeEnd(this.hot._createCellCoords(o,a),!0)}isRowOrderChanged(e,n){return e.some((r,i)=>r-i!==n)}}function GIe(t,e){tU(t,e),e.add(t)}function uF(t,e,n){tU(t,e),e.set(t,n)}function tU(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dT(t,e,n){return(e=KIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KIe(t){var e=qIe(t,"string");return typeof e=="symbol"?e:e+""}function qIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yb(t,e){return t.get(yi(t,e))}function r0(t,e,n){return t.set(yi(t,e),n),n}function yi(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const i0="nestedRows",XIe=300,cF=i0,ZIe="The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled.";var wR=new WeakMap,ig=new WeakMap,Ii=new WeakSet;class QIe extends qn{constructor(){super(...arguments),GIe(this,Ii),dT(this,"dataManager",null),dT(this,"headersUI",null),dT(this,"collapsedRowsMap",null),uF(this,wR,!1),uF(this,ig,!1)}static get PLUGIN_KEY(){return i0}static get PLUGIN_PRIORITY(){return XIe}isEnabled(){return!!this.hot.getSettings()[i0]}enablePlugin(){var e=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new hw),this.dataManager=new AIe(this,this.hot),this.collapsingUI=new NIe(this,this.hot),this.headersUI=new Rl(this,this.hot),this.contextMenuUI=new jIe(this,this.hot),this.rowMoveController=new UIe(this),this.addHook("afterInit",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yi(Ii,e,hOe).call(e,...r)}),this.addHook("beforeViewRender",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yi(Ii,e,fOe).call(e,...r)}),this.addHook("modifyRowData",function(){return e.onModifyRowData(...arguments)}),this.addHook("modifySourceLength",function(){return e.onModifySourceLength(...arguments)}),this.addHook("beforeDataSplice",function(){return e.onBeforeDataSplice(...arguments)}),this.addHook("filterData",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yi(Ii,e,tOe).call(e,...r)}),this.addHook("afterContextMenuDefaultOptions",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yi(Ii,e,nOe).call(e,...r)}),this.addHook("afterGetRowHeader",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yi(Ii,e,rOe).call(e,...r)}),this.addHook("beforeOnCellMouseDown",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yi(Ii,e,eOe).call(e,...r)}),this.addHook("beforeRemoveRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yi(Ii,e,sOe).call(e,...r)}),this.addHook("afterRemoveRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yi(Ii,e,oOe).call(e,...r)}),this.addHook("beforeAddChild",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yi(Ii,e,aOe).call(e,...r)}),this.addHook("afterAddChild",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yi(Ii,e,lOe).call(e,...r)}),this.addHook("beforeDetachChild",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yi(Ii,e,uOe).call(e,...r)}),this.addHook("afterDetachChild",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yi(Ii,e,cOe).call(e,...r)}),this.addHook("modifyRowHeaderWidth",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yi(Ii,e,iOe).call(e,...r)}),this.addHook("afterCreateRow",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yi(Ii,e,dOe).call(e,...r)}),this.addHook("beforeRowMove",function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return yi(Ii,e,JIe).call(e,...r)}),this.addHook("beforeLoadData",n=>yi(Ii,this,dF).call(this,n)),this.addHook("beforeUpdateData",n=>yi(Ii,this,dF).call(this,n)),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),this.unregisterShortcuts(),super.disablePlugin()}updatePlugin(){this.disablePlugin();const e=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(e),super.updatePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast(),n=this.collapsingUI.translateTrimmedRow(e.row);return this.collapsingUI.areChildrenCollapsed(n)?this.collapsingUI.expandChildren(n):this.collapsingUI.collapseChildren(n),!1},runOnlyIf:()=>{var e,n;const r=(e=this.hot.getSelectedRangeLast())===null||e===void 0?void 0:e.highlight;return r&&((n=this.hot.getSelectedRangeLast())===null||n===void 0?void 0:n.isSingle())&&this.hot.selection.isCellVisible(r)&&r.col===-1&&r.row>=0},group:cF,relativeToGroup:ed,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(cF)}disableCoreAPIModifiers(){r0(ig,this,!0)}enableCoreAPIModifiers(){r0(ig,this,!1)}onModifyRowData(e){if(!Yb(ig,this))return this.dataManager.getDataObject(e)}onModifySourceLength(){if(!Yb(ig,this))return this.dataManager.countAllRows()}onBeforeDataSplice(e,n,r){return Yb(ig,this)||this.dataManager.isRowHighestLevel(e)?!0:(this.dataManager.spliceData(e,n,r),!1)}destroy(){super.destroy()}}function JIe(t,e,n,r){return this.rowMoveController.onBeforeRowMove(t,e,n,r)}function eOe(t,e,n){this.collapsingUI.toggleState(t,e,n)}function tOe(t,e,n){return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(n[0],e),this.collapsingUI.collapsedRowsStash.shiftStash(n[0],null,-1*e),this.dataManager.filterData(t,e,n),r0(wR,this,!0),this.dataManager.getData().slice()}function nOe(t){return this.contextMenuUI.appendOptions(t)}function rOe(t,e){this.headersUI.appendLevelIndicators(t,e)}function iOe(t){return Math.max(this.headersUI.rowHeaderWidthCache,t)}function oOe(t,e,n,r){r!==this.pluginName&&this.hot._registerTimeout(()=>{r0(wR,this,!1),this.headersUI.updateRowHeaderWidth(),this.collapsingUI.collapsedRowsStash.applyStash()})}function sOe(t,e,n){const r=Array.from(n.reduce((i,o)=>{if(this.dataManager.isParent(o)){const s=this.dataManager.getDataObject(o).__children;return i.add(o),Array.isArray(s)&&s.forEach(a=>i.add(this.dataManager.getRowIndex(a))),i}return i.add(o)},new Set));n.length=0,n.push(...r)}function aOe(){this.collapsingUI.collapsedRowsStash.stash()}function lOe(t,e){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(e)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function uOe(){this.collapsingUI.collapsedRowsStash.stash()}function cOe(t,e,n){this.collapsingUI.collapsedRowsStash.shiftStash(n,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function dOe(){this.dataManager.rewriteCache()}function hOe(){this.headersUI.updateRowHeaderWidth()}function fOe(t,e){Yb(wR,this)&&(e.skipRender=!0)}function dF(t){if(!_ge(t)){aO(ZIe),this.hot.getSettings()[i0]=!1,this.disablePlugin();return}this.dataManager.setData(t),this.dataManager.rewriteCache()}function hT(t,e,n){return(e=gOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gOe(t){var e=mOe(t,"string");return typeof e=="symbol"?e:e+""}function mOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pOe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;hT(this,"rootWindow",void 0),hT(this,"prefix",void 0),hT(this,"savedKeys",[]),this.rootWindow=n,this.prefix=e,this.loadSavedKeys()}saveValue(e,n){this.rootWindow.localStorage.setItem(`${this.prefix}_${e}`,JSON.stringify(n)),this.savedKeys.indexOf(e)===-1&&(this.savedKeys.push(e),this.saveSavedKeys())}loadValue(e,n){const r=typeof e>"u"?n:e,i=this.rootWindow.localStorage.getItem(`${this.prefix}_${r}`);return i===null?void 0:JSON.parse(i)}reset(e){this.rootWindow.localStorage.removeItem(`${this.prefix}_${e}`)}resetAll(){ye(this.savedKeys,(e,n)=>{this.rootWindow.localStorage.removeItem(`${this.prefix}_${this.savedKeys[n]}`)}),this.clearSavedKeys()}loadSavedKeys(){const e=this.rootWindow.localStorage.getItem(`${this.prefix}__persistentStateKeys`),n=typeof e=="string"?JSON.parse(e):void 0;this.savedKeys=n||[]}saveSavedKeys(){this.rootWindow.localStorage.setItem(`${this.prefix}__persistentStateKeys`,JSON.stringify(this.savedKeys))}clearSavedKeys(){this.savedKeys.length=0,this.saveSavedKeys()}}function vOe(t,e,n){return(e=wOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wOe(t){var e=COe(t,"string");return typeof e=="symbol"?e:e+""}function COe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}mt.getSingleton().register("persistentStateSave");mt.getSingleton().register("persistentStateLoad");mt.getSingleton().register("persistentStateReset");const hF="persistentState",yOe=0;class bOe extends qn{constructor(){super(...arguments),vOe(this,"storage",void 0)}static get PLUGIN_KEY(){return hF}static get PLUGIN_PRIORITY(){return yOe}isEnabled(){return!!this.hot.getSettings()[hF]}enablePlugin(){this.enabled||(this.storage||(this.storage=new pOe(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",(e,n)=>this.saveValue(e,n)),this.addHook("persistentStateLoad",(e,n)=>this.loadValue(e,n)),this.addHook("persistentStateReset",()=>this.resetValue()),super.enablePlugin())}disablePlugin(){this.storage=void 0,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}loadValue(e,n){n.value=this.storage.loadValue(e)}saveValue(e,n){this.storage.saveValue(e,n)}resetValue(e){typeof e>"u"?this.storage.resetAll():this.storage.reset(e)}destroy(){super.destroy()}}function SOe(t,e){ROe(t,e),e.add(t)}function ROe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fT(t,e,n){return(e=EOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EOe(t){var e=_Oe(t,"string");return typeof e=="symbol"?e:e+""}function _Oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fF(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const gT="search",MOe=190,TOe="htSearchResult",xOe=function(t,e,n,r,i){t.getCellMeta(e,n).isSearchResult=i},IOe=function(t,e,n){return Sr(t)||t===null||!t.toLocaleLowerCase||t.length===0||Sr(e)||e===null?!1:e.toString().toLocaleLowerCase(n.locale).indexOf(t.toLocaleLowerCase(n.locale))!==-1};var mT=new WeakSet;class OOe extends qn{constructor(){super(...arguments),SOe(this,mT),fT(this,"callback",xOe),fT(this,"queryMethod",IOe),fT(this,"searchResultClass",TOe)}static get PLUGIN_KEY(){return gT}static get PLUGIN_PRIORITY(){return MOe}isEnabled(){return this.hot.getSettings()[gT]}enablePlugin(){var e=this;if(this.enabled)return;const n=this.hot.getSettings()[gT];this.updatePluginSettings(n),this.addHook("beforeRenderer",function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fF(mT,e,gF).call(e,...i)}),super.enablePlugin()}disablePlugin(){var e=this;const n=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fF(mT,e,gF).call(e,...i)};this.hot.addHook("beforeRenderer",n),this.hot.addHookOnce("afterViewRender",()=>{this.hot.removeHook("beforeRenderer",n)}),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}query(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getCallback(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getQueryMethod();const i=this.hot.countRows(),o=this.hot.countCols(),s=[],a=this.hot;return Mt(0,i-1,u=>{Mt(0,o-1,c=>{const h=this.hot.getDataAtCell(u,c),g=this.hot.getCellMeta(u,c),p=g.search.callback||n,y=(g.search.queryMethod||r)(e,h,g);if(y){const R={row:u,col:c,data:h};s.push(R)}p&&p(a,u,c,h,y)})}),s}getCallback(){return this.callback}setCallback(e){this.callback=e}getQueryMethod(){return this.queryMethod}setQueryMethod(e){this.queryMethod=e}getSearchResultClass(){return this.searchResultClass}setSearchResultClass(e){this.searchResultClass=e}updatePluginSettings(e){dn(e)&&(e.searchResultClass&&this.setSearchResultClass(e.searchResultClass),e.queryMethod&&this.setQueryMethod(e.queryMethod),e.callback&&this.setCallback(e.callback))}destroy(){super.destroy()}}function gF(t,e,n,r,i,o){const s=o.className||[];let a=[];typeof s=="string"?a=s.split(" "):a.push(...s),this.isEnabled()&&o.isSearchResult?a.includes(this.searchResultClass)||a.push(`${this.searchResultClass}`):a.includes(this.searchResultClass)&&a.splice(a.indexOf(this.searchResultClass),1),o.className=a.join(" ")}function POe(t,e){AOe(t,e),e.add(t)}function AOe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yb(t,e,n){return(e=HOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HOe(t){var e=DOe(t,"string");return typeof e=="symbol"?e:e+""}function DOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pT(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const NOe="touchScroll",$Oe=200;var bb=new WeakSet;class LOe extends qn{constructor(){super(...arguments),POe(this,bb),yb(this,"scrollbars",[]),yb(this,"clones",[]),yb(this,"lockedCollection",!1),yb(this,"freezeOverlays",!1)}static get PLUGIN_KEY(){return NOe}static get PLUGIN_PRIORITY(){return $Oe}static get SETTING_KEYS(){return!0}isEnabled(){return IB()}enablePlugin(){this.enabled||(this.addHook("afterViewRender",()=>pT(bb,this,kOe).call(this)),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.lockedCollection=!1,super.updatePlugin()}disablePlugin(){super.disablePlugin()}registerEvents(){this.addHook("beforeTouchScroll",()=>pT(bb,this,FOe).call(this)),this.addHook("afterMomentumScroll",()=>pT(bb,this,VOe).call(this))}}function kOe(){if(this.lockedCollection)return;const{topOverlay:t,bottomOverlay:e,inlineStartOverlay:n,topInlineStartCornerOverlay:r,bottomInlineStartCornerOverlay:i}=this.hot.view._wt.wtOverlays;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(t),e.clone&&this.scrollbars.push(e),this.scrollbars.push(n),r&&this.scrollbars.push(r),i&&i.clone&&this.scrollbars.push(i),this.clones=[],t.needFullRender&&this.clones.push(t.clone.wtTable.holder.parentNode),e.needFullRender&&this.clones.push(e.clone.wtTable.holder.parentNode),n.needFullRender&&this.clones.push(n.clone.wtTable.holder.parentNode),r&&this.clones.push(r.clone.wtTable.holder.parentNode),i&&i.clone&&this.clones.push(i.clone.wtTable.holder.parentNode)}function FOe(){this.freezeOverlays=!0,ye(this.clones,t=>{Qe(t,"hide-tween")})}function VOe(){this.freezeOverlays=!1,ye(this.clones,t=>{Zt(t,"hide-tween"),Qe(t,"show-tween")}),this.hot._registerTimeout(()=>{ye(this.clones,t=>{Zt(t,"show-tween")})},400),ye(this.scrollbars,t=>{t.refresh(),t.resetFixedPosition()}),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}function WOe(t,e){BOe(t,e),e.add(t)}function BOe(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jOe(t,e,n){return(e=zOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zOe(t){var e=YOe(t,"string");return typeof e=="symbol"?e:e+""}function YOe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UOe(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}const Ub="trimRows",GOe=330;var mF=new WeakSet;class KOe extends qn{constructor(){super(...arguments),WOe(this,mF),jOe(this,"trimmedRowsMap",null)}static get PLUGIN_KEY(){return Ub}static get PLUGIN_PRIORITY(){return GOe}isEnabled(){return!!this.hot.getSettings()[Ub]}enablePlugin(){this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new hw),this.trimmedRowsMap.addLocalHook("init",()=>UOe(mF,this,qOe).call(this)),super.enablePlugin())}updatePlugin(){const e=this.hot.getSettings()[Ub];Array.isArray(e)&&this.hot.batchExecution(()=>{this.trimmedRowsMap.clear(),ye(e,n=>{this.trimmedRowsMap.setValueAtIndex(n,!0)})},!0),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("trimRows"),super.disablePlugin()}getTrimmedRows(){return this.trimmedRowsMap.getTrimmedIndexes()}trimRows(e){const n=this.getTrimmedRows(),r=this.isValidConfig(e);let i=n;r&&(i=Array.from(new Set(n.concat(e)))),this.hot.runHooks("beforeTrimRow",n,i,r)!==!1&&(r&&this.hot.batchExecution(()=>{ye(e,s=>{this.trimmedRowsMap.setValueAtIndex(s,!0)})},!0),this.hot.runHooks("afterTrimRow",n,i,r,r&&i.length>n.length))}trimRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.trimRows(n)}untrimRows(e){const n=this.getTrimmedRows(),r=this.isValidConfig(e);let i=n;const o=this.trimmedRowsMap.getValues().slice(),s=e.length>0;r&&s&&(ye(e,u=>{o[u]=!1}),i=Eo(o,(u,c,h)=>(c&&u.push(h),u),[])),this.hot.runHooks("beforeUntrimRow",n,i,r&&s)!==!1&&(r&&s&&this.trimmedRowsMap.setValues(o),this.hot.runHooks("afterUntrimRow",n,i,r&&s,r&&i.length<n.length))}untrimRow(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this.untrimRows(n)}isTrimmed(e){return this.trimmedRowsMap.getValueAtIndex(e)||!1}untrimAll(){this.untrimRows(this.getTrimmedRows())}isValidConfig(e){const n=this.hot.countSourceRows();return e.every(r=>Number.isInteger(r)&&r>=0&&r<n)}destroy(){super.destroy()}}function qOe(){const t=this.hot.getSettings()[Ub];Array.isArray(t)&&this.hot.batchExecution(()=>{ye(t,e=>{this.trimmedRowsMap.setValueAtIndex(e,!0)})},!0)}var nU={},XOe=Xc,ZOe=nU,QOe=XOe("iterator"),JOe=Array.prototype,ePe=function(t){return t!==void 0&&(ZOe.Array===t||JOe[QOe]===t)},tPe=V2,pF=T0,nPe=S0,rPe=nU,iPe=Xc,oPe=iPe("iterator"),rU=function(t){if(!nPe(t))return pF(t,oPe)||pF(t,"@@iterator")||rPe[tPe(t)]},sPe=Da,aPe=Kv,lPe=$u,uPe=M0,cPe=rU,dPe=TypeError,hPe=function(t,e){var n=arguments.length<2?cPe(t):e;if(aPe(n))return lPe(sPe(n,t));throw new dPe(uPe(t)+" is not iterable")},fPe=nW,gPe=Da,mPe=$u,pPe=M0,vPe=ePe,wPe=Qv,vF=E0,CPe=hPe,yPe=rU,wF=RI,bPe=TypeError,Gb=function(t,e){this.stopped=t,this.result=e},CF=Gb.prototype,SPe=function(t,e,n){var r=n&&n.that,i=!!(n&&n.AS_ENTRIES),o=!!(n&&n.IS_RECORD),s=!!(n&&n.IS_ITERATOR),a=!!(n&&n.INTERRUPTED),u=fPe(e,r),c,h,g,p,v,y,R,S=function(x){return c&&wF(c,"normal",x),new Gb(!0,x)},T=function(x){return i?(mPe(x),a?u(x[0],x[1],S):u(x[0],x[1])):a?u(x,S):u(x)};if(o)c=t.iterator;else if(s)c=t;else{if(h=yPe(t),!h)throw new bPe(pPe(t)+" is not iterable");if(vPe(h)){for(g=0,p=wPe(t);p>g;g++)if(v=T(t[g]),v&&vF(CF,v))return v;return new Gb(!1)}c=CPe(t,h)}for(y=o?t.next:c.next;!(R=gPe(y,c)).done;){try{v=T(R.value)}catch(x){wF(c,"throw",x)}if(typeof v=="object"&&v&&vF(CF,v))return v}return new Gb(!1)},RPe=Ha,EPe=Zc,_Pe=b0,MPe=function(t,e,n){RPe?EPe.f(t,e,_Pe(0,n)):t[e]=n},TPe=Yi,xPe=SPe,IPe=MPe;TPe({target:"Object",stat:!0},{fromEntries:function(e){var n={};return xPe(e,function(r,i){IPe(n,r,i)},{AS_ENTRIES:!0}),n}});const iU="undoRedo",OPe="undoRedo";function st(t){const e=this;this.instance=t,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,t.addHook("afterChange",function(r,i){const o=r&&r.length;if(!o||!r.find(u=>{const[,,c,h]=u;return c!==h}))return;const a=()=>{const u=r.reduce((h,g)=>(h.push([...g]),h),[]);ye(u,h=>{h[1]=t.propToCol(h[1])});const c=o>1?this.getSelected():[[u[0][0],u[0][1]]];return new st.ChangeAction(u,c)};e.done(a,i)}),t.addHook("afterCreateRow",(r,i,o)=>{e.done(()=>new st.CreateRowAction(r,i),o)});const n=(r,i,o,s)=>{const a=["visualRow","visualCol","row","col","prop"],u=a.length,c=[];return Mt(o,s,h=>{Mt(r,i,g=>{const p=t.getCellMeta(g,h);if(Object.keys(p).length!==u){const v=Object.fromEntries(Object.entries(p).filter(y=>{let[R]=y;return a.includes(R)===!1}));c.push([p.visualRow,p.visualCol,v])}})}),c};t.addHook("beforeRemoveRow",(r,i,o,s)=>{const a=()=>{const u=t.toPhysicalRow(r),c=u+i-1,h=Ro(e.instance.getSourceData(u,0,u+i-1,e.instance.countSourceCols()-1));return new st.RemoveRowAction(u,h,t.getSettings().fixedRowsBottom,t.getSettings().fixedRowsTop,t.rowIndexMapper.getIndexesSequence(),n(u,c,0,t.countCols()-1))};e.done(a,s)}),t.addHook("afterCreateCol",(r,i,o)=>{e.done(()=>new st.CreateColumnAction(r,i),o)}),t.addHook("beforeRemoveCol",(r,i,o,s)=>{const a=()=>{const u=e.instance.getSourceDataArray(),c=(e.instance.countCols()+r)%e.instance.countCols(),h=c+i-1,g=[],p=[],v=[];Mt(u.length-1,S=>{const T=[],x=u[S];Mt(c,h,O=>{T.push(x[t.toPhysicalColumn(O)])}),g.push(T)}),Mt(i-1,S=>{v.push(t.toPhysicalColumn(c+S))}),Array.isArray(t.getSettings().colHeaders)&&Mt(i-1,S=>{p.push(t.getSettings().colHeaders[t.toPhysicalColumn(c+S)]||null)});const y=t.columnIndexMapper.getIndexesSequence(),R=t.rowIndexMapper.getIndexesSequence();return new st.RemoveColumnAction(c,v,g,p,y,R,t.getSettings().fixedColumnsStart,n(0,t.countRows(),c,h))};e.done(a,s)}),t.addHook("beforeCellAlignment",(r,i,o,s)=>{e.done(()=>new st.CellAlignmentAction(r,i,o,s))}),t.addHook("beforeFilter",(r,i)=>{e.done(()=>new st.FiltersAction(r,i))}),t.addHook("beforeRowMove",(r,i)=>{r!==!1&&e.done(()=>new st.RowMoveAction(r,i))}),t.addHook("beforeColumnMove",(r,i)=>{r!==!1&&e.done(()=>new st.ColumnMoveAction(r,i))}),t.addHook("beforeMergeCells",(r,i)=>{i||e.done(()=>new st.MergeCellsAction(t,r))}),t.addHook("afterUnmergeCells",(r,i)=>{i||e.done(()=>new st.UnmergeCellsAction(t,r))}),t.addHook("beforeColumnSort",(r,i,o)=>{o&&e.done(()=>new st.ColumnSortAction(r,i))}),t.addHook("afterInit",()=>{e.init()})}st.prototype.done=function(t,e){if(this.ignoreNewActions||e==="UndoRedo.undo"||e==="UndoRedo.redo"||e==="auto")return;const r=this.doneActions.slice();if(this.instance.runHooks("beforeUndoStackChange",r,e)===!1)return;const o=t(),s=this.undoneActions.slice();this.doneActions.push(o),this.instance.runHooks("afterUndoStackChange",r,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",s),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",s,this.undoneActions.slice())};st.prototype.undo=function(){if(this.isUndoAvailable()){const t=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",t);const e=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",t,this.doneActions.slice());const n=Ro(e);if(this.instance.runHooks("beforeUndo",n)===!1)return;this.ignoreNewActions=!0;const i=this,o=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",o),e.undo(this.instance,()=>{i.ignoreNewActions=!1,i.undoneActions.push(e)}),this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice()),this.instance.runHooks("afterUndo",n)}};st.prototype.redo=function(){if(this.isRedoAvailable()){const t=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",t);const e=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",t,this.undoneActions.slice());const n=Ro(e);if(this.instance.runHooks("beforeRedo",n)===!1)return;this.ignoreNewActions=!0;const i=this,o=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",o),e.redo(this.instance,()=>{i.ignoreNewActions=!1,i.doneActions.push(e)}),this.instance.runHooks("afterUndoStackChange",o,this.doneActions.slice()),this.instance.runHooks("afterRedo",n)}};st.prototype.isUndoAvailable=function(){return this.doneActions.length>0};st.prototype.isRedoAvailable=function(){return this.undoneActions.length>0};st.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0};st.prototype.isEnabled=function(){return this.enabled};st.prototype.enable=function(){if(this.isEnabled())return;const t=this.instance;this.enabled=!0,HPe(t),this.registerShortcuts(),t.addHook("afterChange",oU)};st.prototype.disable=function(){if(!this.isEnabled())return;const t=this.instance;this.enabled=!1,DPe(t),this.unregisterShortcuts(),t.removeHook("afterChange",oU)};st.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null};st.Action=function(){};st.Action.prototype.undo=function(){};st.Action.prototype.redo=function(){};st.ChangeAction=function(t,e){this.changes=t,this.selected=e,this.actionType="change"};Vl(st.ChangeAction,st.Action);st.ChangeAction.prototype.undo=function(t,e){const n=Ro(this.changes),r=t.countEmptyRows(!0),i=t.countEmptyCols(!0);for(let s=0,a=n.length;s<a;s++)n[s].splice(3,1);t.addHookOnce("afterChange",e),t.setDataAtCell(n,null,null,"UndoRedo.undo");for(let s=0,a=n.length;s<a;s++){const[u,c]=n[s];t.getSettings().minSpareRows&&u+1+t.getSettings().minSpareRows===t.countRows()&&r===t.getSettings().minSpareRows&&(t.alter("remove_row",parseInt(u+1,10),t.getSettings().minSpareRows),t.undoRedo.doneActions.pop()),t.getSettings().minSpareCols&&c+1+t.getSettings().minSpareCols===t.countCols()&&i===t.getSettings().minSpareCols&&(t.alter("remove_col",parseInt(c+1,10),t.getSettings().minSpareCols),t.undoRedo.doneActions.pop())}const o=t.getSelectedLast();if(o!==void 0){const[s,a]=n[0],[u,c]=o,h=t.view.getFirstFullyVisibleRow(),g=t.view.getFirstFullyVisibleColumn(),p=s>=h,v=a>=g;if((p&&v)===!1&&(u!==s||c!==a)===!0){const S={row:s,col:a};p===!1&&(S.verticalSnap="top"),v===!1&&(S.horizontalSnap="start"),t.scrollViewportTo(S)}}t.selectCells(this.selected,!1,!1)};st.ChangeAction.prototype.redo=function(t,e){const n=Ro(this.changes);for(let r=0,i=n.length;r<i;r++)n[r].splice(2,1);t.addHookOnce("afterChange",e),t.setDataAtCell(n,null,null,"UndoRedo.redo"),this.selected&&t.selectCells(this.selected,!1,!1)};st.CreateRowAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_row"};Vl(st.CreateRowAction,st.Action);st.CreateRowAction.prototype.undo=function(t,e){const n=t.countRows(),r=t.getSettings().minSpareRows;this.index>=n&&this.index-r<n&&(this.index-=r),t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.amount,"UndoRedo.undo")};st.CreateRowAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateRow",e),t.alter("insert_row_above",this.index,this.amount,"UndoRedo.redo")};st.RemoveRowAction=function(t,e,n,r,i,o){this.index=t,this.data=e,this.actionType="remove_row",this.fixedRowsBottom=n,this.fixedRowsTop=r,this.rowIndexesSequence=i,this.removedCellMetas=o};Vl(st.RemoveRowAction,st.Action);st.RemoveRowAction.prototype.undo=function(t,e){const n=t.getSettings(),r=[];n.fixedRowsBottom=this.fixedRowsBottom,n.fixedRowsTop=this.fixedRowsTop,this.data.forEach((i,o)=>{Object.keys(i).forEach(s=>{const a=parseInt(s,10);r.push([this.index+o,isNaN(a)?s:a,i[s]])})}),t.alter("insert_row_above",this.index,this.data.length,"UndoRedo.undo"),this.removedCellMetas.forEach(i=>{let[o,s,a]=i;t.setCellMetaObject(o,s,a)}),t.addHookOnce("afterViewRender",e),t.setSourceDataAtCell(r,null,null,"UndoRedo.undo"),t.rowIndexMapper.setIndexesSequence(this.rowIndexesSequence)};st.RemoveRowAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")};st.CreateColumnAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_col"};Vl(st.CreateColumnAction,st.Action);st.CreateColumnAction.prototype.undo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.undo")};st.CreateColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateCol",e),t.alter("insert_col_start",this.index,this.amount,"UndoRedo.redo")};st.RemoveColumnAction=function(t,e,n,r,i,o,s,a){this.index=t,this.indexes=e,this.data=n,this.amount=this.data[0].length,this.headers=r,this.columnPositions=i.slice(0),this.rowPositions=o.slice(0),this.actionType="remove_col",this.fixedColumnsStart=s,this.removedCellMetas=a};Vl(st.RemoveColumnAction,st.Action);st.RemoveColumnAction.prototype.undo=function(t,e){const n=t.getSettings();n.fixedColumnsStart=this.fixedColumnsStart;const r=this.indexes.slice(0).sort(),i=(c,h,g)=>g[this.indexes.indexOf(r[h])],o=this.data.length,s=[];for(let c=0;c<o;c++)s.push(_n(this.data[c],i));const a=_n(this.headers,i),u=[];t.alter("insert_col_start",this.indexes[0],this.indexes.length,"UndoRedo.undo"),ye(t.getSourceDataArray(),(c,h)=>{ye(r,(g,p)=>{c[g]=s[h][p],u.push([h,g,c[g]])})}),t.setSourceDataAtCell(u,void 0,void 0,"UndoRedo.undo"),typeof this.headers<"u"&&ye(a,(c,h)=>{t.getSettings().colHeaders[r[h]]=c}),this.removedCellMetas.forEach(c=>{let[h,g,p]=c;t.setCellMetaObject(h,g,p)}),t.batchExecution(()=>{t.rowIndexMapper.setIndexesSequence(this.rowPositions),t.columnIndexMapper.setIndexesSequence(this.columnPositions)},!0),t.addHookOnce("afterViewRender",e),t.render()};st.RemoveColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.redo")};st.CellAlignmentAction=function(t,e,n,r){this.stateBefore=t,this.range=e,this.type=n,this.alignment=r};st.CellAlignmentAction.prototype.undo=function(t,e){ye(this.range,n=>{n.forAll((r,i)=>{r>=0&&i>=0&&t.setCellMeta(r,i,"className",this.stateBefore[r][i]||" htLeft")})}),t.addHookOnce("afterViewRender",e),t.render()};st.CellAlignmentAction.prototype.redo=function(t,e){vc(this.range,this.type,this.alignment,(n,r)=>t.getCellMeta(n,r),(n,r,i,o)=>t.setCellMeta(n,r,i,o)),t.addHookOnce("afterViewRender",e),t.render()};st.FiltersAction=function(t,e){this.previousConditionsStack=e,this.conditionsStack=t,this.actionType="filter"};Vl(st.FiltersAction,st.Action);st.FiltersAction.prototype.undo=function(t,e){const n=t.getPlugin("filters");t.addHookOnce("afterViewRender",e),this.previousConditionsStack&&n.conditionCollection.importAllConditions(this.previousConditionsStack),n.filter()};st.FiltersAction.prototype.redo=function(t,e){const n=t.getPlugin("filters");t.addHookOnce("afterViewRender",e),n.conditionCollection.importAllConditions(this.conditionsStack),n.filter()};class PPe extends st.Action{constructor(e,n){super(),this.cellRange=n;const r=this.cellRange.getTopStartCorner(),i=this.cellRange.getBottomEndCorner();this.rangeData=e.getData(r.row,r.col,i.row,i.col)}undo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.unmergeRange(this.cellRange,!0);const i=this.cellRange.getTopStartCorner();e.populateFromArray(i.row,i.col,this.rangeData,void 0,void 0,"MergeCells")}redo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.mergeRange(this.cellRange)}}st.MergeCellsAction=PPe;class APe extends st.Action{constructor(e,n){super(),this.cellRange=n}undo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.mergeRange(this.cellRange,!0)}redo(e,n){const r=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",n),r.unmergeRange(this.cellRange,!0),e.render()}}st.UnmergeCellsAction=APe;st.RowMoveAction=function(t,e){this.rows=t.slice(),this.finalRowIndex=e,this.actionType="row_move"};Vl(st.RowMoveAction,st.Action);st.RowMoveAction.prototype.undo=function(t,e){const n=t.getPlugin("manualRowMove");t.addHookOnce("afterViewRender",e),OA(this.rows,this.finalRowIndex,t.rowIndexMapper.getNumberOfIndexes()).reverse().forEach(i=>{let{from:o,to:s}=i;o<s&&(s-=1),n.moveRow(s,o)}),t.render(),t.deselectCell(),t.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)};st.RowMoveAction.prototype.redo=function(t,e){const n=t.getPlugin("manualRowMove");t.addHookOnce("afterViewRender",e),n.moveRows(this.rows.slice(),this.finalRowIndex),t.render(),t.deselectCell(),t.selectRows(this.finalRowIndex,this.finalRowIndex+this.rows.length-1)};st.ColumnMoveAction=function(t,e){this.columns=t.slice(),this.finalColumnIndex=e,this.actionType="col_move"};Vl(st.ColumnMoveAction,st.Action);st.ColumnMoveAction.prototype.undo=function(t,e){const n=t.getPlugin("manualColumnMove");t.addHookOnce("afterViewRender",e),OA(this.columns,this.finalColumnIndex,t.columnIndexMapper.getNumberOfIndexes()).reverse().forEach(i=>{let{from:o,to:s}=i;o<s&&(s-=1),n.moveColumn(s,o)}),t.render(),t.deselectCell(),t.selectColumns(this.columns[0],this.columns[0]+this.columns.length-1)};st.ColumnMoveAction.prototype.redo=function(t,e){const n=t.getPlugin("manualColumnMove");t.addHookOnce("afterViewRender",e),n.moveColumns(this.columns.slice(),this.finalColumnIndex),t.render(),t.deselectCell(),t.selectColumns(this.finalColumnIndex,this.finalColumnIndex+this.columns.length-1)};st.ColumnSortAction=function(t,e){this.previousSortState=t,this.nextSortState=e};Vl(st.ColumnSortAction,st.Action);st.ColumnSortAction.prototype.undo=function(t,e){const n=t.getPlugin("columnSorting"),r=t.getPlugin("multiColumnSorting"),i=r.isEnabled()?r:n;this.previousSortState.length?i.sort(this.previousSortState):i.clearSort(),e()};st.ColumnSortAction.prototype.redo=function(t,e){const n=t.getPlugin("columnSorting"),r=t.getPlugin("multiColumnSorting");(r.isEnabled()?r:n).sort(this.nextSortState),e()};st.prototype.init=function(){const t=this.instance.getSettings().undo,e=typeof t>"u"||t;this.instance.undoRedo||(this.instance.undoRedo=this),e?this.instance.undoRedo.enable():this.instance.undoRedo.disable()};st.prototype.registerShortcuts=function(){const e=this.instance.getShortcutManager().getContext("grid"),r={runOnlyIf:i=>!i.altKey,group:iU};e.addShortcuts([{keys:[["Control/Meta","z"]],callback:()=>{this.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:()=>{this.redo()}}],r)};st.prototype.unregisterShortcuts=function(){this.instance.getShortcutManager().getContext("grid").removeShortcutsByGroup(iU)};function oU(t,e){const n=this;if(e==="loadData")return n.undoRedo.clear()}function HPe(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}function DPe(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}const bw=mt.getSingleton();bw.add("afterUpdateSettings",function(){var t;(t=this.getPlugin("undoRedo"))===null||t===void 0||t.init()});bw.register("beforeUndo");bw.register("afterUndo");bw.register("beforeRedo");bw.register("afterRedo");st.PLUGIN_KEY=OPe;st.SETTING_KEYS=!0;function NPe(){jn(ev),jn(cye),jn(tv),jn(zye),jn(Qye),jn(Iz),jn(Ube),jn(PSe),jn(hR),jn(X0e),jn(SRe),jn(ORe),jn(mR),jn(iEe),jn(n1e),jn(H1e),jn(oMe),jn(pMe),jn(xMe),jn(FMe),jn(qMe),jn(fTe),jn(STe),jn(txe),jn(Nxe),jn(Vxe),jn(hIe),jn(QIe),jn(bOe),jn(OOe),jn(LOe),jn(KOe),jn(st)}function $Pe(){Fwe(),rCe(),hCe(),ACe(),NPe()}var o0={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */o0.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",g=1,p=2,v=4,y=1,R=2,S=1,T=2,x=4,O=8,A=16,H=32,L=64,F=128,j=256,z=512,Y=30,K="...",X=800,se=16,ne=1,J=2,re=3,ae=1/0,G=9007199254740991,oe=17976931348623157e292,te=NaN,C=4294967295,E=C-1,I=C>>>1,$=[["ary",F],["bind",S],["bindKey",T],["curry",O],["curryRight",A],["flip",z],["partial",H],["partialRight",L],["rearg",j]],N="[object Arguments]",Z="[object Array]",ue="[object AsyncFunction]",me="[object Boolean]",Me="[object Date]",be="[object DOMException]",le="[object Error]",Ee="[object Function]",_e="[object GeneratorFunction]",ee="[object Map]",De="[object Number]",Ae="[object Null]",Pe="[object Object]",Be="[object Promise]",je="[object Proxy]",k="[object RegExp]",V="[object Set]",q="[object String]",fe="[object Symbol]",Q="[object Undefined]",we="[object WeakMap]",ce="[object WeakSet]",ie="[object ArrayBuffer]",ve="[object DataView]",pe="[object Float32Array]",ge="[object Float64Array]",$e="[object Int8Array]",Fe="[object Int16Array]",Ie="[object Int32Array]",xe="[object Uint8Array]",ze="[object Uint8ClampedArray]",Ge="[object Uint16Array]",Oe="[object Uint32Array]",Ye=/\b__p \+= '';/g,wt=/\b(__p \+=) '' \+/g,sn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Nt=/&(?:amp|lt|gt|quot|#39);/g,In=/[&<>"']/g,wn=RegExp(Nt.source),At=RegExp(In.source),qe=/<%-([\s\S]+?)%>/g,Ut=/<%([\s\S]+?)%>/g,Yt=/<%=([\s\S]+?)%>/g,qt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$n=/^\w*$/,_t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zn=/[\\^$.*+?()[\]{}|]/g,it=RegExp(zn.source),ft=/^\s+/,Rt=/\s/,ht=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Tt=/\{\n\/\* \[wrapped with (.+)\] \*/,Xt=/,? & /,Ln=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tn=/[()=,{}\[\]\/\s]/,kn=/\\(\\)?/g,Gt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Mn=/\w*$/,Dr=/^[-+]0x[0-9a-f]+$/i,ci=/^0b[01]+$/i,di=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,Ve=/^(?:0|[1-9]\d*)$/,de=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ne=/($^)/,et=/['\n\r\u2028\u2029\\]/g,Dt="\\ud800-\\udfff",An="\\u0300-\\u036f",Xn="\\ufe20-\\ufe2f",Vt="\\u20d0-\\u20ff",Pr=An+Xn+Vt,Hn="\\u2700-\\u27bf",Ni="a-z\\xdf-\\xf6\\xf8-\\xff",Mo="\\xac\\xb1\\xd7\\xf7",ka="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fa="\\u2000-\\u206f",Wl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Va="A-Z\\xc0-\\xd6\\xd8-\\xde",Wa="\\ufe0e\\ufe0f",Ba=Mo+ka+Fa+Wl,qo="['’]",vs="["+Dt+"]",on="["+Ba+"]",$t="["+Pr+"]",Nr="\\d+",$r="["+Hn+"]",ur="["+Ni+"]",vt="[^"+Dt+Ba+Nr+Hn+Ni+Va+"]",St="\\ud83c[\\udffb-\\udfff]",Zn="(?:"+$t+"|"+St+")",pr="[^"+Dt+"]",_r="(?:\\ud83c[\\udde6-\\uddff]){2}",so="[\\ud800-\\udbff][\\udc00-\\udfff]",ao="["+Va+"]",Jt="\\u200d",Wt="(?:"+ur+"|"+vt+")",an="(?:"+ao+"|"+vt+")",Mr="(?:"+qo+"(?:d|ll|m|re|s|t|ve))?",Gi="(?:"+qo+"(?:D|LL|M|RE|S|T|VE))?",Uh=Zn+"?",Gh="["+Wa+"]?",CR="(?:"+Jt+"(?:"+[pr,_r,so].join("|")+")"+Gh+Uh+")*",Sw="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yR="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Rw=Gh+Uh+CR,bR="(?:"+[$r,_r,so].join("|")+")"+Rw,SR="(?:"+[pr+$t+"?",$t,_r,so,vs].join("|")+")",RR=RegExp(qo,"g"),ER=RegExp($t,"g"),om=RegExp(St+"(?="+St+")|"+SR+Rw,"g"),_R=RegExp([ao+"?"+ur+"+"+Mr+"(?="+[on,ao,"$"].join("|")+")",an+"+"+Gi+"(?="+[on,ao+Wt,"$"].join("|")+")",ao+"?"+Wt+"+"+Mr,ao+"+"+Gi,yR,Sw,Nr,bR].join("|"),"g"),MR=RegExp("["+Jt+Dt+Pr+Wa+"]"),TR=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xR=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],IR=-1,vr={};vr[pe]=vr[ge]=vr[$e]=vr[Fe]=vr[Ie]=vr[xe]=vr[ze]=vr[Ge]=vr[Oe]=!0,vr[N]=vr[Z]=vr[ie]=vr[me]=vr[ve]=vr[Me]=vr[le]=vr[Ee]=vr[ee]=vr[De]=vr[Pe]=vr[k]=vr[V]=vr[q]=vr[we]=!1;var cr={};cr[N]=cr[Z]=cr[ie]=cr[ve]=cr[me]=cr[Me]=cr[pe]=cr[ge]=cr[$e]=cr[Fe]=cr[Ie]=cr[ee]=cr[De]=cr[Pe]=cr[k]=cr[V]=cr[q]=cr[fe]=cr[xe]=cr[ze]=cr[Ge]=cr[Oe]=!0,cr[le]=cr[Ee]=cr[we]=!1;var OR={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},sm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},am={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},PR={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ew=parseFloat,_w=parseInt,Mw=typeof Ai=="object"&&Ai&&Ai.Object===Object&&Ai,AR=typeof self=="object"&&self&&self.Object===Object&&self,mi=Mw||AR||Function("return this")(),lm=e&&!e.nodeType&&e,ja=lm&&!0&&t&&!t.nodeType&&t,wr=ja&&ja.exports===lm,Bl=wr&&Mw.process,Ei=function(){try{var Re=ja&&ja.require&&ja.require("util").types;return Re||Bl&&Bl.binding&&Bl.binding("util")}catch{}}(),Tw=Ei&&Ei.isArrayBuffer,um=Ei&&Ei.isDate,xw=Ei&&Ei.isMap,Iw=Ei&&Ei.isRegExp,td=Ei&&Ei.isSet,qs=Ei&&Ei.isTypedArray;function $i(Re,We,He){switch(He.length){case 0:return Re.call(We);case 1:return Re.call(We,He[0]);case 2:return Re.call(We,He[0],He[1]);case 3:return Re.call(We,He[0],He[1],He[2])}return Re.apply(We,He)}function HR(Re,We,He,pt){for(var Kt=-1,Bn=Re==null?0:Re.length;++Kt<Bn;){var ti=Re[Kt];We(pt,ti,He(ti),Re)}return pt}function Gr(Re,We){for(var He=-1,pt=Re==null?0:Re.length;++He<pt&&We(Re[He],He,Re)!==!1;);return Re}function DR(Re,We){for(var He=Re==null?0:Re.length;He--&&We(Re[He],He,Re)!==!1;);return Re}function Kh(Re,We){for(var He=-1,pt=Re==null?0:Re.length;++He<pt;)if(!We(Re[He],He,Re))return!1;return!0}function za(Re,We){for(var He=-1,pt=Re==null?0:Re.length,Kt=0,Bn=[];++He<pt;){var ti=Re[He];We(ti,He,Re)&&(Bn[Kt++]=ti)}return Bn}function qh(Re,We){var He=Re==null?0:Re.length;return!!He&&Bu(Re,We,0)>-1}function cm(Re,We,He){for(var pt=-1,Kt=Re==null?0:Re.length;++pt<Kt;)if(He(We,Re[pt]))return!0;return!1}function nr(Re,We){for(var He=-1,pt=Re==null?0:Re.length,Kt=Array(pt);++He<pt;)Kt[He]=We(Re[He],He,Re);return Kt}function ws(Re,We){for(var He=-1,pt=We.length,Kt=Re.length;++He<pt;)Re[Kt+He]=We[He];return Re}function dm(Re,We,He,pt){var Kt=-1,Bn=Re==null?0:Re.length;for(pt&&Bn&&(He=Re[++Kt]);++Kt<Bn;)He=We(He,Re[Kt],Kt,Re);return He}function NR(Re,We,He,pt){var Kt=Re==null?0:Re.length;for(pt&&Kt&&(He=Re[--Kt]);Kt--;)He=We(He,Re[Kt],Kt,Re);return He}function hm(Re,We){for(var He=-1,pt=Re==null?0:Re.length;++He<pt;)if(We(Re[He],He,Re))return!0;return!1}var Ow=fm("length");function $R(Re){return Re.split("")}function LR(Re){return Re.match(Ln)||[]}function Pw(Re,We,He){var pt;return He(Re,function(Kt,Bn,ti){if(We(Kt,Bn,ti))return pt=Bn,!1}),pt}function Xh(Re,We,He,pt){for(var Kt=Re.length,Bn=He+(pt?1:-1);pt?Bn--:++Bn<Kt;)if(We(Re[Bn],Bn,Re))return Bn;return-1}function Bu(Re,We,He){return We===We?kw(Re,We,He):Xh(Re,Hw,He)}function Aw(Re,We,He,pt){for(var Kt=He-1,Bn=Re.length;++Kt<Bn;)if(pt(Re[Kt],We))return Kt;return-1}function Hw(Re){return Re!==Re}function jl(Re,We){var He=Re==null?0:Re.length;return He?mm(Re,We)/He:te}function fm(Re){return function(We){return We==null?n:We[Re]}}function nd(Re){return function(We){return Re==null?n:Re[We]}}function Dw(Re,We,He,pt,Kt){return Kt(Re,function(Bn,ti,Cn){He=pt?(pt=!1,Bn):We(He,Bn,ti,Cn)}),He}function gm(Re,We){var He=Re.length;for(Re.sort(We);He--;)Re[He]=Re[He].value;return Re}function mm(Re,We){for(var He,pt=-1,Kt=Re.length;++pt<Kt;){var Bn=We(Re[pt]);Bn!==n&&(He=He===n?Bn:He+Bn)}return He}function pm(Re,We){for(var He=-1,pt=Array(Re);++He<Re;)pt[He]=We(He);return pt}function kR(Re,We){return nr(We,function(He){return[He,Re[He]]})}function Nw(Re){return Re&&Re.slice(0,Zh(Re)+1).replace(ft,"")}function Ki(Re){return function(We){return Re(We)}}function vm(Re,We){return nr(We,function(He){return Re[He]})}function ju(Re,We){return Re.has(We)}function dr(Re,We){for(var He=-1,pt=Re.length;++He<pt&&Bu(We,Re[He],0)>-1;);return He}function $w(Re,We){for(var He=Re.length;He--&&Bu(We,Re[He],0)>-1;);return He}function FR(Re,We){for(var He=Re.length,pt=0;He--;)Re[He]===We&&++pt;return pt}var Lw=nd(OR),VR=nd(sm);function WR(Re){return"\\"+PR[Re]}function BR(Re,We){return Re==null?n:Re[We]}function Cs(Re){return MR.test(Re)}function jR(Re){return TR.test(Re)}function zR(Re){for(var We,He=[];!(We=Re.next()).done;)He.push(We.value);return He}function wm(Re){var We=-1,He=Array(Re.size);return Re.forEach(function(pt,Kt){He[++We]=[Kt,pt]}),He}function rd(Re,We){return function(He){return Re(We(He))}}function Xo(Re,We){for(var He=-1,pt=Re.length,Kt=0,Bn=[];++He<pt;){var ti=Re[He];(ti===We||ti===h)&&(Re[He]=h,Bn[Kt++]=He)}return Bn}function zu(Re){var We=-1,He=Array(Re.size);return Re.forEach(function(pt){He[++We]=pt}),He}function YR(Re){var We=-1,He=Array(Re.size);return Re.forEach(function(pt){He[++We]=[pt,pt]}),He}function kw(Re,We,He){for(var pt=He-1,Kt=Re.length;++pt<Kt;)if(Re[pt]===We)return pt;return-1}function UR(Re,We,He){for(var pt=He+1;pt--;)if(Re[pt]===We)return pt;return pt}function Ya(Re){return Cs(Re)?KR(Re):Ow(Re)}function lo(Re){return Cs(Re)?qR(Re):$R(Re)}function Zh(Re){for(var We=Re.length;We--&&Rt.test(Re.charAt(We)););return We}var GR=nd(am);function KR(Re){for(var We=om.lastIndex=0;om.test(Re);)++We;return We}function qR(Re){return Re.match(om)||[]}function XR(Re){return Re.match(_R)||[]}var ZR=function Re(We){We=We==null?mi:Yu.defaults(mi.Object(),We,Yu.pick(mi,xR));var He=We.Array,pt=We.Date,Kt=We.Error,Bn=We.Function,ti=We.Math,Cn=We.Object,Xs=We.RegExp,Fw=We.String,To=We.TypeError,id=He.prototype,Vw=Bn.prototype,Uu=Cn.prototype,Qh=We["__core-js_shared__"],od=Vw.toString,Gn=Uu.hasOwnProperty,QR=0,Ww=function(){var l=/[^.]+$/.exec(Qh&&Qh.keys&&Qh.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Jh=Uu.toString,JR=od.call(Cn),eE=mi._,tE=Xs("^"+od.call(Gn).replace(zn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ef=wr?We.Buffer:n,Ua=We.Symbol,tf=We.Uint8Array,Bw=ef?ef.allocUnsafe:n,nf=rd(Cn.getPrototypeOf,Cn),jw=Cn.create,zw=Uu.propertyIsEnumerable,zl=id.splice,Yw=Ua?Ua.isConcatSpreadable:n,sd=Ua?Ua.iterator:n,Yl=Ua?Ua.toStringTag:n,rf=function(){try{var l=pd(Cn,"defineProperty");return l({},"",{}),l}catch{}}(),nE=We.clearTimeout!==mi.clearTimeout&&We.clearTimeout,rE=pt&&pt.now!==mi.Date.now&&pt.now,iE=We.setTimeout!==mi.setTimeout&&We.setTimeout,of=ti.ceil,ad=ti.floor,sf=Cn.getOwnPropertySymbols,Uw=ef?ef.isBuffer:n,ld=We.isFinite,Gu=id.join,af=rd(Cn.keys,Cn),Kr=ti.max,Lr=ti.min,Gw=pt.now,Kw=We.parseInt,qw=ti.random,oE=id.reverse,Cm=pd(We,"DataView"),ud=pd(We,"Map"),ym=pd(We,"Promise"),Ku=pd(We,"Set"),cd=pd(We,"WeakMap"),dd=pd(Cn,"create"),lf=cd&&new cd,qu={},sE=vd(Cm),aE=vd(ud),lE=vd(ym),uE=vd(Ku),cE=vd(cd),uf=Ua?Ua.prototype:n,hd=uf?uf.valueOf:n,Xw=uf?uf.toString:n;function B(l){if(qr(l)&&!nn(l)&&!(l instanceof fn)){if(l instanceof xo)return l;if(Gn.call(l,"__wrapped__"))return CH(l)}return new xo(l)}var Xu=function(){function l(){}return function(d){if(!kr(d))return{};if(jw)return jw(d);l.prototype=d;var m=new l;return l.prototype=n,m}}();function cf(){}function xo(l,d){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=n}B.templateSettings={escape:qe,evaluate:Ut,interpolate:Yt,variable:"",imports:{_:B}},B.prototype=cf.prototype,B.prototype.constructor=B,xo.prototype=Xu(cf.prototype),xo.prototype.constructor=xo;function fn(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=C,this.__views__=[]}function dE(){var l=new fn(this.__wrapped__);return l.__actions__=Oo(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Oo(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Oo(this.__views__),l}function hE(){if(this.__filtered__){var l=new fn(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function fE(){var l=this.__wrapped__.value(),d=this.__dir__,m=nn(l),_=d<0,D=m?l.length:0,U=IU(0,D,this.__views__),he=U.start,Se=U.end,Te=Se-he,Ue=_?Se:he-1,Ke=this.__iteratees__,Je=Ke.length,ct=0,It=Lr(Te,this.__takeCount__);if(!m||!_&&D==Te&&It==Te)return BA(l,this.__actions__);var Bt=[];e:for(;Te--&&ct<It;){Ue+=d;for(var mn=-1,jt=l[Ue];++mn<Je;){var Tn=Ke[mn],Dn=Tn.iteratee,es=Tn.type,ho=Dn(jt);if(es==J)jt=ho;else if(!ho){if(es==ne)continue e;break e}}Bt[ct++]=jt}return Bt}fn.prototype=Xu(cf.prototype),fn.prototype.constructor=fn;function Zs(l){var d=-1,m=l==null?0:l.length;for(this.clear();++d<m;){var _=l[d];this.set(_[0],_[1])}}function df(){this.__data__=dd?dd(null):{},this.size=0}function gE(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d}function mE(l){var d=this.__data__;if(dd){var m=d[l];return m===u?n:m}return Gn.call(d,l)?d[l]:n}function pE(l){var d=this.__data__;return dd?d[l]!==n:Gn.call(d,l)}function vE(l,d){var m=this.__data__;return this.size+=this.has(l)?0:1,m[l]=dd&&d===n?u:d,this}Zs.prototype.clear=df,Zs.prototype.delete=gE,Zs.prototype.get=mE,Zs.prototype.has=pE,Zs.prototype.set=vE;function Qs(l){var d=-1,m=l==null?0:l.length;for(this.clear();++d<m;){var _=l[d];this.set(_[0],_[1])}}function wE(){this.__data__=[],this.size=0}function Zw(l){var d=this.__data__,m=Io(d,l);if(m<0)return!1;var _=d.length-1;return m==_?d.pop():zl.call(d,m,1),--this.size,!0}function CE(l){var d=this.__data__,m=Io(d,l);return m<0?n:d[m][1]}function yE(l){return Io(this.__data__,l)>-1}function Qw(l,d){var m=this.__data__,_=Io(m,l);return _<0?(++this.size,m.push([l,d])):m[_][1]=d,this}Qs.prototype.clear=wE,Qs.prototype.delete=Zw,Qs.prototype.get=CE,Qs.prototype.has=yE,Qs.prototype.set=Qw;function Js(l){var d=-1,m=l==null?0:l.length;for(this.clear();++d<m;){var _=l[d];this.set(_[0],_[1])}}function bE(){this.size=0,this.__data__={hash:new Zs,map:new(ud||Qs),string:new Zs}}function SE(l){var d=vC(this,l).delete(l);return this.size-=d?1:0,d}function Ga(l){return vC(this,l).get(l)}function Jw(l){return vC(this,l).has(l)}function RE(l,d){var m=vC(this,l),_=m.size;return m.set(l,d),this.size+=m.size==_?0:1,this}Js.prototype.clear=bE,Js.prototype.delete=SE,Js.prototype.get=Ga,Js.prototype.has=Jw,Js.prototype.set=RE;function Ul(l){var d=-1,m=l==null?0:l.length;for(this.__data__=new Js;++d<m;)this.add(l[d])}function EE(l){return this.__data__.set(l,u),this}function nt(l){return this.__data__.has(l)}Ul.prototype.add=Ul.prototype.push=EE,Ul.prototype.has=nt;function Zo(l){var d=this.__data__=new Qs(l);this.size=d.size}function _E(){this.__data__=new Qs,this.size=0}function eC(l){var d=this.__data__,m=d.delete(l);return this.size=d.size,m}function Fn(l){return this.__data__.get(l)}function hf(l){return this.__data__.has(l)}function tC(l,d){var m=this.__data__;if(m instanceof Qs){var _=m.__data__;if(!ud||_.length<i-1)return _.push([l,d]),this.size=++m.size,this;m=this.__data__=new Js(_)}return m.set(l,d),this.size=m.size,this}Zo.prototype.clear=_E,Zo.prototype.delete=eC,Zo.prototype.get=Fn,Zo.prototype.has=hf,Zo.prototype.set=tC;function ff(l,d){var m=nn(l),_=!m&&wd(l),D=!m&&!_&&tc(l),U=!m&&!_&&!D&&Cf(l),he=m||_||D||U,Se=he?pm(l.length,Fw):[],Te=Se.length;for(var Ue in l)(d||Gn.call(l,Ue))&&!(he&&(Ue=="length"||D&&(Ue=="offset"||Ue=="parent")||U&&(Ue=="buffer"||Ue=="byteLength"||Ue=="byteOffset")||Zl(Ue,Te)))&&Se.push(Ue);return Se}function nC(l){var d=l.length;return d?l[FE(0,d-1)]:n}function ME(l,d){return wC(Oo(l),Gl(d,0,l.length))}function TE(l){return wC(Oo(l))}function bm(l,d,m){(m!==n&&!ra(l[d],m)||m===n&&!(d in l))&&ea(l,d,m)}function fd(l,d,m){var _=l[d];(!(Gn.call(l,d)&&ra(_,m))||m===n&&!(d in l))&&ea(l,d,m)}function Io(l,d){for(var m=l.length;m--;)if(ra(l[m][0],d))return m;return-1}function xE(l,d,m,_){return Ka(l,function(D,U,he){d(_,D,m(D),he)}),_}function Sm(l,d){return l&&Xa(d,_i(d),l)}function IE(l,d){return l&&Xa(d,Ao(d),l)}function ea(l,d,m){d=="__proto__"&&rf?rf(l,d,{configurable:!0,enumerable:!0,value:m,writable:!0}):l[d]=m}function gf(l,d){for(var m=-1,_=d.length,D=He(_),U=l==null;++m<_;)D[m]=U?n:c_(l,d[m]);return D}function Gl(l,d,m){return l===l&&(m!==n&&(l=l<=m?l:m),d!==n&&(l=l>=d?l:d)),l}function uo(l,d,m,_,D,U){var he,Se=d&g,Te=d&p,Ue=d&v;if(m&&(he=D?m(l,_,D,U):m(l)),he!==n)return he;if(!kr(l))return l;var Ke=nn(l);if(Ke){if(he=PU(l),!Se)return Oo(l,he)}else{var Je=qi(l),ct=Je==Ee||Je==_e;if(tc(l))return YA(l,Se);if(Je==Pe||Je==N||ct&&!D){if(he=Te||ct?{}:cH(l),!Se)return Te?yU(l,IE(he,l)):CU(l,Sm(he,l))}else{if(!cr[Je])return D?l:{};he=AU(l,Je,Se)}}U||(U=new Zo);var It=U.get(l);if(It)return It;U.set(l,he),FH(l)?l.forEach(function(jt){he.add(uo(jt,d,m,jt,l,U))}):LH(l)&&l.forEach(function(jt,Tn){he.set(Tn,uo(jt,d,m,Tn,l,U))});var Bt=Ue?Te?XE:qE:Te?Ao:_i,mn=Ke?n:Bt(l);return Gr(mn||l,function(jt,Tn){mn&&(Tn=jt,jt=l[Tn]),fd(he,Tn,uo(jt,d,m,Tn,l,U))}),he}function Rm(l){var d=_i(l);return function(m){return rC(m,l,d)}}function rC(l,d,m){var _=m.length;if(l==null)return!_;for(l=Cn(l);_--;){var D=m[_],U=d[D],he=l[D];if(he===n&&!(D in l)||!U(he))return!1}return!0}function ys(l,d,m){if(typeof l!="function")throw new To(s);return Am(function(){l.apply(n,m)},d)}function Zu(l,d,m,_){var D=-1,U=qh,he=!0,Se=l.length,Te=[],Ue=d.length;if(!Se)return Te;m&&(d=nr(d,Ki(m))),_?(U=cm,he=!1):d.length>=i&&(U=ju,he=!1,d=new Ul(d));e:for(;++D<Se;){var Ke=l[D],Je=m==null?Ke:m(Ke);if(Ke=_||Ke!==0?Ke:0,he&&Je===Je){for(var ct=Ue;ct--;)if(d[ct]===Je)continue e;Te.push(Ke)}else U(d,Je,_)||Te.push(Ke)}return Te}var Ka=XA(bs),iC=XA(_m,!0);function OE(l,d){var m=!0;return Ka(l,function(_,D,U){return m=!!d(_,D,U),m}),m}function mf(l,d,m){for(var _=-1,D=l.length;++_<D;){var U=l[_],he=d(U);if(he!=null&&(Se===n?he===he&&!Jo(he):m(he,Se)))var Se=he,Te=U}return Te}function PE(l,d,m,_){var D=l.length;for(m=ln(m),m<0&&(m=-m>D?0:D+m),_=_===n||_>D?D:ln(_),_<0&&(_+=D),_=m>_?0:WH(_);m<_;)l[m++]=d;return l}function oC(l,d){var m=[];return Ka(l,function(_,D,U){d(_,D,U)&&m.push(_)}),m}function pi(l,d,m,_,D){var U=-1,he=l.length;for(m||(m=DU),D||(D=[]);++U<he;){var Se=l[U];d>0&&m(Se)?d>1?pi(Se,d-1,m,_,D):ws(D,Se):_||(D[D.length]=Se)}return D}var Em=ZA(),sC=ZA(!0);function bs(l,d){return l&&Em(l,d,_i)}function _m(l,d){return l&&sC(l,d,_i)}function Ss(l,d){return za(d,function(m){return Ql(l[m])})}function Kl(l,d){d=Ju(d,l);for(var m=0,_=d.length;l!=null&&m<_;)l=l[Za(d[m++])];return m&&m==_?l:n}function aC(l,d,m){var _=d(l);return nn(l)?_:ws(_,m(l))}function Li(l){return l==null?l===n?Q:Ae:Yl&&Yl in Cn(l)?xU(l):WU(l)}function Mm(l,d){return l>d}function AE(l,d){return l!=null&&Gn.call(l,d)}function HE(l,d){return l!=null&&d in Cn(l)}function DE(l,d,m){return l>=Lr(d,m)&&l<Kr(d,m)}function Tm(l,d,m){for(var _=m?cm:qh,D=l[0].length,U=l.length,he=U,Se=He(U),Te=1/0,Ue=[];he--;){var Ke=l[he];he&&d&&(Ke=nr(Ke,Ki(d))),Te=Lr(Ke.length,Te),Se[he]=!m&&(d||D>=120&&Ke.length>=120)?new Ul(he&&Ke):n}Ke=l[0];var Je=-1,ct=Se[0];e:for(;++Je<D&&Ue.length<Te;){var It=Ke[Je],Bt=d?d(It):It;if(It=m||It!==0?It:0,!(ct?ju(ct,Bt):_(Ue,Bt,m))){for(he=U;--he;){var mn=Se[he];if(!(mn?ju(mn,Bt):_(l[he],Bt,m)))continue e}ct&&ct.push(Bt),Ue.push(It)}}return Ue}function ta(l,d,m,_){return bs(l,function(D,U,he){d(_,m(D),U,he)}),_}function Rs(l,d,m){d=Ju(d,l),l=gH(l,d);var _=l==null?l:l[Za(Ms(d))];return _==null?n:$i(_,l,m)}function lC(l){return qr(l)&&Li(l)==N}function NE(l){return qr(l)&&Li(l)==ie}function $E(l){return qr(l)&&Li(l)==Me}function gd(l,d,m,_,D){return l===d?!0:l==null||d==null||!qr(l)&&!qr(d)?l!==l&&d!==d:LE(l,d,m,_,gd,D)}function LE(l,d,m,_,D,U){var he=nn(l),Se=nn(d),Te=he?Z:qi(l),Ue=Se?Z:qi(d);Te=Te==N?Pe:Te,Ue=Ue==N?Pe:Ue;var Ke=Te==Pe,Je=Ue==Pe,ct=Te==Ue;if(ct&&tc(l)){if(!tc(d))return!1;he=!0,Ke=!1}if(ct&&!Ke)return U||(U=new Zo),he||Cf(l)?aH(l,d,m,_,D,U):MU(l,d,Te,m,_,D,U);if(!(m&y)){var It=Ke&&Gn.call(l,"__wrapped__"),Bt=Je&&Gn.call(d,"__wrapped__");if(It||Bt){var mn=It?l.value():l,jt=Bt?d.value():d;return U||(U=new Zo),D(mn,jt,m,_,U)}}return ct?(U||(U=new Zo),TU(l,d,m,_,D,U)):!1}function xm(l){return qr(l)&&qi(l)==ee}function qa(l,d,m,_){var D=m.length,U=D,he=!_;if(l==null)return!U;for(l=Cn(l);D--;){var Se=m[D];if(he&&Se[2]?Se[1]!==l[Se[0]]:!(Se[0]in l))return!1}for(;++D<U;){Se=m[D];var Te=Se[0],Ue=l[Te],Ke=Se[1];if(he&&Se[2]){if(Ue===n&&!(Te in l))return!1}else{var Je=new Zo;if(_)var ct=_(Ue,Ke,Te,l,d,Je);if(!(ct===n?gd(Ke,Ue,y|R,_,Je):ct))return!1}}return!0}function md(l){if(!kr(l)||$U(l))return!1;var d=Ql(l)?tE:di;return d.test(vd(l))}function On(l){return qr(l)&&Li(l)==k}function f(l){return qr(l)&&qi(l)==V}function w(l){return qr(l)&&EC(l.length)&&!!vr[Li(l)]}function M(l){return typeof l=="function"?l:l==null?Ho:typeof l=="object"?nn(l)?zt(l[0],l[1]):gt(l):QH(l)}function P(l){if(!Pm(l))return af(l);var d=[];for(var m in Cn(l))Gn.call(l,m)&&m!="constructor"&&d.push(m);return d}function W(l){if(!kr(l))return VU(l);var d=Pm(l),m=[];for(var _ in l)_=="constructor"&&(d||!Gn.call(l,_))||m.push(_);return m}function Ce(l,d){return l<d}function Le(l,d){var m=-1,_=Po(l)?He(l.length):[];return Ka(l,function(D,U,he){_[++m]=d(D,U,he)}),_}function gt(l){var d=QE(l);return d.length==1&&d[0][2]?hH(d[0][0],d[0][1]):function(m){return m===l||qa(m,l,d)}}function zt(l,d){return e_(l)&&dH(d)?hH(Za(l),d):function(m){var _=c_(m,l);return _===n&&_===d?d_(m,l):gd(d,_,y|R)}}function gn(l,d,m,_,D){l!==d&&Em(d,function(U,he){if(D||(D=new Zo),kr(U))ki(l,d,he,m,gn,_,D);else{var Se=_?_(n_(l,he),U,he+"",l,d,D):n;Se===n&&(Se=U),bm(l,he,Se)}},Ao)}function ki(l,d,m,_,D,U,he){var Se=n_(l,m),Te=n_(d,m),Ue=he.get(Te);if(Ue){bm(l,m,Ue);return}var Ke=U?U(Se,Te,m+"",l,d,he):n,Je=Ke===n;if(Je){var ct=nn(Te),It=!ct&&tc(Te),Bt=!ct&&!It&&Cf(Te);Ke=Te,ct||It||Bt?nn(Se)?Ke=Se:ni(Se)?Ke=Oo(Se):It?(Je=!1,Ke=YA(Te,!0)):Bt?(Je=!1,Ke=UA(Te,!0)):Ke=[]:Hm(Te)||wd(Te)?(Ke=Se,wd(Se)?Ke=BH(Se):(!kr(Se)||Ql(Se))&&(Ke=cH(Te))):Je=!1}Je&&(he.set(Te,Ke),D(Ke,Te,_,U,he),he.delete(Te)),bm(l,m,Ke)}function Es(l,d){var m=l.length;if(m)return d+=d<0?m:0,Zl(d,m)?l[d]:n}function na(l,d,m){d.length?d=nr(d,function(U){return nn(U)?function(he){return Kl(he,U.length===1?U[0]:U)}:U}):d=[Ho];var _=-1;d=nr(d,Ki(kt()));var D=Le(l,function(U,he,Se){var Te=nr(d,function(Ue){return Ue(U)});return{criteria:Te,index:++_,value:U}});return gm(D,function(U,he){return wU(U,he,m)})}function sU(l,d){return $A(l,d,function(m,_){return d_(l,_)})}function $A(l,d,m){for(var _=-1,D=d.length,U={};++_<D;){var he=d[_],Se=Kl(l,he);m(Se,he)&&Im(U,Ju(he,l),Se)}return U}function aU(l){return function(d){return Kl(d,l)}}function kE(l,d,m,_){var D=_?Aw:Bu,U=-1,he=d.length,Se=l;for(l===d&&(d=Oo(d)),m&&(Se=nr(l,Ki(m)));++U<he;)for(var Te=0,Ue=d[U],Ke=m?m(Ue):Ue;(Te=D(Se,Ke,Te,_))>-1;)Se!==l&&zl.call(Se,Te,1),zl.call(l,Te,1);return l}function LA(l,d){for(var m=l?d.length:0,_=m-1;m--;){var D=d[m];if(m==_||D!==U){var U=D;Zl(D)?zl.call(l,D,1):BE(l,D)}}return l}function FE(l,d){return l+ad(qw()*(d-l+1))}function lU(l,d,m,_){for(var D=-1,U=Kr(of((d-l)/(m||1)),0),he=He(U);U--;)he[_?U:++D]=l,l+=m;return he}function VE(l,d){var m="";if(!l||d<1||d>G)return m;do d%2&&(m+=l),d=ad(d/2),d&&(l+=l);while(d);return m}function yn(l,d){return r_(fH(l,d,Ho),l+"")}function uU(l){return nC(yf(l))}function cU(l,d){var m=yf(l);return wC(m,Gl(d,0,m.length))}function Im(l,d,m,_){if(!kr(l))return l;d=Ju(d,l);for(var D=-1,U=d.length,he=U-1,Se=l;Se!=null&&++D<U;){var Te=Za(d[D]),Ue=m;if(Te==="__proto__"||Te==="constructor"||Te==="prototype")return l;if(D!=he){var Ke=Se[Te];Ue=_?_(Ke,Te,Se):n,Ue===n&&(Ue=kr(Ke)?Ke:Zl(d[D+1])?[]:{})}fd(Se,Te,Ue),Se=Se[Te]}return l}var kA=lf?function(l,d){return lf.set(l,d),l}:Ho,dU=rf?function(l,d){return rf(l,"toString",{configurable:!0,enumerable:!1,value:f_(d),writable:!0})}:Ho;function hU(l){return wC(yf(l))}function _s(l,d,m){var _=-1,D=l.length;d<0&&(d=-d>D?0:D+d),m=m>D?D:m,m<0&&(m+=D),D=d>m?0:m-d>>>0,d>>>=0;for(var U=He(D);++_<D;)U[_]=l[_+d];return U}function fU(l,d){var m;return Ka(l,function(_,D,U){return m=d(_,D,U),!m}),!!m}function uC(l,d,m){var _=0,D=l==null?_:l.length;if(typeof d=="number"&&d===d&&D<=I){for(;_<D;){var U=_+D>>>1,he=l[U];he!==null&&!Jo(he)&&(m?he<=d:he<d)?_=U+1:D=U}return D}return WE(l,d,Ho,m)}function WE(l,d,m,_){var D=0,U=l==null?0:l.length;if(U===0)return 0;d=m(d);for(var he=d!==d,Se=d===null,Te=Jo(d),Ue=d===n;D<U;){var Ke=ad((D+U)/2),Je=m(l[Ke]),ct=Je!==n,It=Je===null,Bt=Je===Je,mn=Jo(Je);if(he)var jt=_||Bt;else Ue?jt=Bt&&(_||ct):Se?jt=Bt&&ct&&(_||!It):Te?jt=Bt&&ct&&!It&&(_||!mn):It||mn?jt=!1:jt=_?Je<=d:Je<d;jt?D=Ke+1:U=Ke}return Lr(U,E)}function FA(l,d){for(var m=-1,_=l.length,D=0,U=[];++m<_;){var he=l[m],Se=d?d(he):he;if(!m||!ra(Se,Te)){var Te=Se;U[D++]=he===0?0:he}}return U}function VA(l){return typeof l=="number"?l:Jo(l)?te:+l}function Qo(l){if(typeof l=="string")return l;if(nn(l))return nr(l,Qo)+"";if(Jo(l))return Xw?Xw.call(l):"";var d=l+"";return d=="0"&&1/l==-ae?"-0":d}function Qu(l,d,m){var _=-1,D=qh,U=l.length,he=!0,Se=[],Te=Se;if(m)he=!1,D=cm;else if(U>=i){var Ue=d?null:EU(l);if(Ue)return zu(Ue);he=!1,D=ju,Te=new Ul}else Te=d?[]:Se;e:for(;++_<U;){var Ke=l[_],Je=d?d(Ke):Ke;if(Ke=m||Ke!==0?Ke:0,he&&Je===Je){for(var ct=Te.length;ct--;)if(Te[ct]===Je)continue e;d&&Te.push(Je),Se.push(Ke)}else D(Te,Je,m)||(Te!==Se&&Te.push(Je),Se.push(Ke))}return Se}function BE(l,d){return d=Ju(d,l),l=gH(l,d),l==null||delete l[Za(Ms(d))]}function WA(l,d,m,_){return Im(l,d,m(Kl(l,d)),_)}function cC(l,d,m,_){for(var D=l.length,U=_?D:-1;(_?U--:++U<D)&&d(l[U],U,l););return m?_s(l,_?0:U,_?U+1:D):_s(l,_?U+1:0,_?D:U)}function BA(l,d){var m=l;return m instanceof fn&&(m=m.value()),dm(d,function(_,D){return D.func.apply(D.thisArg,ws([_],D.args))},m)}function jE(l,d,m){var _=l.length;if(_<2)return _?Qu(l[0]):[];for(var D=-1,U=He(_);++D<_;)for(var he=l[D],Se=-1;++Se<_;)Se!=D&&(U[D]=Zu(U[D]||he,l[Se],d,m));return Qu(pi(U,1),d,m)}function jA(l,d,m){for(var _=-1,D=l.length,U=d.length,he={};++_<D;){var Se=_<U?d[_]:n;m(he,l[_],Se)}return he}function zE(l){return ni(l)?l:[]}function YE(l){return typeof l=="function"?l:Ho}function Ju(l,d){return nn(l)?l:e_(l,d)?[l]:wH(Qn(l))}var gU=yn;function ec(l,d,m){var _=l.length;return m=m===n?_:m,!d&&m>=_?l:_s(l,d,m)}var zA=nE||function(l){return mi.clearTimeout(l)};function YA(l,d){if(d)return l.slice();var m=l.length,_=Bw?Bw(m):new l.constructor(m);return l.copy(_),_}function UE(l){var d=new l.constructor(l.byteLength);return new tf(d).set(new tf(l)),d}function mU(l,d){var m=d?UE(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.byteLength)}function pU(l){var d=new l.constructor(l.source,Mn.exec(l));return d.lastIndex=l.lastIndex,d}function vU(l){return hd?Cn(hd.call(l)):{}}function UA(l,d){var m=d?UE(l.buffer):l.buffer;return new l.constructor(m,l.byteOffset,l.length)}function GA(l,d){if(l!==d){var m=l!==n,_=l===null,D=l===l,U=Jo(l),he=d!==n,Se=d===null,Te=d===d,Ue=Jo(d);if(!Se&&!Ue&&!U&&l>d||U&&he&&Te&&!Se&&!Ue||_&&he&&Te||!m&&Te||!D)return 1;if(!_&&!U&&!Ue&&l<d||Ue&&m&&D&&!_&&!U||Se&&m&&D||!he&&D||!Te)return-1}return 0}function wU(l,d,m){for(var _=-1,D=l.criteria,U=d.criteria,he=D.length,Se=m.length;++_<he;){var Te=GA(D[_],U[_]);if(Te){if(_>=Se)return Te;var Ue=m[_];return Te*(Ue=="desc"?-1:1)}}return l.index-d.index}function KA(l,d,m,_){for(var D=-1,U=l.length,he=m.length,Se=-1,Te=d.length,Ue=Kr(U-he,0),Ke=He(Te+Ue),Je=!_;++Se<Te;)Ke[Se]=d[Se];for(;++D<he;)(Je||D<U)&&(Ke[m[D]]=l[D]);for(;Ue--;)Ke[Se++]=l[D++];return Ke}function qA(l,d,m,_){for(var D=-1,U=l.length,he=-1,Se=m.length,Te=-1,Ue=d.length,Ke=Kr(U-Se,0),Je=He(Ke+Ue),ct=!_;++D<Ke;)Je[D]=l[D];for(var It=D;++Te<Ue;)Je[It+Te]=d[Te];for(;++he<Se;)(ct||D<U)&&(Je[It+m[he]]=l[D++]);return Je}function Oo(l,d){var m=-1,_=l.length;for(d||(d=He(_));++m<_;)d[m]=l[m];return d}function Xa(l,d,m,_){var D=!m;m||(m={});for(var U=-1,he=d.length;++U<he;){var Se=d[U],Te=_?_(m[Se],l[Se],Se,m,l):n;Te===n&&(Te=l[Se]),D?ea(m,Se,Te):fd(m,Se,Te)}return m}function CU(l,d){return Xa(l,JE(l),d)}function yU(l,d){return Xa(l,lH(l),d)}function dC(l,d){return function(m,_){var D=nn(m)?HR:xE,U=d?d():{};return D(m,l,kt(_,2),U)}}function pf(l){return yn(function(d,m){var _=-1,D=m.length,U=D>1?m[D-1]:n,he=D>2?m[2]:n;for(U=l.length>3&&typeof U=="function"?(D--,U):n,he&&co(m[0],m[1],he)&&(U=D<3?n:U,D=1),d=Cn(d);++_<D;){var Se=m[_];Se&&l(d,Se,_,U)}return d})}function XA(l,d){return function(m,_){if(m==null)return m;if(!Po(m))return l(m,_);for(var D=m.length,U=d?D:-1,he=Cn(m);(d?U--:++U<D)&&_(he[U],U,he)!==!1;);return m}}function ZA(l){return function(d,m,_){for(var D=-1,U=Cn(d),he=_(d),Se=he.length;Se--;){var Te=he[l?Se:++D];if(m(U[Te],Te,U)===!1)break}return d}}function bU(l,d,m){var _=d&S,D=Om(l);function U(){var he=this&&this!==mi&&this instanceof U?D:l;return he.apply(_?m:this,arguments)}return U}function QA(l){return function(d){d=Qn(d);var m=Cs(d)?lo(d):n,_=m?m[0]:d.charAt(0),D=m?ec(m,1).join(""):d.slice(1);return _[l]()+D}}function vf(l){return function(d){return dm(XH(qH(d).replace(RR,"")),l,"")}}function Om(l){return function(){var d=arguments;switch(d.length){case 0:return new l;case 1:return new l(d[0]);case 2:return new l(d[0],d[1]);case 3:return new l(d[0],d[1],d[2]);case 4:return new l(d[0],d[1],d[2],d[3]);case 5:return new l(d[0],d[1],d[2],d[3],d[4]);case 6:return new l(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new l(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var m=Xu(l.prototype),_=l.apply(m,d);return kr(_)?_:m}}function SU(l,d,m){var _=Om(l);function D(){for(var U=arguments.length,he=He(U),Se=U,Te=wf(D);Se--;)he[Se]=arguments[Se];var Ue=U<3&&he[0]!==Te&&he[U-1]!==Te?[]:Xo(he,Te);if(U-=Ue.length,U<m)return rH(l,d,hC,D.placeholder,n,he,Ue,n,n,m-U);var Ke=this&&this!==mi&&this instanceof D?_:l;return $i(Ke,this,he)}return D}function JA(l){return function(d,m,_){var D=Cn(d);if(!Po(d)){var U=kt(m,3);d=_i(d),m=function(Se){return U(D[Se],Se,D)}}var he=l(d,m,_);return he>-1?D[U?d[he]:he]:n}}function eH(l){return Xl(function(d){var m=d.length,_=m,D=xo.prototype.thru;for(l&&d.reverse();_--;){var U=d[_];if(typeof U!="function")throw new To(s);if(D&&!he&&pC(U)=="wrapper")var he=new xo([],!0)}for(_=he?_:m;++_<m;){U=d[_];var Se=pC(U),Te=Se=="wrapper"?ZE(U):n;Te&&t_(Te[0])&&Te[1]==(F|O|H|j)&&!Te[4].length&&Te[9]==1?he=he[pC(Te[0])].apply(he,Te[3]):he=U.length==1&&t_(U)?he[Se]():he.thru(U)}return function(){var Ue=arguments,Ke=Ue[0];if(he&&Ue.length==1&&nn(Ke))return he.plant(Ke).value();for(var Je=0,ct=m?d[Je].apply(this,Ue):Ke;++Je<m;)ct=d[Je].call(this,ct);return ct}})}function hC(l,d,m,_,D,U,he,Se,Te,Ue){var Ke=d&F,Je=d&S,ct=d&T,It=d&(O|A),Bt=d&z,mn=ct?n:Om(l);function jt(){for(var Tn=arguments.length,Dn=He(Tn),es=Tn;es--;)Dn[es]=arguments[es];if(It)var ho=wf(jt),ts=FR(Dn,ho);if(_&&(Dn=KA(Dn,_,D,It)),U&&(Dn=qA(Dn,U,he,It)),Tn-=ts,It&&Tn<Ue){var ri=Xo(Dn,ho);return rH(l,d,hC,jt.placeholder,m,Dn,ri,Se,Te,Ue-Tn)}var ia=Je?m:this,eu=ct?ia[l]:l;return Tn=Dn.length,Se?Dn=BU(Dn,Se):Bt&&Tn>1&&Dn.reverse(),Ke&&Te<Tn&&(Dn.length=Te),this&&this!==mi&&this instanceof jt&&(eu=mn||Om(eu)),eu.apply(ia,Dn)}return jt}function tH(l,d){return function(m,_){return ta(m,l,d(_),{})}}function fC(l,d){return function(m,_){var D;if(m===n&&_===n)return d;if(m!==n&&(D=m),_!==n){if(D===n)return _;typeof m=="string"||typeof _=="string"?(m=Qo(m),_=Qo(_)):(m=VA(m),_=VA(_)),D=l(m,_)}return D}}function GE(l){return Xl(function(d){return d=nr(d,Ki(kt())),yn(function(m){var _=this;return l(d,function(D){return $i(D,_,m)})})})}function gC(l,d){d=d===n?" ":Qo(d);var m=d.length;if(m<2)return m?VE(d,l):d;var _=VE(d,of(l/Ya(d)));return Cs(d)?ec(lo(_),0,l).join(""):_.slice(0,l)}function RU(l,d,m,_){var D=d&S,U=Om(l);function he(){for(var Se=-1,Te=arguments.length,Ue=-1,Ke=_.length,Je=He(Ke+Te),ct=this&&this!==mi&&this instanceof he?U:l;++Ue<Ke;)Je[Ue]=_[Ue];for(;Te--;)Je[Ue++]=arguments[++Se];return $i(ct,D?m:this,Je)}return he}function nH(l){return function(d,m,_){return _&&typeof _!="number"&&co(d,m,_)&&(m=_=n),d=Jl(d),m===n?(m=d,d=0):m=Jl(m),_=_===n?d<m?1:-1:Jl(_),lU(d,m,_,l)}}function mC(l){return function(d,m){return typeof d=="string"&&typeof m=="string"||(d=Ts(d),m=Ts(m)),l(d,m)}}function rH(l,d,m,_,D,U,he,Se,Te,Ue){var Ke=d&O,Je=Ke?he:n,ct=Ke?n:he,It=Ke?U:n,Bt=Ke?n:U;d|=Ke?H:L,d&=~(Ke?L:H),d&x||(d&=~(S|T));var mn=[l,d,D,It,Je,Bt,ct,Se,Te,Ue],jt=m.apply(n,mn);return t_(l)&&mH(jt,mn),jt.placeholder=_,pH(jt,l,d)}function KE(l){var d=ti[l];return function(m,_){if(m=Ts(m),_=_==null?0:Lr(ln(_),292),_&&ld(m)){var D=(Qn(m)+"e").split("e"),U=d(D[0]+"e"+(+D[1]+_));return D=(Qn(U)+"e").split("e"),+(D[0]+"e"+(+D[1]-_))}return d(m)}}var EU=Ku&&1/zu(new Ku([,-0]))[1]==ae?function(l){return new Ku(l)}:p_;function iH(l){return function(d){var m=qi(d);return m==ee?wm(d):m==V?YR(d):kR(d,l(d))}}function ql(l,d,m,_,D,U,he,Se){var Te=d&T;if(!Te&&typeof l!="function")throw new To(s);var Ue=_?_.length:0;if(Ue||(d&=~(H|L),_=D=n),he=he===n?he:Kr(ln(he),0),Se=Se===n?Se:ln(Se),Ue-=D?D.length:0,d&L){var Ke=_,Je=D;_=D=n}var ct=Te?n:ZE(l),It=[l,d,m,_,D,Ke,Je,U,he,Se];if(ct&&FU(It,ct),l=It[0],d=It[1],m=It[2],_=It[3],D=It[4],Se=It[9]=It[9]===n?Te?0:l.length:Kr(It[9]-Ue,0),!Se&&d&(O|A)&&(d&=~(O|A)),!d||d==S)var Bt=bU(l,d,m);else d==O||d==A?Bt=SU(l,d,Se):(d==H||d==(S|H))&&!D.length?Bt=RU(l,d,m,_):Bt=hC.apply(n,It);var mn=ct?kA:mH;return pH(mn(Bt,It),l,d)}function oH(l,d,m,_){return l===n||ra(l,Uu[m])&&!Gn.call(_,m)?d:l}function sH(l,d,m,_,D,U){return kr(l)&&kr(d)&&(U.set(d,l),gn(l,d,n,sH,U),U.delete(d)),l}function _U(l){return Hm(l)?n:l}function aH(l,d,m,_,D,U){var he=m&y,Se=l.length,Te=d.length;if(Se!=Te&&!(he&&Te>Se))return!1;var Ue=U.get(l),Ke=U.get(d);if(Ue&&Ke)return Ue==d&&Ke==l;var Je=-1,ct=!0,It=m&R?new Ul:n;for(U.set(l,d),U.set(d,l);++Je<Se;){var Bt=l[Je],mn=d[Je];if(_)var jt=he?_(mn,Bt,Je,d,l,U):_(Bt,mn,Je,l,d,U);if(jt!==n){if(jt)continue;ct=!1;break}if(It){if(!hm(d,function(Tn,Dn){if(!ju(It,Dn)&&(Bt===Tn||D(Bt,Tn,m,_,U)))return It.push(Dn)})){ct=!1;break}}else if(!(Bt===mn||D(Bt,mn,m,_,U))){ct=!1;break}}return U.delete(l),U.delete(d),ct}function MU(l,d,m,_,D,U,he){switch(m){case ve:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case ie:return!(l.byteLength!=d.byteLength||!U(new tf(l),new tf(d)));case me:case Me:case De:return ra(+l,+d);case le:return l.name==d.name&&l.message==d.message;case k:case q:return l==d+"";case ee:var Se=wm;case V:var Te=_&y;if(Se||(Se=zu),l.size!=d.size&&!Te)return!1;var Ue=he.get(l);if(Ue)return Ue==d;_|=R,he.set(l,d);var Ke=aH(Se(l),Se(d),_,D,U,he);return he.delete(l),Ke;case fe:if(hd)return hd.call(l)==hd.call(d)}return!1}function TU(l,d,m,_,D,U){var he=m&y,Se=qE(l),Te=Se.length,Ue=qE(d),Ke=Ue.length;if(Te!=Ke&&!he)return!1;for(var Je=Te;Je--;){var ct=Se[Je];if(!(he?ct in d:Gn.call(d,ct)))return!1}var It=U.get(l),Bt=U.get(d);if(It&&Bt)return It==d&&Bt==l;var mn=!0;U.set(l,d),U.set(d,l);for(var jt=he;++Je<Te;){ct=Se[Je];var Tn=l[ct],Dn=d[ct];if(_)var es=he?_(Dn,Tn,ct,d,l,U):_(Tn,Dn,ct,l,d,U);if(!(es===n?Tn===Dn||D(Tn,Dn,m,_,U):es)){mn=!1;break}jt||(jt=ct=="constructor")}if(mn&&!jt){var ho=l.constructor,ts=d.constructor;ho!=ts&&"constructor"in l&&"constructor"in d&&!(typeof ho=="function"&&ho instanceof ho&&typeof ts=="function"&&ts instanceof ts)&&(mn=!1)}return U.delete(l),U.delete(d),mn}function Xl(l){return r_(fH(l,n,SH),l+"")}function qE(l){return aC(l,_i,JE)}function XE(l){return aC(l,Ao,lH)}var ZE=lf?function(l){return lf.get(l)}:p_;function pC(l){for(var d=l.name+"",m=qu[d],_=Gn.call(qu,d)?m.length:0;_--;){var D=m[_],U=D.func;if(U==null||U==l)return D.name}return d}function wf(l){var d=Gn.call(B,"placeholder")?B:l;return d.placeholder}function kt(){var l=B.iteratee||g_;return l=l===g_?M:l,arguments.length?l(arguments[0],arguments[1]):l}function vC(l,d){var m=l.__data__;return NU(d)?m[typeof d=="string"?"string":"hash"]:m.map}function QE(l){for(var d=_i(l),m=d.length;m--;){var _=d[m],D=l[_];d[m]=[_,D,dH(D)]}return d}function pd(l,d){var m=BR(l,d);return md(m)?m:n}function xU(l){var d=Gn.call(l,Yl),m=l[Yl];try{l[Yl]=n;var _=!0}catch{}var D=Jh.call(l);return _&&(d?l[Yl]=m:delete l[Yl]),D}var JE=sf?function(l){return l==null?[]:(l=Cn(l),za(sf(l),function(d){return zw.call(l,d)}))}:v_,lH=sf?function(l){for(var d=[];l;)ws(d,JE(l)),l=nf(l);return d}:v_,qi=Li;(Cm&&qi(new Cm(new ArrayBuffer(1)))!=ve||ud&&qi(new ud)!=ee||ym&&qi(ym.resolve())!=Be||Ku&&qi(new Ku)!=V||cd&&qi(new cd)!=we)&&(qi=function(l){var d=Li(l),m=d==Pe?l.constructor:n,_=m?vd(m):"";if(_)switch(_){case sE:return ve;case aE:return ee;case lE:return Be;case uE:return V;case cE:return we}return d});function IU(l,d,m){for(var _=-1,D=m.length;++_<D;){var U=m[_],he=U.size;switch(U.type){case"drop":l+=he;break;case"dropRight":d-=he;break;case"take":d=Lr(d,l+he);break;case"takeRight":l=Kr(l,d-he);break}}return{start:l,end:d}}function OU(l){var d=l.match(Tt);return d?d[1].split(Xt):[]}function uH(l,d,m){d=Ju(d,l);for(var _=-1,D=d.length,U=!1;++_<D;){var he=Za(d[_]);if(!(U=l!=null&&m(l,he)))break;l=l[he]}return U||++_!=D?U:(D=l==null?0:l.length,!!D&&EC(D)&&Zl(he,D)&&(nn(l)||wd(l)))}function PU(l){var d=l.length,m=new l.constructor(d);return d&&typeof l[0]=="string"&&Gn.call(l,"index")&&(m.index=l.index,m.input=l.input),m}function cH(l){return typeof l.constructor=="function"&&!Pm(l)?Xu(nf(l)):{}}function AU(l,d,m){var _=l.constructor;switch(d){case ie:return UE(l);case me:case Me:return new _(+l);case ve:return mU(l,m);case pe:case ge:case $e:case Fe:case Ie:case xe:case ze:case Ge:case Oe:return UA(l,m);case ee:return new _;case De:case q:return new _(l);case k:return pU(l);case V:return new _;case fe:return vU(l)}}function HU(l,d){var m=d.length;if(!m)return l;var _=m-1;return d[_]=(m>1?"& ":"")+d[_],d=d.join(m>2?", ":" "),l.replace(ht,`{
/* [wrapped with `+d+`] */
`)}function DU(l){return nn(l)||wd(l)||!!(Yw&&l&&l[Yw])}function Zl(l,d){var m=typeof l;return d=d??G,!!d&&(m=="number"||m!="symbol"&&Ve.test(l))&&l>-1&&l%1==0&&l<d}function co(l,d,m){if(!kr(m))return!1;var _=typeof d;return(_=="number"?Po(m)&&Zl(d,m.length):_=="string"&&d in m)?ra(m[d],l):!1}function e_(l,d){if(nn(l))return!1;var m=typeof l;return m=="number"||m=="symbol"||m=="boolean"||l==null||Jo(l)?!0:$n.test(l)||!qt.test(l)||d!=null&&l in Cn(d)}function NU(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function t_(l){var d=pC(l),m=B[d];if(typeof m!="function"||!(d in fn.prototype))return!1;if(l===m)return!0;var _=ZE(m);return!!_&&l===_[0]}function $U(l){return!!Ww&&Ww in l}var LU=Qh?Ql:w_;function Pm(l){var d=l&&l.constructor,m=typeof d=="function"&&d.prototype||Uu;return l===m}function dH(l){return l===l&&!kr(l)}function hH(l,d){return function(m){return m==null?!1:m[l]===d&&(d!==n||l in Cn(m))}}function kU(l){var d=SC(l,function(_){return m.size===c&&m.clear(),_}),m=d.cache;return d}function FU(l,d){var m=l[1],_=d[1],D=m|_,U=D<(S|T|F),he=_==F&&m==O||_==F&&m==j&&l[7].length<=d[8]||_==(F|j)&&d[7].length<=d[8]&&m==O;if(!(U||he))return l;_&S&&(l[2]=d[2],D|=m&S?0:x);var Se=d[3];if(Se){var Te=l[3];l[3]=Te?KA(Te,Se,d[4]):Se,l[4]=Te?Xo(l[3],h):d[4]}return Se=d[5],Se&&(Te=l[5],l[5]=Te?qA(Te,Se,d[6]):Se,l[6]=Te?Xo(l[5],h):d[6]),Se=d[7],Se&&(l[7]=Se),_&F&&(l[8]=l[8]==null?d[8]:Lr(l[8],d[8])),l[9]==null&&(l[9]=d[9]),l[0]=d[0],l[1]=D,l}function VU(l){var d=[];if(l!=null)for(var m in Cn(l))d.push(m);return d}function WU(l){return Jh.call(l)}function fH(l,d,m){return d=Kr(d===n?l.length-1:d,0),function(){for(var _=arguments,D=-1,U=Kr(_.length-d,0),he=He(U);++D<U;)he[D]=_[d+D];D=-1;for(var Se=He(d+1);++D<d;)Se[D]=_[D];return Se[d]=m(he),$i(l,this,Se)}}function gH(l,d){return d.length<2?l:Kl(l,_s(d,0,-1))}function BU(l,d){for(var m=l.length,_=Lr(d.length,m),D=Oo(l);_--;){var U=d[_];l[_]=Zl(U,m)?D[U]:n}return l}function n_(l,d){if(!(d==="constructor"&&typeof l[d]=="function")&&d!="__proto__")return l[d]}var mH=vH(kA),Am=iE||function(l,d){return mi.setTimeout(l,d)},r_=vH(dU);function pH(l,d,m){var _=d+"";return r_(l,HU(_,jU(OU(_),m)))}function vH(l){var d=0,m=0;return function(){var _=Gw(),D=se-(_-m);if(m=_,D>0){if(++d>=X)return arguments[0]}else d=0;return l.apply(n,arguments)}}function wC(l,d){var m=-1,_=l.length,D=_-1;for(d=d===n?_:d;++m<d;){var U=FE(m,D),he=l[U];l[U]=l[m],l[m]=he}return l.length=d,l}var wH=kU(function(l){var d=[];return l.charCodeAt(0)===46&&d.push(""),l.replace(_t,function(m,_,D,U){d.push(D?U.replace(kn,"$1"):_||m)}),d});function Za(l){if(typeof l=="string"||Jo(l))return l;var d=l+"";return d=="0"&&1/l==-ae?"-0":d}function vd(l){if(l!=null){try{return od.call(l)}catch{}try{return l+""}catch{}}return""}function jU(l,d){return Gr($,function(m){var _="_."+m[0];d&m[1]&&!qh(l,_)&&l.push(_)}),l.sort()}function CH(l){if(l instanceof fn)return l.clone();var d=new xo(l.__wrapped__,l.__chain__);return d.__actions__=Oo(l.__actions__),d.__index__=l.__index__,d.__values__=l.__values__,d}function zU(l,d,m){(m?co(l,d,m):d===n)?d=1:d=Kr(ln(d),0);var _=l==null?0:l.length;if(!_||d<1)return[];for(var D=0,U=0,he=He(of(_/d));D<_;)he[U++]=_s(l,D,D+=d);return he}function YU(l){for(var d=-1,m=l==null?0:l.length,_=0,D=[];++d<m;){var U=l[d];U&&(D[_++]=U)}return D}function UU(){var l=arguments.length;if(!l)return[];for(var d=He(l-1),m=arguments[0],_=l;_--;)d[_-1]=arguments[_];return ws(nn(m)?Oo(m):[m],pi(d,1))}var GU=yn(function(l,d){return ni(l)?Zu(l,pi(d,1,ni,!0)):[]}),KU=yn(function(l,d){var m=Ms(d);return ni(m)&&(m=n),ni(l)?Zu(l,pi(d,1,ni,!0),kt(m,2)):[]}),qU=yn(function(l,d){var m=Ms(d);return ni(m)&&(m=n),ni(l)?Zu(l,pi(d,1,ni,!0),n,m):[]});function XU(l,d,m){var _=l==null?0:l.length;return _?(d=m||d===n?1:ln(d),_s(l,d<0?0:d,_)):[]}function ZU(l,d,m){var _=l==null?0:l.length;return _?(d=m||d===n?1:ln(d),d=_-d,_s(l,0,d<0?0:d)):[]}function QU(l,d){return l&&l.length?cC(l,kt(d,3),!0,!0):[]}function JU(l,d){return l&&l.length?cC(l,kt(d,3),!0):[]}function e3(l,d,m,_){var D=l==null?0:l.length;return D?(m&&typeof m!="number"&&co(l,d,m)&&(m=0,_=D),PE(l,d,m,_)):[]}function yH(l,d,m){var _=l==null?0:l.length;if(!_)return-1;var D=m==null?0:ln(m);return D<0&&(D=Kr(_+D,0)),Xh(l,kt(d,3),D)}function bH(l,d,m){var _=l==null?0:l.length;if(!_)return-1;var D=_-1;return m!==n&&(D=ln(m),D=m<0?Kr(_+D,0):Lr(D,_-1)),Xh(l,kt(d,3),D,!0)}function SH(l){var d=l==null?0:l.length;return d?pi(l,1):[]}function t3(l){var d=l==null?0:l.length;return d?pi(l,ae):[]}function n3(l,d){var m=l==null?0:l.length;return m?(d=d===n?1:ln(d),pi(l,d)):[]}function r3(l){for(var d=-1,m=l==null?0:l.length,_={};++d<m;){var D=l[d];_[D[0]]=D[1]}return _}function RH(l){return l&&l.length?l[0]:n}function i3(l,d,m){var _=l==null?0:l.length;if(!_)return-1;var D=m==null?0:ln(m);return D<0&&(D=Kr(_+D,0)),Bu(l,d,D)}function o3(l){var d=l==null?0:l.length;return d?_s(l,0,-1):[]}var s3=yn(function(l){var d=nr(l,zE);return d.length&&d[0]===l[0]?Tm(d):[]}),a3=yn(function(l){var d=Ms(l),m=nr(l,zE);return d===Ms(m)?d=n:m.pop(),m.length&&m[0]===l[0]?Tm(m,kt(d,2)):[]}),l3=yn(function(l){var d=Ms(l),m=nr(l,zE);return d=typeof d=="function"?d:n,d&&m.pop(),m.length&&m[0]===l[0]?Tm(m,n,d):[]});function u3(l,d){return l==null?"":Gu.call(l,d)}function Ms(l){var d=l==null?0:l.length;return d?l[d-1]:n}function c3(l,d,m){var _=l==null?0:l.length;if(!_)return-1;var D=_;return m!==n&&(D=ln(m),D=D<0?Kr(_+D,0):Lr(D,_-1)),d===d?UR(l,d,D):Xh(l,Hw,D,!0)}function d3(l,d){return l&&l.length?Es(l,ln(d)):n}var h3=yn(EH);function EH(l,d){return l&&l.length&&d&&d.length?kE(l,d):l}function f3(l,d,m){return l&&l.length&&d&&d.length?kE(l,d,kt(m,2)):l}function g3(l,d,m){return l&&l.length&&d&&d.length?kE(l,d,n,m):l}var m3=Xl(function(l,d){var m=l==null?0:l.length,_=gf(l,d);return LA(l,nr(d,function(D){return Zl(D,m)?+D:D}).sort(GA)),_});function p3(l,d){var m=[];if(!(l&&l.length))return m;var _=-1,D=[],U=l.length;for(d=kt(d,3);++_<U;){var he=l[_];d(he,_,l)&&(m.push(he),D.push(_))}return LA(l,D),m}function i_(l){return l==null?l:oE.call(l)}function v3(l,d,m){var _=l==null?0:l.length;return _?(m&&typeof m!="number"&&co(l,d,m)?(d=0,m=_):(d=d==null?0:ln(d),m=m===n?_:ln(m)),_s(l,d,m)):[]}function w3(l,d){return uC(l,d)}function C3(l,d,m){return WE(l,d,kt(m,2))}function y3(l,d){var m=l==null?0:l.length;if(m){var _=uC(l,d);if(_<m&&ra(l[_],d))return _}return-1}function b3(l,d){return uC(l,d,!0)}function S3(l,d,m){return WE(l,d,kt(m,2),!0)}function R3(l,d){var m=l==null?0:l.length;if(m){var _=uC(l,d,!0)-1;if(ra(l[_],d))return _}return-1}function E3(l){return l&&l.length?FA(l):[]}function _3(l,d){return l&&l.length?FA(l,kt(d,2)):[]}function M3(l){var d=l==null?0:l.length;return d?_s(l,1,d):[]}function T3(l,d,m){return l&&l.length?(d=m||d===n?1:ln(d),_s(l,0,d<0?0:d)):[]}function x3(l,d,m){var _=l==null?0:l.length;return _?(d=m||d===n?1:ln(d),d=_-d,_s(l,d<0?0:d,_)):[]}function I3(l,d){return l&&l.length?cC(l,kt(d,3),!1,!0):[]}function O3(l,d){return l&&l.length?cC(l,kt(d,3)):[]}var P3=yn(function(l){return Qu(pi(l,1,ni,!0))}),A3=yn(function(l){var d=Ms(l);return ni(d)&&(d=n),Qu(pi(l,1,ni,!0),kt(d,2))}),H3=yn(function(l){var d=Ms(l);return d=typeof d=="function"?d:n,Qu(pi(l,1,ni,!0),n,d)});function D3(l){return l&&l.length?Qu(l):[]}function N3(l,d){return l&&l.length?Qu(l,kt(d,2)):[]}function $3(l,d){return d=typeof d=="function"?d:n,l&&l.length?Qu(l,n,d):[]}function o_(l){if(!(l&&l.length))return[];var d=0;return l=za(l,function(m){if(ni(m))return d=Kr(m.length,d),!0}),pm(d,function(m){return nr(l,fm(m))})}function _H(l,d){if(!(l&&l.length))return[];var m=o_(l);return d==null?m:nr(m,function(_){return $i(d,n,_)})}var L3=yn(function(l,d){return ni(l)?Zu(l,d):[]}),k3=yn(function(l){return jE(za(l,ni))}),F3=yn(function(l){var d=Ms(l);return ni(d)&&(d=n),jE(za(l,ni),kt(d,2))}),V3=yn(function(l){var d=Ms(l);return d=typeof d=="function"?d:n,jE(za(l,ni),n,d)}),W3=yn(o_);function B3(l,d){return jA(l||[],d||[],fd)}function j3(l,d){return jA(l||[],d||[],Im)}var z3=yn(function(l){var d=l.length,m=d>1?l[d-1]:n;return m=typeof m=="function"?(l.pop(),m):n,_H(l,m)});function MH(l){var d=B(l);return d.__chain__=!0,d}function Y3(l,d){return d(l),l}function CC(l,d){return d(l)}var U3=Xl(function(l){var d=l.length,m=d?l[0]:0,_=this.__wrapped__,D=function(U){return gf(U,l)};return d>1||this.__actions__.length||!(_ instanceof fn)||!Zl(m)?this.thru(D):(_=_.slice(m,+m+(d?1:0)),_.__actions__.push({func:CC,args:[D],thisArg:n}),new xo(_,this.__chain__).thru(function(U){return d&&!U.length&&U.push(n),U}))});function G3(){return MH(this)}function K3(){return new xo(this.value(),this.__chain__)}function q3(){this.__values__===n&&(this.__values__=VH(this.value()));var l=this.__index__>=this.__values__.length,d=l?n:this.__values__[this.__index__++];return{done:l,value:d}}function X3(){return this}function Z3(l){for(var d,m=this;m instanceof cf;){var _=CH(m);_.__index__=0,_.__values__=n,d?D.__wrapped__=_:d=_;var D=_;m=m.__wrapped__}return D.__wrapped__=l,d}function Q3(){var l=this.__wrapped__;if(l instanceof fn){var d=l;return this.__actions__.length&&(d=new fn(this)),d=d.reverse(),d.__actions__.push({func:CC,args:[i_],thisArg:n}),new xo(d,this.__chain__)}return this.thru(i_)}function J3(){return BA(this.__wrapped__,this.__actions__)}var eG=dC(function(l,d,m){Gn.call(l,m)?++l[m]:ea(l,m,1)});function tG(l,d,m){var _=nn(l)?Kh:OE;return m&&co(l,d,m)&&(d=n),_(l,kt(d,3))}function nG(l,d){var m=nn(l)?za:oC;return m(l,kt(d,3))}var rG=JA(yH),iG=JA(bH);function oG(l,d){return pi(yC(l,d),1)}function sG(l,d){return pi(yC(l,d),ae)}function aG(l,d,m){return m=m===n?1:ln(m),pi(yC(l,d),m)}function TH(l,d){var m=nn(l)?Gr:Ka;return m(l,kt(d,3))}function xH(l,d){var m=nn(l)?DR:iC;return m(l,kt(d,3))}var lG=dC(function(l,d,m){Gn.call(l,m)?l[m].push(d):ea(l,m,[d])});function uG(l,d,m,_){l=Po(l)?l:yf(l),m=m&&!_?ln(m):0;var D=l.length;return m<0&&(m=Kr(D+m,0)),_C(l)?m<=D&&l.indexOf(d,m)>-1:!!D&&Bu(l,d,m)>-1}var cG=yn(function(l,d,m){var _=-1,D=typeof d=="function",U=Po(l)?He(l.length):[];return Ka(l,function(he){U[++_]=D?$i(d,he,m):Rs(he,d,m)}),U}),dG=dC(function(l,d,m){ea(l,m,d)});function yC(l,d){var m=nn(l)?nr:Le;return m(l,kt(d,3))}function hG(l,d,m,_){return l==null?[]:(nn(d)||(d=d==null?[]:[d]),m=_?n:m,nn(m)||(m=m==null?[]:[m]),na(l,d,m))}var fG=dC(function(l,d,m){l[m?0:1].push(d)},function(){return[[],[]]});function gG(l,d,m){var _=nn(l)?dm:Dw,D=arguments.length<3;return _(l,kt(d,4),m,D,Ka)}function mG(l,d,m){var _=nn(l)?NR:Dw,D=arguments.length<3;return _(l,kt(d,4),m,D,iC)}function pG(l,d){var m=nn(l)?za:oC;return m(l,RC(kt(d,3)))}function vG(l){var d=nn(l)?nC:uU;return d(l)}function wG(l,d,m){(m?co(l,d,m):d===n)?d=1:d=ln(d);var _=nn(l)?ME:cU;return _(l,d)}function CG(l){var d=nn(l)?TE:hU;return d(l)}function yG(l){if(l==null)return 0;if(Po(l))return _C(l)?Ya(l):l.length;var d=qi(l);return d==ee||d==V?l.size:P(l).length}function bG(l,d,m){var _=nn(l)?hm:fU;return m&&co(l,d,m)&&(d=n),_(l,kt(d,3))}var SG=yn(function(l,d){if(l==null)return[];var m=d.length;return m>1&&co(l,d[0],d[1])?d=[]:m>2&&co(d[0],d[1],d[2])&&(d=[d[0]]),na(l,pi(d,1),[])}),bC=rE||function(){return mi.Date.now()};function RG(l,d){if(typeof d!="function")throw new To(s);return l=ln(l),function(){if(--l<1)return d.apply(this,arguments)}}function IH(l,d,m){return d=m?n:d,d=l&&d==null?l.length:d,ql(l,F,n,n,n,n,d)}function OH(l,d){var m;if(typeof d!="function")throw new To(s);return l=ln(l),function(){return--l>0&&(m=d.apply(this,arguments)),l<=1&&(d=n),m}}var s_=yn(function(l,d,m){var _=S;if(m.length){var D=Xo(m,wf(s_));_|=H}return ql(l,_,d,m,D)}),PH=yn(function(l,d,m){var _=S|T;if(m.length){var D=Xo(m,wf(PH));_|=H}return ql(d,_,l,m,D)});function AH(l,d,m){d=m?n:d;var _=ql(l,O,n,n,n,n,n,d);return _.placeholder=AH.placeholder,_}function HH(l,d,m){d=m?n:d;var _=ql(l,A,n,n,n,n,n,d);return _.placeholder=HH.placeholder,_}function DH(l,d,m){var _,D,U,he,Se,Te,Ue=0,Ke=!1,Je=!1,ct=!0;if(typeof l!="function")throw new To(s);d=Ts(d)||0,kr(m)&&(Ke=!!m.leading,Je="maxWait"in m,U=Je?Kr(Ts(m.maxWait)||0,d):U,ct="trailing"in m?!!m.trailing:ct);function It(ri){var ia=_,eu=D;return _=D=n,Ue=ri,he=l.apply(eu,ia),he}function Bt(ri){return Ue=ri,Se=Am(Tn,d),Ke?It(ri):he}function mn(ri){var ia=ri-Te,eu=ri-Ue,JH=d-ia;return Je?Lr(JH,U-eu):JH}function jt(ri){var ia=ri-Te,eu=ri-Ue;return Te===n||ia>=d||ia<0||Je&&eu>=U}function Tn(){var ri=bC();if(jt(ri))return Dn(ri);Se=Am(Tn,mn(ri))}function Dn(ri){return Se=n,ct&&_?It(ri):(_=D=n,he)}function es(){Se!==n&&zA(Se),Ue=0,_=Te=D=Se=n}function ho(){return Se===n?he:Dn(bC())}function ts(){var ri=bC(),ia=jt(ri);if(_=arguments,D=this,Te=ri,ia){if(Se===n)return Bt(Te);if(Je)return zA(Se),Se=Am(Tn,d),It(Te)}return Se===n&&(Se=Am(Tn,d)),he}return ts.cancel=es,ts.flush=ho,ts}var EG=yn(function(l,d){return ys(l,1,d)}),_G=yn(function(l,d,m){return ys(l,Ts(d)||0,m)});function MG(l){return ql(l,z)}function SC(l,d){if(typeof l!="function"||d!=null&&typeof d!="function")throw new To(s);var m=function(){var _=arguments,D=d?d.apply(this,_):_[0],U=m.cache;if(U.has(D))return U.get(D);var he=l.apply(this,_);return m.cache=U.set(D,he)||U,he};return m.cache=new(SC.Cache||Js),m}SC.Cache=Js;function RC(l){if(typeof l!="function")throw new To(s);return function(){var d=arguments;switch(d.length){case 0:return!l.call(this);case 1:return!l.call(this,d[0]);case 2:return!l.call(this,d[0],d[1]);case 3:return!l.call(this,d[0],d[1],d[2])}return!l.apply(this,d)}}function TG(l){return OH(2,l)}var xG=gU(function(l,d){d=d.length==1&&nn(d[0])?nr(d[0],Ki(kt())):nr(pi(d,1),Ki(kt()));var m=d.length;return yn(function(_){for(var D=-1,U=Lr(_.length,m);++D<U;)_[D]=d[D].call(this,_[D]);return $i(l,this,_)})}),a_=yn(function(l,d){var m=Xo(d,wf(a_));return ql(l,H,n,d,m)}),NH=yn(function(l,d){var m=Xo(d,wf(NH));return ql(l,L,n,d,m)}),IG=Xl(function(l,d){return ql(l,j,n,n,n,d)});function OG(l,d){if(typeof l!="function")throw new To(s);return d=d===n?d:ln(d),yn(l,d)}function PG(l,d){if(typeof l!="function")throw new To(s);return d=d==null?0:Kr(ln(d),0),yn(function(m){var _=m[d],D=ec(m,0,d);return _&&ws(D,_),$i(l,this,D)})}function AG(l,d,m){var _=!0,D=!0;if(typeof l!="function")throw new To(s);return kr(m)&&(_="leading"in m?!!m.leading:_,D="trailing"in m?!!m.trailing:D),DH(l,d,{leading:_,maxWait:d,trailing:D})}function HG(l){return IH(l,1)}function DG(l,d){return a_(YE(d),l)}function NG(){if(!arguments.length)return[];var l=arguments[0];return nn(l)?l:[l]}function $G(l){return uo(l,v)}function LG(l,d){return d=typeof d=="function"?d:n,uo(l,v,d)}function kG(l){return uo(l,g|v)}function FG(l,d){return d=typeof d=="function"?d:n,uo(l,g|v,d)}function VG(l,d){return d==null||rC(l,d,_i(d))}function ra(l,d){return l===d||l!==l&&d!==d}var WG=mC(Mm),BG=mC(function(l,d){return l>=d}),wd=lC(function(){return arguments}())?lC:function(l){return qr(l)&&Gn.call(l,"callee")&&!zw.call(l,"callee")},nn=He.isArray,jG=Tw?Ki(Tw):NE;function Po(l){return l!=null&&EC(l.length)&&!Ql(l)}function ni(l){return qr(l)&&Po(l)}function zG(l){return l===!0||l===!1||qr(l)&&Li(l)==me}var tc=Uw||w_,YG=um?Ki(um):$E;function UG(l){return qr(l)&&l.nodeType===1&&!Hm(l)}function GG(l){if(l==null)return!0;if(Po(l)&&(nn(l)||typeof l=="string"||typeof l.splice=="function"||tc(l)||Cf(l)||wd(l)))return!l.length;var d=qi(l);if(d==ee||d==V)return!l.size;if(Pm(l))return!P(l).length;for(var m in l)if(Gn.call(l,m))return!1;return!0}function KG(l,d){return gd(l,d)}function qG(l,d,m){m=typeof m=="function"?m:n;var _=m?m(l,d):n;return _===n?gd(l,d,n,m):!!_}function l_(l){if(!qr(l))return!1;var d=Li(l);return d==le||d==be||typeof l.message=="string"&&typeof l.name=="string"&&!Hm(l)}function XG(l){return typeof l=="number"&&ld(l)}function Ql(l){if(!kr(l))return!1;var d=Li(l);return d==Ee||d==_e||d==ue||d==je}function $H(l){return typeof l=="number"&&l==ln(l)}function EC(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=G}function kr(l){var d=typeof l;return l!=null&&(d=="object"||d=="function")}function qr(l){return l!=null&&typeof l=="object"}var LH=xw?Ki(xw):xm;function ZG(l,d){return l===d||qa(l,d,QE(d))}function QG(l,d,m){return m=typeof m=="function"?m:n,qa(l,d,QE(d),m)}function JG(l){return kH(l)&&l!=+l}function e4(l){if(LU(l))throw new Kt(o);return md(l)}function t4(l){return l===null}function n4(l){return l==null}function kH(l){return typeof l=="number"||qr(l)&&Li(l)==De}function Hm(l){if(!qr(l)||Li(l)!=Pe)return!1;var d=nf(l);if(d===null)return!0;var m=Gn.call(d,"constructor")&&d.constructor;return typeof m=="function"&&m instanceof m&&od.call(m)==JR}var u_=Iw?Ki(Iw):On;function r4(l){return $H(l)&&l>=-G&&l<=G}var FH=td?Ki(td):f;function _C(l){return typeof l=="string"||!nn(l)&&qr(l)&&Li(l)==q}function Jo(l){return typeof l=="symbol"||qr(l)&&Li(l)==fe}var Cf=qs?Ki(qs):w;function i4(l){return l===n}function o4(l){return qr(l)&&qi(l)==we}function s4(l){return qr(l)&&Li(l)==ce}var a4=mC(Ce),l4=mC(function(l,d){return l<=d});function VH(l){if(!l)return[];if(Po(l))return _C(l)?lo(l):Oo(l);if(sd&&l[sd])return zR(l[sd]());var d=qi(l),m=d==ee?wm:d==V?zu:yf;return m(l)}function Jl(l){if(!l)return l===0?l:0;if(l=Ts(l),l===ae||l===-ae){var d=l<0?-1:1;return d*oe}return l===l?l:0}function ln(l){var d=Jl(l),m=d%1;return d===d?m?d-m:d:0}function WH(l){return l?Gl(ln(l),0,C):0}function Ts(l){if(typeof l=="number")return l;if(Jo(l))return te;if(kr(l)){var d=typeof l.valueOf=="function"?l.valueOf():l;l=kr(d)?d+"":d}if(typeof l!="string")return l===0?l:+l;l=Nw(l);var m=ci.test(l);return m||bt.test(l)?_w(l.slice(2),m?2:8):Dr.test(l)?te:+l}function BH(l){return Xa(l,Ao(l))}function u4(l){return l?Gl(ln(l),-G,G):l===0?l:0}function Qn(l){return l==null?"":Qo(l)}var c4=pf(function(l,d){if(Pm(d)||Po(d)){Xa(d,_i(d),l);return}for(var m in d)Gn.call(d,m)&&fd(l,m,d[m])}),jH=pf(function(l,d){Xa(d,Ao(d),l)}),MC=pf(function(l,d,m,_){Xa(d,Ao(d),l,_)}),d4=pf(function(l,d,m,_){Xa(d,_i(d),l,_)}),h4=Xl(gf);function f4(l,d){var m=Xu(l);return d==null?m:Sm(m,d)}var g4=yn(function(l,d){l=Cn(l);var m=-1,_=d.length,D=_>2?d[2]:n;for(D&&co(d[0],d[1],D)&&(_=1);++m<_;)for(var U=d[m],he=Ao(U),Se=-1,Te=he.length;++Se<Te;){var Ue=he[Se],Ke=l[Ue];(Ke===n||ra(Ke,Uu[Ue])&&!Gn.call(l,Ue))&&(l[Ue]=U[Ue])}return l}),m4=yn(function(l){return l.push(n,sH),$i(zH,n,l)});function p4(l,d){return Pw(l,kt(d,3),bs)}function v4(l,d){return Pw(l,kt(d,3),_m)}function w4(l,d){return l==null?l:Em(l,kt(d,3),Ao)}function C4(l,d){return l==null?l:sC(l,kt(d,3),Ao)}function y4(l,d){return l&&bs(l,kt(d,3))}function b4(l,d){return l&&_m(l,kt(d,3))}function S4(l){return l==null?[]:Ss(l,_i(l))}function R4(l){return l==null?[]:Ss(l,Ao(l))}function c_(l,d,m){var _=l==null?n:Kl(l,d);return _===n?m:_}function E4(l,d){return l!=null&&uH(l,d,AE)}function d_(l,d){return l!=null&&uH(l,d,HE)}var _4=tH(function(l,d,m){d!=null&&typeof d.toString!="function"&&(d=Jh.call(d)),l[d]=m},f_(Ho)),M4=tH(function(l,d,m){d!=null&&typeof d.toString!="function"&&(d=Jh.call(d)),Gn.call(l,d)?l[d].push(m):l[d]=[m]},kt),T4=yn(Rs);function _i(l){return Po(l)?ff(l):P(l)}function Ao(l){return Po(l)?ff(l,!0):W(l)}function x4(l,d){var m={};return d=kt(d,3),bs(l,function(_,D,U){ea(m,d(_,D,U),_)}),m}function I4(l,d){var m={};return d=kt(d,3),bs(l,function(_,D,U){ea(m,D,d(_,D,U))}),m}var O4=pf(function(l,d,m){gn(l,d,m)}),zH=pf(function(l,d,m,_){gn(l,d,m,_)}),P4=Xl(function(l,d){var m={};if(l==null)return m;var _=!1;d=nr(d,function(U){return U=Ju(U,l),_||(_=U.length>1),U}),Xa(l,XE(l),m),_&&(m=uo(m,g|p|v,_U));for(var D=d.length;D--;)BE(m,d[D]);return m});function A4(l,d){return YH(l,RC(kt(d)))}var H4=Xl(function(l,d){return l==null?{}:sU(l,d)});function YH(l,d){if(l==null)return{};var m=nr(XE(l),function(_){return[_]});return d=kt(d),$A(l,m,function(_,D){return d(_,D[0])})}function D4(l,d,m){d=Ju(d,l);var _=-1,D=d.length;for(D||(D=1,l=n);++_<D;){var U=l==null?n:l[Za(d[_])];U===n&&(_=D,U=m),l=Ql(U)?U.call(l):U}return l}function N4(l,d,m){return l==null?l:Im(l,d,m)}function $4(l,d,m,_){return _=typeof _=="function"?_:n,l==null?l:Im(l,d,m,_)}var UH=iH(_i),GH=iH(Ao);function L4(l,d,m){var _=nn(l),D=_||tc(l)||Cf(l);if(d=kt(d,4),m==null){var U=l&&l.constructor;D?m=_?new U:[]:kr(l)?m=Ql(U)?Xu(nf(l)):{}:m={}}return(D?Gr:bs)(l,function(he,Se,Te){return d(m,he,Se,Te)}),m}function k4(l,d){return l==null?!0:BE(l,d)}function F4(l,d,m){return l==null?l:WA(l,d,YE(m))}function V4(l,d,m,_){return _=typeof _=="function"?_:n,l==null?l:WA(l,d,YE(m),_)}function yf(l){return l==null?[]:vm(l,_i(l))}function W4(l){return l==null?[]:vm(l,Ao(l))}function B4(l,d,m){return m===n&&(m=d,d=n),m!==n&&(m=Ts(m),m=m===m?m:0),d!==n&&(d=Ts(d),d=d===d?d:0),Gl(Ts(l),d,m)}function j4(l,d,m){return d=Jl(d),m===n?(m=d,d=0):m=Jl(m),l=Ts(l),DE(l,d,m)}function z4(l,d,m){if(m&&typeof m!="boolean"&&co(l,d,m)&&(d=m=n),m===n&&(typeof d=="boolean"?(m=d,d=n):typeof l=="boolean"&&(m=l,l=n)),l===n&&d===n?(l=0,d=1):(l=Jl(l),d===n?(d=l,l=0):d=Jl(d)),l>d){var _=l;l=d,d=_}if(m||l%1||d%1){var D=qw();return Lr(l+D*(d-l+Ew("1e-"+((D+"").length-1))),d)}return FE(l,d)}var Y4=vf(function(l,d,m){return d=d.toLowerCase(),l+(m?KH(d):d)});function KH(l){return h_(Qn(l).toLowerCase())}function qH(l){return l=Qn(l),l&&l.replace(de,Lw).replace(ER,"")}function U4(l,d,m){l=Qn(l),d=Qo(d);var _=l.length;m=m===n?_:Gl(ln(m),0,_);var D=m;return m-=d.length,m>=0&&l.slice(m,D)==d}function G4(l){return l=Qn(l),l&&At.test(l)?l.replace(In,VR):l}function K4(l){return l=Qn(l),l&&it.test(l)?l.replace(zn,"\\$&"):l}var q4=vf(function(l,d,m){return l+(m?"-":"")+d.toLowerCase()}),X4=vf(function(l,d,m){return l+(m?" ":"")+d.toLowerCase()}),Z4=QA("toLowerCase");function Q4(l,d,m){l=Qn(l),d=ln(d);var _=d?Ya(l):0;if(!d||_>=d)return l;var D=(d-_)/2;return gC(ad(D),m)+l+gC(of(D),m)}function J4(l,d,m){l=Qn(l),d=ln(d);var _=d?Ya(l):0;return d&&_<d?l+gC(d-_,m):l}function e6(l,d,m){l=Qn(l),d=ln(d);var _=d?Ya(l):0;return d&&_<d?gC(d-_,m)+l:l}function t6(l,d,m){return m||d==null?d=0:d&&(d=+d),Kw(Qn(l).replace(ft,""),d||0)}function n6(l,d,m){return(m?co(l,d,m):d===n)?d=1:d=ln(d),VE(Qn(l),d)}function r6(){var l=arguments,d=Qn(l[0]);return l.length<3?d:d.replace(l[1],l[2])}var i6=vf(function(l,d,m){return l+(m?"_":"")+d.toLowerCase()});function o6(l,d,m){return m&&typeof m!="number"&&co(l,d,m)&&(d=m=n),m=m===n?C:m>>>0,m?(l=Qn(l),l&&(typeof d=="string"||d!=null&&!u_(d))&&(d=Qo(d),!d&&Cs(l))?ec(lo(l),0,m):l.split(d,m)):[]}var s6=vf(function(l,d,m){return l+(m?" ":"")+h_(d)});function a6(l,d,m){return l=Qn(l),m=m==null?0:Gl(ln(m),0,l.length),d=Qo(d),l.slice(m,m+d.length)==d}function l6(l,d,m){var _=B.templateSettings;m&&co(l,d,m)&&(d=n),l=Qn(l),d=MC({},d,_,oH);var D=MC({},d.imports,_.imports,oH),U=_i(D),he=vm(D,U),Se,Te,Ue=0,Ke=d.interpolate||Ne,Je="__p += '",ct=Xs((d.escape||Ne).source+"|"+Ke.source+"|"+(Ke===Yt?Gt:Ne).source+"|"+(d.evaluate||Ne).source+"|$","g"),It="//# sourceURL="+(Gn.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++IR+"]")+`
`;l.replace(ct,function(jt,Tn,Dn,es,ho,ts){return Dn||(Dn=es),Je+=l.slice(Ue,ts).replace(et,WR),Tn&&(Se=!0,Je+=`' +
__e(`+Tn+`) +
'`),ho&&(Te=!0,Je+=`';
`+ho+`;
__p += '`),Dn&&(Je+=`' +
((__t = (`+Dn+`)) == null ? '' : __t) +
'`),Ue=ts+jt.length,jt}),Je+=`';
`;var Bt=Gn.call(d,"variable")&&d.variable;if(!Bt)Je=`with (obj) {
`+Je+`
}
`;else if(tn.test(Bt))throw new Kt(a);Je=(Te?Je.replace(Ye,""):Je).replace(wt,"$1").replace(sn,"$1;"),Je="function("+(Bt||"obj")+`) {
`+(Bt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Se?", __e = _.escape":"")+(Te?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Je+`return __p
}`;var mn=ZH(function(){return Bn(U,It+"return "+Je).apply(n,he)});if(mn.source=Je,l_(mn))throw mn;return mn}function u6(l){return Qn(l).toLowerCase()}function c6(l){return Qn(l).toUpperCase()}function d6(l,d,m){if(l=Qn(l),l&&(m||d===n))return Nw(l);if(!l||!(d=Qo(d)))return l;var _=lo(l),D=lo(d),U=dr(_,D),he=$w(_,D)+1;return ec(_,U,he).join("")}function h6(l,d,m){if(l=Qn(l),l&&(m||d===n))return l.slice(0,Zh(l)+1);if(!l||!(d=Qo(d)))return l;var _=lo(l),D=$w(_,lo(d))+1;return ec(_,0,D).join("")}function f6(l,d,m){if(l=Qn(l),l&&(m||d===n))return l.replace(ft,"");if(!l||!(d=Qo(d)))return l;var _=lo(l),D=dr(_,lo(d));return ec(_,D).join("")}function g6(l,d){var m=Y,_=K;if(kr(d)){var D="separator"in d?d.separator:D;m="length"in d?ln(d.length):m,_="omission"in d?Qo(d.omission):_}l=Qn(l);var U=l.length;if(Cs(l)){var he=lo(l);U=he.length}if(m>=U)return l;var Se=m-Ya(_);if(Se<1)return _;var Te=he?ec(he,0,Se).join(""):l.slice(0,Se);if(D===n)return Te+_;if(he&&(Se+=Te.length-Se),u_(D)){if(l.slice(Se).search(D)){var Ue,Ke=Te;for(D.global||(D=Xs(D.source,Qn(Mn.exec(D))+"g")),D.lastIndex=0;Ue=D.exec(Ke);)var Je=Ue.index;Te=Te.slice(0,Je===n?Se:Je)}}else if(l.indexOf(Qo(D),Se)!=Se){var ct=Te.lastIndexOf(D);ct>-1&&(Te=Te.slice(0,ct))}return Te+_}function m6(l){return l=Qn(l),l&&wn.test(l)?l.replace(Nt,GR):l}var p6=vf(function(l,d,m){return l+(m?" ":"")+d.toUpperCase()}),h_=QA("toUpperCase");function XH(l,d,m){return l=Qn(l),d=m?n:d,d===n?jR(l)?XR(l):LR(l):l.match(d)||[]}var ZH=yn(function(l,d){try{return $i(l,n,d)}catch(m){return l_(m)?m:new Kt(m)}}),v6=Xl(function(l,d){return Gr(d,function(m){m=Za(m),ea(l,m,s_(l[m],l))}),l});function w6(l){var d=l==null?0:l.length,m=kt();return l=d?nr(l,function(_){if(typeof _[1]!="function")throw new To(s);return[m(_[0]),_[1]]}):[],yn(function(_){for(var D=-1;++D<d;){var U=l[D];if($i(U[0],this,_))return $i(U[1],this,_)}})}function C6(l){return Rm(uo(l,g))}function f_(l){return function(){return l}}function y6(l,d){return l==null||l!==l?d:l}var b6=eH(),S6=eH(!0);function Ho(l){return l}function g_(l){return M(typeof l=="function"?l:uo(l,g))}function R6(l){return gt(uo(l,g))}function E6(l,d){return zt(l,uo(d,g))}var _6=yn(function(l,d){return function(m){return Rs(m,l,d)}}),M6=yn(function(l,d){return function(m){return Rs(l,m,d)}});function m_(l,d,m){var _=_i(d),D=Ss(d,_);m==null&&!(kr(d)&&(D.length||!_.length))&&(m=d,d=l,l=this,D=Ss(d,_i(d)));var U=!(kr(m)&&"chain"in m)||!!m.chain,he=Ql(l);return Gr(D,function(Se){var Te=d[Se];l[Se]=Te,he&&(l.prototype[Se]=function(){var Ue=this.__chain__;if(U||Ue){var Ke=l(this.__wrapped__),Je=Ke.__actions__=Oo(this.__actions__);return Je.push({func:Te,args:arguments,thisArg:l}),Ke.__chain__=Ue,Ke}return Te.apply(l,ws([this.value()],arguments))})}),l}function T6(){return mi._===this&&(mi._=eE),this}function p_(){}function x6(l){return l=ln(l),yn(function(d){return Es(d,l)})}var I6=GE(nr),O6=GE(Kh),P6=GE(hm);function QH(l){return e_(l)?fm(Za(l)):aU(l)}function A6(l){return function(d){return l==null?n:Kl(l,d)}}var H6=nH(),D6=nH(!0);function v_(){return[]}function w_(){return!1}function N6(){return{}}function $6(){return""}function L6(){return!0}function k6(l,d){if(l=ln(l),l<1||l>G)return[];var m=C,_=Lr(l,C);d=kt(d),l-=C;for(var D=pm(_,d);++m<l;)d(m);return D}function F6(l){return nn(l)?nr(l,Za):Jo(l)?[l]:Oo(wH(Qn(l)))}function V6(l){var d=++QR;return Qn(l)+d}var W6=fC(function(l,d){return l+d},0),B6=KE("ceil"),j6=fC(function(l,d){return l/d},1),z6=KE("floor");function Y6(l){return l&&l.length?mf(l,Ho,Mm):n}function U6(l,d){return l&&l.length?mf(l,kt(d,2),Mm):n}function G6(l){return jl(l,Ho)}function K6(l,d){return jl(l,kt(d,2))}function q6(l){return l&&l.length?mf(l,Ho,Ce):n}function X6(l,d){return l&&l.length?mf(l,kt(d,2),Ce):n}var Z6=fC(function(l,d){return l*d},1),Q6=KE("round"),J6=fC(function(l,d){return l-d},0);function e5(l){return l&&l.length?mm(l,Ho):0}function t5(l,d){return l&&l.length?mm(l,kt(d,2)):0}return B.after=RG,B.ary=IH,B.assign=c4,B.assignIn=jH,B.assignInWith=MC,B.assignWith=d4,B.at=h4,B.before=OH,B.bind=s_,B.bindAll=v6,B.bindKey=PH,B.castArray=NG,B.chain=MH,B.chunk=zU,B.compact=YU,B.concat=UU,B.cond=w6,B.conforms=C6,B.constant=f_,B.countBy=eG,B.create=f4,B.curry=AH,B.curryRight=HH,B.debounce=DH,B.defaults=g4,B.defaultsDeep=m4,B.defer=EG,B.delay=_G,B.difference=GU,B.differenceBy=KU,B.differenceWith=qU,B.drop=XU,B.dropRight=ZU,B.dropRightWhile=QU,B.dropWhile=JU,B.fill=e3,B.filter=nG,B.flatMap=oG,B.flatMapDeep=sG,B.flatMapDepth=aG,B.flatten=SH,B.flattenDeep=t3,B.flattenDepth=n3,B.flip=MG,B.flow=b6,B.flowRight=S6,B.fromPairs=r3,B.functions=S4,B.functionsIn=R4,B.groupBy=lG,B.initial=o3,B.intersection=s3,B.intersectionBy=a3,B.intersectionWith=l3,B.invert=_4,B.invertBy=M4,B.invokeMap=cG,B.iteratee=g_,B.keyBy=dG,B.keys=_i,B.keysIn=Ao,B.map=yC,B.mapKeys=x4,B.mapValues=I4,B.matches=R6,B.matchesProperty=E6,B.memoize=SC,B.merge=O4,B.mergeWith=zH,B.method=_6,B.methodOf=M6,B.mixin=m_,B.negate=RC,B.nthArg=x6,B.omit=P4,B.omitBy=A4,B.once=TG,B.orderBy=hG,B.over=I6,B.overArgs=xG,B.overEvery=O6,B.overSome=P6,B.partial=a_,B.partialRight=NH,B.partition=fG,B.pick=H4,B.pickBy=YH,B.property=QH,B.propertyOf=A6,B.pull=h3,B.pullAll=EH,B.pullAllBy=f3,B.pullAllWith=g3,B.pullAt=m3,B.range=H6,B.rangeRight=D6,B.rearg=IG,B.reject=pG,B.remove=p3,B.rest=OG,B.reverse=i_,B.sampleSize=wG,B.set=N4,B.setWith=$4,B.shuffle=CG,B.slice=v3,B.sortBy=SG,B.sortedUniq=E3,B.sortedUniqBy=_3,B.split=o6,B.spread=PG,B.tail=M3,B.take=T3,B.takeRight=x3,B.takeRightWhile=I3,B.takeWhile=O3,B.tap=Y3,B.throttle=AG,B.thru=CC,B.toArray=VH,B.toPairs=UH,B.toPairsIn=GH,B.toPath=F6,B.toPlainObject=BH,B.transform=L4,B.unary=HG,B.union=P3,B.unionBy=A3,B.unionWith=H3,B.uniq=D3,B.uniqBy=N3,B.uniqWith=$3,B.unset=k4,B.unzip=o_,B.unzipWith=_H,B.update=F4,B.updateWith=V4,B.values=yf,B.valuesIn=W4,B.without=L3,B.words=XH,B.wrap=DG,B.xor=k3,B.xorBy=F3,B.xorWith=V3,B.zip=W3,B.zipObject=B3,B.zipObjectDeep=j3,B.zipWith=z3,B.entries=UH,B.entriesIn=GH,B.extend=jH,B.extendWith=MC,m_(B,B),B.add=W6,B.attempt=ZH,B.camelCase=Y4,B.capitalize=KH,B.ceil=B6,B.clamp=B4,B.clone=$G,B.cloneDeep=kG,B.cloneDeepWith=FG,B.cloneWith=LG,B.conformsTo=VG,B.deburr=qH,B.defaultTo=y6,B.divide=j6,B.endsWith=U4,B.eq=ra,B.escape=G4,B.escapeRegExp=K4,B.every=tG,B.find=rG,B.findIndex=yH,B.findKey=p4,B.findLast=iG,B.findLastIndex=bH,B.findLastKey=v4,B.floor=z6,B.forEach=TH,B.forEachRight=xH,B.forIn=w4,B.forInRight=C4,B.forOwn=y4,B.forOwnRight=b4,B.get=c_,B.gt=WG,B.gte=BG,B.has=E4,B.hasIn=d_,B.head=RH,B.identity=Ho,B.includes=uG,B.indexOf=i3,B.inRange=j4,B.invoke=T4,B.isArguments=wd,B.isArray=nn,B.isArrayBuffer=jG,B.isArrayLike=Po,B.isArrayLikeObject=ni,B.isBoolean=zG,B.isBuffer=tc,B.isDate=YG,B.isElement=UG,B.isEmpty=GG,B.isEqual=KG,B.isEqualWith=qG,B.isError=l_,B.isFinite=XG,B.isFunction=Ql,B.isInteger=$H,B.isLength=EC,B.isMap=LH,B.isMatch=ZG,B.isMatchWith=QG,B.isNaN=JG,B.isNative=e4,B.isNil=n4,B.isNull=t4,B.isNumber=kH,B.isObject=kr,B.isObjectLike=qr,B.isPlainObject=Hm,B.isRegExp=u_,B.isSafeInteger=r4,B.isSet=FH,B.isString=_C,B.isSymbol=Jo,B.isTypedArray=Cf,B.isUndefined=i4,B.isWeakMap=o4,B.isWeakSet=s4,B.join=u3,B.kebabCase=q4,B.last=Ms,B.lastIndexOf=c3,B.lowerCase=X4,B.lowerFirst=Z4,B.lt=a4,B.lte=l4,B.max=Y6,B.maxBy=U6,B.mean=G6,B.meanBy=K6,B.min=q6,B.minBy=X6,B.stubArray=v_,B.stubFalse=w_,B.stubObject=N6,B.stubString=$6,B.stubTrue=L6,B.multiply=Z6,B.nth=d3,B.noConflict=T6,B.noop=p_,B.now=bC,B.pad=Q4,B.padEnd=J4,B.padStart=e6,B.parseInt=t6,B.random=z4,B.reduce=gG,B.reduceRight=mG,B.repeat=n6,B.replace=r6,B.result=D4,B.round=Q6,B.runInContext=Re,B.sample=vG,B.size=yG,B.snakeCase=i6,B.some=bG,B.sortedIndex=w3,B.sortedIndexBy=C3,B.sortedIndexOf=y3,B.sortedLastIndex=b3,B.sortedLastIndexBy=S3,B.sortedLastIndexOf=R3,B.startCase=s6,B.startsWith=a6,B.subtract=J6,B.sum=e5,B.sumBy=t5,B.template=l6,B.times=k6,B.toFinite=Jl,B.toInteger=ln,B.toLength=WH,B.toLower=u6,B.toNumber=Ts,B.toSafeInteger=u4,B.toString=Qn,B.toUpper=c6,B.trim=d6,B.trimEnd=h6,B.trimStart=f6,B.truncate=g6,B.unescape=m6,B.uniqueId=V6,B.upperCase=p6,B.upperFirst=h_,B.each=TH,B.eachRight=xH,B.first=RH,m_(B,function(){var l={};return bs(B,function(d,m){Gn.call(B.prototype,m)||(l[m]=d)}),l}(),{chain:!1}),B.VERSION=r,Gr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){B[l].placeholder=B}),Gr(["drop","take"],function(l,d){fn.prototype[l]=function(m){m=m===n?1:Kr(ln(m),0);var _=this.__filtered__&&!d?new fn(this):this.clone();return _.__filtered__?_.__takeCount__=Lr(m,_.__takeCount__):_.__views__.push({size:Lr(m,C),type:l+(_.__dir__<0?"Right":"")}),_},fn.prototype[l+"Right"]=function(m){return this.reverse()[l](m).reverse()}}),Gr(["filter","map","takeWhile"],function(l,d){var m=d+1,_=m==ne||m==re;fn.prototype[l]=function(D){var U=this.clone();return U.__iteratees__.push({iteratee:kt(D,3),type:m}),U.__filtered__=U.__filtered__||_,U}}),Gr(["head","last"],function(l,d){var m="take"+(d?"Right":"");fn.prototype[l]=function(){return this[m](1).value()[0]}}),Gr(["initial","tail"],function(l,d){var m="drop"+(d?"":"Right");fn.prototype[l]=function(){return this.__filtered__?new fn(this):this[m](1)}}),fn.prototype.compact=function(){return this.filter(Ho)},fn.prototype.find=function(l){return this.filter(l).head()},fn.prototype.findLast=function(l){return this.reverse().find(l)},fn.prototype.invokeMap=yn(function(l,d){return typeof l=="function"?new fn(this):this.map(function(m){return Rs(m,l,d)})}),fn.prototype.reject=function(l){return this.filter(RC(kt(l)))},fn.prototype.slice=function(l,d){l=ln(l);var m=this;return m.__filtered__&&(l>0||d<0)?new fn(m):(l<0?m=m.takeRight(-l):l&&(m=m.drop(l)),d!==n&&(d=ln(d),m=d<0?m.dropRight(-d):m.take(d-l)),m)},fn.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},fn.prototype.toArray=function(){return this.take(C)},bs(fn.prototype,function(l,d){var m=/^(?:filter|find|map|reject)|While$/.test(d),_=/^(?:head|last)$/.test(d),D=B[_?"take"+(d=="last"?"Right":""):d],U=_||/^find/.test(d);D&&(B.prototype[d]=function(){var he=this.__wrapped__,Se=_?[1]:arguments,Te=he instanceof fn,Ue=Se[0],Ke=Te||nn(he),Je=function(Tn){var Dn=D.apply(B,ws([Tn],Se));return _&&ct?Dn[0]:Dn};Ke&&m&&typeof Ue=="function"&&Ue.length!=1&&(Te=Ke=!1);var ct=this.__chain__,It=!!this.__actions__.length,Bt=U&&!ct,mn=Te&&!It;if(!U&&Ke){he=mn?he:new fn(this);var jt=l.apply(he,Se);return jt.__actions__.push({func:CC,args:[Je],thisArg:n}),new xo(jt,ct)}return Bt&&mn?l.apply(this,Se):(jt=this.thru(Je),Bt?_?jt.value()[0]:jt.value():jt)})}),Gr(["pop","push","shift","sort","splice","unshift"],function(l){var d=id[l],m=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",_=/^(?:pop|shift)$/.test(l);B.prototype[l]=function(){var D=arguments;if(_&&!this.__chain__){var U=this.value();return d.apply(nn(U)?U:[],D)}return this[m](function(he){return d.apply(nn(he)?he:[],D)})}}),bs(fn.prototype,function(l,d){var m=B[d];if(m){var _=m.name+"";Gn.call(qu,_)||(qu[_]=[]),qu[_].push({name:d,func:m})}}),qu[hC(n,T).name]=[{name:"wrapper",func:n}],fn.prototype.clone=dE,fn.prototype.reverse=hE,fn.prototype.value=fE,B.prototype.at=U3,B.prototype.chain=G3,B.prototype.commit=K3,B.prototype.next=q3,B.prototype.plant=Z3,B.prototype.reverse=Q3,B.prototype.toJSON=B.prototype.valueOf=B.prototype.value=J3,B.prototype.first=B.prototype.head,sd&&(B.prototype[sd]=X3),B},Yu=ZR();ja?((ja.exports=Yu)._=Yu,lm._=Yu):mi._=Yu}).call(Ai)})(o0,o0.exports);var LPe=o0.exports;$Pe();const yF=(t,e)=>{let n=[];for(let r=0;r<t;r++){let i=[];for(let o=0;o<e;o++)i.push("");n.push(i)}return n};function kPe(){const[t,e]=b.useState(yF(50,11)),[n,r]=b.useState(!1),i=b.useRef(null),o=async()=>{r(!0);const c=yF(200,11);e(c),r(!1)},s=b.useMemo(()=>LPe.debounce(c=>{e(c)},300),[]);return b.useEffect(()=>{o()},[]),Sn.jsxs("div",{children:[n?Sn.jsx("div",{children:"Loading..."}):null,Sn.jsx(Jj,{ref:i,data:t,rowHeaders:!0,colHeaders:!0,stretchH:"all",autoWrapRow:!0,autoWrapCol:!0,licenseKey:"non-commercial-and-evaluation",contextMenu:!0,manualColumnResize:!0,autoColumnSize:!0,manualRowResize:!0,autoRowSize:!0,outsideClickDeselects:!0,persistentState:!0,viewportRowRenderingOffset:50,viewportColumnRenderingOffset:5,onAfterChange:s})]})}const{Content:FPe}=$F;function iAe({permissions:t,isMobile:e}){const{t:n}=DF(),[r,i]=b.useState(!1),o=b.useCallback(()=>{r||i(!0)},[r]);return b.useEffect(()=>{o()},[o]),Sn.jsxs("div",{className:"w-full h-screen flex flex-col bg-slate-50",children:[Sn.jsx(A5,{children:Sn.jsxs("title",{children:["ITM - ",n("ĐĂNG KÝ THÀNH VIÊN MỚI")]})}),Sn.jsxs("div",{className:"p-2 flex flex-col ",children:[Sn.jsx("h1",{className:"text-base font-bold text-gray-900",children:n("ĐĂNG KÝ THÀNH VIÊN MỚI")}),Sn.jsx(VX,{})]}),Sn.jsx($F,{className:"p-2 bg-slate-50",children:Sn.jsx(FPe,{className:"flex-1 h-screen overflow-auto bg-slate-50",children:r&&Sn.jsx(kPe,{})})})]})}export{iAe as default};
